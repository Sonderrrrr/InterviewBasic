{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\ud83d\udd2f Portal","text":""},{"location":"#sysu-cs-basic","title":"\u2728 SYSU-CS-Basic","text":"<p> \u7ea6 371 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> \u300c\u535a\u5b66 \u5ba1\u95ee \u614e\u601d \u660e\u8fa8 \u7b03\u884c\u300d <ul> <li> <p> SYSU-CS-Basic</p> <p>\u26a1 \u8fd8\u80fd\u518d\u300c\u5feb\u300d\u4e00\u70b9</p> <p>\u6c42\u804c\u91cd\u62c5\uff0c\u5982\u4e34\u9ad8\u5c71\ud83c\udfd4</p> <p>\u8d44\u6599\u7e41\u5197\u3001\u7410\u788e\uff0c\u4ee4\u4eba\u5374\u6b65\ud83d\udca2</p> <p>\u6211\u4eec\u6c89\u8ff7\u8fc7\u7410\u788e\u65e5\u5e38\ud83d\udcad</p> <p>\u4e5f\u90fd\u88ab\u8feb\u5feb\u901f\u4e0a\u624b\uff0c\u5feb\u901f\u638c\u63e1\uff0c\u5feb\u901f\u51fa\u53d1\ud83e\udd17</p> <p>\u6211\u4eec\u81f4\u529b\u4e8e\u642d\u5efa\u4e00\u5ea7\u7cbe\u70bc\u9ad8\u6548\u7684\u77e5\u8bc6\u5e93\ud83c\udfeb</p> <p>\u613f\u5b83\u6210\u4e3a\u540e\u6765\u8005\u7684\u660e\u706f\ud83d\udca1</p> <p>Concat me:  lulietlyan@gmail.com </p> </li> </ul> <ul> <li> <p> Statistics</p> <ul> <li> \u9875\u9762\u6570\uff1a  46 </li> <li> \u603b\u5b57\u6570\uff1a 194184 </li> <li> \u4ee3\u7801\u884c\u6570\uff1a 11431 </li> <li> \u56fe\u7247\u6570\u91cf\uff1a 56 </li> <li> \u7f51\u7ad9\u521b\u5efa\u65e5\u671f\uff1a2025 \u5e74 5 \u6708 31 \u65e5 </li> <li> \u7f51\u7ad9\u8fd0\u884c\u65f6\u95f4\uff1a  </li> <li> \u672c\u7ad9\u603b\u8bbf\u95ee\u91cf\uff1a\u6b21  </li> <li> \u672c\u7ad9\u8bbf\u5ba2\u6570\uff1a\u4eba\u6b21  </li> </ul> </li> <li> <p> Link</p> <ul> <li> \u672c\u7ad9\u6837\u5f0f\u7279\u522b\u9e23\u8c22:<ul> <li>dearrongerr</li> </ul> </li> <li> \u53cb\u94fe</li> <li> \u6700\u8fd1\u66f4\u65b0</li> <li> \u7559\u8a00\u677f</li> </ul> </li> </ul>"},{"location":"Algorithm/LeetCode%20Hot100/","title":"LeetCode Hot100","text":""},{"location":"Algorithm/LeetCode%20Hot100/#leetcode-hot100","title":"LeetCode Hot100","text":"<p> \u7ea6 129 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Algorithm/Template/","title":"\u5173\u4e8e\u7b97\u6cd5\u9898","text":""},{"location":"Algorithm/Template/#_1","title":"\u5173\u4e8e\u7b97\u6cd5\u9898","text":"<p> \u7ea6 221 \u4e2a\u5b57  105 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u4e00\u822c\u800c\u8a00\uff0c\u9762\u8bd5\u53ef\u80fd\u4e0d\u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u5e73\u5e38\u8bad\u7ec3\u4f7f\u7528\u7684\u6838\u5fc3\u4ee3\u7801\u6a21\u5f0f\uff0c\u6545\u672c\u7ad9\u63d0\u4f9b\u76f8\u5173\u7684\u6a21\u677f\u5199\u6cd5\u4ee5\u53ca LeetCode Hot100 \u7684 ACM \u6a21\u5f0f\u5199\u6cd5\u3002</p>"},{"location":"Algorithm/Template/#_2","title":"\u5e38\u7528\u7684\u5934\u6587\u4ef6","text":"C++<pre><code>#include &lt;iostream&gt;         // \u91cd\u8981\n#include &lt;vector&gt;           // \u91cd\u8981\n#include &lt;list&gt;             // \u91cd\u8981\n#include &lt;map&gt;              // \u91cd\u8981\n#include &lt;set&gt;              // \u91cd\u8981\n#include &lt;queue&gt;            // \u91cd\u8981\n#include &lt;stack&gt;            // \u91cd\u8981\n#include &lt;deque&gt;            // \u91cd\u8981\n#include &lt;unordered_map&gt;    // \u91cd\u8981\n#include &lt;unordered_set&gt;    // \u91cd\u8981\n#include &lt;utility&gt;          // \u91cd\u8981\n#include &lt;algorithm&gt;        // \u91cd\u8981\n#include &lt;iomanip&gt;          // \u91cd\u8981\n#include &lt;bitset&gt;\n#include &lt;complex&gt;\n#include &lt;exception&gt;\n#include &lt;fstream&gt;\n#include &lt;functional&gt;\n#include &lt;ios&gt;\n#include &lt;iosfwd&gt;\n#include &lt;istream&gt;\n#include &lt;iterator&gt;\n#include &lt;limits&gt;\n#include &lt;locale&gt;\n#include &lt;memory&gt;\n#include &lt;numeric&gt;\n#include &lt;ostream&gt;\n#include &lt;sstream&gt;\n#include &lt;stdexcept&gt;\n#include &lt;streambuf&gt;\n#include &lt;string&gt;\n#include &lt;typeinfo&gt;\n#include &lt;valarray&gt;\n</code></pre>"},{"location":"Algorithm/Template/#acm-hot100","title":"ACM \u6a21\u5f0f\u7684 Hot100 \u5982\u4f55\u5904\u7406\u8f93\u5165\u8f93\u51fa\uff1f","text":"<p>\u4e3b\u8981\u5728\u94fe\u8868\u548c\u4e8c\u53c9\u6811\u7684\u5904\u7406\u4e0a\u3002</p>"},{"location":"Algorithm/Template/#listnode","title":"ListNode \u94fe\u8868","text":"C++<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nstruct ListNode {\n    int val;        // \u5b58\u50a8\u8282\u70b9\u7684\u6574\u6570\u503c\n    ListNode* next; // \u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u6307\u9488,next \u662f\u4e00\u4e2a\u6307\u5411 ListNode \u7c7b\u578b\u7684\u6307\u9488\n\n    // \u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u521d\u59cb\u5316 val \u548c next \u4e3a\u9ed8\u8ba4\u503c\n    ListNode() : val(0), next(nullptr) {}\n\n    // \u6784\u9020\u51fd\u6570\uff0c\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u53c2\u6570 x\uff0c\u521d\u59cb\u5316 val \u4e3a x\uff0cnext \u4e3a nullptr\n    ListNode(int x) : val(x), next(nullptr) {}\n\n    // \u6784\u9020\u51fd\u6570\uff0c\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\u6574\u6570\u503c x \u548c\u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u6307\u9488 next\n    ListNode(int x, ListNode* next) : val(x), next(next) {}\n};\n\nclass Solution {\npublic:\n    ListNode* function(ListNode* head) {\n        // Your_Code_Here\n    }\n};\n\nint main() {\n    // \u521b\u5efa\u94fe\u8868\u8282\u70b9\n    ListNode* node1 = new ListNode(1);\n    ListNode* node2 = new ListNode(2);\n    ListNode* node3 = new ListNode(3);\n\n    // \u8fde\u63a5\u94fe\u8868\u8282\u70b9\n    node1-&gt;next = node2;\n    node2-&gt;next = node3;\n\n    Solution solution;\n    ListNode* res = solution.function(node1);\n\n    // Your_Code_Here\n\n    return 0;\n}\n</code></pre>"},{"location":"Algorithm/Template/#treenode","title":"TreeNode \u4e8c\u53c9\u6811","text":"C++<pre><code>#include &lt;iostream&gt;\n\nstruct TreeNode {\n    int val;\n    TreeNode *left;\n    TreeNode *right;\n    TreeNode() : val(0), left(nullptr), right(nullptr) {}\n    TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}\n    TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}\n};\n\nclass Solution {\npublic:\n    ListNode* function(ListNode* head) {\n        // Your_Code_Here\n    }\n};\n\nint main() {\n    // \u4e5f\u53ef\u4ee5\u901a\u8fc7 vector \u63d0\u4f9b\u5c42\u5e8f\u904d\u5386\u7684\u8f93\u5165\uff0c\u5229\u7528 2n + 1 \u548c 2n + 2 \u7d22\u5f15\u5efa\u7acb\u6811\u7684\u5de6\u53f3\u8282\u70b9\n    TreeNode *root = new TreeNode(1);\n    root-&gt;right = new TreeNode(2);\n    root-&gt;right-&gt;left = new TreeNode(3);\n\n    Solution solution;\n    vector&lt;int&gt; result = solution.function(root);\n\n    //Your_Code_Here\n\n    return 0;\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Computer%20Network/ComputerNetwork/","title":"ComputerNetwork","text":"\u8ba1\u7b97\u673a\u7f51\u7edc"},{"location":"Computer%20Network/ComputerNetwork/#contents","title":"Contents","text":"<p> \u7ea6 22578 \u4e2a\u5b57  1 \u884c\u4ee3\u7801  5 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 113 \u5206\u949f</p> <ul> <li>Contents</li> <li>\u8ba1\u7b97\u673a\u7f51\u7edc\u6a21\u578b</li> <li>OSI \u7684 7 \u5c42\u7f51\u7edc\u6a21\u578b\uff1f</li> <li>TCP/IP \u7684 4 \u5c42\u7f51\u7edc\u6a21\u578b\uff1f</li> <li>5 \u5c42\u56e0\u7279\u7f51\u534f\u8bae\u6808\uff1f</li> <li>\u4ece\u952e\u5165\u7f51\u5740\u5230\u7f51\u9875\u663e\u793a\u671f\u95f4\u53d1\u751f\u4e86\u4ec0\u4e48</li> <li>Linux \u5982\u4f55\u6536\u7f51\u7edc\u5305\uff1f</li> <li>Linux \u5982\u4f55\u53d1\u7f51\u7edc\u5305\uff1f</li> <li>\u53d1\u9001\u7f51\u7edc\u6570\u636e\u6d89\u53ca\u51e0\u6b21\u5185\u5b58\u62f7\u8d1d\uff1f</li> <li>\ud83d\udfe1 HTTP \u548c HTTPs</li> <li>HTTP \u72b6\u6001\u7801\u7684\u542b\u4e49\uff1f<ul> <li>100 \u7c7b</li> <li>200 \u7c7b</li> <li>300 \u7c7b</li> <li>400 \u7c7b</li> <li>500 \u7c7b</li> </ul> </li> <li>HTTP \u5e38\u89c1\u5b57\u6bb5</li> <li>HTTP \u7f13\u5b58\u6709\u54ea\u4e9b\u5b9e\u73b0\u65b9\u5f0f\uff1f</li> <li>HTTP \u548c HTTPs \u7684\u533a\u522b\uff1f</li> <li>HTTPs \u7684\u52a0\u5bc6\u4e0e\u8ba4\u8bc1\u8fc7\u7a0b(TLS \u63e1\u624b\u8fc7\u7a0b)\uff1f<ul> <li>ClientHello</li> <li>ServerHello</li> <li>Client Key Exchange</li> <li>Change Cipher Spec \\&amp; Encrypted Handshake Message</li> </ul> </li> <li>HTTPs \u4e00\u5b9a\u5b89\u5168\u53ef\u9760\u5417\uff1f</li> <li>HTTP1.0\u3001HTTP1.1\u3001HTTP2 \u548c HTTP3 \u7684\u533a\u522b\uff1f<ul> <li>HTTP1.0</li> <li>HTTP1.1</li> <li>HTTP2</li> <li>HTTP3(QUIC)</li> </ul> </li> <li>QUIC \u534f\u8bae\u7684\u6982\u5ff5\u548c\u7279\u70b9\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u7279\u70b9</li> </ul> </li> <li>QUIC \u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93\uff1f</li> <li>HTTP \u7684 GET \u548c POST \u65b9\u6cd5\u533a\u522b\uff1f</li> <li>GET \u8bf7\u6c42\u53ef\u4ee5\u5e26 body \u5417\uff1f</li> <li>\u65e2\u7136\u6709 HTTP \u534f\u8bae\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u6709 RPC\uff1f<ul> <li>\u5b9a\u4e49</li> <li>\u670d\u52a1\u53d1\u73b0</li> <li>\u5e95\u5c42\u8fde\u63a5\u65b9\u5f0f</li> <li>\u4f20\u8f93\u5185\u5bb9</li> <li>\u5386\u53f2\u539f\u56e0</li> </ul> </li> <li>\u4ec0\u4e48\u662f XSS \u653b\u51fb\uff1f\u6709\u4ec0\u4e48\u89e3\u51b3\u529e\u6cd5\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u5206\u7c7b</li> <li>\u5371\u5bb3</li> <li>\u9632\u8303</li> </ul> </li> <li>\u4ec0\u4e48\u662f CSRF \u653b\u51fb\uff1f\u6709\u4ec0\u4e48\u89e3\u51b3\u529e\u6cd5\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u9632\u8303</li> </ul> </li> <li>\u4e2d\u95f4\u4eba\u653b\u51fb\u4ee5\u53ca\u5982\u4f55\u9632\u8303\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u9632\u8303</li> </ul> </li> <li>HTTP 1.1 \u5982\u4f55\u4f18\u5316\uff1f<ul> <li>\u907f\u514d\u53d1\u9001 HTTP \u8bf7\u6c42</li> <li>\u51cf\u5c11 HTTP \u8bf7\u6c42\u6b21\u6570</li> <li>\u51cf\u5c11 HTTP \u54cd\u5e94\u6570\u636e\u5927\u5c0f</li> </ul> </li> <li>HTTPs \u5982\u4f55\u4f18\u5316\uff1f<ul> <li>\u786c\u4ef6\u4f18\u5316</li> <li>\u8f6f\u4ef6\u4f18\u5316</li> <li>\u534f\u8bae\u4f18\u5316</li> <li>\u8bc1\u4e66\u4f18\u5316</li> <li>\u4f1a\u8bdd\u590d\u7528</li> </ul> </li> <li>\ud83d\udd34 TCP \u548c UDP</li> <li>TCP \u7684\u5934\u90e8\u7ed3\u6784</li> <li>TCP \u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93</li> <li>TCP \u7684\u4e09\u6b21\u63e1\u624b</li> <li>TCP \u4e3a\u4ec0\u4e48\u8981\u4e09\u6b21\u63e1\u624b\uff1f</li> <li>\u5982\u679c TCP \u7684\u4e09\u6b21\u63e1\u624b\u4e22\u5931\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f</li> <li>TCP \u4e3a\u4ec0\u4e48\u4e0d\u662f\u4e24\u6b21\u63e1\u624b\uff1f</li> <li>TCP \u7684\u56db\u6b21\u6325\u624b\uff1f</li> <li>TCP \u4e3a\u4ec0\u4e48\u8981\u56db\u6b21\u6325\u624b\uff1f</li> <li>\u5728 FIN_WAIT_2 \u72b6\u6001\u4e0b\uff0c\u662f\u5982\u4f55\u5904\u7406\u6536\u5230\u7684\u4e71\u5e8f\u5230 FIN \u62a5\u6587\uff0c\u7136\u540e TCP \u8fde\u63a5\u53c8\u662f\u4ec0\u4e48\u65f6\u5019\u624d\u8fdb\u5165\u5230 TIME_WAIT \u72b6\u6001\uff1f</li> <li>\u5982\u679c TCP \u7684\u56db\u6b21\u6325\u624b\u4e22\u5931\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f</li> <li>TCP \u4e3a\u4ec0\u4e48\u4e0d\u662f\u4e09\u6b21\u6325\u624b\uff1f</li> <li>TCP \u7684\u5ef6\u8fdf\u5e94\u7b54\u548c\u7d2f\u8ba1\u5e94\u7b54\uff1f</li> <li>TCP \u7684 MSL</li> <li>\u5df2\u7ecf\u5efa\u7acb\u4e86\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u7a81\u7136\u51fa\u73b0\u6545\u969c\u4e86\u4f1a\u600e\u6837\uff1f</li> <li>\u4ec0\u4e48\u65f6\u5019\u7528\u957f\u8fde\u63a5\uff0c\u77ed\u8fde\u63a5\uff1f</li> <li>TCP \u7684\u534a\u8fde\u63a5\u961f\u5217\u548c\u5168\u8fde\u63a5\u961f\u5217\uff1f</li> <li>\u4ec0\u4e48\u662f SYN \u653b\u51fb\uff1f\u5982\u4f55\u907f\u514d\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u907f\u514d\u65b9\u6cd5</li> </ul> </li> <li>TIME_WAIT \u4f5c\u7528\uff0c\u8fc7\u591a\u5982\u4f55\u89e3\u51b3\uff1f<ul> <li>\u4f5c\u7528</li> <li>\u5371\u5bb3</li> <li>\u907f\u514d\u65b9\u6cd5</li> </ul> </li> <li>tcp_tw_reuse \u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff1f</li> <li>PAWS \u7684\u4fdd\u62a4\u673a\u5236<ul> <li>\u6f5c\u5728\u95ee\u9898\uff1a</li> </ul> </li> <li>TIME_WAIT \u72b6\u6001\u4e3a\u4ec0\u4e48\u9700\u8981\u7ecf\u8fc7 2MSL</li> <li>CLOSE_WAIT \u72b6\u6001\u8fc7\u591a\u5982\u4f55\u89e3\u51b3\uff1f</li> <li>TCP \u548c UDP \u7684\u533a\u522b\uff1f</li> <li>\u7c98\u5305\u548c\u62c6\u5305\u95ee\u9898\u7684\u89e3\u51b3\u529e\u6cd5\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u89e3\u51b3\u529e\u6cd5</li> </ul> </li> <li>TCP \u7684 keepalive \u548c HTTP \u7684 keepalive \u7684\u533a\u522b\uff1f</li> <li>IP \u5c42\u4f1a\u5206\u7247\uff0c\u4e3a\u4ec0\u4e48 TCP \u5c42\u8fd8\u9700\u8981 MSS \u5462\uff1f</li> <li>\ud83d\udfe2 IP</li> <li>DNS \u67e5\u8be2\u670d\u52a1\u5668\u7684\u57fa\u672c\u6d41\u7a0b\uff1f</li> <li>DNS \u91c7\u7528 TCP \u8fd8\u662f UDP\uff0c\u4e3a\u4ec0\u4e48\uff1f</li> <li>DNS \u52ab\u6301\u662f\u4ec0\u4e48\uff1f\u89e3\u51b3\u529e\u6cd5\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u89e3\u51b3\u65b9\u6cd5</li> </ul> </li> <li>\u6d4f\u89c8\u5668\u8f93\u5165\u4e00\u4e2a URL \u5230\u663e\u793a\u5668\u663e\u793a\u7684\u8fc7\u7a0b\uff1f</li> <li>PING \u662f\u600e\u4e48\u5de5\u4f5c\u7684\uff1f</li> <li>Cookie \u548c Session \u7684\u5173\u7cfb\u548c\u533a\u522b\u662f\u4ec0\u4e48\uff1f<ul> <li>Cookie \u6982\u5ff5</li> <li>Cookie \u4f5c\u7528</li> <li>Session \u6982\u5ff5</li> <li>\u5dee\u522b</li> </ul> </li> <li>iPv4 \u548c iPv6 \u7684\u533a\u522b\uff1f</li> <li>\u4ec0\u4e48\u662f\u8de8\u57df\uff0c\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u53d1\u751f\u8de8\u57df\u8bf7\u6c42\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u89e3\u51b3\u65b9\u6cd5</li> </ul> </li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_1","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u6a21\u578b","text":""},{"location":"Computer%20Network/ComputerNetwork/#osi-7","title":"OSI \u7684 7 \u5c42\u7f51\u7edc\u6a21\u578b\uff1f","text":"<ul> <li>\u5e94\u7528\u5c42\uff1a\u786e\u5b9a \u8fdb\u7a0b\u4e4b\u95f4\u901a\u4fe1\u7684\u6027\u8d28 \u4ee5\u53ca\u6ee1\u8db3\u7528\u6237\u9700\u8981\u4ee5\u53ca\u63d0\u4f9b\u7f51\u7edc\u548c\u7528\u6237\u5e94\u7528\uff0c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u670d\u52a1</li> <li>\u8868\u793a\u5c42\uff1a\u4e3b\u8981\u89e3\u51b3\u7528\u6237\u4fe1\u606f\u7684\u8bed\u6cd5\u8868\u793a\u95ee\u9898</li> <li>\u4f1a\u8bdd\u5c42\uff1a\u4f1a\u8bdd\u5c42\u5c31\u662f \u8d1f\u8d23\u5efa\u7acb\u3001\u7ba1\u7406\u548c\u7ec8\u6b62\u8868\u793a\u5c42\u5b9e\u4f53\u4e4b\u95f4\u7684\u901a\u4fe1\u4f1a\u8bdd </li> <li>\u4f20\u8f93\u5c42\uff1a\u5b9e\u73b0\u7f51\u7edc\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u8fdb\u7a0b\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1</li> <li>\u7f51\u7edc\u5c42\uff1a\u672c\u5c42\u901a\u8fc7 IP \u5bfb\u5740\u6765\u5efa\u7acb\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4e3a\u6e90\u7aef\u7684\u8fd0\u8f93\u5c42\u9001\u6765\u7684\u5206\u7ec4\uff0c\u9009\u62e9\u5408\u9002\u7684\u8def\u7531\u548c\u4ea4\u6362\u8282\u70b9</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u5c06\u4e0a\u5c42\u6570\u636e\u5c01\u88c5\u6210\u5e27\uff0c\u7528 MAC \u5730\u5740\u8bbf\u95ee\u5a92\u4ecb\uff0c\u5e76\u7531\u9519\u8bef\u68c0\u6d4b\u548c\u4fee\u6b63</li> <li>\u7269\u7406\u5c42\uff1a\u8bbe\u5907\u4e4b\u95f4\u6bd4\u7279\u6d41\u7684\u4f20\u8f93</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcpip-4","title":"TCP/IP \u7684 4 \u5c42\u7f51\u7edc\u6a21\u578b\uff1f","text":"<ul> <li>\u5e94\u7528\u5c42\uff1a\u786e\u5b9a \u8fdb\u7a0b\u4e4b\u95f4\u901a\u4fe1\u7684\u6027\u8d28 \u4ee5\u53ca\u6ee1\u8db3\u7528\u6237\u9700\u8981\u4ee5\u53ca\u63d0\u4f9b\u7f51\u7edc\u548c\u7528\u6237\u5e94\u7528\uff0c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u670d\u52a1</li> <li>\u4f20\u8f93\u5c42\uff1a\u5b9e\u73b0\u7f51\u7edc\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u8fdb\u7a0b\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1</li> <li>\u7f51\u7edc\u5c42\uff1a\u672c\u5c42\u901a\u8fc7 IP \u5bfb\u5740\u6765\u5efa\u7acb\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4e3a\u6e90\u7aef\u7684\u8fd0\u8f93\u5c42\u9001\u6765\u7684\u5206\u7ec4\uff0c\u9009\u62e9\u5408\u9002\u7684\u8def\u7531\u548c\u4ea4\u6362\u8282\u70b9</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u5c06\u4e0a\u5c42\u6570\u636e\u5c01\u88c5\u6210\u5e27\uff0c\u7528 MAC \u5730\u5740\u8bbf\u95ee\u5a92\u4ecb\uff0c\u5e76\u7531\u9519\u8bef\u68c0\u6d4b\u548c\u4fee\u6b63</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#5","title":"5 \u5c42\u56e0\u7279\u7f51\u534f\u8bae\u6808\uff1f","text":"<ul> <li>\u5e94\u7528\u5c42\uff1a\u786e\u5b9a \u8fdb\u7a0b\u4e4b\u95f4\u901a\u4fe1\u7684\u6027\u8d28 \u4ee5\u53ca\u6ee1\u8db3\u7528\u6237\u9700\u8981\u4ee5\u53ca\u63d0\u4f9b\u7f51\u7edc\u548c\u7528\u6237\u5e94\u7528\uff0c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u670d\u52a1</li> <li>\u4f20\u8f93\u5c42\uff1a\u5b9e\u73b0\u7f51\u7edc\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u8fdb\u7a0b\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1</li> <li>\u7f51\u7edc\u5c42\uff1a\u672c\u5c42\u901a\u8fc7 IP \u5bfb\u5740\u6765\u5efa\u7acb\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4e3a\u6e90\u7aef\u7684\u8fd0\u8f93\u5c42\u9001\u6765\u7684\u5206\u7ec4\uff0c\u9009\u62e9\u5408\u9002\u7684\u8def\u7531\u548c\u4ea4\u6362\u8282\u70b9</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u5c06\u4e0a\u5c42\u6570\u636e\u5c01\u88c5\u6210\u5e27\uff0c\u7528 MAC \u5730\u5740\u8bbf\u95ee\u5a92\u4ecb\uff0c\u5e76\u7531\u9519\u8bef\u68c0\u6d4b\u548c\u4fee\u6b63</li> <li>\u7269\u7406\u5c42\uff1a\u8bbe\u5907\u4e4b\u95f4\u6bd4\u7279\u6d41\u7684\u4f20\u8f93</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_2","title":"\u4ece\u952e\u5165\u7f51\u5740\u5230\u7f51\u9875\u663e\u793a\u671f\u95f4\u53d1\u751f\u4e86\u4ec0\u4e48","text":"<ul> <li>\u89e3\u6790 URL \u751f\u6210 http \u8bf7\u6c42\uff1a\u83b7\u53d6 URL \u4ee3\u8868\u7684\u57df\u540d\uff0c\u628a\u5b83\u586b\u5145\u5230\u8bf7\u6c42\u5934\u4e2d\u7684 host \u5b57\u6bb5\u4e2d\u5e76\u751f\u6210 http \u8bf7\u6c42</li> <li>\u901a\u8fc7 DNS \u534f\u8bae\u89e3\u6790\u51fa IP \u5730\u5740\uff1a\u6d4f\u89c8\u5668\u9996\u5148\u67e5\u8be2\u672c\u5730\u7684\u7f13\u5b58\uff0c\u5982\u679c\u6ca1\u6709\u7684\u8bdd\u67e5\u8be2 hosts \u6587\u4ef6\u3002\u5982\u679c\u4ecd\u7136\u6ca1\u6709\uff0c\u518d\u5411\u672c\u5730\u7684 DNS \u670d\u52a1\u5668\u67e5\u8be2\u3002\u5982\u679c\u672c\u5730 DNS \u670d\u52a1\u5668\u6ca1\u6709\u7ed3\u679c\uff0c\u5b83\u5c06\u5411\u9012\u5f52 DNS \u670d\u52a1\u5668\u53d1\u8d77\u67e5\u8be2\uff0c\u9012\u5f52\u670d\u52a1\u5668\u4f1a\u901a\u8fc7\u8fed\u4ee3\u67e5\u8be2\u5411\u6839\u57df\u540d\u670d\u52a1\u5668\u3001\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u548c\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u8bf7\u6c42\u6700\u7ec8\u7684\u89e3\u6790\u7ed3\u679c\uff0c\u6700\u540e\u7f13\u5b58\u5728 DNS \u672c\u5730\u670d\u52a1\u5668</li> <li>DNS \u83b7\u53d6\u5230 IP \u5730\u5740\u4ee5\u540e\u628a HTTP \u7684\u4f20\u8f93\u5de5\u4f5c\u4ea4\u7ed9\u534f\u8bae\u6808\u6765\u8fdb\u884c\u5904\u7406\uff1a\u901a\u8fc7\u8c03\u7528 socket \u51fd\u6570\uff0c\u7531\u7528\u6237\u6001\u8fdb\u5165\u5185\u6838\u6001\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u6570\u636e\u4f20\u8f93\u7684\u8fc7\u7a0b</li> <li>TCP\uff1a   1.  \u4e09\u6b21\u63e1\u624b\uff1a<ul> <li>SYN\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a SYN(\u540c\u6b65)\u5305\u5230\u670d\u52a1\u5668\uff0c\u8868\u793a\u8bf7\u6c42\u5efa\u7acb\u8fde\u63a5</li> <li>SYN-ACK\uff1a\u670d\u52a1\u5668\u6536\u5230 SYN \u5305\u540e\uff0c\u56de\u590d\u4e00\u4e2a SYN-ACK(\u540c\u6b65-\u786e\u8ba4)\u5305\uff0c\u8868\u793a\u540c\u610f\u5efa\u7acb\u8fde\u63a5</li> <li>ACK\uff1a\u5ba2\u6237\u7aef\u6536\u5230 SYN-ACK \u5305\u540e\uff0c\u56de\u590d\u4e00\u4e2a ACK(\u786e\u8ba4)\u5305\uff0c\u8fde\u63a5\u5efa\u7acb   2.  TLS \u63e1\u624b\uff1a</li> <li>\u5ba2\u6237\u7aef\u95ee\u5019\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a ClientHello \u6d88\u606f\uff0c\u5305\u542b\u652f\u6301\u7684\u52a0\u5bc6\u7b97\u6cd5\u3001TLS \u7248\u672c\u7b49\u4fe1\u606f</li> <li>\u670d\u52a1\u5668\u95ee\u5019\uff1a\u670d\u52a1\u5668\u56de\u590d\u4e00\u4e2a ServerHello \u6d88\u606f\uff0c\u9009\u62e9\u52a0\u5bc6\u7b97\u6cd5\u548c TLS \u7248\u672c\uff0c\u5e76\u53d1\u9001\u670d\u52a1\u5668\u8bc1\u4e66</li> <li>\u8bc1\u4e66\u9a8c\u8bc1\uff1a\u5ba2\u6237\u7aef\u9a8c\u8bc1\u670d\u52a1\u5668\u8bc1\u4e66\u7684\u6709\u6548\u6027</li> <li>\u5bc6\u94a5\u4ea4\u6362\uff1a\u5ba2\u6237\u7aef\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u7528\u670d\u52a1\u5668\u7684\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u7528\u79c1\u94a5\u89e3\u5bc6\uff0c\u751f\u6210\u4f1a\u8bdd\u5bc6\u94a5</li> <li>\u5b8c\u6210\u63e1\u624b\uff1a\u53cc\u65b9\u4f7f\u7528\u4f1a\u8bdd\u5bc6\u94a5\u52a0\u5bc6\u901a\u4fe1\uff0c\u63e1\u624b\u5b8c\u6210</li> </ul> </li> <li>\u8fde\u63a5\u6210\u529f\u540e\u53d1\u9001 HTTP \u8bf7\u6c42\uff1a   1.  \u6784\u5efa\u8bf7\u6c42\uff1a\u6d4f\u89c8\u5668\u6784\u5efa\u4e00\u4e2a HTTP \u8bf7\u6c42\uff0c\u5305\u62ec\u8bf7\u6c42\u884c(\u5982 GET / HTTP/1.1)\u3001\u8bf7\u6c42\u5934(\u5982 Host: www.example.com)\u548c\u53ef\u9009\u7684\u8bf7\u6c42\u4f53(\u5982 POST \u8bf7\u6c42\u7684\u6570\u636e)   2.  \u53d1\u9001\u8bf7\u6c42\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u5efa\u7acb\u7684 TCP \u8fde\u63a5\u5c06 HTTP \u8bf7\u6c42\u53d1\u9001\u5230\u670d\u52a1\u5668   3. \u6d4f\u89c8\u5668\u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u62a5\u6587\u7ecf\u4f20\u8f93\u5c42\u88ab \u5c01\u88c5\u8fdb TCP \u6570\u636e\u5305\uff0c\u6dfb\u52a0 TCP \u5934\u90e8\u4fe1\u606f\uff0c\u5305\u62ec\u6e90\u7aef\u53e3\u3001\u76ee\u6807\u7aef\u53e3\u3001\u5e8f\u53f7\u7b49\u4fe1\u606f   4. \u6bcf\u4e2a TCP \u6570\u636e\u5305\u4f1a\u7ecf\u8fc7\u7f51\u7edc\u5c42\u88ab \u5c01\u88c5\u6210 IP \u6570\u636e\u5305\uff0c\u6dfb\u52a0 IP \u5934\u90e8\uff0c\u5305\u62ec\u6e90 IP \u5730\u5740\u548c\u76ee\u6807 IP \u5730\u5740\uff0c\u518d\u8fdb\u884c\u8def\u7531\u7684\u5206\u7ec4\u548c\u8f6c\u53d1   5.  \u7f51\u7edc\u63a5\u53e3\u5c42 \u5c06 IP \u6570\u636e\u5305\u5c01\u88c5\u6210\u6570\u636e\u5e27\uff0c\u5728\u6570\u636e\u94fe\u8def\u5c42\u6dfb\u52a0\u5934\u90e8\u548c\u5c3e\u90e8\uff0c\u5305\u62ec\u6e90 MAC \u5730\u5740\u548c\u76ee\u6807 MAC \u5730\u5740(MAC\u5730\u5740\u662f\u7f51\u7edc\u5c42\u7684 ARP \u534f\u8bae\u6839\u636e IP \u5730\u5740\u67e5\u8be2\u51fa\u6765\u7684)\uff0c\u6570\u636e\u5e27\u5728\u7269\u7406\u5c42\u901a\u8fc7\u7269\u7406\u4ecb\u8d28(\u5149\u7ea4\u3001\u7f51\u7ebf\u7b49)\u4ee5\u6bd4\u7279\u6d41\u7684\u5f62\u5f0f\u8fdb\u884c\u4f20\u8f93</li> <li>\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\uff1a   1.  \u63a5\u6536\u8bf7\u6c42\uff1a\u670d\u52a1\u5668\u63a5\u6536\u5230 HTTP \u8bf7\u6c42\u540e\uff0c\u6839\u636e\u7269\u7406\u5c42\u3001\u6570\u636e\u94fe\u8def\u5c42\u3001\u7f51\u7edc\u5c42\u3001\u4f20\u8f93\u5c42\u548c\u5e94\u7528\u5c42\u7684\u987a\u5e8f\u5c06\u6570\u636e\u8fdb\u884c\u53cd\u5411\u89e3\u6790\uff0c\u5f97\u5230\u6700\u7ec8\u53ea\u542b\u6709\u5e94\u7528\u6570\u636e\u7684\u4fe1\u606f\uff0c\u6839\u636e\u7aef\u53e3\u4fe1\u606f\u4ea4\u7531\u5177\u4f53\u7684\u7a0b\u5e8f\u8fdb\u884c\u5904\u7406   2.  \u8bf7\u6c42\u89e3\u6790\uff1a\u670d\u52a1\u5668\u89e3\u6790\u8bf7\u6c42\u884c\u3001\u8bf7\u6c42\u5934\u548c\u8bf7\u6c42\u4f53   3.  \u8def\u7531\u5904\u7406\uff1a\u670d\u52a1\u5668\u6839\u636e\u8bf7\u6c42\u7684\u8def\u5f84\u548c\u53c2\u6570\uff0c\u786e\u5b9a\u5904\u7406\u8bf7\u6c42\u7684\u903b\u8f91   4.  \u4e1a\u52a1\u903b\u8f91\uff1a\u670d\u52a1\u5668\u6267\u884c\u76f8\u5e94\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u53ef\u80fd\u6d89\u53ca\u8bfb\u53d6\u6587\u4ef6\u3001\u67e5\u8be2\u6570\u636e\u5e93\u3001\u8c03\u7528\u5176\u4ed6\u670d\u52a1\u7b49   5.  \u751f\u6210\u54cd\u5e94\uff1a\u670d\u52a1\u5668\u751f\u6210\u4e00\u4e2a HTTP \u54cd\u5e94\uff0c\u5305\u62ec\u72b6\u6001\u884c(\u5982 HTTP/1.1 200 OK)\u3001\u54cd\u5e94\u5934(\u5982 Content-Type: text/html)\u548c\u54cd\u5e94\u4f53(\u5982 HTML \u5185\u5bb9)</li> <li>\u6d4f\u89c8\u5668\u63a5\u6536\u54cd\u5e94\uff1a   1.  \u63a5\u6536\u54cd\u5e94\uff1a\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u670d\u52a1\u5668\u7684 HTTP \u54cd\u5e94   2.  \u89e3\u6790\u54cd\u5e94\uff1a\u6d4f\u89c8\u5668\u89e3\u6790\u54cd\u5e94\u5934\u548c\u54cd\u5e94</li> <li>\u6e32\u67d3\u9875\u9762\uff1a   1.  \u89e3\u6790 HTML\uff1a<ul> <li>\u6784\u5efa DOM \u6811\uff1a\u6d4f\u89c8\u5668\u89e3\u6790 HTML \u6587\u6863\uff0c\u6784\u5efa DOM \u6811(Document Object Model)</li> <li>\u5904\u7406\u811a\u672c\uff1a\u5982\u679c\u9047\u5230 \\&lt;script&gt; \u6807\u7b7e\uff0c\u6d4f\u89c8\u5668\u4f1a\u6682\u505c\u89e3\u6790\uff0c\u6267\u884c\u811a\u672c\u3002\u811a\u672c\u53ef\u80fd\u4f1a\u4fee\u6539 DOM \u6811   2.  \u89e3\u6790 CSS\uff1a</li> <li>\u6784\u5efa CSSOM \u6811\uff1a\u6d4f\u89c8\u5668\u89e3\u6790 CSS \u6587\u4ef6\u548c\u5185\u8054\u6837\u5f0f\uff0c\u6784\u5efa CSSOM \u6811(CSS Object Model)   3.  \u89e3\u6790 JavaScript\uff1a</li> <li>\u6267\u884c\u811a\u672c\uff1a\u6d4f\u89c8\u5668\u89e3\u6790\u548c\u6267\u884c JavaScript \u4ee3\u7801\uff0cJavaScript \u4ee3\u7801\u53ef\u80fd\u4f1a\u4fee\u6539 DOM \u6811\u548c CSSOM \u6811   4.  \u6784\u5efa\u6e32\u67d3\u6811\uff1a</li> <li>\u7ed3\u5408 DOM \u548c CSSOM\uff1a\u6d4f\u89c8\u5668\u5c06 DOM \u6811\u548c CSSOM \u6811\u7ed3\u5408\uff0c\u6784\u5efa\u6e32\u67d3\u6811   5.  \u5e03\u5c40(Layout)\uff1a</li> <li>\u8ba1\u7b97\u5e03\u5c40\uff1a\u6d4f\u89c8\u5668\u8ba1\u7b97\u6bcf\u4e2a\u5143\u7d20\u7684\u5927\u5c0f\u548c\u4f4d\u7f6e   6.  \u7ed8\u5236(Painting)\uff1a</li> <li>\u7ed8\u5236\u5143\u7d20\uff1a\u6d4f\u89c8\u5668\u5c06\u5143\u7d20\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a</li> </ul> </li> <li>\u5904\u7406\u8d44\u6e90\u8bf7\u6c42\uff1a   1.  \u53d1\u73b0\u8d44\u6e90\uff1a\u5728\u89e3\u6790 HTML \u7684\u8fc7\u7a0b\u4e2d\uff0c\u6d4f\u89c8\u5668\u4f1a\u53d1\u73b0\u9700\u8981\u52a0\u8f7d\u7684\u8d44\u6e90(\u5982\u56fe\u7247\u3001CSS \u6587\u4ef6\u3001JavaScript \u6587\u4ef6\u7b49)   2.  \u53d1\u9001\u8bf7\u6c42\uff1a\u6d4f\u89c8\u5668\u4f1a\u5e76\u884c\u53d1\u9001\u8bf7\u6c42\uff0c\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90   3.  \u91cd\u590d\u89e3\u6790\u548c\u6e32\u67d3\uff1a\u6d4f\u89c8\u5668\u91cd\u590d\u4e0a\u8ff0\u7684\u89e3\u6790\u548c\u6e32\u67d3\u8fc7\u7a0b\uff0c\u76f4\u5230\u6240\u6709\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210</li> <li>\u7528\u6237\u4ea4\u4e92\uff1a   1.  \u7528\u6237\u64cd\u4f5c\uff1a\u9875\u9762\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u4e0e\u9875\u9762\u8fdb\u884c\u4ea4\u4e92(\u5982\u70b9\u51fb\u6309\u94ae\u3001\u8f93\u5165\u8868\u5355\u7b49)   2.  \u4e8b\u4ef6\u5904\u7406\uff1a\u6d4f\u89c8\u5668\u4f1a\u6839\u636e\u7528\u6237\u7684\u64cd\u4f5c\uff0c\u89e6\u53d1\u76f8\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u66f4\u65b0\u9875\u9762\u5185\u5bb9</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#linux","title":"Linux \u5982\u4f55\u6536\u7f51\u7edc\u5305\uff1f","text":"<ul> <li>\u7f51\u5361\u6536\u5230\u7f51\u7edc\u5305\u540e\u901a\u8fc7 DMA \u6280\u672f\u5c06\u7f51\u7edc\u5305\u5199\u5165\u5230  Ring Buffer  \u73af\u5f62\u7f13\u51b2\u533a</li> <li>\u73b0\u4ee3 Linux \u901a\u5e38\u901a\u8fc7  NAPI \u673a\u5236  \u5bf9\u63a5\u53d7\u6570\u636e\u7684\u670d\u52a1\u7a0b\u5e8f\u8fdb\u884c\u4e2d\u65ad\u5524\u9192\uff0c\u901a\u8fc7 poll \u7684\u65b9\u6cd5\u8f6e\u8be2\u6570\u636e\uff0c\u5373\u7f51\u5361\u5411 CPU \u53d1\u8d77\u786c\u4ef6\u4e2d\u65ad\uff0c\u5f53 CPU \u6536\u5230\u786c\u4ef6\u4e2d\u65ad\u8bf7\u6c42\u540e\u6839\u636e\u4e2d\u65ad\u8868\u8c03\u7528\u5df2\u7ecf\u6ce8\u518c\u7684\u4e2d\u65ad\u5904\u7406\u51fd\u6570</li> <li>\u9996\u5148\u8fdb\u884c \u5173\u4e2d\u65ad\uff1a\u786c\u4ef6\u4e2d\u65ad\u51fd\u6570\u4f1a\u9996\u5148\u901a\u77e5\u7f51\u5361\u5728\u4e0b\u6b21\u6709\u6570\u636e\u65f6\u76f4\u63a5\u5199\u5165\u5185\u5b58\u5e76\u6062\u590d\u4e2d\u65ad\u5c4f\u853d\uff0c\u8fdb\u5165 \u8f6f\u4e2d\u65ad </li> <li>\u5185\u6838\u4e2d\u7684  ksoftirqd \u7ebf\u7a0b\u4e13\u95e8\u8d1f\u8d23\u8f6f\u4e2d\u65ad\u7684\u5904\u7406\uff0c\u5f53 ksoftirqd \u5185\u6838\u7ebf\u7a0b\u6536\u5230\u8f6f\u4e2d\u65ad\u540e\u5c31\u4f1a\u8f6e\u8be2\u5904\u7406\u6570\u636e</li> <li>ksoftirqd \u7ebf\u7a0b \u4f1a\u4ece Ring Buffer \u4e2d\u83b7\u53d6\u2f00\u4e2a\u6570\u636e\u5e27\uff0c\u7528 sk_buff \u8868\u793a\uff0c\u4ece\u800c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u7f51\u7edc\u5305\u4ea4\u7ed9\u7f51\u7edc\u534f\u8bae\u6808\u8fdb\u884c\u9010\u5c42\u5904\u7406</li> <li>\u9996\u5148\u8fdb\u5165\u5230 \u7f51\u7edc\u63a5\u53e3\u5c42\uff0c\u5728\u8fd9\u2f00\u5c42\u4f1a\u68c0\u67e5\u62a5\u2f42\u7684\u5408\u6cd5\u6027\uff0c\u5982\u679c\u4e0d\u5408\u6cd5\u5219\u4e22\u5f03\uff0c\u5408\u6cd5\u5219\u4f1a\u627e\u51fa\u8be5\u7f51\u7edc\u5305\u7684\u4e0a\u5c42\u534f\u8bae\u7684\u7c7b\u578b\uff0c\u7136\u540e\u4ea4\u7ed9\u7f51\u7edc\u5c42</li> <li>\u7f51\u7edc\u5c42\uff1a\u53d6\u51fa IP \u5305\uff0c\u5224\u65ad\u7f51\u7edc\u5305\u4e0b\u4e00\u6b65\u7684\u8d70\u5411\uff0c\u6bd4\u5982\u662f\u4ea4\u7ed9\u4e0a\u5c42\u5904\u7406\u8fd8\u662f\u8f6c\u53d1\u51fa\u53bb\u3002\u5f53\u786e\u8ba4\u8fd9\u4e2a\u7f51\u7edc\u5305\u8981\u53d1\u9001\u7ed9\u672c\u673a\u540e\u4f1a\u4ece IP \u5934\u90e8\u67e5\u770b\u4e0a\u4e00\u5c42\u534f\u8bae\u7684\u7c7b\u578b\u662f TCP \u8fd8\u662f UDP\uff0c\u63a5\u7740\u53bb\u6389 IP \u5934\uff0c\u4ea4\u7ed9\u4f20\u8f93\u5c42</li> <li>\u4f20\u8f93\u5c42\uff1a\u53d6\u51fa TCP \u5934\u6216 UDP \u5934\uff0c\u6839\u636e\u56db\u5143\u7ec4\u300c\u6e90 IP\u3001\u6e90\u7aef\u53e3\u3001\u76ee\u7684 IP\u3001\u76ee\u7684\u7aef\u53e3\u300d \u4f5c\u4e3a\u6807\u8bc6\uff0c\u627e\u51fa\u5bf9\u5e94\u7684 Socket\uff0c\u5e76\u628a\u6570\u636e\u653e\u5230 Socket \u7684\u63a5\u6536\u7f13\u51b2\u533a</li> <li>\u5e94\u7528\u5c42\uff1a\u7a0b\u5e8f\u8c03\u7528 Socket \u63a5\u53e3\uff0c\u5c06\u5185\u6838\u7684 Socket \u63a5\u6536\u7f13\u51b2\u533a\u7684\u6570\u636e\u300c\u62f7\u8d1d\u300d\u5230\u5e94\u7528\u5c42\u7684\u7f13\u51b2\u533a\uff0c\u7136\u540e\u5524\u9192\u7528\u6237\u8fdb\u7a0b</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#linux_1","title":"Linux \u5982\u4f55\u53d1\u7f51\u7edc\u5305\uff1f","text":"<ul> <li>\u9996\u5148\u5e94\u7528\u7a0b\u5e8f \u8c03\u7528 Socket \u53d1\u9001\u6570\u636e\u5305\u7684\u63a5\u53e3\uff0c\u7531\u4e8e\u8fd9\u4e2a\u662f\u7cfb\u7edf\u8c03\u7528\uff0c\u6240\u4ee5\u4f1a\u4ece\u7528\u6237\u6001\u9677\u5165\u5230\u5185\u6838\u6001\u4e2d\u7684 Socket \u5c42\uff0c\u5185\u6838\u4f1a\u7533\u8bf7\u4e00\u4e2a\u5185\u6838\u6001\u7684  sk_buff \u5185\u5b58\uff0c\u5c06\u7528\u6237\u5f85\u53d1\u9001\u7684\u6570\u636e\u62f7\u8d1d\u5230 sk_buff \u5185\u5b58\uff0c\u5e76\u5c06\u5176\u52a0\u5165\u5230\u53d1\u9001\u7f13\u51b2\u533a</li> <li>\u63a5\u4e0b\u6765\u7f51\u7edc\u534f\u8bae\u6808\u4ece Socket \u53d1\u9001\u7f13\u51b2\u533a\u4e2d \u53d6\u51fa sk_buff\uff0c\u5e76\u6309\u7167 TCP/IP \u534f\u8bae\u6808\u4ece\u4e0a\u5230\u4e0b\u9010\u5c42\u5904\u7406\u3002\u5982\u679c\u4f7f\u7528\u7684\u662f TCP \u4f20\u8f93\u534f\u8bae\u53d1\u9001\u6570\u636e\uff0c\u90a3\u4e48\u5148 \u62f7\u8d1d\u4e00\u4e2a\u65b0\u7684 sk_buff \u526f\u672c </li> <li>\u63a5\u7740\u5bf9 sk_buff \u586b\u5145 TCP \u5934\u3002sk_buff \u53ef\u4ee5\u8868\u793a\u5404\u4e2a\u5c42\u7684\u6570\u636e\u5305\uff0c\u5728\u5e94\u7528\u5c42\u6570\u636e\u5305\u53eb data\uff0c\u5728 TCP \u5c42\u6211\u4eec\u79f0\u4e3a segment\uff0c\u5728 IP \u5c42\u6211\u4eec\u53eb packet\uff0c\u5728\u6570\u636e\u94fe\u8def\u5c42\u79f0\u4e3a frame</li> <li>\u7f51\u7edc\u5c42\uff1a\u9009\u53d6\u8def\u7531(\u786e\u8ba4\u4e0b\u4e00\u8df3\u7684 IP)\u3001\u586b\u5145 IP \u5934\u3001netfilter \u8fc7\u6ee4\u3001\u5bf9\u8d85\u8fc7 MTU \u5927\u5c0f\u7684\u6570\u636e\u5305\u8fdb\u884c\u5206\u7247\u3002\u5904\u7406\u5b8c\u8fd9\u4e9b\u5de5\u4f5c\u540e\u4f1a\u4ea4\u7ed9\u7f51\u7edc\u63a5\u53e3\u5c42\u5904\u7406</li> <li>\u7f51\u7edc\u63a5\u53e3\u5c42\uff1a\u901a\u8fc7 ARP \u534f\u8bae\u83b7\u5f97\u4e0b\u4e00\u8df3\u7684 MAC \u5730\u5740\uff0c\u7136\u540e\u5bf9 sk_buff \u586b\u5145\u5e27\u5934\u548c\u5e27\u5c3e\uff0c\u63a5\u7740\u5c06 sk_buff \u653e\u5230\u7f51\u5361\u7684\u53d1\u9001\u961f\u5217\u4e2d</li> <li>\u5f53\u6536\u5230\u8fd9\u4e2a TCP \u62a5\u6587\u7684 ACK \u5e94\u7b54\u65f6 \u4f20\u8f93\u5c42\u5c31\u4f1a\u91ca\u653e\u539f\u59cb\u7684 sk_buff </li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_3","title":"\u53d1\u9001\u7f51\u7edc\u6570\u636e\u6d89\u53ca\u51e0\u6b21\u5185\u5b58\u62f7\u8d1d\uff1f","text":"<p>\u4e09\u6b21\uff1a 1.  \u8c03\u7528\u53d1\u9001\u6570\u636e\u7684\u7cfb\u7edf\u8c03\u7528\u65f6 \u5185\u6838\u4f1a\u7533\u8bf7\u4e00\u4e2a\u5185\u6838\u6001\u7684 sk_buff \u5185\u5b58\uff0c\u5c06\u7528\u6237\u5f85\u53d1\u9001\u7684\u6570\u636e\u62f7\u8d1d\u5230 sk_buff \u5185\u5b58\uff0c\u5e76\u5c06\u5176\u52a0\u5165\u5230\u53d1\u9001\u7f13\u51b2\u533a 2.  \u5728\u4f7f\u7528 TCP \u4f20\u8f93\u534f\u8bae\u7684\u60c5\u51b5\u4e0b\uff0c\u4ece\u4f20\u8f93\u5c42\u8fdb\u5165\u7f51\u7edc\u5c42\u65f6\u6bcf\u4e00\u4e2a sk_buff \u90fd\u4f1a\u88ab\u514b\u9686\u4e00\u4e2a\u65b0\u7684\u526f\u672c\u51fa\u6765\u3002\u526f\u672c sk_buff \u4f1a\u88ab\u9001\u5f80\u7f51\u7edc\u5c42\uff0c\u7b49\u5b83\u53d1\u9001\u5b8c\u7684\u65f6\u5019\u5c31\u4f1a\u91ca\u653e\u6389\uff0c\u7136\u540e\u539f\u59cb\u7684 sk_buff \u8fd8\u4fdd\u7559\u5728\u4f20\u8f93\u5c42\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u5b9e\u73b0 TCP \u7684\u53ef\u9760\u4f20\u8f93\uff0c\u7b49\u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5305\u7684 ACK \u65f6\uff0c\u624d\u4f1a\u91ca\u653e\u539f\u59cb\u7684 sk_buff 3.  \u5f53 IP \u5c42\u53d1\u73b0 sk_buff \u5927\u4e8e MTU \u65f6\u624d\u9700\u8981\u8fdb\u884c\u3002\u4f1a\u518d\u7533\u8bf7\u989d\u5916\u7684 sk_buff \u5e76\u5c06\u539f\u6765\u7684 sk_buff \u62f7\u8d1d\u4e3a\u591a\u4e2a\u5c0f\u7684 sk_buff</p>"},{"location":"Computer%20Network/ComputerNetwork/#http-https","title":"\ud83d\udfe1 HTTP \u548c HTTPs","text":""},{"location":"Computer%20Network/ComputerNetwork/#http","title":"HTTP \u72b6\u6001\u7801\u7684\u542b\u4e49\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#100","title":"100 \u7c7b","text":"<p>100 \u7c7b\u72b6\u6001\u7801\u5c5e\u4e8e\u63d0\u793a\u4fe1\u606f\uff0c\u662f\u534f\u8bae\u5904\u7406\u4e2d\u7684\u4e00\u79cd\u4e2d\u95f4\u72b6\u6001\uff0c\u5b9e\u9645\u7528\u5230\u7684\u6bd4\u8f83\u5c11 - 100(\u7ee7\u7eed)\uff1a\u8bf7\u6c42\u8005\u5e94\u5f53\u7ee7\u7eed\u63d0\u51fa\u8bf7\u6c42\u3002 \u670d\u52a1\u5668\u8fd4\u56de\u6b64\u4ee3\u7801\u8868\u793a\u5df2\u6536\u5230\u8bf7\u6c42\u7684\u7b2c\u4e00\u90e8\u5206\uff0c\u6b63\u5728\u7b49\u5f85\u5176\u4f59\u90e8\u5206 - 101(\u5207\u6362\u534f\u8bae)\uff1a\u8bf7\u6c42\u8005\u5df2\u8981\u6c42\u670d\u52a1\u5668\u5207\u6362\u534f\u8bae\uff0c\u670d\u52a1\u5668\u5df2\u786e\u8ba4\u5e76\u51c6\u5907\u5207\u6362</p>"},{"location":"Computer%20Network/ComputerNetwork/#200","title":"200 \u7c7b","text":"<p>200 \u7c7b\u72b6\u6001\u7801\u8868\u793a\u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u3002 - 200(\u6210\u529f)\uff1a\u8868\u793a\u670d\u52a1\u5668\u54cd\u5e94\u6210\u529f\uff0c\u4e5f\u5c31\u662f\u670d\u52a1\u5668\u627e\u5230\u4e86\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u5185\u5bb9\uff0c\u5e76\u4e14\u5c06\u5185\u5bb9\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef - 204(\u5df2\u521b\u5efa)\uff1a\u8bf7\u6c42\u6210\u529f\u5e76\u4e14\u670d\u52a1\u5668\u521b\u5efa\u4e86\u65b0\u7684\u8d44\u6e90 - 206(\u90e8\u5206\u5185\u5bb9)\uff1a\u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u90e8\u5206 GET \u8bf7\u6c42</p>"},{"location":"Computer%20Network/ComputerNetwork/#300","title":"300 \u7c7b","text":"<p>300 \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8d44\u6e90\u53d1\u751f\u4e86\u53d8\u52a8\uff0c\u9700\u8981\u5ba2\u6237\u7aef\u7528\u65b0\u7684 URL \u91cd\u65b0\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u8d44\u6e90\uff0c\u4e5f\u5c31\u662f\u91cd\u5b9a\u5411\u3002 - 301(\u6c38\u4e45\u79fb\u52a8)\uff1a\u4ee3\u8868 \u6c38\u4e45\u6027\u7684\u91cd\u5b9a\u5411\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u91cd\u5b9a\u5411\u8df3\u8f6c\uff0c\u4ece\u4e25\u683c\u610f\u4e49\u6765\u8bb2\u4e0d\u662f\u670d\u52a1\u5668\u8df3\u8f6c\uff0c\u800c\u662f \u5ba2\u6237\u7aef\u8df3\u8f6c \u7684\u3002\u8fd9\u4e2a\u201c\u8df3\u201d\u7684\u52a8\u4f5c\u662f\u670d\u52a1\u5668\u662f\u901a\u8fc7\u56de\u4f20\u72b6\u6001\u7801 301 \u6765\u4e0b\u8fbe\u7ed9\u5ba2\u6237\u7aef\u7684\uff0c\u8ba9\u5ba2\u6237\u7aef\u5b8c\u6210\u8df3\u8f6c - 302(\u4e34\u65f6\u79fb\u52a8)\uff1a\u4ee3\u8868\u4e34\u65f6\u8df3\u8f6c\u3002\u4f8b\u5982\uff1aURL \u5730\u5740 A \u53ef\u4ee5\u5411 URL \u5730\u5740 B \u4e0a\u8df3\u8f6c\uff0c\u4f46\u8fd9\u5e76\u4e0d\u662f\u6c38\u4e45\u6027\u7684\uff0c\u5728\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u540e\uff0cURL \u5730\u5740 A \u8fd8\u53ef\u80fd\u5411 URL \u5730\u5740 C \u4e0a\u8df3\u8f6c - 304(\u672a\u4fee\u6539)\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd4\u56de\u72b6\u6001\u7801304\u53ef\u4ee5\u544a\u8bc9\u5ba2\u6237\u7aef\u8bf7\u6c42\u8d44\u6e90\u6210\u529f\uff0c\u4f46\u662f\u8fd9\u4e2a\u8d44\u6e90\u4e0d\u662f\u7531\u670d\u52a1\u5668\u63d0\u4f9b\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u7684\uff0c\u800c\u662f\u5ba2\u6237\u7aef\u672c\u5730\u6d4f\u89c8\u5668\u7f13\u5b58\u4e2d\u5c31\u6709\u7684\u8fd9\u4e2a\u8d44\u6e90\uff0c\u56e0\u4e3a\u53ef\u4ee5\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u8fd9\u4e2a\u8d44\u6e90\uff0c\u4ece\u800c\u8282\u7701\u4f20\u8f93\u7684\u5f00\u9500</p>"},{"location":"Computer%20Network/ComputerNetwork/#400","title":"400 \u7c7b","text":"<p>400 \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u62a5\u6587\u6709\u8bef\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u5904\u7406\u3002 - 400(\u9519\u8bef\u8bf7\u6c42)\uff1a\u670d\u52a1\u5668\u4e0d\u7406\u89e3\u8bf7\u6c42\u7684\u8bed\u6cd5 - 403(\u7981\u6b62)\uff1a\u4ee3\u8868\u8bf7\u6c42\u7684\u670d\u52a1\u5668\u8d44\u6e90\u6743\u9650\u4e0d\u591f\uff0c\u4e5f\u5c31\u662f\u6ca1\u6709\u6743\u9650\u53bb\u8bbf\u95ee\u670d\u52a1\u5668\u7684\u8d44\u6e90\uff0c\u6216\u8005\u8bf7\u6c42\u7684 IP \u5730\u5740\u88ab\u5c01\u6389\u4e86 - 404(\u672a\u627e\u5230)\uff1a\u4ee3\u8868\u670d\u52a1\u5668\u4e0a\u6ca1\u6709\u8be5\u8d44\u6e90\uff0c\u6216\u8005\u8bf4\u670d\u52a1\u5668\u627e\u4e0d\u5230\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8d44\u6e90\uff0c\u662f\u6700\u5e38\u89c1\u7684\u8bf7\u6c42\u9519\u8bef\u7801</p>"},{"location":"Computer%20Network/ComputerNetwork/#500","title":"500 \u7c7b","text":"<p>500 \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u8bf7\u6c42\u62a5\u6587\u6b63\u786e\uff0c\u4f46\u662f\u670d\u52a1\u5668\u5904\u7406\u65f6\u5185\u90e8\u53d1\u751f\u4e86\u9519\u8bef\uff0c\u5c5e\u4e8e\u670d\u52a1\u5668\u7aef\u7684\u9519\u8bef\u7801\u3002</p> <ul> <li>500(\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef)\uff1a\u4ee3\u8868\u7a0b\u5e8f\u9519\u8bef\uff0c\u4e5f\u5c31\u662f\u8bf4\u8bf7\u6c42\u7684\u7f51\u9875\u7a0b\u5e8f\u672c\u8eab\u62a5\u9519\u4e86\u3002\u5728\u670d\u52a1\u5668\u7aef\u7684\u7f51\u9875\u7a0b\u5e8f\u51fa\u9519\u3002\u7531\u4e8e\u73b0\u5728\u7684\u6d4f\u89c8\u5668\u90fd\u4f1a\u5bf9\u72b6\u6001\u7801 500 \u505a\u4e00\u5b9a\u7684\u5904\u7406\uff0c\u6240\u4ee5\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5b9a\u5236\u7684\u9519\u8bef\u9875\u9762\u3002</li> <li>501(\u5c1a\u672a\u5b9e\u65bd)\uff1a\u670d\u52a1\u5668\u4e0d\u5177\u5907\u5b8c\u6210\u8bf7\u6c42\u7684\u529f\u80fd\u3002 \u4f8b\u5982\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u8bc6\u522b\u8bf7\u6c42\u65b9\u6cd5\u65f6\u53ef\u80fd\u4f1a\u8fd4\u56de\u6b64\u4ee3\u7801\u3002</li> <li>502(\u7f51\u5173\u9519\u8bef)\uff1a\u901a\u5e38\u662f\u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\u65f6\u8fd4\u56de\u7684\u9519\u8bef\u7801\uff0c\u8868\u793a\u670d\u52a1\u5668\u81ea\u8eab\u5de5\u4f5c\u6b63\u5e38\uff0c\u8bbf\u95ee\u540e\u7aef\u670d\u52a1\u5668\u53d1\u751f\u4e86\u9519\u8bef\u3002</li> <li>503(\u670d\u52a1\u4e0d\u53ef\u7528)\uff1a\u8868\u793a\u670d\u52a1\u5668\u5f53\u524d\u5f88\u5fd9\uff0c\u6682\u65f6\u65e0\u6cd5\u54cd\u5e94\u5ba2\u6237\u7aef\u3002</li> <li>504(\u7f51\u5173\u8d85\u65f6)\uff1a\u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\uff0c\u4f46\u662f\u6ca1\u6709\u53ca\u65f6\u4ece\u4e0a\u6e38\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u3002</li> <li>505(HTTP \u7248\u672c\u4e0d\u53d7\u652f\u6301)\uff1a\u670d\u52a1\u5668\u4e0d\u652f\u6301\u8bf7\u6c42\u4e2d\u6240\u7528\u7684 HTTP \u534f\u8bae\u7248\u672c</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#http_1","title":"HTTP \u5e38\u89c1\u5b57\u6bb5","text":"<ul> <li>Host\uff1a\u6307\u5b9a\u670d\u52a1\u5668\u57df\u540d</li> <li>Content-Length\uff1a\u4e3a\u4e86\u89e3\u51b3 TCP \u7c98\u5305\u95ee\u9898\u6240\u8bbe\u8ba1\u7684 HTTP \u6570\u636e\u957f\u5ea6</li> <li>Connection\uff1a\u662f\u5426\u4f7f\u7528\u957f\u8fde\u63a5</li> <li>Content-Type\uff1a\u6307\u5b9a\u6570\u636e\u683c\u5f0f\uff0c\u4f8b\u5982\u6587\u672c\u6216\u56fe\u50cf\u3001\u7f16\u7801\u65b9\u5f0f</li> <li>Content-Encoding\uff1a\u6570\u636e\u7684\u538b\u7f29\u65b9\u6cd5\uff0c\u5982 gzip \u7b49\u7b49</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#http_2","title":"HTTP \u7f13\u5b58\u6709\u54ea\u4e9b\u5b9e\u73b0\u65b9\u5f0f\uff1f","text":"<ul> <li>\u5f3a\u5236\u7f13\u5b58\uff1a\u5f3a\u5236\u7f13\u5b58\u6307\u7684\u662f\u53ea\u8981\u6d4f\u89c8\u5668\u5224\u65ad\u7f13\u5b58\u6ca1\u6709\u8fc7\u671f\uff0c\u5219\u76f4\u63a5\u4f7f\u7528\u6d4f\u89c8\u5668\u7684\u672c\u5730\u7f13\u5b58\uff0c\u51b3\u5b9a\u662f\u5426\u4f7f\u7528\u7f13\u5b58\u7684\u4e3b\u52a8\u6027\u5728\u4e8e\u6d4f\u89c8\u5668\u8fd9\u8fb9\u3002\u76f8\u5173\u5b57\u6bb5\u6709  Cache-Control  \u4e0e  Expires\uff0c\u524d\u8005\u4f18\u5148\u7ea7\u66f4\u9ad8</li> <li>\u534f\u5546\u7f13\u5b58\uff1a\u8bf7\u6c42\u7684\u54cd\u5e94\u7801 304\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u53ef\u4ee5\u4f7f\u7528\u672c\u5730\u7f13\u5b58\u7684\u8d44\u6e90\uff0c\u901a\u8fc7\u670d\u52a1\u7aef\u544a\u77e5\u5ba2\u6237\u7aef\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u7f13\u5b58\u7684\u65b9\u5f0f\u88ab\u79f0\u4e3a\u534f\u5546\u7f13\u5b58\u3002\u8bf7\u6c42\u5934\u90e8\u7528  If-Modified-Since\uff1b\u54cd\u5e94\u5934\u90e8\u4f7f\u7528  Last-Modified  \u6765\u7ef4\u62a4\u3002\u5f53\u53d1\u73b0\u8d44\u6e90\u8fc7\u671f\u65f6\u8bf7\u6c42\u65b9\u4f1a\u5e26\u4e0a  Last-Modified  \u5b57\u6bb5\uff0c\u5982\u679c\u4fee\u6539\u8fc7\u5219\u8fd4\u56de 200 OK \u4ee5\u53ca\u76f8\u5173\u8d44\u6e90\uff0c\u5426\u5219\u7ee7\u7eed 304 \u8d70\u7f13\u5b58</li> <li>\u534f\u5546\u7f13\u5b58\u8fd8\u53ef\u4ee5\u901a\u8fc7  If-None-Match  \u4e0e  ETag  \u4e24\u79cd\u5b57\u6bb5\u5b9e\u73b0\u3002\u524d\u8005\u5c5e\u4e8e\u8bf7\u6c42\u5934\u90e8\uff0c\u540e\u8005\u5c5e\u4e8e\u54cd\u5e94\u5934\u90e8\u3002\u8fd9\u79cd\u65b9\u6cd5\u57fa\u4e8e\u552f\u4e00\u6807\u8bc6\uff0c\u76f8\u5bf9\u6765\u8bf4\u53ef\u4ee5\u66f4\u51c6\u786e\u5224\u65ad\u6587\u4ef6\u662f\u5426\u88ab\u4fee\u6539\uff0c ETag \u7684\u4f18\u5148\u7ea7\u4e5f\u6bd4 Last-Modified \u66f4\u9ad8 </li> <li>\u534f\u5546\u7f13\u5b58\u9700\u8981\u914d\u5408\u5f3a\u5236\u7f13\u5b58\u4e2d\u7684 Cache-Control \u4f7f\u7528\u3002\u5f53\u7f13\u5b58\u6ca1\u6709\u5bf9\u5e94\u8d44\u6e90\u65f6\u8bf7\u6c42\u670d\u52a1\u5668</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#http-https_1","title":"HTTP \u548c HTTPs \u7684\u533a\u522b\uff1f","text":"<ul> <li>\u5de5\u4f5c\u7aef\u53e3\u4e0d\u540c\uff1aHTTP 80\uff1bHTTPs 443</li> <li>HTTP \u660e\u6587\u4f20\u8f93\uff0c\u6570\u636e\u90fd\u662f\u672a\u52a0\u5bc6\u7684\uff0c\u5b89\u5168\u6027\u8f83\u5dee\uff0cHTTPs(SSL+HTTP)\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u662f\u52a0\u5bc6\u7684\uff0c\u5b89\u5168\u6027\u8f83\u597d</li> <li>\u4f7f\u7528 HTTPs \u534f\u8bae\u9700\u8981\u5230 CA \u7533\u8bf7\u8bc1\u4e66</li> <li>HTTP \u9875\u9762\u54cd\u5e94\u901f\u5ea6\u6bd4 HTTPs \u5feb\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a HTTP \u4f7f\u7528 TCP \u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0c\u800c HTTPs \u9664\u4e86 TCP \u7684\u4e09\u4e2a\u5305\uff0c\u8fd8\u8981\u52a0\u4e0a SSL \u63e1\u624b\u7684\u6d88\u8017</li> <li>HTTPs \u5176\u5b9e\u5c31\u662f\u5efa\u6784\u5728 SSL/TLS \u4e4b\u4e0a\u7684 HTTP \u534f\u8bae\uff0c\u6240\u4ee5\uff0c\u8981\u6bd4\u8f83 HTTPs \u6bd4 HTTP \u8981\u66f4\u8017\u8d39\u670d\u52a1\u5668\u8d44\u6e90</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#https-tls","title":"HTTPs \u7684\u52a0\u5bc6\u4e0e\u8ba4\u8bc1\u8fc7\u7a0b(TLS \u63e1\u624b\u8fc7\u7a0b)\uff1f","text":"<p>\u6ce8\u610f\uff1a  - \u524d\u4e24\u6b21\u63e1\u624b\u5c5e\u4e8e\u5bc6\u94a5\u4ea4\u6362\uff0c\u4e00\u822c\u800c\u8a00\u8fd9\u4e2a\u9636\u6bb5\u662f\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\uff0c\u52a0\u5bc6\u7b97\u6cd5\u6709 RSA \u6216\u8005 ECDHA\uff0c\u5f53\u7136\u540e\u8005\u4fdd\u8bc1\u524d\u5411\u5b89\u5168 - \u5728\u7b2c\u4e8c\u6b21\u63e1\u624b\u4e2d\u7684 CA \u8bc1\u4e66\u6d89\u53ca CA \u673a\u6784\u7b7e\u540d\uff0c\u7b7e\u540d\u7b97\u6cd5\u4f1a\u5728\u524d\u4e24\u6b21\u63e1\u624b\u4e2d\u786e\u8ba4 - \u5728\u7b2c\u4e09\u6b21\u63e1\u624b\u4e4b\u540e\u4f1a\u5f00\u59cb\u4f7f\u7528\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff0c\u56e0\u4e3a\u975e\u5bf9\u79f0\u52a0\u5bc6\u6548\u7387\u5b9e\u5728\u4e0d\u9ad8 - RSA \u6709\u4ec0\u4e48\u5f0a\u7aef\uff1a\u52a0\u5bc6\u6027\u4f9d\u8d56\u4e8e\u5bc6\u94a5\u957f\u5ea6\uff1b\u4e0d\u4fdd\u8bc1\u524d\u5411\u5b89\u5168\uff0c\u670d\u52a1\u5668\u79c1\u94a5\u88ab\u83b7\u53d6\u5c06\u5bfc\u81f4\u4e25\u91cd\u540e\u679c\uff1bRSA \u6548\u7387\u5e76\u4e0d\u9ad8</p>"},{"location":"Computer%20Network/ComputerNetwork/#clienthello","title":"ClientHello","text":"<p>\u9996\u5148\uff0c\u7531\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u52a0\u5bc6\u901a\u4fe1\u8bf7\u6c42\u3002\u5ba2\u6237\u7aef\u4e3b\u8981\u5411\u670d\u52a1\u7aef\u53d1\u9001\uff1a - \u5ba2\u6237\u7aef\u652f\u6301\u7684 SSL/TLS \u534f\u8bae\u7248\u672c  - \u5ba2\u6237\u7aef\u4ea7\u751f\u7684\u7684 \u968f\u673a\u6570 (Client Random) - \u5ba2\u6237\u7aef\u652f\u6301\u7684 \u5bc6\u7801\u5957\u4ef6\u5217\u8868 </p>"},{"location":"Computer%20Network/ComputerNetwork/#serverhello","title":"ServerHello","text":"<p>\u670d\u52a1\u5668\u6536\u5230\u5ba2\u6237\u7aef\u8bf7\u6c42\u540e\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u51fa\u54cd\u5e94\u3002\u670d\u52a1\u7aef\u56de\u5e94\u7684\u5185\u5bb9\u6709\uff1a - \u786e\u8ba4 SSL/TLS \u534f\u8bae\u7248\u672c (\u5982\u679c\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\uff0c\u5219\u5173\u95ed\u52a0\u5bc6\u901a\u4fe1) - \u670d\u52a1\u7aef\u751f\u4ea7\u7684 \u968f\u673a\u6570 (Server Random) - \u786e\u8ba4\u7684 \u5bc6\u7801\u5957\u4ef6\u5217\u8868  - \u670d\u52a1\u7aef\u7684 \u6570\u5b57\u8bc1\u4e66 </p> <p>CA \u8bc1\u4e66\u4e2d\u5305\u542b\u5185\u5bb9\uff1a - \u7248\u672c\u53f7(Version Number)\uff1a\u89c4\u8303\u7684\u7248\u672c\u53f7\uff0c\u5982\u7248\u672c 3\uff0c\u503c\u4e3a 0x2 - \u5e8f\u5217\u53f7(Serial Number)\uff1a\u7531 CA \u7ef4\u62a4\u7684\u4e3a\u5b83\u6240\u53d1\u7684\u6bcf\u4e2a\u8bc1\u4e66\u5206\u914d\u7684\u4e00\u4e2a\u5e8f\u5217\u53f7\uff0c\u7528\u6765\u8ffd\u8e2a\u548c\u64a4\u9500\u8bc1\u4e66\u3002\u53ea\u8981\u62e5\u6709\u7b7e\u53d1\u8005\u4fe1\u606f\u548c\u5e8f\u5217\u53f7\uff0c\u5c31\u53ef\u4ee5\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u8bc1\u4e66 - \u7b7e\u540d\u7b97\u6cd5(Signature Algorithm)\uff1a\u8be5\u6570\u5b57\u8bc1\u4e66\u652f\u6301\u6570\u5b57\u7b7e\u540d\u6240\u91c7\u7528\u7684\u7b97\u6cd5\uff0c\u5982 sha256RSA - \u9881\u53d1\u8005(Issuer)\uff1a\u5c31\u662f CA \u9881\u53d1\u673a\u6784\uff0c\u662f\u7b7e\u53d1\u8bc1\u4e66\u5355\u4f4d\u7684\u6807\u8bc6\u4fe1\u606f - \u6709\u6548\u671f(Validity) : \u8bc1\u4e66\u7684\u6709\u6548\u671f\u5f88\uff0c\u5305\u62ec\u8d77\u6b62\u65f6\u95f4 - \u4f7f\u7528\u8005(Subject) : \u8bc1\u4e66\u62e5\u6709\u8005\u7684\u6807\u8bc6\u4fe1\u606f\u3002\u5982\u679c\u4f7f\u7528\u7684\u662f OV \u6216 EV \u578b\u8bc1\u4e66\uff0c\u5c31\u53ef\u67e5\u770b\u5230\u4f01\u4e1a\u4fe1\u606f\uff0c\u8fa8\u522b\u516c\u53f8\u771f\u4f2a - \u4e3b\u4f53\u7684\u516c\u94a5\u4fe1\u606f(Subject Public Key Info)\uff1a\u6240\u4fdd\u62a4\u7684\u516c\u94a5\u76f8\u5173\u7684\u4fe1\u606f - \u4f7f\u7528\u8005\u53ef\u9009\u540d\u79f0(Subject Alternative Name)\uff1a\u5373\u8be5\u8bc1\u4e66\u4fdd\u62a4\u7684\u6240\u6709\u57df\u540d\u540d\u79f0</p> <p>CA \u8bc1\u4e66\u7684\u7b7e\u540d\u8fc7\u7a0b\u4ee5\u53ca\u9a8c\u8bc1\u5176\u6709\u6548\u6027\u7684\u8fc7\u7a0b\u5982\u4e0b\uff1a  - \u9996\u5148 CA \u4f1a\u628a\u8bc1\u4e66\u4fe1\u606f\u6253\u6210\u4e00\u4e2a\u5305\uff0c\u7136\u540e\u5bf9\u8fd9\u4e9b\u4fe1\u606f\u8fdb\u884c Hash \u8ba1\u7b97\uff0c\u5f97\u5230\u4e00\u4e2a Hash \u503c - \u7136\u540e CA \u4f1a\u4f7f\u7528\u79c1\u94a5\u5bf9 Hash \u503c\u8fdb\u884c\u7b7e\u540d\u5f97\u5230\u65b0\u7684\u54c8\u5e0c\u503c - \u6700\u540e\u5c06\u8bc1\u4e66\u7b7e\u540d\u6dfb\u52a0\u5230\u8bc1\u4e66\u5185\u5bb9\u4e4b\u540e\uff0c\u5f53\u5ba2\u6237\u7aef\u4f7f\u7528 CA \u516c\u94a5\u89e3\u5bc6\u7b7e\u540d\u5f97\u5230 Hash \u503c\uff0c\u5e76\u4f7f\u7528\u4e0e\u7b2c\u4e00\u6b65\u540c\u6837\u7684 Hash \u7b97\u6cd5\u5bf9 CA \u6253\u5305\u4fe1\u606f\u8fdb\u884c Hash \u8ba1\u7b97\uff0c\u5bf9\u6bd4\u4e24\u8005\u5373\u53ef\u9a8c\u8bc1 CA \u8bc1\u4e66\u7684\u6709\u6548\u6027</p>"},{"location":"Computer%20Network/ComputerNetwork/#client-key-exchange","title":"Client Key Exchange","text":"<p>\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u7aef\u7684\u56de\u5e94\u4e4b\u540e\uff0c\u9996\u5148\u901a\u8fc7\u6d4f\u89c8\u5668\u6216\u8005\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684 CA \u516c\u94a5\uff0c\u786e\u8ba4\u670d\u52a1\u7aef\u7684\u6570\u5b57\u8bc1\u4e66\u7684\u771f\u5b9e\u6027\u3002\u5982\u679c\u8bc1\u4e66\u6ca1\u6709\u95ee\u9898\uff0c\u5ba2\u6237\u7aef\u4f1a\u4ece\u6570\u5b57\u8bc1\u4e66\u4e2d\u53d6\u51fa\u670d\u52a1\u7aef\u7684\u516c\u94a5\uff0c\u7136\u540e\u4f7f\u7528\u5b83\u52a0\u5bc6\u62a5\u6587\uff0c\u5411\u670d\u52a1\u7aef\u53d1\u9001\u5982\u4e0b\u4fe1\u606f\uff1a - \u4e00\u4e2a\u968f\u673a\u6570(Pre-master)\uff0c\u8be5\u968f\u673a\u6570\u4f1a\u88ab\u670d\u52a1\u7aef\u516c\u94a5\u52a0\u5bc6(RSA/ECDHA) - \u52a0\u5bc6\u901a\u4fe1\u7b97\u6cd5\u6539\u53d8\u901a\u77e5\uff0c\u8868\u793a\u968f\u540e\u7684\u4fe1\u606f\u90fd\u5c06\u7528\u4f1a\u8bdd\u79d8\u94a5\u52a0\u5bc6\u901a\u4fe1 - \u5ba2\u6237\u7aef\u63e1\u624b\u7ed3\u675f\u901a\u77e5\uff0c\u8868\u793a\u5ba2\u6237\u7aef\u7684\u63e1\u624b\u9636\u6bb5\u5df2\u7ecf\u7ed3\u675f - \u4e4b\u524d\u6240\u6709\u5185\u5bb9\u7684\u53d1\u751f\u7684\u6570\u636e\u505a\u4e2a \u6458\u8981\uff0c\u7528\u6765\u4f9b\u670d\u52a1\u7aef\u6821\u9a8c</p> <p>\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u6709\u4e86\u4e09\u4e2a\u968f\u673a\u6570\uff0c\u63a5\u7740\u7528\u53cc\u65b9\u534f\u5546\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5404\u81ea\u751f\u6210\u672c\u6b21\u901a\u4fe1\u7684\u4f1a\u8bdd\u79d8\u94a5</p>"},{"location":"Computer%20Network/ComputerNetwork/#change-cipher-spec-encrypted-handshake-message","title":"Change Cipher Spec &amp; Encrypted Handshake Message","text":"<p>\u670d\u52a1\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u7684\u7b2c\u4e09\u4e2a\u968f\u673a\u6570(pre-master key)\u4e4b\u540e\uff0c\u901a\u8fc7\u534f\u5546\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u8ba1\u7b97\u51fa\u672c\u6b21\u901a\u4fe1\u7684\u4f1a\u8bdd\u79d8\u94a5\u3002\u670d\u52a1\u7aef\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6700\u540e\u7684\u4fe1\u606f\uff1a - \u52a0\u5bc6\u901a\u4fe1\u7b97\u6cd5\u6539\u53d8\u901a\u77e5\uff0c\u8868\u793a\u968f\u540e\u7684\u4fe1\u606f\u90fd\u5c06\u7528\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u52a0\u5bc6\u901a\u4fe1 - \u670d\u52a1\u7aef\u63e1\u624b\u7ed3\u675f\u901a\u77e5\uff0c\u8868\u793a\u670d\u52a1\u7aef\u7684\u63e1\u624b\u9636\u6bb5\u5df2\u7ecf\u7ed3\u675f - \u4e4b\u524d\u6240\u6709\u5185\u5bb9\u7684\u53d1\u751f\u7684\u6570\u636e\u505a\u4e2a \u6458\u8981\uff0c\u7528\u6765\u4f9b\u5ba2\u6237\u7aef\u6821\u9a8c</p>"},{"location":"Computer%20Network/ComputerNetwork/#https","title":"HTTPs \u4e00\u5b9a\u5b89\u5168\u53ef\u9760\u5417\uff1f","text":"<p>\u4e0d\u5b89\u5168\u662f\u56e0\u4e3a\u7528\u6237\u70b9\u51fb\u63a5\u53d7\u4e86\u4e2d\u95f4\u4eba\u670d\u52a1\u5668\u7684\u8bc1\u4e66\u3002\u4e2d\u95f4\u4eba\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u5728 TLS \u63e1\u624b\u8fc7\u7a0b\u4e2d\uff0c\u5b9e\u9645\u4e0a\u53d1\u9001\u4e86\u81ea\u5df1\u4f2a\u9020\u7684\u8bc1\u4e66\u7ed9\u6d4f\u89c8\u5668\uff0c\u800c\u8fd9\u4e2a\u4f2a\u9020\u7684\u8bc1\u4e66\u662f\u80fd\u88ab\u6d4f\u89c8\u5668(\u5ba2\u6237\u7aef)\u8bc6\u522b\u51fa\u662f\u975e\u6cd5\u7684\uff0c\u4e8e\u662f\u5c31\u4f1a\u63d0\u9192\u7528\u6237\u8be5\u8bc1\u4e66\u5b58\u5728\u95ee\u9898\u3002\u5982\u679c\u7528\u6237\u70b9\u51fb\u300c\u7ee7\u7eed\u6d4f\u89c8\u6b64\u7f51\u7ad9\u300d\uff0c\u76f8\u5f53\u4e8e\u7528\u6237\u63a5\u53d7\u4e86\u4e2d\u95f4\u4eba\u4f2a\u9020\u7684\u8bc1\u4e66\uff0c\u90a3\u4e48\u540e\u7eed\u6574\u4e2a HTTPs \u901a\u4fe1\u90fd\u80fd\u88ab\u4e2d\u95f4\u4eba\u76d1\u542c\u4e86\u3002</p> <p>HTTPs \u534f\u8bae\u672c\u8eab\u5230\u76ee\u524d\u4e3a\u6b62\u8fd8\u662f\u6ca1\u6709\u4efb\u4f55\u6f0f\u6d1e\u7684\uff0c\u5373\u4f7f\u4f60\u6210\u529f\u8fdb\u884c\u4e2d\u95f4\u4eba\u653b\u51fb\uff0c\u672c\u8d28\u4e0a\u662f\u5229\u7528\u4e86\u5ba2\u6237\u7aef\u7684\u6f0f\u6d1e(\u7528\u6237\u70b9\u51fb\u7ee7\u7eed\u8bbf\u95ee\u6216\u8005\u88ab\u6076\u610f\u5bfc\u5165\u4f2a\u9020\u7684\u6839\u8bc1\u4e66)\uff0c\u5e76\u4e0d\u662f HTTPs \u4e0d\u591f\u5b89\u5168\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#http10http11http2-http3","title":"HTTP1.0\u3001HTTP1.1\u3001HTTP2 \u548c HTTP3 \u7684\u533a\u522b\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#http10","title":"HTTP1.0","text":"<ul> <li>\u65e0\u8fde\u63a5\uff1a\u6bcf\u6b21\u8bf7\u6c42\u90fd\u8981\u5efa\u7acb\u8fde\u63a5\uff0c\u9700\u8981\u4f7f\u7528  keep-alive  \u53c2\u6570\u5efa\u7acb\u957f\u8fde\u63a5\uff0c\u5efa\u7acb\u8fde\u63a5\u5341\u5206\u6d88\u8017\u8d44\u6e90</li> <li>\u961f\u5934\u963b\u585e\uff1aHTTP1.0 \u89c4\u5b9a\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u5fc5\u987b\u5728\u524d\u4e00\u4e2a\u8bf7\u6c42\u54cd\u5e94\u5230\u8fbe\u4e4b\u524d\u624d\u80fd\u53d1\u9001\uff0c\u5047\u8bbe\u524d\u4e00\u4e2a\u8bf7\u6c42\u54cd\u5e94\u4e00\u76f4\u4e0d\u5230\u8fbe\uff0c\u90a3\u4e48\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u5c31\u4e0d\u53d1\u9001\uff0c\u540e\u9762\u7684\u8bf7\u6c42\u5c31\u963b\u585e\u4e86</li> <li>\u7f13\u5b58\uff1a\u5728 HTTP 1.0 \u4e2d\u4e3b\u8981\u4f7f\u7528  header  \u91cc\u7684\u534f\u5546\u7f13\u5b58  last-modified\\if-modified-since\uff0c\u5f3a\u5236\u7f13\u5b58  Expires  \u6765\u505a\u4e3a\u7f13\u5b58\u5224\u65ad\u7684\u6807\u51c6</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#http11","title":"HTTP1.1","text":"<ul> <li>\u957f\u8fde\u63a5\uff1a\u597d\u5904\u5728\u4e8e\u51cf\u5c11\u4e86 TCP \u8fde\u63a5\u7684\u91cd\u590d\u5efa\u7acb\u548c\u65ad\u5f00\u6240\u9020\u6210\u7684\u989d\u5916\u5f00\u9500\uff0c\u51cf\u8f7b\u4e86\u670d\u52a1\u5668\u7aef\u7684\u8d1f\u8f7d</li> <li>\u652f\u6301\u7ba1\u9053(pipeline)\u7f51\u7edc\u4f20\u8f93\uff1a\u53ea\u8981\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u53d1\u51fa\u53bb\u4e86\uff0c\u4e0d\u5fc5\u7b49\u5f85\u6536\u5230 ACK \u54cd\u5e94\u5c31\u53ef\u4ee5\u53d1\u7b2c\u4e8c\u4e2a\u8bf7\u6c42\u51fa\u53bb\uff0c\u53ef\u4ee5\u51cf\u5c11\u6574\u4f53\u7684\u54cd\u5e94\u65f6\u95f4</li> <li>\u7f13\u5b58\u5904\u7406\uff1aHTTP1.1 \u5f15\u5165\u4e86 \u66f4\u591a\u7684\u7f13\u5b58\u63a7\u5236\u7b56\u7565(Cache-Control/If-None-Match/ETag)\uff0c\u8bb8\u591a\u53ef\u4f9b\u9009\u62e9\u7684\u7f13\u5b58\u5934\u6765\u63a7\u5236\u7f13\u5b58\u7b56\u7565</li> <li>\u65ad\u70b9\u7eed\u4f20\uff1aHTTP1.1 \u5728\u8bf7\u6c42\u5934\u5f15\u5165\u4e86  range  \u5934\u57df\uff0c\u5b83\u5141\u8bb8\u53ea\u8bf7\u6c42\u8d44\u6e90\u7684\u67d0\u4e2a\u90e8\u5206\uff0c\u5373\u8fd4\u56de\u7801\u662f  206(Partial Content)\uff0c\u8fd9\u6837\u5c31\u65b9\u4fbf\u4e86\u5f00\u53d1\u8005\u81ea\u7531\u7684\u9009\u62e9\u4ee5\u4fbf\u4e8e\u5145\u5206\u5229\u7528\u5e26\u5bbd\u548c\u8fde\u63a5</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#http2","title":"HTTP2","text":"<ul> <li>header \u538b\u7f29\uff1aHTTP1 \u7684 header \u5e26\u6709\u5927\u91cf\u4fe1\u606f\uff0c\u800c\u4e14\u6bcf\u6b21\u90fd\u8981\u91cd\u590d\u53d1\u9001\uff0cHTTP2 \u4f7f\u7528 encoder \u6765\u51cf\u5c11\u9700\u8981\u4f20\u8f93\u7684 header \u5927\u5c0f\uff0c\u901a\u8baf\u53cc\u65b9\u5404\u81ea cache \u4e00\u4efd header fields \u8868\uff0c\u65e2\u907f\u514d\u4e86\u91cd\u590d header \u7684\u4f20\u8f93\uff0c\u53c8\u51cf\u5c0f\u4e86\u9700\u8981\u4f20\u8f93\u7684\u5927\u5c0f</li> <li>\u591a\u8def\u590d\u7528\uff1a\u4f7f\u7528\u591a\u8def\u590d\u7528\u7684\u6280\u672f\uff0c\u505a\u5230\u540c\u4e00\u4e2a\u8fde\u63a5\u5e76\u53d1\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\uff0c\u800c\u4e14\u5e76\u53d1\u8bf7\u6c42\u7684\u6570\u91cf\u6bd4 HTTP1.1 \u5927\u4e86\u597d\u51e0\u4e2a\u6570\u91cf\u7ea7\u3002\u4e00\u4e2a TCP \u8fde\u63a5\u4e2d\u6709\u591a\u4e2a Stream  (Stream \u4e4b\u95f4\u6709\u4f9d\u8d56\uff0c\u524d\u9762\u7684 Stream \u963b\u585e\u540e\u540e\u9762\u7684 Stream)\uff1b\u4e00\u4e2a Stream \u4e2d\u5305\u542b\u591a\u4e2a Message\uff0c\u5bf9\u5e94 HTTP1 \u4e2d\u7684\u8bf7\u6c42\u6216\u54cd\u5e94\uff1bMessage \u5305\u542b\u591a\u4e2a Frame\uff0c\u4ee5\u4e8c\u8fdb\u5236\u538b\u7f29\u683c\u5f0f\u5b58\u653e HTTP1 \u4e2d\u7684\u5185\u5bb9\uff0c\u5bf9\u5e94\u4e00\u4e2a\u8bf7\u6c42\u7684\u5934\u90e8\u6216\u8005\u6570\u636e</li> <li>\u4e8c\u8fdb\u5236\u5e27\u683c\u5f0f\uff1aHTTP2 \u628a\u8bf7\u6c42\u5728\u5e94\u7528\u5c42\u5207\u5206\u6210\u4e8c\u8fdb\u5236\u5e27\u5e76\u6807\u4e0a\u5e8f\u53f7\uff0c\u670d\u52a1\u5668\u63a5\u6536\u5230\u4e8c\u8fdb\u5236\u5e27\u540e\u7ec4\u88c5\u6210\u8bf7\u6c42\u8fdb\u884c\u5904\u7406\uff0c\u4ece\u800c\u8fbe\u5230\u5e76\u53d1\u53d1\u9001\u8bf7\u6c42\u7684\u6548\u679c\uff0c\u5bf9\u4e8e\u670d\u52a1\u5668\u7aef\uff0c\u54cd\u5e94\u53ef\u4ee5\u901a\u8fc7\u5e8f\u53f7\u786e\u5b9a\u662f\u54ea\u4e2a\u8bf7\u6c42\uff0c\u4ece\u800c\u4e0d\u4f1a\u51fa\u73b0\u6df7\u4e71\u7684\u95ee\u9898</li> <li>\u670d\u52a1\u5668\u63a8\u9001\uff1aHTTP2 \u5f15\u5165\u4e86 server push\uff0c\u5b83\u5141\u8bb8\u670d\u52a1\u7aef\u63a8\u9001\u8d44\u6e90\u7ed9\u6d4f\u89c8\u5668\uff0c\u5728\u6d4f\u89c8\u5668\u660e\u786e\u5730\u8bf7\u6c42\u4e4b\u524d\uff0c\u514d\u5f97\u5ba2\u6237\u7aef\u518d\u6b21\u521b\u5efa\u8fde\u63a5\u53d1\u9001\u8bf7\u6c42\u5230\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u3002\u8fd9\u6837\u5ba2\u6237\u7aef\u53ef\u4ee5\u76f4\u63a5\u4ece\u672c\u5730\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90\uff0c\u4e0d\u7528\u518d\u901a\u8fc7\u7f51\u7edc\u4e3b\u52a8\u83b7\u53d6\u8d44\u6e90</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#http3quic","title":"HTTP3(QUIC)","text":"<ul> <li>HTTP3 \u76f4\u63a5\u653e\u5f03\u4f7f\u7528 TCP\uff0c\u5c06\u4f20\u8f93\u5c42\u534f\u8bae\u6539\u6210 UDP\uff0c \u4f7f\u7528 UDP \u5b9e\u73b0\u53ef\u9760\u4f20\u8f93 </li> <li>0-RTT\uff1a\u7f13\u5b58\u5f53\u524d\u4f1a\u8bdd\u7684\u4e0a\u4e0b\u6587\uff0c\u4e0b\u6b21\u6062\u590d\u4f1a\u8bdd\u7684\u65f6\u5019\uff0c\u53ea\u9700\u8981\u5c06\u4e4b\u524d\u7684\u7f13\u5b58\u4f20\u9012\u7ed9\u670d\u52a1\u5668\uff0c\u9a8c\u8bc1\u901a\u8fc7\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u4f20\u8f93\u4e86  (\u8fd9\u662f QUIC \u534f\u8bae\u76f8\u6bd4 HTTP2 \u7684\u6700\u5927\u4f18\u52bf) </li> <li>\u591a\u8def\u590d\u7528\uff1aQUIC \u57fa\u4e8e UDP\uff0c\u4e00\u4e2a\u8fde\u63a5\u4e0a\u7684\u591a\u4e2a stream \u4e4b\u95f4\u6ca1\u6709\u4f9d\u8d56\uff0c\u5373\u4f7f\u4e22\u5305\uff0c\u53ea\u9700\u8981\u91cd\u53d1\u4e22\u5931\u7684\u5305\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u91cd\u4f20\u6574\u4e2a\u8fde\u63a5</li> <li>\u66f4\u597d\u7684\u79fb\u52a8\u7aef\u8868\u73b0\uff1aQUIC \u5728\u79fb\u52a8\u7aef\u7684\u8868\u73b0\u6bd4 TCP \u597d\uff0c\u56e0\u4e3a TCP \u662f\u57fa\u4e8e IP \u8bc6\u522b\u8fde\u63a5\uff0c\u800c QUIC \u662f\u901a\u8fc7 ID \u8bc6\u522b\u94fe\u63a5\u3002\u65e0\u8bba\u7f51\u7edc\u73af\u5883\u5982\u4f55\u53d8\u5316\uff0c\u53ea\u8981 ID \u4e0d\u53d8\uff0c\u5c31\u80fd\u8fc5\u901f\u91cd\u65b0\u8fde\u4e0a</li> <li>\u52a0\u5bc6\u8ba4\u8bc1\u7684\u62a5\u6587\uff1aTCP \u534f\u8bae\u5934\u6ca1\u6709\u7ecf\u8fc7\u4efb\u4f55\u52a0\u5bc6\u548c\u8ba4\u8bc1\uff0c\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u5f88\u5bb9\u6613\u88ab\u4e2d\u95f4\u7f51\u7edc\u8bbe\u5907\u7be1\u6539\u3001\u6ce8\u5165\u548c\u7a83\u542c\u3002QUIC \u7684 packet \u9664\u4e86\u4e2a\u522b\u62a5\u6587\uff0c \u6240\u6709\u62a5\u6587\u5934\u90e8\u90fd\u662f\u7ecf\u8fc7\u8ba4\u8bc1\u7684\uff0c\u62a5\u6587 Body \u90fd\u662f\u7ecf\u8fc7\u52a0\u5bc6\u7684\u3002\u53ea\u8981\u5bf9 QUIC \u505a\u4efb\u4f55\u66f4\u6539\uff0c\u63a5\u6536\u7aef\u90fd\u80fd\u53ca\u65f6\u53d1\u73b0\uff0c\u6709\u6548\u5730\u964d\u4f4e\u4e86\u5b89\u5168\u98ce\u9669</li> <li>\u524d\u5411\u7ea0\u9519\u673a\u5236\uff1a\u524d\u5411\u7ea0\u9519(Foward Error Correction\uff0cFEC)\uff0c\u6bcf\u4e2a\u6570\u636e\u5305\u9664\u4e86\u5b83\u672c\u8eab\u7684\u5185\u5bb9\u4e4b\u5916\u8fd8\u5305\u62ec\u4e86\u5176\u4ed6\u6570\u636e\u5305\u7684\u6570\u636e\uff0c\u56e0\u6b64\u5c11\u91cf\u7684\u4e22\u5305\u53ef\u4ee5\u901a\u8fc7\u5176\u4ed6\u5305\u7684\u5197\u4f59\u6570\u636e\u76f4\u63a5\u7ec4\u88c5\u800c\u65e0\u9700\u91cd\u4f20\u3002\u5411\u524d\u7ea0\u9519\u727a\u7272\u4e86\u6bcf\u4e2a\u6570\u636e\u5305\u53ef\u4ee5\u53d1\u9001\u6570\u636e\u7684\u4e0a\u9650\uff0c\u4f46\u662f\u5e26\u6765\u7684\u63d0\u5347\u5927\u4e8e\u4e22\u5305\u5bfc\u81f4\u7684\u6570\u636e\u91cd\u4f20\uff0c\u56e0\u4e3a\u6570\u636e\u91cd\u4f20\u5c06\u4f1a\u6d88\u8017\u66f4\u591a\u7684\u65f6\u95f4(\u5305\u62ec\u786e\u8ba4\u6570\u636e\u5305\u4e22\u5931\uff0c\u8bf7\u6c42\u91cd\u4f20\uff0c\u7b49\u5f85\u65b0\u6570\u636e\u5305\u7b49\u6b65\u9aa4\u7684\u65f6\u95f4\u6d88\u8017)</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#quic","title":"QUIC \u534f\u8bae\u7684\u6982\u5ff5\u548c\u7279\u70b9\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_4","title":"\u6982\u5ff5","text":"<p>HTTP3 \u57fa\u4e8e UDP \u534f\u8bae\u5728\u5e94\u7528\u5c42\u5b9e\u73b0\u4e86 QUIC \u534f\u8bae\uff0c\u5177\u6709\u7c7b\u4f3c TCP \u7684 \u8fde\u63a5\u7ba1\u7406\u3001\u62e5\u585e\u7a97\u53e3\u3001\u6d41\u91cf\u63a7\u5236 \u7684\u7f51\u7edc\u7279\u6027\uff0c\u8ba9 UDP \u534f\u8bae\u53d8\u5f97\u53ef\u9760</p>"},{"location":"Computer%20Network/ComputerNetwork/#_5","title":"\u7279\u70b9","text":"<ul> <li>\u65e0\u961f\u5934\u963b\u585e\uff1aQUIC \u534f\u8bae\u6709\u7c7b\u4f3c HTTP2 Stream \u4e0e\u591a\u8def\u590d\u7528\u7684\u6982\u5ff5\uff0c\u53ef\u4ee5\u5728 \u540c\u4e00\u6761\u8fde\u63a5\u4e0a\u5e76\u53d1\u4f20\u8f93\u591a\u4e2a Stream\u3002UDP \u4e0d\u5173\u5fc3\u6570\u636e\u5305\u7684\u987a\u5e8f\uff0c\u4e5f\u4e0d\u5173\u5fc3\u662f\u5426\u4e22\u5305\u3002UDP \u5c06\u6bcf\u4e2a\u6570\u636e\u5305\u90fd\u6709\u4e00\u4e2a\u5e8f\u53f7\u552f\u4e00\u6807\u8bc6\u3002\u5f53\u67d0\u4e2a\u6d41\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u5305\u4e22\u5931\u4e86\uff0c\u8be5\u6d41\u7684\u5176\u4ed6\u6570\u636e\u5305\u5230\u8fbe\u4e86\uff0c\u6570\u636e\u4e5f\u65e0\u6cd5\u88ab HTTP3 \u8bfb\u53d6\uff0cQUIC \u91cd\u4f20\u4e22\u5931\u7684\u62a5\u6587\u4e4b\u540e\u6570\u636e\u624d\u4f1a\u4ea4\u7ed9 HTTP3\u3002\u800c\u5176\u4ed6\u6d41\u7684\u6570\u636e\u62a5\u6587\u53ea\u8981\u88ab\u5b8c\u6574\u63a5\u6536\uff0cHTTP3 \u5c31\u53ef\u4ee5\u8bfb\u53d6\u5230\u6570\u636e\u3002QUIC \u8fde\u63a5\u4e0a\u7684\u591a\u4e2a Stream \u4e4b\u95f4\u5e76\u6ca1\u6709\u4f9d\u8d56\uff0c\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u67d0\u4e2a\u6d41\u53d1\u751f\u4e22\u5305\u4e86\uff0c\u53ea\u4f1a\u5f71\u54cd\u8be5\u6d41\uff0c\u5176\u4ed6\u6d41\u4e0d\u53d7\u5f71\u54cd</li> <li>\u5feb\u901f\u8fde\u63a5\u5efa\u7acb\uff1aHTTP3 \u5728\u4f20\u8f93\u6570\u636e\u524d\u867d\u7136\u9700\u8981 QUIC \u534f\u8bae\u63e1\u624b\uff0c\u8fd9\u4e2a \u63e1\u624b\u8fc7\u7a0b\u53ea\u9700\u8981 1 RTT\uff0c\u63e1\u624b\u7684\u76ee\u7684\u662f\u4e3a\u786e\u8ba4\u53cc\u65b9\u7684\u300c\u8fde\u63a5 ID\u300d\uff0c \u8fde\u63a5\u8fc1\u79fb\u5c31\u662f\u57fa\u4e8e\u8fde\u63a5 ID \u5b9e\u73b0\u7684\u3002HTTP3 \u7684 QUIC \u534f\u8bae\u4e0d\u4e0e TLS \u5206\u5c42\uff0cQUIC \u5185\u90e8\u5305\u542b\u4e86 TLS\uff0c\u5b83\u5728\u81ea\u5df1\u7684\u5e27\u4f1a\u643a\u5e26 TLS \u8bb0\u5f55\uff0c\u53ea\u9700 1 \u4e2a RTT \u5c31\u53ef\u4ee5\u5b8c\u6210\u5efa\u7acb\u8fde\u63a5\u4e0e\u5bc6\u94a5\u534f\u5546\u3002\u5728\u7b2c\u4e8c\u6b21\u8fde\u63a5\u7684\u65f6\u5019\uff0c\u5e94\u7528\u6570\u636e\u5305\u53ef\u4ee5\u548c QUIC \u63e1\u624b\u4fe1\u606f(\u8fde\u63a5\u4fe1\u606f + TLS \u4fe1\u606f)\u4e00\u8d77\u53d1\u9001</li> <li>\u8fde\u63a5\u8fc1\u79fb\uff1aQUIC \u534f\u8bae\u6ca1\u6709\u7528\u56db\u5143\u7ec4\u7684\u65b9\u5f0f\u6765\u7ed1\u5b9a\u8fde\u63a5\uff0c\u800c\u662f\u901a\u8fc7  \u8fde\u63a5 ID  \u6765\u6807\u8bb0\u901a\u4fe1\u7684\u4e24\u4e2a\u7aef\u70b9\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u53ef\u4ee5\u5404\u81ea\u9009\u62e9\u4e00\u7ec4 ID \u6765\u6807\u8bb0\u81ea\u5df1\uff0c\u56e0\u6b64\u5373\u4f7f\u79fb\u52a8\u8bbe\u5907\u7684\u7f51\u7edc\u53d8\u5316\u540e\uff0c\u5bfc\u81f4 IP \u5730\u5740\u53d8\u5316\u4e86\uff0c\u53ea\u8981\u4ecd\u4fdd\u6709\u4e0a\u4e0b\u6587\u4fe1\u606f(\u6bd4\u5982\u8fde\u63a5 ID\u3001TLS \u5bc6\u94a5\u7b49)\uff0c\u5c31\u53ef\u4ee5\u590d\u7528\u539f\u8fde\u63a5\uff0c\u6d88\u9664\u91cd\u8fde\u7684\u6210\u672c\uff0c\u8fbe\u5230\u4e86 \u8fde\u63a5\u8fc1\u79fb \u7684\u529f\u80fd</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#quic_1","title":"QUIC \u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93\uff1f","text":"<ul> <li>Packet Header\uff1a\u5206\u4e3a Long Packet Header \u7528\u4e8e\u9996\u6b21\u5efa\u7acb\u8fde\u63a5\u548c Short Packet Header \u7528\u4e8e\u65e5\u5e38\u4f20\u8f93\u6570\u636e\u3002QUIC \u4e5f\u662f\u9700\u8981\u4e09\u6b21\u63e1\u624b\u6765\u5efa\u7acb\u8fde\u63a5\u7684\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u534f\u5546\u8fde\u63a5 ID\u3002\u534f\u5546\u51fa\u8fde\u63a5 ID \u540e\uff0c\u540e\u7eed\u4f20\u8f93\u65f6\uff0c\u53cc\u65b9\u53ea\u9700\u8981\u56fa\u5b9a\u4f4f\u8fde\u63a5 ID\uff0c\u4ece\u800c\u5b9e\u73b0\u8fde\u63a5\u8fc1\u79fb\u529f\u80fd\u3002Short Packet Header \u4e2d\u7684 Packet Number \u6bcf\u4e2a\u62a5\u6587\u6709\u72ec\u4e00\u65e0\u4e8c\u7684\u7f16\u53f7\uff0c\u5e76\u4e14\u4e25\u683c\u9012\u589e\u3002\u5355\u8c03\u9012\u589e\u7684\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u8ba9\u6570\u636e\u5305\u4e0d\u518d\u50cf TCP \u90a3\u6837\u5fc5\u987b\u6709\u5e8f\u786e\u8ba4\uff0c\u5f53\u6570\u636e\u5305 Packet N \u4e22\u5931\u540e\uff0c\u53ea\u8981\u6709\u65b0\u7684\u5df2\u63a5\u6536\u6570\u636e\u5305\u786e\u8ba4\uff0c\u5f53\u524d\u7a97\u53e3\u5c31\u4f1a\u7ee7\u7eed\u5411\u53f3\u6ed1\u52a8\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u961f\u5934\u963b\u585e\u7684\u95ee\u9898</li> <li>QUIC Frame Header\uff1a\u4e00\u4e2a Packet \u62a5\u6587\u4e2d\u53ef\u4ee5\u5b58\u653e\u591a\u4e2a QUIC Frame\u3002\u7528\u4e8e\u4f20\u8f93\u7684 Stream Frame \u6709 Stream ID\u3001Offset \u548c length \u5b57\u6bb5\uff0cStream ID \u7528\u4e8e\u591a\u4e2a\u5e76\u53d1\u4f20\u8f93\u7684 HTTP \u6d88\u606f\uff0c\u901a\u8fc7\u4e0d\u540c\u7684 Stream ID \u52a0\u4ee5\u533a\u522b\u3001Offset \u5b57\u6bb5\u7c7b\u4f3c\u4e8e TCP \u534f\u8bae\u4e2d\u7684 Seq \u5e8f\u53f7\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u987a\u5e8f\u6027\u548c\u53ef\u9760\u6027\uff1bLength \u6807\u8bc6\u4e86 Frame \u6570\u636e\u7684\u957f\u5ea6\u3002\u5982\u679c\u53d1\u751f\u4e22\u5305\u4e86\u8fdb\u884c\u91cd\u4f20\uff0c\u901a\u8fc7\u6bd4\u8f83\u4e24\u4e2a\u6570\u636e\u5305\u7684 Stream ID \u4e0e Stream Offset\uff0c\u5982\u679c\u90fd\u662f\u4e00\u81f4\uff0c\u5c31\u8bf4\u660e\u8fd9\u4e24\u4e2a\u6570\u636e\u5305\u7684\u5185\u5bb9\u4e00\u81f4</li> </ul> <p>\u6240\u4ee5\uff0cQUIC \u901a\u8fc7 \u5355\u5411\u9012\u589e\u7684 Packet Number\uff0c\u914d\u5408  Stream ID \u4e0e Offset \u5b57\u6bb5\u4fe1\u606f\uff0c\u53ef\u4ee5\u652f\u6301\u4e71\u5e8f\u786e\u8ba4\u800c\u4e0d\u5f71\u54cd\u6570\u636e\u5305\u7684\u6b63\u786e\u7ec4\u88c5\uff0c\u6446\u8131\u4e86 TCP \u5fc5\u987b\u6309\u987a\u5e8f\u786e\u8ba4\u7684\u9650\u5236\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#http-get-post","title":"HTTP \u7684 GET \u548c POST \u65b9\u6cd5\u533a\u522b\uff1f","text":"<ul> <li>GET \u4e00\u822c\u7528\u6765\u4ece\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u8d44\u6e90\uff0cPOST \u4e00\u822c\u7528\u6765\u66f4\u65b0\u670d\u52a1\u5668\u4e0a\u7684\u8d44\u6e90</li> <li>GET \u662f\u5e42\u7b49\u7684\uff0c\u5373\u8bfb\u53d6\u540c\u4e00\u4e2a\u8d44\u6e90\u603b\u662f\u5f97\u5230\u76f8\u540c\u7684\u6570\u636e\uff0c\u800c  POST \u4e0d\u662f\u5e42\u7b49\u7684\uff0c\u56e0\u4e3a\u6bcf\u6b21\u8bf7\u6c42\u5bf9\u8d44\u6e90\u7684\u6539\u53d8\u5e76\u4e0d\u662f\u76f8\u540c\u7684</li> <li>GET \u4e0d\u4f1a\u6539\u53d8\u670d\u52a1\u5668\u4e0a\u7684\u8d44\u6e90\uff0c\u800c POST \u4f1a\u5bf9\u670d\u52a1\u5668\u8d44\u6e90\u8fdb\u884c\u6539\u53d8</li> <li>GET \u8bf7\u6c42\u7684\u6570\u636e\u4f1a\u9644\u5728 URL \u4e4b\u540e\uff0c\u5373\u5c06\u8bf7\u6c42\u6570\u636e\u653e\u7f6e\u5728 HTTP \u62a5\u6587\u7684\u8bf7\u6c42\u5934\u4e2d\uff0c\u4ee5  ? \u5206\u5272 URL \u548c\u4f20\u8f93\u6570\u636e\uff0c\u53c2\u6570\u4e4b\u95f4\u4ee5  &amp; \u76f8\u8fde\uff1b\u800c POST \u8bf7\u6c42\u4f1a\u628a\u63d0\u4ea4\u7684\u6570\u636e\u5219\u653e\u7f6e\u5728\u662f HTTP \u8bf7\u6c42\u62a5\u6587\u7684\u8bf7\u6c42\u4f53\u4e2d</li> <li>POST \u7684\u5b89\u5168\u6027\u8981\u6bd4 GET \u7684\u5b89\u5168\u6027\u9ad8\uff0c\u56e0\u4e3a GET \u8bf7\u6c42\u63d0\u4ea4\u7684\u6570\u636e\u5c06\u660e\u6587\u51fa\u73b0\u5728 URL \u4e0a\uff0c\u800c\u4e14 POST \u8bf7\u6c42\u53c2\u6570\u5219\u88ab\u5305\u88c5\u5230\u8bf7\u6c42\u4f53\u4e2d\uff0c\u76f8\u5bf9\u66f4\u5b89\u5168(\u5b9e\u9645\u4e0a\u8fd9\u4e2a\u8bba\u65ad\u4e0d\u51c6\u786e\uff1a\u65e0\u8bba\u662f GET \u8fd8\u662f POST \u5e95\u5c42\u90fd\u662f TCP/IP\uff0cGET \u548c POST  \u80fd\u505a\u7684\u4e8b\u60c5\u662f\u4e00\u6837\u7684\u3002\u4f60\u8981\u7ed9 GET \u52a0\u4e0a request body\uff0c\u7ed9 POST \u5e26\u4e0a url \u53c2\u6570\uff0c\u6280\u672f\u4e0a\u662f\u5b8c\u5168\u884c\u7684\u901a\u7684\u3002\u6240\u4ee5\u5bf9\u4e8e\u4e24\u8005\u7684\u5b89\u5168\u6027\u8bba\u65ad \u6ca1\u6709\u7edf\u4e00\u7b54\u6848\uff0c\u4e24\u8005 \u672c\u8d28\u76f8\u540c )</li> <li>\u4ece\u8bf7\u6c42\u7684\u5927\u5c0f\u770b\uff0cGET \u8bf7\u6c42\u7684\u957f\u5ea6\u53d7\u9650\u4e8e\u6d4f\u89c8\u5668\u6216\u670d\u52a1\u5668\u5bf9 URL \u957f\u5ea6\u7684\u9650\u5236\uff0c\u5141\u8bb8\u53d1\u9001\u7684\u6570\u636e\u91cf\u6bd4\u8f83\u5c0f\uff0c\u800c POST \u8bf7\u6c42\u5219\u662f\u6ca1\u6709\u5927\u5c0f\u9650\u5236\u7684</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#get-body","title":"GET \u8bf7\u6c42\u53ef\u4ee5\u5e26 body \u5417\uff1f","text":"<p>RFC \u89c4\u8303\u5e76\u6ca1\u6709\u89c4\u5b9a GET \u8bf7\u6c42\u4e0d\u80fd\u5e26 body\u3002\u4efb\u4f55\u8bf7\u6c42\u90fd\u53ef\u4ee5\u5e26 body\u3002GET \u8bf7\u6c42\u662f\u83b7\u53d6\u8d44\u6e90\uff0c\u6240\u4ee5\u6839\u636e\u8fd9\u4e2a\u8bed\u4e49\u4e0d\u9700\u8981\u7528\u5230 body\u3002URL \u4e2d\u7684\u67e5\u8be2\u53c2\u6570\u4e5f\u4e0d\u662f GET \u6240\u72ec\u6709\u7684\uff0cPOST \u8bf7\u6c42\u7684 URL \u4e2d\u4e5f\u53ef\u4ee5\u6709\u53c2\u6570\u7684\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#http-rpc","title":"\u65e2\u7136\u6709 HTTP \u534f\u8bae\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u6709 RPC\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_6","title":"\u5b9a\u4e49","text":"<p>TCP \u662f\u4f20\u8f93\u5c42\u7684\u534f\u8bae\uff0c\u57fa\u4e8e TCP \u9020\u51fa\u6765\u7684 HTTP \u548c\u5404\u7c7b RPC \u534f\u8bae\u90fd\u53ea\u662f \u5b9a\u4e49\u4e86\u4e0d\u540c\u6d88\u606f\u683c\u5f0f\u7684\u5e94\u7528\u5c42\u534f\u8bae \u800c\u5df2\u3002HTTP \u534f\u8bae\u662f \u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff1bRPC \u662f \u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff0c\u5b83\u4e0d\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u534f\u8bae\uff0c\u800c\u662f\u4e00\u79cd\u8c03\u7528\u65b9\u5f0f\u3002\u867d\u7136\u5927\u90e8\u5206 RPC \u534f\u8bae\u5e95\u5c42\u4f7f\u7528 TCP\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u4eec\u4e0d\u4e00\u5b9a\u975e\u8981\u7528 TCP\uff0c\u4e5f\u53ef\u4ee5\u6539\u7528 UDP \u6216\u8005 HTTP\u3002HTTP \u4e3b\u8981\u7528\u4e8e b/s \u67b6\u6784\uff0c\u800c RPC \u66f4\u591a\u7528\u4e8e c/s \u67b6\u6784</p>"},{"location":"Computer%20Network/ComputerNetwork/#_7","title":"\u670d\u52a1\u53d1\u73b0","text":"<p>HTTP \u4e2d\u77e5\u9053\u670d\u52a1\u7684\u57df\u540d\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7 DNS \u670d\u52a1\u53bb\u89e3\u6790\u5f97\u5230 IP \u5730\u5740\uff0c\u9ed8\u8ba4 80 \u7aef\u53e3\u3002RPC \u4e00\u822c\u4f1a\u6709\u4e13\u95e8\u7684\u4e2d\u95f4\u670d\u52a1\u53bb\u4fdd\u5b58\u670d\u52a1\u540d\u548c IP \u4fe1\u606f\uff0c\u6bd4\u5982 consul \u6216\u8005 etcd\uff0c\u6216\u8005\u662f redis\u3002\u60f3\u8981\u8bbf\u95ee\u67d0\u4e2a\u670d\u52a1\uff0c\u5c31\u53bb\u8fd9\u4e9b\u4e2d\u95f4\u670d\u52a1\u53bb\u83b7\u5f97 IP \u548c\u7aef\u53e3\u4fe1\u606f\u3002\u7531\u4e8e dns \u4e5f\u662f\u670d\u52a1\u53d1\u73b0\u7684\u4e00\u79cd\uff0c\u6240\u4ee5\u4e5f\u6709\u57fa\u4e8e DNS \u53bb\u505a\u670d\u52a1\u53d1\u73b0\u7684\u7ec4\u4ef6\uff0c\u6bd4\u5982 CoreDNS</p>"},{"location":"Computer%20Network/ComputerNetwork/#_8","title":"\u5e95\u5c42\u8fde\u63a5\u65b9\u5f0f","text":"<p>HTTP \u534f\u8bae\u9ed8\u8ba4\u5728\u5efa\u7acb\u5e95\u5c42 TCP \u8fde\u63a5\u4e4b\u540e\u4f1a\u4e00\u76f4\u4fdd\u6301\u8fd9\u4e2a\u8fde\u63a5(keep alive)\uff0c\u4e4b\u540e\u7684\u8bf7\u6c42\u548c\u54cd\u5e94\u90fd\u4f1a\u590d\u7528\u8fd9\u6761\u8fde\u63a5\u3002RPC \u534f\u8bae\u4e5f\u662f\u901a\u8fc7\u5efa\u7acb TCP \u957f\u8fde\u63a5\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\uff0c\u4f46  RPC \u534f\u8bae\u4e00\u822c\u8fd8\u4f1a\u518d\u5efa\u4e2a\u8fde\u63a5\u6c60\uff0c\u5728\u8bf7\u6c42\u91cf\u5927\u7684\u65f6\u5019\uff0c\u5efa\u7acb\u591a\u6761\u8fde\u63a5\u653e\u5728\u6c60\u5185\uff0c\u8981\u53d1\u6570\u636e\u7684\u65f6\u5019\u5c31\u4ece\u6c60\u91cc\u53d6\u4e00\u6761\u8fde\u63a5\u51fa\u6765\uff0c\u7528\u5b8c\u653e\u56de\u53bb\u4fbf\u4e8e\u4e0b\u6b21\u518d\u590d\u7528</p>"},{"location":"Computer%20Network/ComputerNetwork/#_9","title":"\u4f20\u8f93\u5185\u5bb9","text":"<p>HTTP \u8bbe\u8ba1\u521d\u662f\u7528\u4e8e\u505a\u7f51\u9875\u6587\u672c\u5c55\u793a\u7684\uff0c\u4f20\u7684\u5185\u5bb9\u4ee5\u5b57\u7b26\u4e32\u4e3a\u4e3b\uff0c\u6709 header \u548c body\u3002\u5728 body \u8fd9\u5757\uff0c\u5b83\u4f7f\u7528 json \u6765\u5e8f\u5217\u5316\u7ed3\u6784\u4f53\u6570\u636e\uff0c \u5185\u5bb9\u4f1a\u6709\u5197\u4f59\u3002RPC \u56e0\u4e3a\u5b9a\u5236\u5316\u7a0b\u5ea6\u66f4\u9ad8\uff0c\u53ef\u4ee5\u91c7\u7528 \u4f53\u79ef\u66f4\u5c0f \u7684 protobuf \u6216\u5176\u4ed6\u5e8f\u5217\u5316\u534f\u8bae\u53bb\u4fdd\u5b58\u7ed3\u6784\u4f53\u6570\u636e\uff0c\u540c\u65f6\u4e5f\u4e0d\u9700\u8981\u50cf HTTP \u90a3\u6837\u8003\u8651\u5404\u79cd\u6d4f\u89c8\u5668\u884c\u4e3a\uff0c\u6bd4\u5982 302 \u91cd\u5b9a\u5411\u3002\u56e0\u6b64\u6027\u80fd\u4e5f\u4f1a\u66f4\u597d\u4e00\u4e9b\uff0c\u8fd9\u4e5f\u662f\u5728\u516c\u53f8\u5185\u90e8\u5fae\u670d\u52a1\u4e2d\u629b\u5f03 HTTP\uff0c\u9009\u62e9\u4f7f\u7528 RPC \u7684\u6700\u4e3b\u8981\u539f\u56e0</p>"},{"location":"Computer%20Network/ComputerNetwork/#_10","title":"\u5386\u53f2\u539f\u56e0","text":"<p>RPC \u5176\u5b9e\u6bd4 HTTP \u51fa\u73b0\u7684\u8981\u65e9\uff0c\u4e14\u6bd4\u76ee\u524d\u4e3b\u6d41\u7684 HTTP1.1 \u6027\u80fd\u8981\u66f4\u597d\uff0c\u6240\u4ee5\u5927\u90e8\u5206\u516c\u53f8\u5185\u90e8\u90fd\u8fd8\u5728\u4f7f\u7528 RPC\u3002HTTP2 \u5728 HTTP1.1 \u7684\u57fa\u7840\u4e0a\u505a\u4e86\u4f18\u5316\uff0c\u6027\u80fd\u53ef\u80fd\u6bd4\u5f88\u591a RPC \u534f\u8bae\u90fd\u8981\u597d\uff0c\u4f46\u7531\u4e8e\u662f\u8fd9\u51e0\u5e74\u624d\u51fa\u6765\u7684\uff0c\u6240\u4ee5\u4e5f\u4e0d\u592a\u53ef\u80fd\u53d6\u4ee3\u6389 RPC</p>"},{"location":"Computer%20Network/ComputerNetwork/#xss","title":"\u4ec0\u4e48\u662f XSS \u653b\u51fb\uff1f\u6709\u4ec0\u4e48\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_11","title":"\u6982\u5ff5","text":"<p>XSS(Cross(X) Site Scripting, \u8de8\u7ad9\u811a\u672c\u653b\u51fb)  \u662f\u6307 \u6076\u610f\u653b\u51fb\u8005\u5229\u7528\u7f51\u7ad9\u6ca1\u6709\u5bf9\u7528\u6237\u63d0\u4ea4\u6570\u636e\u8fdb\u884c\u8f6c\u4e49\u5904\u7406\u6216\u8005\u8fc7\u6ee4\u4e0d\u8db3 \u7684\u7f3a\u70b9\uff0c\u8fdb\u800c\u6dfb\u52a0\u4e00\u4e9b\u811a\u672c\u4ee3\u7801\u5d4c\u5165\u5230 web \u9875\u9762\u4e2d\u53bb\uff0c\u4f7f\u522b\u7684\u7528\u6237\u8bbf\u95ee\u90fd\u4f1a\u6267\u884c\u76f8\u5e94\u7684\u5d4c\u5165\u4ee3\u7801\uff0c\u4ece\u800c\u76d7\u53d6\u7528\u6237\u8d44\u6599\u3001\u5229\u7528\u7528\u6237\u8eab\u4efd\u8fdb\u884c\u67d0\u79cd\u52a8\u4f5c\u6216\u8005\u5bf9\u8bbf\u95ee\u8005\u8fdb\u884c\u75c5\u6bd2\u4fb5\u5bb3\u7684\u4e00\u79cd\u653b\u51fb\u65b9\u5f0f</p>"},{"location":"Computer%20Network/ComputerNetwork/#_12","title":"\u5206\u7c7b","text":"<ul> <li>\u53cd\u5c04\u6027 XSS \u653b\u51fb(\u975e\u6301\u4e45\u6027 XSS \u653b\u51fb)\uff1a\u4e4b\u6240\u4ee5\u79f0\u4e3a\u53cd\u5c04\u578b XSS\uff0c\u662f \u56e0\u4e3a\u8fd9\u79cd\u653b\u51fb\u65b9\u5f0f\u7684\u6ce8\u5165\u4ee3\u7801\u662f\u4ece\u76ee\u6807\u670d\u52a1\u5668\u901a\u8fc7\u9519\u8bef\u4fe1\u606f\u3001\u641c\u7d22\u7ed3\u679c\u7b49\u7b49\u65b9\u5f0f\u201c\u53cd\u5c04\u201d\u56de\u6765\u7684\uff1a\u53d1\u51fa\u8bf7\u6c42\u65f6\uff0cXSS \u4ee3\u7801\u51fa\u73b0\u5728 URL \u4e2d\uff0c\u4f5c\u4e3a\u8f93\u5165\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7aef\uff0c\u670d\u52a1\u5668\u7aef\u89e3\u6790\u540e\u54cd\u5e94\uff0cXSS \u4ee3\u7801\u968f\u54cd\u5e94\u5185\u5bb9\u4e00\u8d77\u4f20\u56de\u7ed9\u6d4f\u89c8\u5668\uff0c\u6700\u540e\u6d4f\u89c8\u5668\u89e3\u6790\u6267\u884c XSS \u4ee3\u7801\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u50cf\u4e00\u6b21\u53cd\u5c04\uff0c\u6545\u53eb\u53cd\u5c04\u578b XSS\u3002\u800c\u79f0\u4e3a\u975e\u6301\u4e45\u578b XSS\uff0c\u5219\u662f \u56e0\u4e3a\u8fd9\u79cd\u653b\u51fb\u65b9\u5f0f\u5177\u6709\u4e00\u6b21\u6027\uff0c\u7531\u4e8e\u4ee3\u7801\u6ce8\u5165\u7684\u662f\u4e00\u4e2a\u52a8\u6001\u4ea7\u751f\u7684\u9875\u9762\u800c\u4e0d\u662f\u6c38\u4e45\u7684\u9875\u9762\uff0c\u56e0\u6b64\u8fd9\u79cd\u653b\u51fb\u65b9\u5f0f\u53ea\u5728\u70b9\u51fb\u94fe\u63a5\u7684\u65f6\u5019\u624d\u4ea7\u751f\u4f5c\u7528</li> <li>\u6301\u4e45\u6027 XSS \u653b\u51fb(\u7559\u8a00\u677f\u573a\u666f)\uff1a\u6307 XSS \u653b\u51fb\u4ee3\u7801\u5b58\u50a8\u5728\u7f51\u7ad9\u6570\u636e\u5e93\uff0c\u6bcf\u5f53\u7528\u6237\u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00\u6307\u5b9a\u9875\u9762\u65f6\uff0c\u811a\u672c\u5c31\u6267\u884c\u3002\u4e0e\u975e\u6301\u4e45\u6027 XSS \u653b\u51fb\u76f8\u6bd4\uff0c\u6301\u4e45\u6027 XSS \u653b\u51fb\u5371\u5bb3\u6027\u66f4\u5927</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_13","title":"\u5371\u5bb3","text":"<ul> <li>\u76d7\u53d6\u5404\u7c7b\u7528\u6237\u5e10\u53f7\uff0c\u5982\u673a\u5668\u767b\u5f55\u5e10\u53f7\u3001\u7528\u6237\u7f51\u94f6\u5e10\u53f7\u3001\u5404\u7c7b\u7ba1\u7406\u5458\u5e10\u53f7</li> <li>\u63a7\u5236\u4f01\u4e1a\u6570\u636e\uff0c\u5305\u62ec\u8bfb\u53d6\u3001\u7be1\u6539\u3001\u6dfb\u52a0\u3001\u5220\u9664\u4f01\u4e1a\u654f\u611f\u6570\u636e\u7684\u80fd\u529b</li> <li>\u76d7\u7a83\u4f01\u4e1a\u91cd\u8981\u7684\u5177\u6709\u5546\u4e1a\u4ef7\u503c\u7684\u8d44\u6599</li> <li>\u975e\u6cd5\u8f6c\u8d26</li> <li>\u5f3a\u5236\u53d1\u9001\u7535\u5b50\u90ae\u4ef6</li> <li>\u7f51\u7ad9\u6302\u9a6c</li> <li>\u63a7\u5236\u53d7\u5bb3\u8005\u673a\u5668\u5411\u5176\u5b83\u7f51\u7ad9\u53d1\u8d77\u653b\u51fb</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_14","title":"\u9632\u8303","text":"<p>\u6f0f\u6d1e\u4ea7\u751f\u7684\u6839\u672c\u539f\u56e0\u662f \u592a\u76f8\u4fe1\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u5bf9\u7528\u6237\u6240\u63d0\u4ea4\u7684\u6570\u636e\u8fc7\u6ee4\u4e0d\u8db3\u3002\u89e3\u51b3\u65b9\u6848\u4e5f\u5e94\u8be5\u4ece\u8fd9\u4e2a\u65b9\u9762\u5165\u624b\uff1a - \u5c06\u91cd\u8981\u7684 cookie \u6807\u8bb0\u4e3a http only\uff1aJavascript \u4e2d\u7684 document.cookie \u8bed\u53e5\u5c31\u4e0d\u80fd\u83b7\u53d6\u5230 cookie \u4e86(\u5982\u679c\u5728 cookie \u4e2d\u8bbe\u7f6e\u4e86 HttpOnly \u5c5e\u6027\uff0c\u90a3\u4e48\u901a\u8fc7 js \u811a\u672c\u5c06\u65e0\u6cd5\u8bfb\u53d6\u5230 cookie \u4fe1\u606f\uff0c\u8fd9\u6837\u80fd\u6709\u6548\u7684\u9632\u6b62 XSS \u653b\u51fb) - \u8868\u5355\u6570\u636e\u89c4\u5b9a\u503c\u7684\u7c7b\u578b\uff1a\u4f8b\u5982\uff1a\u5e74\u9f84\u5e94\u4e3a\u53ea\u80fd\u4e3a int \u3001 name \u53ea\u80fd\u4e3a\u5b57\u6bcd\u6570\u5b57\u7ec4\u5408 - \u5bf9\u6570\u636e\u8fdb\u884c HTML \u7f16\u7801\u5904\u7406  - \u8fc7\u6ee4\u6216\u79fb\u9664\u7279\u6b8a\u7684 HTML \u6807\u7b7e\uff1a\u4f8b\u5982:   JavaScript<pre><code>  &lt;script&gt; , &lt;iframe&gt; , &lt; for &lt; , &gt; for&gt;\n</code></pre> - \u8fc7\u6ee4 JavaScript \u4e8b\u4ef6\u7684\u6807\u7b7e\uff1a\u4f8b\u5982 \"onclick=\", \"onfocus=\"</p>"},{"location":"Computer%20Network/ComputerNetwork/#csrf","title":"\u4ec0\u4e48\u662f CSRF \u653b\u51fb\uff1f\u6709\u4ec0\u4e48\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_15","title":"\u6982\u5ff5","text":"<p>CSRF \u5c31\u662f \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\u3002\u662f\u4e00\u79cd\u5bf9\u7f51\u7ad9\u7684\u6076\u610f\u5229\u7528\u3002\u5c3d\u7ba1\u542c\u8d77\u6765\u50cf\u8de8\u7ad9\u811a\u672c(XSS)\uff0c\u4f46\u5b83\u4e0e XSS \u975e\u5e38\u4e0d\u540c\uff0cXSS \u5229\u7528\u7ad9\u70b9\u5185\u7684\u4fe1\u4efb\u7528\u6237\uff0c\u800c CSRF \u5219\u901a\u8fc7\u4f2a\u88c5\u6210\u53d7\u4fe1\u4efb\u7528\u6237\u8bf7\u6c42\u53d7\u4fe1\u4efb\u7684\u7f51\u7ad9\u3002</p> <ul> <li>\u767b\u5f55\u53d7\u4fe1\u4efb\u7f51\u7ad9 A\uff0c\u5e76\u5728\u672c\u5730\u751f\u6210 Cookie(\u5982\u679c\u7528\u6237\u6ca1\u6709\u767b\u5f55\u7f51\u7ad9 A\uff0c\u90a3\u4e48\u7f51\u7ad9 B \u5728\u8bf1\u5bfc\u7684\u65f6\u5019\uff0c\u8bf7\u6c42\u7f51\u7ad9 A \u7684 api \u63a5\u53e3\u65f6\uff0c\u4f1a\u63d0\u793a\u4f60\u767b\u5f55)</li> <li>\u5728\u4e0d\u767b\u51fa A \u7684\u60c5\u51b5\u4e0b\uff0c\u8bbf\u95ee\u5371\u9669\u7f51\u7ad9 B(\u5176\u5b9e\u662f\u5229\u7528\u4e86\u7f51\u7ad9 A \u7684\u6f0f\u6d1e)</li> <li></li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_16","title":"\u9632\u8303","text":"<ul> <li>Token \u9a8c\u8bc1\uff1a\u670d\u52a1\u5668\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u4e00\u4e2a token\uff0c\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u8868\u5355\u4e2d\u5e26\u7740\u8fd9\u4e2a token\uff0c\u5982\u679c\u8fd9\u4e2a token \u4e0d\u5408\u6cd5\uff0c\u90a3\u4e48\u670d\u52a1\u5668\u62d2\u7edd\u8fd9\u4e2a\u8bf7\u6c42</li> <li>\u9690\u85cf\u4ee4\u724c\uff1a\u628a token \u9690\u85cf\u5728 http \u7684 head \u5934\u4e2d</li> <li>Referer \u9a8c\u8bc1\uff1a\u53ea\u63a5\u53d7\u672c\u7ad9\u7684\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u624d\u505a\u54cd\u5e94\uff1b\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u62e6\u622a</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_17","title":"\u4e2d\u95f4\u4eba\u653b\u51fb\u4ee5\u53ca\u5982\u4f55\u9632\u8303\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_18","title":"\u6982\u5ff5","text":"<p>\u6307\u653b\u51fb\u8005\u4e0e\u901a\u8baf\u7684\u4e24\u7aef\u5206\u522b\u521b\u5efa\u72ec\u7acb\u7684\u8054\u7cfb\uff0c\u5e76\u4ea4\u6362\u5176\u6240\u6536\u5230\u7684\u6570\u636e\uff0c\u4f7f\u901a\u8baf\u7684\u4e24\u7aef\u8ba4\u4e3a\u4ed6\u4eec\u6b63\u5728\u901a\u8fc7\u4e00\u4e2a\u79c1\u5bc6\u7684\u8fde\u63a5\u4e0e\u5bf9\u65b9\u76f4\u63a5\u5bf9\u8bdd\uff0c\u4f46\u4e8b\u5b9e\u4e0a\u6574\u4e2a\u4f1a\u8bdd\u90fd\u88ab\u653b\u51fb\u8005\u5b8c\u5168\u63a7\u5236\u3002 </p> <ul> <li>\u55c5\u63a2\uff1a\u55c5\u63a2\u6216\u6570\u636e\u5305\u55c5\u63a2 \u662f\u4e00\u79cd\u7528\u4e8e\u6355\u83b7\u6d41\u8fdb\u548c\u6d41\u51fa\u7cfb\u7edf/\u7f51\u7edc\u7684\u6570\u636e\u5305\u7684\u6280\u672f\u3002\u7f51\u7edc\u4e2d\u7684\u6570\u636e\u5305\u55c5\u63a2\u5c31\u597d\u50cf\u7535\u8bdd\u4e2d\u7684\u76d1\u542c</li> <li>\u6570\u636e\u5305\u6ce8\u5165\uff1a\u653b\u51fb\u8005\u4f1a\u5c06\u6076\u610f\u6570\u636e\u5305\u6ce8\u5165\u5e38\u89c4\u6570\u636e\u4e2d\u3002\u8fd9\u6837\u7528\u6237\u4fbf\u4e0d\u4f1a\u6ce8\u610f\u5230\u6587\u4ef6/\u6076\u610f\u8f6f\u4ef6\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u5408\u6cd5\u901a\u8baf\u6d41\u7684\u4e00\u90e8\u5206\u3002\u5728\u4e2d\u95f4\u4eba\u653b\u51fb\u548c\u62d2\u7edd\u5f0f\u653b\u51fb\u4e2d\uff0c\u8fd9\u4e9b\u6587\u4ef6\u662f\u5f88\u5e38\u89c1\u7684</li> <li>\u4f1a\u8bdd\u52ab\u6301\uff1a\u5f53\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\u5728\u8fdb\u884c\u4e00\u4e2a\u4f1a\u8bdd\u65f6\uff0c\u4f1a\u8bdd\u4e2d\u5305\u542b\u4e86\u5f88\u591a\u91cd\u8981\u4fe1\u606f\uff0c\u4e00\u4e9b\u9ed1\u5ba2\u4f1a\u6f5c\u4f0f\u5728\u8fd9\u4e2a\u4f1a\u8bdd\u4e2d\uff0c\u6700\u7ec8\u63a7\u5236\u8fd9\u4e2a\u4f1a\u8bdd\uff0c\u8fd9\u65e2\u662f\u4f1a\u8bdd\u52ab\u6301</li> <li>SSL \u5265\u79bb\uff1aSSL/TLS \u8bc1\u4e66\u901a\u8fc7\u52a0\u5bc6\u4fdd\u62a4\u7740\u7684\u901a\u8baf\u5b89\u5168\u3002\u5728 SSL \u5265\u79bb\u653b\u51fb\u4e2d\uff0c\u653b\u51fb\u8005\u4f7f SSL/TLS \u8fde\u63a5\u5265\u843d\uff0c\u968f\u4e4b\u534f\u8bae\u4fbf\u4ece\u5b89\u5168\u7684 HTTPs \u53d8\u6210\u4e86\u4e0d\u5b89\u5168\u7684 HTTP</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_19","title":"\u9632\u8303","text":"<p>\u4f7f\u7528 HTTPs \u534f\u8bae\uff0c\u7981\u7528\u4e0d\u5b89\u5168\u7684 SSL \u534f\u8bae\uff0c\u542f\u7528\u865a\u62df\u4e13\u7528\u7f51(VPN)\u3002</p> <p>\u901a\u8fc7  HTTPs \u53cc\u5411\u8ba4\u8bc1 \u6765\u907f\u514d\u8fd9\u79cd\u95ee\u9898\uff1a\u4e00\u822c HTTPs \u662f\u5355\u5411\u8ba4\u8bc1\uff0c\u5ba2\u6237\u7aef\u53ea\u4f1a\u9a8c\u8bc1\u4e86\u670d\u52a1\u7aef\u7684\u8eab\u4efd\uff0c\u4f46\u662f\u670d\u52a1\u7aef\u5e76\u4e0d\u4f1a\u9a8c\u8bc1\u5ba2\u6237\u7aef\u7684\u8eab\u4efd\u3002\u5982\u679c\u7528\u4e86\u53cc\u5411\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u4e0d\u4ec5\u5ba2\u6237\u7aef\u4f1a\u9a8c\u8bc1\u670d\u52a1\u7aef\u7684\u8eab\u4efd\uff0c\u800c\u4e14\u670d\u52a1\u7aef\u4e5f\u4f1a\u9a8c\u8bc1\u5ba2\u6237\u7aef\u7684\u8eab\u4efd\u3002\u670d\u52a1\u7aef\u4e00\u65e6\u9a8c\u8bc1\u5230\u8bf7\u6c42\u81ea\u5df1\u7684\u5ba2\u6237\u7aef\u4e3a\u4e0d\u53ef\u4fe1\u4efb\u7684\uff0c\u670d\u52a1\u7aef\u5c31\u62d2\u7edd\u7ee7\u7eed\u901a\u4fe1\uff0c\u5ba2\u6237\u7aef\u5982\u679c\u53d1\u73b0\u670d\u52a1\u7aef\u4e3a\u4e0d\u53ef\u4fe1\u4efb\u7684\uff0c\u90a3\u4e48\u4e5f\u4e2d\u6b62\u901a\u4fe1\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#http-11","title":"HTTP 1.1 \u5982\u4f55\u4f18\u5316\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#http_3","title":"\u907f\u514d\u53d1\u9001 HTTP \u8bf7\u6c42","text":"<p>\u901a\u8fc7 \u7f13\u5b58\u6280\u672f \u5c06\u8bf7\u6c42-\u54cd\u5e94\u7684\u6570\u636e\u90fd\u7f13\u5b58\u5728\u672c\u5730\uff0c\u4e0b\u6b21\u8bf7\u6c42\u76f4\u63a5\u8bfb\u53d6\u672c\u5730\u7684\u6570\u636e\u3002</p> <p>\u5ba2\u6237\u7aef\u4f1a\u5c06\u7b2c\u4e00\u6b21\u8bf7\u6c42\u4ee5\u53ca\u54cd\u5e94\u7684\u6570\u636e\u4fdd\u5b58\u5728\u672c\u5730\u786c\u76d8\uff0c\u5176\u4e2d\u5c06\u8bf7\u6c42\u7684 URL \u4f5c\u4e3a key\uff0c\u5c06\u76f8\u5e94\u4f5c\u4e3a value\u3002\u5f53\u540e\u7eed\u53d1\u8d77\u76f8\u540c\u7684\u8bf7\u6c42\u65f6\u53ef\u4ee5\u5148\u5728\u672c\u5730\u786c\u76d8\u4e0a\u901a\u8fc7 key \u67e5\u627e\u5bf9\u5e94\u7684 value\u3002</p> <p>\u670d\u52a1\u5668\u5728\u53d1\u9001 HTTP \u54cd\u5e94\u65f6\u4f1a\u4f30\u7b97\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4\uff0c\u5e76\u628a\u4fe1\u606f\u653e\u5230\u54cd\u5e94\u5934\u90e8\u4e2d\u3002\u5f53\u5ba2\u6237\u7aef\u53d1\u73b0\u54cd\u5e94\u8fc7\u671f\u65f6\u4f1a\u91cd\u65b0\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u5982\u679c\u670d\u52a1\u5668\u4e0a\u8d44\u6e90\u6ca1\u6709\u53d8\u66f4\uff0c\u90a3\u4e48\u670d\u52a1\u5668\u4f1a\u8fd4\u56de \u4e0d\u542b\u6709\u54cd\u5e94\u4f53\u7684 <code>304 Not Modified</code> \u54cd\u5e94\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#http_4","title":"\u51cf\u5c11 HTTP \u8bf7\u6c42\u6b21\u6570","text":"<ul> <li>\u51cf\u5c11\u91cd\u5b9a\u5411\u8bf7\u6c42\u6b21\u6570\uff1a\u91cd\u5b9a\u5411\u7684\u5de5\u4f5c\u53ef\u4ee5\u4ea4\u7531\u4ee3\u7406\u670d\u52a1\u5668\u5b8c\u6210</li> <li>\u5408\u5e76\u8bf7\u6c42\uff1a\u4e00\u822c\u6d4f\u89c8\u5668\u4f1a\u540c\u65f6\u53d1\u8d77 5-6 \u4e2a\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u901a\u8fc7\u5c06\u5f88\u591a\u5c0f\u56fe\u7247\u5229\u7528 <code>CSS Image Sprites</code> \u6280\u672f\u5c06\u5b83\u4eec\u5408\u79f0\u4e3a\u4e00\u4e2a\u5927\u56fe\u7247\uff0c\u6216\u8005\u901a\u8fc7 <code>Base64</code> \u7f16\u7801\u5c06\u56fe\u7247\u5d4c\u5165\u5230 HTML \u6587\u4ef6\u5b9e\u73b0\u5408\u5e76\u8bf7\u6c42</li> <li>\u5ef6\u8fdf\u53d1\u9001\u8bf7\u6c42\uff1a\u53ea\u6709\u5728\u7528\u6237\u5411\u4e0b\u6ed1\u52a8\u9875\u9762\u7684\u65f6\u5019\u518d\u53d1\u9001\u8bf7\u6c42\uff0c\u5bf9\u8d44\u6e90 \u6309\u9700\u83b7\u53d6 </li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#http_5","title":"\u51cf\u5c11 HTTP \u54cd\u5e94\u6570\u636e\u5927\u5c0f","text":"<ul> <li>\u65e0\u635f\u538b\u7f29\uff1a\u53bb\u9664\u4e00\u4e9b\u4e3a\u4e86\u4ee3\u7801\u683c\u5f0f\u7f8e\u89c2\u800c\u4f7f\u7528\u7684\u7a7a\u683c\u3001\u6362\u884c\uff1b\u5229\u7528\u970d\u592b\u66fc\u7f16\u7801\u5bf9\u8d44\u6e90\u8fdb\u884c\u538b\u7f29</li> <li>\u6709\u635f\u538b\u7f29\uff1a\u4f8b\u5982\u5bf9\u56fe\u7247\u53ef\u4ee5\u4f7f\u7528  WebP  \u683c\u5f0f\u538b\u7f29\u3001\u5bf9\u89c6\u9891\u4f7f\u7528  H264\u3001H265  \u7b49\u683c\u5f0f\u538b\u7f29</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#https_1","title":"HTTPs \u5982\u4f55\u4f18\u5316\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_20","title":"\u786c\u4ef6\u4f18\u5316","text":"<p>HTTPs \u662f \u8ba1\u7b97\u5bc6\u96c6\u578b\uff0c\u6240\u4ee5\u5e94\u4ece\u4f18\u5316 CPU \u5165\u624b\u3002\u53ef\u4ee5\u9009\u62e9\u652f\u6301 AES-NI \u7279\u6027\u7684 CPU\uff0c\u56e0\u4e3a\u8fd9\u79cd CPU \u5728\u6307\u4ee4\u7ea7\u522b\u4f18\u5316\u4e86 AES \u7b97\u6cd5\uff0c\u52a0\u901f\u52a0\u5bc6\u6570\u636e\u7684\u4f20\u8f93\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#_21","title":"\u8f6f\u4ef6\u4f18\u5316","text":"<ul> <li>\u8f6f\u4ef6\u5347\u7ea7\uff1a\u5347\u7ea7 Linux \u5185\u6838\u7248\u672c</li> <li>\u534f\u8bae\u5347\u7ea7\uff1a\u5347\u7ea7\u534f\u8bae\u8f6f\u4ef6\u7248\u672c</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_22","title":"\u534f\u8bae\u4f18\u5316","text":"<ul> <li>\u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5\u4f18\u5316\uff1a\u5c3d\u91cf\u9009\u7528 ECDHE \u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5\u66ff\u6362 RSA \u7b97\u6cd5</li> <li>TLS \u5347\u7ea7\uff1aTLS1.3 \u5927\u5e45\u7b80\u5316\u4e86\u63e1\u624b\u7684\u6b65\u9aa4\uff0c \u5b8c\u6210\u63e1\u624b\u4ec5\u9700 1 RTT\uff0c\u5b89\u5168\u6027\u4e5f\u66f4\u9ad8\u3002\u5b9e\u73b0\u65b9\u6cd5\u662f TLS1.3 \u5c06 Hello \u548c\u516c\u94a5\u4ea4\u6362\u4e24\u4e2a\u6d88\u606f\u5408\u5e76\u6210\u4e86\u4e00\u4e2a\u6d88\u606f</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_23","title":"\u8bc1\u4e66\u4f18\u5316","text":"<ul> <li>\u8bc1\u4e66\u4f20\u8f93\u4f18\u5316\uff1a\u5c3d\u91cf\u9009\u62e9\u692d\u5706\u66f2\u7ebf ECDSA \u8bc1\u4e66</li> <li>\u8bc1\u4e66\u9a8c\u8bc1\u4f18\u5316\uff1a\u5ba2\u6237\u7aef\u8fdb\u884c\u9010\u7ea7\u9a8c\u8bc1\u8bc1\u4e66\u53ef\u9760\u6027\u662f\u4e00\u4e2a\u590d\u6742\u7684\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u7740\u624b\u5728\u8fd9\u65b9\u9762\u8fdb\u884c\u4f18\u5316</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_24","title":"\u4f1a\u8bdd\u590d\u7528","text":"<p>\u4f1a\u8bdd\u670d\u7528\u4f7f\u7528\u7684\u4ee5\u4e0b\u4e09\u79cd\u6280\u672f\u90fd\u6709\u4e0d\u80fd\u907f\u514d \u91cd\u653e\u653b\u51fb\uff1a</p> <ul> <li>Session ID\uff1a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u9996\u6b21 TLS \u63e1\u624b\u8fde\u63a5\u540e\uff0c\u53cc\u65b9\u5728\u5185\u5b58\u7f13\u5b58\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u5e76\u7528\u552f\u4e00\u7684 Session ID \u8fdb\u884c\u6807\u8bc6\u3002\u5f53\u5ba2\u6237\u7aef\u518d\u6b21\u8fde\u63a5\u65f6\uff0cHello \u62a5\u6587\u4e2d\u4f1a\u643a\u5e26 Session ID\uff0c\u53ea\u8981 ID \u6ca1\u6709\u8fc7\u671f\u5c31\u53ef\u4ee5\u901a\u8fc7 1 RTT \u5b9e\u73b0\u63e1\u624b</li> <li>Session Ticket\uff1a\u670d\u52a1\u5668\u4e0d\u518d\u7f13\u5b58\u6bcf\u4e2a\u5ba2\u6237\u7aef\u7684\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u8f6c\u800c\u5c06\u7f13\u5b58\u5de5\u4f5c\u4ea4\u7ed9\u5ba2\u6237\u7aef\u3002\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u9996\u6b21\u8fde\u63a5\u65f6\u670d\u52a1\u5668\u52a0\u5bc6\u4f1a\u8bdd\u5bc6\u94a5\u4f5c\u4e3a Ticket \u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u7f13\u5b58\u8be5 Ticket\u3002\u5ba2\u6237\u7aef\u518d\u6b21\u8fde\u63a5\u670d\u52a1\u5668\u65f6\u53d1\u9001\u8be5 Ticket\uff0c\u670d\u52a1\u5668\u89e3\u7801 Ticket \u5e76\u68c0\u67e5\u6709\u6548\u671f\u5373\u53ef\u6062\u590d\u901a\u8bdd</li> <li>Pre-shared Key\uff1aTLS1.3 \u901a\u8fc7 Pre-shared Key \u5b9e\u73b0 0 RTT \u5b8c\u6210\u63e1\u624b</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp-udp","title":"\ud83d\udd34 TCP \u548c UDP","text":""},{"location":"Computer%20Network/ComputerNetwork/#tcp","title":"TCP \u7684\u5934\u90e8\u7ed3\u6784","text":"<ul> <li>\u6e90\u7aef\u53e3\uff1a16 \u4f4d\uff0c\u6807\u8bc6\u62a5\u6587\u7684\u8fd4\u56de\u5730\u5740</li> <li>\u76ee\u7684\u7aef\u53e3\uff1a16 \u4f4d\uff0c\u6307\u660e\u63a5\u6536\u65b9\u8ba1\u7b97\u673a\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3</li> <li>\u5e8f\u5217\u53f7\uff1a32 \u4f4d\uff0c\u5728\u5efa\u7acb\u8fde\u63a5\u65f6\u7531\u8ba1\u7b97\u673a\u751f\u6210\u7684\u968f\u673a\u6570\u4f5c\u4e3a\u5176\u521d\u59cb\u503c\uff0c\u901a\u8fc7 SYN \u5305\u4f20\u7ed9\u63a5\u6536\u7aef\u4e3b\u673a\uff0c\u6bcf\u53d1\u9001\u4e00\u6b21\u6570\u636e\uff0c\u5c31\u7d2f\u52a0\u4e00\u6b21\u8be5\u6570\u636e\u5b57\u8282\u6570\u7684\u5927\u5c0f\u3002\u7528\u6765\u89e3\u51b3\u7f51\u7edc\u5305\u4e71\u5e8f\u95ee\u9898</li> <li>\u786e\u8ba4\u53f7\uff1a32 \u4f4d\uff0c\u6307\u4e0b\u4e00\u6b21\u671f\u671b\u6536\u5230\u7684\u6570\u636e\u7684\u5e8f\u5217\u53f7\uff0c\u53d1\u9001\u7aef\u6536\u5230\u8fd9\u4e2a\u786e\u8ba4\u5e94\u7b54\u4ee5\u540e\u53ef\u4ee5\u8ba4\u4e3a\u5728\u8fd9\u4e2a\u5e8f\u53f7\u4ee5\u524d\u7684\u6570\u636e\u90fd\u5df2\u7ecf\u88ab\u6b63\u5e38\u63a5\u6536\u3002\u7528\u6765\u89e3\u51b3\u4e22\u5305\u7684\u95ee\u9898</li> <li>\u6570\u636e\u504f\u79fb/\u9996\u90e8\u957f\u5ea6\uff1a4 \u4f4d\uff0cTCP \u9996\u90e8\u53ef\u80fd\u542b\u6709\u53ef\u9009\u9879\u5185\u5bb9\uff0c\u6240\u4ee5 TCP \u62a5\u5934\u7684\u957f\u5ea6\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u62a5\u5934\u4e0d\u5305\u542b\u4efb\u4f55\u4efb\u9009\u5b57\u6bb5\u5219\u957f\u5ea6\u4e3a 20 \u5b57\u8282\uff0c4 \u4f4d\u9996\u90e8\u957f\u5ea6\u5b57\u6bb5\u6240\u80fd\u8868\u793a\u6700\u5927\u957f\u5ea6\u4e3a 60 \u5b57\u8282\u3002\u9996\u90e8\u957f\u5ea6\u4e5f\u53eb\u6570\u636e\u504f\u79fb\uff0c\u56e0\u4e3a\u9996\u90e8\u957f\u5ea6\u5b9e\u9645\u4e0a\u6307\u793a\u4e86\u6570\u636e\u533a\u5728\u62a5\u6587\u6bb5\u4e2d\u7684\u8d77\u59cb\u504f\u79fb\u503c</li> <li>\u4fdd\u7559\uff1a6 \u4f4d\uff0c\u4e3a\u5c06\u6765\u5b9a\u4e49\u65b0\u7684\u7528\u9014\u4fdd\u7559\uff0c\u73b0\u5728\u4e00\u822c\u7f6e 0</li> <li>\u6821\u9a8c\u548c\uff1a16 \u4f4d\uff0c\u7531\u53d1\u9001\u7aef\u586b\u5145\uff0c\u63a5\u6536\u7aef\u5bf9 TCP \u62a5\u6587\u6bb5\u6267\u884c CRC \u7b97\u6cd5\u4ee5\u68c0\u9a8c TCP \u62a5\u6587\u6bb5\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u662f\u5426\u635f\u574f\uff0c\u8fd9\u4e2a\u6821\u9a8c\u4e0d\u4ec5\u5305\u62ec TCP \u5934\u90e8\uff0c\u4e5f\u5305\u62ec\u6570\u636e\u90e8\u5206\u3002\u8fd9\u662f TCP \u5b9e\u73b0\u53ef\u9760\u4f20\u8f93\u7684\u4e00\u4e2a\u91cd\u8981\u4fdd\u969c</li> <li>\u7a97\u53e3\uff1a16 \u4f4d\uff0c\u662f TCP \u6d41\u91cf\u63a7\u5236\u7684\u4e00\u4e2a\u624b\u6bb5\u3002\u901a\u8fc7\u7a97\u53e3\u544a\u8bc9\u5bf9\u65b9\u672c\u7aef\u7684 TCP \u63a5\u6536\u7f13\u51b2\u533a\u8fd8\u80fd\u5bb9\u7eb3\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\uff0c\u8fd9\u6837\u5bf9\u65b9\u53ef\u4ee5\u63a7\u5236\u53d1\u9001\u6570\u636e\u7684\u901f\u5ea6\uff0c\u4ece\u800c\u8fbe\u5230\u6d41\u91cf\u63a7\u5236\u3002\u7a97\u53e3\u5927\u5c0f\u4e3a16 bit \u5b57\u6bb5\uff0c\u56e0\u800c\u7a97\u53e3\u5927\u5c0f\u6700\u5927\u4e3a 65535</li> <li>\u7d27\u6025\u6307\u9488\uff1a16 \u4f4d\uff0c\u53ea\u6709\u5f53 URG \u6807\u5fd7\u7f6e 1 \u65f6\u7d27\u6025\u6307\u9488\u624d\u6709\u6548\u3002\u7d27\u6025\u6307\u9488\u662f\u4e00\u4e2a\u6b63\u7684\u504f\u79fb\u91cf\uff0c\u548c\u987a\u5e8f\u53f7\u5b57\u6bb5\u4e2d\u7684\u503c\u76f8\u52a0\u8868\u793a\u7d27\u6025\u6570\u636e\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u53f7\u3002\u4f7f\u7528\u7d27\u6025\u6307\u9488\u662f\u53d1\u9001\u7aef\u5411\u53e6\u4e00\u7aef\u53d1\u9001\u7d27\u6025\u6570\u636e\u7684\u4e00\u79cd\u65b9\u5f0f</li> <li>\u9009\u9879\u548c\u586b\u5145\uff1aTCP \u5934\u90e8\u7684\u6700\u540e\u4e00\u4e2a\u9009\u9879\u5b57\u6bb5\u662f\u53ef\u53d8\u957f\u7684\u53ef\u9009\u4fe1\u606f\u3002\u8fd9\u90e8\u5206\u6700\u591a\u5305\u542b 40 \u5b57\u8282\uff0c\u56e0\u4e3a TCP \u5934\u90e8\u6700\u957f\u662f 60 \u5b57\u8282\u3002 \u6700\u5e38\u89c1\u7684\u53ef\u9009\u5b57\u6bb5\u662f\u6700\u957f\u62a5\u6587\u5927\u5c0f MSS\uff0c\u6bcf\u4e2a\u8fde\u63a5\u65b9\u901a\u5e38\u90fd\u5728\u901a\u4fe1\u7684\u7b2c\u4e00\u4e2a\u62a5\u6587\u6bb5\u4e2d\u6307\u660e\u8fd9\u4e2a\u9009\u9879\uff0c\u5b83\u8868\u793a\u672c\u7aef\u6240\u80fd\u63a5\u53d7\u7684\u6700\u5927\u62a5\u6587\u6bb5\u7684\u957f\u5ea6</li> <li>\u6570\u636e\u90e8\u5206\uff1aTCP \u62a5\u6587\u6bb5\u4e2d\u7684\u6570\u636e\u90e8\u5206\u662f\u53ef\u9009\u7684\u3002\u5728\u8fde\u63a5\u5efa\u7acb\u6216\u8005\u7ec8\u6b62\u65f6\uff0c\u53cc\u65b9\u4ea4\u6362\u7684\u62a5\u6587\u6bb5\u4ec5\u6709 TCP \u9996\u90e8\uff1b\u5982\u679c\u4e00\u65b9\u6ca1\u6709\u6570\u636e\u8981\u53d1\u9001\uff0c\u4e5f\u4f1a\u4f7f\u7528\u6ca1\u6709\u4efb\u4f55\u6570\u636e\u7684\u9996\u90e8\u6765\u786e\u8ba4\u6536\u5230\u7684\u6570\u636e\uff1b\u5728\u5904\u7406\u8d85\u65f6\u7684\u8bb8\u591a\u60c5\u51b5\u4e2d\uff0c\u4e5f\u4f1a\u53d1\u9001\u4e0d\u5e26\u4efb\u4f55\u6570\u636e\u7684\u62a5\u6587\u6bb5</li> </ul> <p>\u8fd8\u5305\u62ec\u63a7\u5236\u4f4d\uff1a</p> <ul> <li>URG\uff1a\u7d27\u6025\u6307\u9488\u6807\u5fd7\uff0c\u4e3a 1 \u65f6\u8868\u793a\u7d27\u6025\u6307\u9488\u6709\u6548\uff0c\u8be5\u62a5\u6587\u5e94\u8be5\u4f18\u5148\u4f20\u9001\uff0c\u4e3a 0 \u5219\u5ffd\u7565\u7d27\u6025\u6307\u9488</li> <li>ACK\uff1a\u786e\u8ba4\u5e8f\u53f7\u6807\u5fd7\uff0c\u4e3a 1 \u65f6\u8868\u793a\u786e\u8ba4\u53f7\u6709\u6548\uff0c\u4e3a 0 \u8868\u793a\u62a5\u6587\u4e2d\u4e0d\u542b\u786e\u8ba4\u4fe1\u606f\u3002\u643a\u5e26 ACK \u6807\u8bc6\u7684 TCP \u62a5\u6587\u6bb5\u88ab\u79f0\u4e3a\u786e\u8ba4\u62a5\u6587\u6bb5</li> <li>RST\uff1a\u91cd\u7f6e\u8fde\u63a5\u6807\u5fd7\uff0c\u7528\u4e8e\u91cd\u7f6e\u7531\u4e8e\u4e3b\u673a\u5d29\u6e83\u6216\u5176\u4ed6\u539f\u56e0\u800c\u51fa\u73b0\u9519\u8bef\u7684\u8fde\u63a5\uff0c\u6216\u8005\u7528\u4e8e\u62d2\u7edd\u975e\u6cd5\u7684\u62a5\u6587\u6bb5\u548c\u62d2\u7edd\u8fde\u63a5\u8bf7\u6c42\u3002\u79f0\u643a\u5e26 RST \u6807\u5fd7\u7684 TCP \u62a5\u6587\u6bb5\u4e3a\u590d\u4f4d\u62a5\u6587\u6bb5</li> <li>SYN\uff1a\u8868\u793a\u8bf7\u6c42\u5efa\u7acb\u4e00\u4e2a\u8fde\u63a5\u3002\u79f0\u643a\u5e26 SYN \u6807\u5fd7\u7684 TCP \u62a5\u6587\u6bb5\u4e3a\u540c\u6b65\u62a5\u6587\u6bb5</li> <li>FIN\uff1afinish \u6807\u5fd7\uff0c\u7528\u4e8e\u91ca\u653e\u8fde\u63a5\uff0c\u4e3a 1 \u65f6\u8868\u793a\u53d1\u9001\u65b9\u5df2\u7ecf\u6ca1\u6709\u6570\u636e\u53d1\u9001\u4e86\uff0c\u5373\u5173\u95ed\u672c\u65b9\u6570\u636e\u6d41\u3002\u79f0\u643a\u5e26 FIN \u6807\u5fd7\u7684 TCP \u62a5\u6587\u6bb5\u4e3a\u7ed3\u675f\u62a5\u6587\u6bb5</li> <li>PSH\uff1apush \u6807\u5fd7\uff0c\u4e3a 1 \u8868\u793a\u662f\u5e26\u6709 push \u6807\u5fd7\u7684\u6570\u636e\uff0c\u6307\u793a\u63a5\u6536\u65b9\u5728\u63a5\u6536\u5230\u8be5\u62a5\u6587\u6bb5\u4ee5\u540e\uff0c\u5e94\u4f18\u5148\u5c06\u8fd9\u4e2a\u62a5\u6587\u6bb5\u4ea4\u7ed9\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u4e0d\u662f\u5728\u7f13\u51b2\u533a\u6392\u961fS</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_1","title":"TCP \u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93","text":"<ul> <li>\u6821\u9a8c\u548c\uff1a\u76ee\u7684\u662f\u4e3a\u4e86 \u9a8c\u8bc1 TCP \u9996\u90e8\u548c\u6570\u636e\u5728\u53d1\u9001\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u4efb\u4f55\u6539\u52a8\uff0c\u4e00\u65e6\u53d1\u73b0\u6821\u9a8c\u548c\u6709\u5dee\u9519\uff0c\u76f4\u63a5\u4e22\u5f03 TCP \u6bb5\u5e76\u91cd\u65b0\u53d1\u9001</li> <li>\u5e8f\u5217\u53f7/\u786e\u8ba4\u53f7\uff1a\u5e8f\u5217\u53f7\u7528\u4e8e \u89e3\u51b3\u5305\u4e71\u5e8f\u95ee\u9898\uff0c\u786e\u8ba4\u53f7\u7528\u4e8e \u89e3\u51b3\u5305\u4e22\u5931\u95ee\u9898 </li> <li>\u8fde\u63a5\u7ba1\u7406\uff1a\u4e09\u6b21\u63e1\u624b\u3001\u56db\u6b21\u6325\u624b</li> <li>\u6d41\u91cf\u63a7\u5236\uff1a\u57fa\u4e8e\u6ed1\u52a8\u7a97\u53e3\u673a\u5236\u5b9e\u73b0\u3002TCP \u7684\u62a5\u6587\u4fe1\u606f\u4e2d\u6709\u4e00\u4e2a 16 \u4f4d\u5b57\u6bb5\u6765\u6807\u8bc6\u6ed1\u52a8\u7a97\u53e3\uff0c\u7a97\u53e3\u5927\u5c0f\u5c31\u662f\u63a5\u6536\u65b9\u5269\u4f59\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u5728\u56de\u590d ACK \u65f6\uff0c\u63a5\u6536\u65b9\u5c06\u81ea\u5df1\u5269\u4f59\u7f13\u51b2\u533a\u5927\u5c0f\u586b\u5165\u3002\u53d1\u9001\u65b9\u6839\u636e\u7a97\u53e3\u5927\u5c0f\u6765\u8c03\u6574\u81ea\u5df1\u7684\u53d1\u9001\u901f\u5ea6\uff0c\u5982\u679c\u7f13\u51b2\u533a\u5927\u5c0f\u4e3a 0\uff0c\u90a3\u4e48\u53d1\u9001\u65b9\u4f1a\u505c\u6b62\u53d1\u9001\u6570\u636e\u3002\u5e76\u4e14\u53d1\u9001\u65b9\u5b9a\u671f\u4f1a\u53d1\u9001\u63a2\u6d4b\u62a5\u6587\uff0c\u6765\u83b7\u53d6\u7f13\u51b2\u533a\u5927\u5c0f</li> <li>\u62e5\u585e\u63a7\u5236\uff1a\u62e5\u585e\u63a7\u5236\u4e0e\u6d41\u91cf\u63a7\u5236\u76f8\u6bd4\uff0c\u66f4\u52a0\u5173\u6ce8\u7f51\u7edc\u7ebf\u8def\u4e2d\u7684\u62e5\u585e\u7a0b\u5ea6\uff0c\u5373\u7f51\u7edc\u7684\u5305\u8f6c\u53d1\u8fd8\u8981\u53d7\u5230\u5f53\u524d\u7f51\u7edc\u7aef\u5230\u7aef\u8def\u7531\u7684\u62e5\u585e\u60c5\u51b5</li> <li>\u6162\u542f\u52a8\u7b97\u6cd5\uff1a\u4e00\u5f00\u59cb\u4e0d\u53d1\u9001\u5927\u91cf\u6570\u636e\uff0c\u800c\u662f\u5e94\u8be5\u5148\u53d1\u4e00\u5c0f\u90e8\u5206\u63a2\u6d4b\u6570\u636e\uff0c\u7136\u540e\u7531\u5c0f\u5230\u5927\u9010\u6e10\u589e\u5927\u53d1\u9001\u7a97\u53e3\u3002\u901a\u5e38\u5728\u521a\u521a\u5f00\u59cb\u53d1\u9001\u62a5\u6587\u6bb5\u65f6\uff0c\u5148\u628a\u62e5\u585e\u7a97\u53e3 cwnd \u8bbe\u7f6e\u4e3a1\uff0c\u6bcf\u6b21\u63a5\u6536\u5230\u62a5\u6587\u4e4b\u540e\u5c06\u7a97\u53e3\u5927\u5c0f\u7ffb\u500d\u3002\u5982\u679c\u6307\u6570\u589e\u957f\u5230\u907f\u514d\u62e5\u585e\u7b97\u6cd5\u7684\u95e8\u9650 ssthresh\uff0c\u5219\u6539\u7528\u907f\u514d\u62e5\u585e\u7b97\u6cd5</li> <li>\u62e5\u585e\u907f\u514d\u7b97\u6cd5\uff1a\u6bcf\u5f53\u6536\u5230\u4e00\u4e2a ACK \u65f6\uff0ccwnd \u589e\u52a0 1\uff0c\u53d8\u4e3a\u7ebf\u6027\u589e\u957f\u3002\u4e00\u4f46\u53d1\u73b0\u4e22\u5305\u548c\u8d85\u65f6\u91cd\u4f20\uff0c\u5c31\u8fdb\u5165\u62e5\u585e\u5904\u7406\u72b6\u6001</li> <li>\u62e5\u585e\u53d1\u751f\uff1a<ul> <li>\u8d85\u65f6\u91cd\u4f20\uff1assthresh \u8bbe\u4e3a cwnd/2\uff1bcwnd \u91cd\u7f6e\u4e3a 1\uff1b\u56de\u5230\u6162\u542f\u52a8\u8fc7\u7a0b</li> <li>\u5feb\u901f\u91cd\u4f20\uff1a\u5f53\u53d1\u9001\u65b9\u5728\u8d85\u65f6\u4e4b\u524d\u6536\u5230\u6765\u81ea\u63a5\u6536\u65b9\u7684 3 \u4e2a\u5197\u4f59 ACK\uff0ccwnd = cwnd/2\uff0c\u4e5f\u5c31\u662f\u8bbe\u7f6e\u4e3a\u539f\u6765\u7684\u4e00\u534a\uff1bssthresh = cwnd\uff1b\u8fdb\u5165\u5feb\u901f\u6062\u590d\u7b97\u6cd5</li> </ul> </li> <li>\u5feb\u901f\u6062\u590d\uff1a\u62e5\u585e\u7a97\u53e3 cwnd = ssthresh + 3\uff1b\u56e0\u4e3a 3 \u4e2a\u5197\u4f59 ACK \u5df2\u7ecf\u6536\u5230\uff0c\u6240\u4ee5\u7a97\u53e3\u5e94\u8be5\u589e\u52a0 3\u3002\u91cd\u4f20\u4e22\u5931\u7684\u6570\u636e\u5305     \u5982\u679c\u518d\u6536\u5230\u91cd\u590d\u7684 ACK\uff0c\u90a3\u4e48 cwnd \u589e\u52a0 1\uff1b\u5982\u679c\u6536\u5230\u65b0\u6570\u636e\u7684 ACK \u540e\uff0c\u628a cwnd \u8bbe\u7f6e\u4e3a\u7b2c\u4e00\u6b65\u4e2d\u7684 ssthresh \u7684\u503c\uff0c\u539f\u56e0\u662f\u8be5 ACK \u786e\u8ba4\u4e86\u65b0\u7684\u6570\u636e\uff0c\u8bf4\u660e\u4ece duplicated ACK \u65f6\u7684\u6570\u636e\u90fd\u5df2\u6536\u5230\uff0c\u8be5\u6062\u590d\u8fc7\u7a0b\u5df2\u7ecf\u7ed3\u675f\uff0c\u53ef\u4ee5\u56de\u5230\u6062\u590d\u4e4b\u524d\u7684\u72b6\u6001\u4e86\uff0c\u4e5f\u5373\u518d\u6b21\u8fdb\u5165\u62e5\u585e\u907f\u514d\u72b6\u6001</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_2","title":"TCP \u7684\u4e09\u6b21\u63e1\u624b","text":"<ul> <li>\u7b2c\u4e00\u6b21\u63e1\u624b\uff1aSYN = 1; seq = x; \u8fdb\u5165 SYN_SENT \u72b6\u6001</li> <li>\u7b2c\u4e8c\u6b21\u63e1\u624b\uff1aSYN = 1; ACK = 1; seq = y; ack = x + 1; \u8fdb\u5165 SYN_RCVD \u72b6\u6001</li> <li>\u7b2c\u4e09\u6b21\u63e1\u624b\uff1aACK = 1; seq = x + 1; ack = y + 1; \u8fdb\u5165 ESTABLISHED \u72b6\u6001</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_3","title":"TCP \u4e3a\u4ec0\u4e48\u8981\u4e09\u6b21\u63e1\u624b\uff1f","text":"<p>\u53ea\u6709\u4e09\u6b21\u63e1\u624b\u624d\u80fd\u8bc1\u660e\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u7684 \u6536\u53d1\u80fd\u529b\u90fd\u662f\u6b63\u5e38 \u7684\u3002</p> <ul> <li>\u7b2c\u4e00\u6b21\u63e1\u624b\uff1a\u670d\u52a1\u7aef\u53ef\u4ee5\u77e5\u9053\u5ba2\u6237\u7aef\u53d1\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684\uff0c\u81ea\u5df1\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684</li> <li>\u7b2c\u4e8c\u6b21\u63e1\u624b\uff1a\u5ba2\u6237\u7aef\u53ef\u4ee5\u77e5\u9053\u81ea\u5df1\u53d1\u9001\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u548c\u670d\u52a1\u7aef\u53d1\u9001\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684</li> <li>\u7b2c\u4e09\u6b21\u63e1\u624b\uff1a\u670d\u52a1\u7aef\u53ef\u4ee5\u77e5\u9053\u81ea\u5df1\u53d1\u9001\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684\uff0c\u5ba2\u6237\u7aef\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684</li> </ul> <p>\u7531\u6b64\u7ecf\u8fc7\u4e09\u6b21\u63e1\u624b\u4e4b\u540e\u53cc\u65b9\u5c31\u53ef\u4ee5\u90fd\u77e5\u9053\u81ea\u5df1\u7684\u53d1\u9001\u548c\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_4","title":"\u5982\u679c TCP \u7684\u4e09\u6b21\u63e1\u624b\u4e22\u5931\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u7b2c\u4e00\u6b21\u4e22\u5931\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u7684 SYN \u62a5\u6587\u4f1a\u6536\u4e0d\u5230\u670d\u52a1\u7aef\u7684\u54cd\u5e94\uff0c\u4ece\u800c\u4f1a \u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u91cd\u4f20\u7684 SYN \u62a5\u6587\u5e8f\u5217\u53f7\u548c\u4e4b\u524d\u76f8\u540c\uff0c\u91cd\u4f20\u6700\u5927\u91cd\u4f20\u6b21\u6570\u7531\u5185\u6838\u53c2\u6570\u63a7\u5236\uff0c\u4e00\u822c\u662f 5\u3002\u5982\u679c\u8d85\u8fc7\u6700\u5927\u6b21\u6570\u5ba2\u6237\u7aef\u4ecd \u6ca1\u6709\u6536\u5230\u56de\u590d\u5c31\u4f1a\u65ad\u5f00\u8fde\u63a5 </li> <li>\u7b2c\u4e8c\u6b21\u4e22\u5931\uff1a\u670d\u52a1\u7aef\u5728\u6536\u5230\u5ba2\u6237\u7aef\u7684\u62a5\u6587\u4e4b\u540e\u4f1a\u56de\u590d SYN + ACK \u62a5\u6587\u3002\u5982\u679c\u7b2c\u4e8c\u6b21\u63e1\u624b\u4e22\u5931\u4e86\u5ba2\u6237\u7aef\u4f1a\u8ba4\u4e3a\u81ea\u5df1\u4e22\u5305\u4e86\uff0c \u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u91cd\u65b0\u53d1\u9001 SYN \u62a5\u6587\uff0c\u670d\u52a1\u7aef\u56e0\u4e3a\u6536\u4e0d\u5230\u786e\u8ba4\u7684 ACK  \u81ea\u8eab\u4e5f\u4f1a\u91cd\u4f20 </li> <li>\u7b2c\u4e09\u6b21\u4e22\u5931\uff1a\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u7aef\u7684 SYN-ACK \u62a5\u6587\u540e\u4f1a\u7ed9\u670d\u52a1\u7aef\u56de\u4e00\u4e2a ACK \u62a5\u6587\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u72b6\u6001\u8fdb\u5165\u5230 ESTABLISH \u72b6\u6001\u3002\u5982\u679c\u53d1\u751f\u4e86\u4e22\u5305\uff0c\u670d\u52a1\u7aef\u6536\u4e0d\u5230 ACK \u4f1a\u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\u673a\u5236\uff0c\u91cd\u4f20 SYN-ACK \u62a5\u6587\uff0c\u76f4\u5230\u6536\u5230\u786e\u8ba4 ACK \u6216\u8005\u8fbe\u5230\u6700\u5927\u91cd\u4f20\u6b21\u6570</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_5","title":"TCP \u4e3a\u4ec0\u4e48\u4e0d\u662f\u4e24\u6b21\u63e1\u624b\uff1f","text":"<p>\u6700\u597d\u518d\u52a0\u4e0a  \u5982\u679c TCP \u7684\u4e09\u6b21\u63e1\u624b\u4e22\u5931\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f </p> <ul> <li>\u907f\u514d\u5386\u53f2\u8fde\u63a5(\u9996\u8981\u539f\u56e0)\uff1a\u5982\u679c\u4f7f\u7528\u7684\u662f\u4e24\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0c\u53ef\u80fd\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u8fde\u63a5\u5e76\u4e14\u6ca1\u6709\u4e22\u5931\uff0c\u53ea\u662f\u56e0\u4e3a\u5728\u7f51\u7edc\u4e2d\u6ede\u7559\u7684\u65f6\u95f4\u592a\u957f\u4e86\uff0c\u7531\u4e8e TCP \u7684\u5ba2\u6237\u7aef\u8fdf\u8fdf\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u62a5\u6587\uff0c\u4ee5\u4e3a\u670d\u52a1\u5668\u6ca1\u6709\u6536\u5230\uff0c\u6b64\u65f6\u91cd\u65b0\u5411\u670d\u52a1\u5668\u53d1\u9001\u8fd9\u6761\u62a5\u6587\uff0c\u6b64\u540e\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7ecf\u8fc7\u4e24\u6b21\u63e1\u624b\u5b8c\u6210\u8fde\u63a5\uff0c\u4f20\u8f93\u6570\u636e\uff0c\u7136\u540e\u5173\u95ed\u8fde\u63a5\u3002\u4e4b\u524d\u6ede\u7559\u7684\u90a3\u4e00\u6b21\u8bf7\u6c42\u8fde\u63a5\uff0c\u56e0\u4e3a\u7f51\u7edc\u901a\u7545\u4e86\uff0c\u5230\u8fbe\u4e86\u670d\u52a1\u5668\uff0c\u8fd9\u4e2a\u62a5\u6587\u672c\u8be5\u662f\u5931\u6548\u7684\uff0c\u4f46\u662f\uff0c\u4e24\u6b21\u63e1\u624b\u7684\u673a\u5236\u5c06\u4f1a\u8ba9\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u518d\u6b21\u5efa\u7acb\u8fde\u63a5\uff0c\u8fd9\u5c06\u5bfc\u81f4\u4e0d\u5fc5\u8981\u7684\u9519\u8bef\u548c\u8d44\u6e90\u7684\u6d6a\u8d39</li> <li>\u540c\u6b65\u53cc\u65b9\u521d\u59cb\u5e8f\u5217\u53f7\uff1a\u4e3a\u4e86\u5b9e\u73b0\u53ef\u9760\u6570\u636e\u4f20\u8f93\uff0cTCP \u534f\u8bae\u7684\u901a\u4fe1\u53cc\u65b9\uff0c\u90fd\u5fc5\u987b\u7ef4\u62a4\u4e00\u4e2a\u5e8f\u5217\u53f7\uff0c\u4ee5\u6807\u8bc6\u53d1\u9001\u51fa\u53bb\u7684\u6570\u636e\u5305\u4e2d\uff0c\u54ea\u4e9b\u662f\u5df2\u7ecf\u88ab\u5bf9\u65b9\u6536\u5230\u7684\u3002 \u4e09\u6b21\u63e1\u624b\u7684\u8fc7\u7a0b\u5373\u662f\u901a\u4fe1\u53cc\u65b9\u76f8\u4e92\u544a\u77e5\u5e8f\u5217\u53f7\u8d77\u59cb\u503c\uff0c\u5e76\u786e\u8ba4\u5bf9\u65b9\u5df2\u7ecf\u6536\u5230\u4e86\u5e8f\u5217\u53f7\u8d77\u59cb\u503c\u7684\u5fc5\u7ecf\u6b65\u9aa4\u3002\u5982\u679c\u53ea\u662f\u4e24\u6b21\u63e1\u624b\uff0c\u81f3\u591a\u53ea\u6709\u8fde\u63a5\u53d1\u8d77\u65b9\u7684\u8d77\u59cb\u5e8f\u5217\u53f7\u80fd\u88ab\u786e\u8ba4\uff0c\u53e6\u4e00\u65b9\u9009\u62e9\u7684\u5e8f\u5217\u53f7\u5219\u5f97\u4e0d\u5230\u786e\u8ba4</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_6","title":"TCP \u7684\u56db\u6b21\u6325\u624b\uff1f","text":"<ul> <li>\u7b2c\u4e00\u6b21\u6325\u624b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u91ca\u653e\u62a5\u6587\uff0c\u5e76\u505c\u6b62\u53d1\u9001\u6570\u636e\uff0c\u5c06\u9996\u90e8\u7684 FIN \u6807\u8bc6\u4f4d\u7f6e\u4e3a 1\uff0c\u5e8f\u5217\u53f7 seq = u \u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff0c\u503c\u7b49\u4e8e\u524d\u9762\u5df2\u7ecf\u4f20\u9001\u8fc7\u6765\u7684\u6570\u636e\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u53f7\u52a0 1\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u8fdb\u5165  FIN_WAIT_1  \u72b6\u6001\u3002\u5373\u4fbf FIN \u62a5\u6587\u4e0d\u643a\u5e26\u6570\u636e\uff0c\u4e5f\u8981\u6d88\u8017\u4e00\u4e2a\u5e8f\u5217\u53f7</li> <li>\u7b2c\u4e8c\u6b21\u6325\u624b\uff1a\u670d\u52a1\u5668\u5728\u6536\u5230\u91ca\u653e\u62a5\u6587\u540e\uff0c\u53d1\u9001\u786e\u8ba4\u62a5\u6587\uff0cACK \u6807\u8bc6\u4f4d\u7f6e\u4e3a 1\uff0cack \u503c\u4e3a\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u5e8f\u5217\u53f7 u + 1\uff0c\u5e76\u5e26\u4e0a\u81ea\u5df1\u7684\u5e8f\u5217\u53f7 v\uff0c\u7136\u540e\u670d\u52a1\u5668\u8fdb\u5165  CLOSE_WAIT  \u5173\u95ed\u7b49\u5f85\u72b6\u6001\u3002\u8fd9\u65f6\u670d\u52a1\u5668 TCP \u901a\u77e5\u9ad8\u7ea7\u5e94\u7528\u8fdb\u7a0b\uff1a\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u7684\u8fde\u63a5\u91ca\u653e\u4e86\uff0c\u8fdb\u5165\u534a\u5173\u95ed\u72b6\u6001\u3002\u4f46\u662f\u670d\u52a1\u5668\u5982\u679c\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\uff0c\u5ba2\u6237\u7aef\u4ecd\u7136\u53ef\u4ee5\u63a5\u6536\uff0c\u8fd9\u4e2a\u72b6\u6001\u8981\u6301\u7eed\u4e00\u6bb5\u65f6\u95f4\uff0c\u4e5f\u5c31\u662f  CLOSE_WAIT  \u5173\u95ed\u7b49\u5f85\u6301\u7eed\u7684\u65f6\u95f4\u3002\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u5668\u7684\u786e\u8ba4\u8bf7\u6c42\u540e\uff0c\u8fdb\u5165  FIN_WAIT_2  \u72b6\u6001\uff0c\u7b49\u5f85\u670d\u52a1\u5668\u53d1\u9001\u91ca\u653e\u62a5\u6587</li> <li>\u7b2c\u4e09\u6b21\u6325\u624b\uff1a\u670d\u52a1\u5668\u6570\u636e\u5904\u7406\u5b8c\u6bd5\u540e\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u91ca\u653e\u8fde\u63a5\u62a5\u6587\uff0cFIN \u6807\u8bc6\u4f4d\u7f6e\u4e3a 1\uff0cack \u7684\u503c\u4e3a\u5ba2\u6237\u7aef\u7684\u5e8f\u5217\u53f7 u + 1\u3002\u7531\u4e8e\u5728\u534a\u5173\u95ed\u72b6\u6001\uff0c\u670d\u52a1\u5668\u5f88\u53ef\u80fd\u53c8\u53d1\u9001\u4e00\u4e9b\u6570\u636e\uff0c\u5047\u5b9a\u6b64\u65f6\u5e8f\u5217\u53f7\u4e3a w\uff0c\u670d\u52a1\u5668\u8fdb\u5165  LAST_ACK  \u72b6\u6001\uff0c\u7b49\u5f85\u5ba2\u6237\u7aef\u786e\u8ba4</li> <li>\u7b2c\u56db\u6b21\u6325\u624b\uff1a\u5ba2\u6237\u7aef\u5728\u6536\u5230\u670d\u52a1\u5668\u7684\u91ca\u653e\u8fde\u63a5\u62a5\u6587\u540e\uff0c\u4f1a\u53d1\u9001\u786e\u8ba4\u62a5\u6587\uff0cACK \u6807\u8bc6\u4f4d\u7f6e\u4e3a 1\uff0cack \u503c\u4e3a\u670d\u52a1\u5668\u53d1\u9001\u7684\u5e8f\u5217\u53f7 w + 1\uff0c\u81ea\u5df1\u7684\u5e8f\u5217\u53f7\u662f u + 1\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u5c31\u8fdb\u5165  TIME_WAIT  \u72b6\u6001\u3002\u6b64\u65f6 TCP \u8fde\u63a5\u8fd8\u6ca1\u6709\u91ca\u653e\uff0c\u5fc5\u987b\u7ecf\u8fc7 \u4e24\u4e2a MSL \u65f6\u95f4 (\u4e00\u4e2a MSL \u6307\u7684\u662f\u62a5\u6587\u6bb5\u6700\u957f\u5bff\u547d)\uff0c\u5f53\u5ba2\u6237\u7aef\u64a4\u9500 TCB\uff0c\u624d\u8fdb\u5165  CLOSED  \u72b6\u6001\u3002\u670d\u52a1\u5668\u53ea\u8981\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u786e\u8ba4\u8bf7\u6c42\uff0c\u7acb\u5373\u8fdb\u5165  CLOSED  \u72b6\u6001\u3002\u540c\u65f6\u4f1a\u64a4\u9500 TCB\uff0cTCP \u8fde\u63a5\u81f3\u6b64\u7ed3\u675f</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_7","title":"TCP \u4e3a\u4ec0\u4e48\u8981\u56db\u6b21\u6325\u624b\uff1f","text":"<p>\u5173\u95ed\u8fde\u63a5\u65f6\uff0c\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001  FIN  \u65f6\uff0c\u4ec5\u4ec5\u8868\u793a\u5ba2\u6237\u7aef\u4e0d\u518d\u53d1\u9001\u6570\u636e\u4e86\u4f46\u662f\u8fd8\u80fd\u63a5\u6536\u6570\u636e\u3002</p> <p>\u670d\u52a1\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u7684  FIN  \u62a5\u6587\u65f6\uff0c\u5148\u56de\u4e00\u4e2a  ACK  \u5e94\u7b54\u62a5\u6587\uff0c\u800c\u670d\u52a1\u7aef\u53ef\u80fd\u8fd8\u6709\u6570\u636e\u9700\u8981\u5904\u7406\u548c\u53d1\u9001\uff0c\u7b49\u670d\u52a1\u7aef\u4e0d\u518d\u53d1\u9001\u6570\u636e\u65f6\uff0c\u624d\u53d1\u9001  FIN  \u62a5\u6587\u7ed9\u5ba2\u6237\u7aef\u6765\u8868\u793a\u540c\u610f\u73b0\u5728\u5173\u95ed\u8fde\u63a5\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#fin_wait_2-fin-tcp-time_wait","title":"\u5728 FIN_WAIT_2 \u72b6\u6001\u4e0b\uff0c\u662f\u5982\u4f55\u5904\u7406\u6536\u5230\u7684\u4e71\u5e8f\u5230 FIN \u62a5\u6587\uff0c\u7136\u540e TCP \u8fde\u63a5\u53c8\u662f\u4ec0\u4e48\u65f6\u5019\u624d\u8fdb\u5165\u5230 TIME_WAIT \u72b6\u6001\uff1f","text":"<p>\u5728  FIN_WAIT_2  \u72b6\u6001\u65f6\uff0c\u5982\u679c\u6536\u5230\u4e71\u5e8f\u7684  FIN  \u62a5\u6587\u4f1a\u52a0\u5165\u5230\u4e71\u5e8f\u961f\u5217\uff0c\u5e76\u4e0d\u4f1a\u8fdb\u5165\u5230  TIME_WAIT  \u72b6\u6001\u3002\u7b49\u518d\u6b21\u6536\u5230\u524d\u9762\u88ab\u7f51\u7edc\u5ef6\u8fdf\u7684\u6570\u636e\u5305\u65f6\uff0c\u4f1a\u5224\u65ad\u4e71\u5e8f\u961f\u5217\u6709\u6ca1\u6709\u6570\u636e\uff0c\u68c0\u6d4b\u4e71\u5e8f\u961f\u5217\u4e2d\u662f\u5426\u6709\u53ef\u7528\u7684\u6570\u636e\uff0c\u5982\u679c\u80fd\u5728\u4e71\u5e8f\u961f\u5217\u4e2d\u627e\u5230\u4e0e\u5f53\u524d\u62a5\u6587\u7684\u5e8f\u5217\u53f7\u4fdd\u6301\u7684\u987a\u5e8f\u7684\u62a5\u6587\uff0c\u5c31\u4f1a\u770b\u8be5\u62a5\u6587\u662f\u5426\u6709  FIN  \u6807\u5fd7\uff0c\u5982\u679c\u53d1\u73b0\u6709  FIN  \u6807\u5fd7\uff0c\u624d\u4f1a\u8fdb\u5165  TIME_WAIT  \u72b6\u6001</p>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_8","title":"\u5982\u679c TCP \u7684\u56db\u6b21\u6325\u624b\u4e22\u5931\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u7b2c\u4e00\u6b21\u4e22\u5931\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u62a5\u6587 FIN \u62a5\u6587\u6536\u4e0d\u5230\u670d\u52a1\u7aef\u7684 ACK \u54cd\u5e94\uff0c\u4f1a\u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u91cd\u4f20 FIN \u62a5\u6587\uff0c\u91cd\u53d1\u6b21\u6570\u7531\u5185\u6838\u53c2\u6570\u63a7\u5236</li> <li>\u7b2c\u4e8c\u6b21\u4e22\u5931\uff1a\u670d\u52a1\u7aef\u56de\u590d\u7684 ACK \u62a5\u6587\u53d1\u751f\u4e22\u5931\uff0c\u5ba2\u6237\u7aef\u4f1a\u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u91cd\u4f20 FIN \u62a5\u6587\uff0c\u76f4\u5230\u6536\u5230\u670d\u52a1\u7aef\u7684 ACK \u6216\u8005\u8fbe\u5230\u6700\u5927\u7684\u91cd\u4f20\u6b21\u6570\u3002\u8d85\u8fc7\u6700\u5927\u91cd\u4f20\u6b21\u6570\u8fd8\u6ca1\u6536\u5230 ACK \u4f1a\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u518d\u65ad\u5f00\u8fde\u63a5</li> <li>\u7b2c\u4e09\u6b21\u4e22\u5931\uff1a\u670d\u52a1\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u7684 FIN \u62a5\u6587\u540e\u5185\u6838\u4f1a\u81ea\u52a8\u56de\u590d ACK\uff0c\u540c\u65f6\u8fde\u63a5\u5904\u4e8e  CLOSE_WAIT  \u72b6\u6001\u3002\u670d\u52a1\u7aef\u5904\u4e8e  CLOSE_WAIT  \u72b6\u6001\u65f6\uff0c\u8c03\u7528\u4e86 close \u51fd\u6570\uff0c\u5185\u6838\u4f1a\u53d1\u51fa FIN \u62a5\u6587\uff0c\u540c\u65f6\u8fde\u63a5\u8fdb\u5165  LAST_ACK  \u72b6\u6001\uff0c\u7b49\u5f85\u5ba2\u6237\u7aef\u8fd4\u56de ACK \u6765\u786e\u8ba4\u8fde\u63a5\u5173\u95ed\u3002\u6536\u4e0d\u5230 ACK \u7684\u8bdd\u4f1a\u91cd\u53d1 FIN \u62a5\u6587\u76f4\u5230\u6700\u5927\u6b21\u6570\u4e3a\u6b62</li> <li>\u7b2c\u56db\u6b21\u4e22\u5931\uff1a\u6700\u540e\u4e00\u6b21\u7684 ACK \u53d1\u751f\u4e86\u4e22\u5931\uff0c\u670d\u52a1\u7aef\u6ca1\u6709\u6536\u5230 ACK \u62a5\u6587\u524d\u662f\u5904\u4e8e  LAST_ACK  \u72b6\u6001\u3002\u8d85\u65f6\u4e4b\u540e\u670d\u52a1\u7aef\u4f1a\u91cd\u4f20 FIN \u62a5\u6587\uff0c\u5ba2\u6237\u7aef\u6b64\u65f6\u662f\u5728  TIME_WAIT  \u72b6\u6001\uff0c\u5f00\u542f\u65f6\u957f\u4e3a 2MSL \u7684\u5b9a\u65f6\u5668\uff0c\u5982\u679c\u9014\u4e2d\u518d\u6b21\u6536\u5230\u7b2c\u4e09\u6b21\u6325\u624b(FIN \u62a5\u6587)\u540e\uff0c\u4f1a\u91cd\u7f6e\u5b9a\u65f6\u5668\uff0c\u5f53\u7b49\u5f85 2MSL \u65f6\u957f\u540e\uff0c\u5ba2\u6237\u7aef\u4f1a\u65ad\u5f00\u8fde\u63a5</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_9","title":"TCP \u4e3a\u4ec0\u4e48\u4e0d\u662f\u4e09\u6b21\u6325\u624b\uff1f","text":"<p>\u5f53\u88ab\u52a8\u5173\u95ed\u65b9\u5728 TCP \u6325\u624b\u8fc7\u7a0b\u4e2d\uff0c\u6ca1\u6709\u6570\u636e\u8981\u53d1\u9001\u5e76\u4e14\u5f00\u542f\u4e86\u5ef6\u8fdf\u5e94\u7b54\uff0c\u7b2c\u4e8c\u548c\u7b2c\u4e09\u6b21\u6325\u624b\u5c31\u4f1a\u5408\u5e76\u4f20\u8f93\uff0c\u8fd9\u6837\u5c31\u51fa\u73b0\u4e86\u4e09\u6b21\u6325\u624b\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_10","title":"TCP \u7684\u5ef6\u8fdf\u5e94\u7b54\u548c\u7d2f\u8ba1\u5e94\u7b54\uff1f","text":"<ul> <li>\u5ef6\u8fdf\u5e94\u7b54\uff1aTCP \u5728\u63a5\u6536\u5230\u5bf9\u7aef\u7684\u62a5\u6587\u540e\u5e76\u4e0d\u4f1a\u7acb\u5373\u53d1\u9001 ACK\uff0c\u800c\u662f\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u53d1\u9001 ACK\uff0c\u4ee5\u4fbf\u5c06 ACK \u548c\u8981\u53d1\u9001\u7684\u6570\u636e\u4e00\u5757\u53d1\u9001\u3002\u5ef6\u8fdf\u65f6\u95f4\u4e0d\u80fd\u65e0\u9650\u5ef6\u957f\uff0c\u5426\u5219\u5bf9\u65b9\u7aef\u4f1a\u8ba4\u4e3a\u4e22\u5305\u8d85\u65f6\u800c\u9020\u6210\u8d85\u65f6\u91cd\u4f20\u3002Linux \u91c7\u7528\u52a8\u6001\u8c03\u8282\u7b97\u6cd5\u6765\u786e\u5b9a\u7b49\u5f85\u7684\u65f6\u95f4</li> <li>\u7d2f\u8ba1\u5e94\u7b54\uff1a\u4e3a\u4e86\u4fdd\u8bc1\u987a\u5e8f\u6027\uff0c\u6bcf\u4e00\u4e2a\u5305\u90fd\u6709\u4e00\u4e2a ID(\u5e8f\u53f7)\uff0c\u5728\u5efa\u7acb\u8fde\u63a5\u7684\u65f6\u5019\uff0c\u53cc\u65b9\u4f1a\u5546\u5b9a\u8d77\u59cb\u7684 ID \u662f\u591a\u5c11\uff0c\u7136\u540e\u6309\u7167 ID \u4e00\u4e2a\u4e2a\u53d1\u9001\u3002\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u4e22\u5305\uff0c\u5bf9\u5e94\u53d1\u9001\u7684\u5305\u90fd\u8981\u8fdb\u884c\u5e94\u7b54\uff0c\u4f46\u4e0d\u662f\u4e00\u4e2a\u4e2a\u5e94\u7b54\uff0c\u800c\u662f\u4f1a\u5e94\u7b54 \u67d0\u4e2a\u4e4b\u524d\u7684 ID\uff0c\u8be5\u6a21\u5f0f\u79f0\u4e3a \u7d2f\u8ba1\u5e94\u7b54 </li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp-msl","title":"TCP \u7684 MSL","text":"<p>MSL \u662f\u4efb\u4f55\u62a5\u6587\u5728\u7f51\u7edc\u4e2d\u88ab\u4e22\u5f03\u524d\u7684\u6700\u957f\u5b58\u6d3b\u65f6\u95f4\uff0c\u8fd9\u4e2a\u65f6\u95f4\u662f\u6709\u9650\u7684\uff0c\u56e0\u4e3a TCP \u662f\u4ee5 IP \u6570\u636e\u62a5\u7684\u5f62\u5f0f\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\uff0cIP \u6709\u9650\u5236\u5176\u751f\u5b58\u7684\u65f6\u95f4 TTL\uff0cRFC793 \u6307\u51fa MSL \u4e3a  2 \u5206\u949f\uff0c\u73b0\u5b9e\u4e2d\u5e38\u7528  30 \u79d2  \u6216  1 \u5206\u949f </p>"},{"location":"Computer%20Network/ComputerNetwork/#_25","title":"\u5df2\u7ecf\u5efa\u7acb\u4e86\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u7a81\u7136\u51fa\u73b0\u6545\u969c\u4e86\u4f1a\u600e\u6837\uff1f","text":"<p>TCP \u5b58\u5728\u4fdd\u6d3b\u8ba1\u65f6\u5668\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u6545\u969c\uff0c\u670d\u52a1\u5668\u4e0d\u4f1a\u4e00\u76f4\u7b49\u5f85\u3002\u901a\u5e38\u8ba1\u65f6\u5668\u8bbe\u7f6e\u4e3a\u4e24\u5c0f\u65f6\uff0c\u5728\u6bcf\u6b21\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u62a5\u6587\u90fd\u4f1a\u91cd\u7f6e\u8ba1\u65f6\u5668\uff0c\u8d85\u65f6\u4e4b\u540e\u670d\u52a1\u7aef\u5c31\u4f1a\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u63a2\u6d4b\u62a5\u6587\uff0c\u6bcf\u9694 75s \u53d1\u9001\u4e00\u6b21\uff0c\u5982\u679c\u8fde\u7eed 10 \u4e2a\u63a2\u6d4b\u62a5\u6587\u90fd\u6ca1\u6709\u6536\u5230\u56de\u590d\uff0c\u670d\u52a1\u5668\u4f1a\u8ba4\u4e3a\u5ba2\u6237\u7aef\u53d1\u751f\u6545\u969c\uff0c\u4e2d\u65ad\u6b64\u6b21\u8fde\u63a5</p>"},{"location":"Computer%20Network/ComputerNetwork/#_26","title":"\u4ec0\u4e48\u65f6\u5019\u7528\u957f\u8fde\u63a5\uff0c\u77ed\u8fde\u63a5\uff1f","text":"<p>\u957f\u8fde\u63a5\u591a\u7528\u4e8e \u64cd\u4f5c\u9891\u7e41\uff0c\u70b9\u5bf9\u70b9\u7684\u901a\u8baf\uff0c\u800c\u4e14\u8fde\u63a5\u6570\u4e0d\u80fd\u592a\u591a \u7684\u60c5\u51b5\u3002\u6bcf\u4e2a TCP \u8fde\u63a5\u90fd\u9700\u8981\u4e09\u6b65\u63e1\u624b\uff0c\u8fd9\u9700\u8981\u65f6\u95f4\u3002\u5982\u679c\u6bcf\u4e2a\u64cd\u4f5c\u90fd\u662f\u5148\u8fde\u63a5\uff0c\u518d\u64cd\u4f5c\u7684\u8bdd\u90a3\u4e48\u5904\u7406\u901f\u5ea6\u4f1a\u964d\u4f4e\u5f88\u591a\u3002\u6240\u4ee5\u6bcf\u4e2a\u64cd\u4f5c\u5b8c\u540e\u90fd\u4e0d\u65ad\u5f00\uff0c\u4e0b\u6b21\u5904\u7406\u65f6\u76f4\u63a5\u53d1\u9001\u6570\u636e\u5305\u5c31\u53ef\u4ee5\uff0c\u4e0d\u7528\u5efa\u7acb TCP \u8fde\u63a5\u3002\u4f8b\u5982\uff1a \u6570\u636e\u5e93\u7684\u8fde\u63a5\u7528\u957f\u8fde\u63a5\u3002</p> <p>WEB \u7f51\u7ad9\u7684 HTTP \u670d\u52a1\u4e00\u822c\u90fd\u7528\u77ed\u8fde\u63a5\uff0c\u56e0\u4e3a\u957f\u8fde\u63a5\u5bf9\u4e8e\u670d\u52a1\u7aef\u6765\u8bf4\u4f1a\u8017\u8d39\u4e00\u5b9a\u7684\u8d44\u6e90\uff0c\u800c WEB \u7f51\u7ad9\u6210\u5343\u4e0a\u4e07\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u7528\u77ed\u8fde\u63a5\u4f1a\u66f4\u7701\u4e00\u4e9b\u8d44\u6e90\uff0c\u5982\u679c\u7528\u957f\u8fde\u63a5\uff0c\u800c\u4e14\u540c\u65f6\u6709\u6210\u5343\u4e0a\u4e07\u7684\u7528\u6237\uff0c\u5982\u679c\u6bcf\u4e2a\u7528\u6237\u90fd\u5360\u7528\u4e00\u4e2a\u8fde\u63a5\u7684\u8bdd\uff0c\u6240\u4ee5\u5e76\u53d1\u91cf\u5927\uff0c\u7528\u77ed\u8fde\u63a5\u53ef\u4ee5\u5feb\u901f\u91ca\u653e\u8d44\u6e90\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_11","title":"TCP \u7684\u534a\u8fde\u63a5\u961f\u5217\u548c\u5168\u8fde\u63a5\u961f\u5217\uff1f","text":"<ul> <li>\u534a\u8fde\u63a5\u961f\u5217\uff1a\u4e5f\u79f0  SYN \u961f\u5217\uff0c\u670d\u52a1\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u8d77\u7684 SYN \u8bf7\u6c42\u540e\uff0c\u5185\u6838\u4f1a\u628a\u8be5\u8fde\u63a5\u5b58\u50a8\u5230\u534a\u8fde\u63a5\u961f\u5217\uff0c\u5e76\u5411\u5ba2\u6237\u7aef\u53d1  SYN + ACK </li> <li>\u5168\u8fde\u63a5\u961f\u5217\uff1a\u4e5f\u79f0 accept \u961f\u5217\uff0c\u670d\u52a1\u7aef\u6536\u5230\u7b2c\u4e09\u6b21\u63e1\u624b\u7684 ACK \u540e\uff0c \u5185\u6838\u4f1a\u628a\u8fde\u63a5\u4ece\u534a\u8fde\u63a5\u961f\u5217\u79fb\u9664\uff0c\u7136\u540e\u521b\u5efa\u65b0\u7684\u5b8c\u5168\u7684\u8fde\u63a5\uff0c\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u5168\u8fde\u63a5\u961f\u5217\uff0c\u7b49\u5f85\u8fdb\u7a0b\u8c03\u7528 accept \u51fd\u6570\u65f6\u628a\u8fde\u63a5\u53d6\u51fa\u6765</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#syn","title":"\u4ec0\u4e48\u662f SYN \u653b\u51fb\uff1f\u5982\u4f55\u907f\u514d\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_27","title":"\u6982\u5ff5","text":"<p>SYN \u653b\u51fb \u662f\u6307\u5229\u7528\u5408\u7406\u7684\u670d\u52a1\u8bf7\u6c42\u6765\u5360\u7528\u8fc7\u591a\u7684\u670d\u52a1\u8d44\u6e90\uff0c\u4ece\u800c\u4f7f\u5408\u6cd5\u7528\u6237\u65e0\u6cd5\u5f97\u5230\u670d\u52a1\u7684\u54cd\u5e94\u3002\u5982\u679c\u5411\u67d0\u4e2a\u670d\u52a1\u5668\u7aef\u53e3\u53d1\u9001\u5927\u91cf\u7684 SYN \u62a5\u6587\uff0c\u63a5\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u6765\u7684 SYN \u62a5\u6587\u4e4b\u540e\uff0c\u670d\u52a1\u7aef\u5c31\u9700\u8981\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u5206\u914d\u4e00\u4e2a\u8fdb\u7a0b\u63a7\u5236\u5757 TCB\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a SYN-ACK \u62a5\u6587\uff0c\u5e76\u7acb\u5373\u8f6c\u4e3a SYN_RECV \u534a\u5f00\u8fde\u63a5\u72b6\u6001\uff0c\u6536\u4e0d\u5230\u5bf9\u7aef ACK \u56de\u590d\u7684\u670d\u52a1\u7aef\u8fd8\u4f1a\u91cd\u4f20 SYN-ACK \u62a5\u6587, \u7cfb\u7edf\u4f1a\u4e3a\u6b64\u8017\u5c3d\u8d44\u6e90</p>"},{"location":"Computer%20Network/ComputerNetwork/#_28","title":"\u907f\u514d\u65b9\u6cd5","text":"<ul> <li>Cache\uff1a\u7cfb\u7edf\u5728\u6536\u5230\u4e00\u4e2a SYN \u62a5\u6587\u65f6\uff0c\u5728\u4e00\u4e2a\u4e13\u7528 HASH \u8868\u4e2d\u4fdd\u5b58\u8fd9\u79cd\u534a\u8fde\u63a5\u4fe1\u606f\uff0c\u76f4\u5230\u6536\u5230\u6b63\u786e\u7684\u56de\u5e94 ACK \u62a5\u6587\u518d\u5206\u914d TCB\u3002\u8fd9\u4e2a\u5f00\u9500\u8fdc\u5c0f\u4e8e  TCB \u7684\u5f00\u9500</li> <li>Cookie\uff1a\u5229\u7528\u7b97\u6cd5\uff0c\u901a\u8fc7\u5bf9\u65b9\u7684 IP\u3001\u7aef\u53e3\u3001\u5df1\u65b9 IP\u3001\u7aef\u53e3\u7684\u56fa\u5b9a\u4fe1\u606f\uff0c\u4ee5\u53ca\u5bf9\u65b9\u65e0\u6cd5\u77e5\u9053\u800c\u5df1\u65b9\u6bd4\u8f83\u56fa\u5b9a\u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u5982 MSS(\u6700\u5927\u62a5\u6587\u6bb5\u5927\u5c0f)\u3001\u65f6\u95f4\u7b49\uff0c\u5728\u6536\u5230\u5bf9\u65b9\u7684 ACK \u62a5\u6587\u540e\uff0c\u91cd\u65b0\u8ba1\u7b97\u4e00\u904d\uff0c\u770b\u5176\u662f\u5426\u4e0e\u5bf9\u65b9\u56de\u5e94\u62a5\u6587\u4e2d\u7684 (Sequence Numbe r -1) \u76f8\u540c\uff0c\u4ece\u800c\u51b3\u5b9a\u662f\u5426\u5206\u914d TCB \u8d44\u6e90</li> <li>Proxy \u9632\u706b\u5899\uff1a\u8bbe\u7acb\u4e2d\u95f4\u5c42\u9632\u706b\u5899\uff0c\u9632\u706b\u5899\u5728\u786e\u8ba4\u4e86\u8fde\u63a5\u7684\u6709\u6548\u6027\u540e\uff0c\u624d\u5411\u5185\u90e8\u7684\u670d\u52a1\u5668\u53d1\u8d77 SYN \u8bf7\u6c42\uff0c\u6240\u6709\u7684\u65e0\u6548\u8fde\u63a5\u5747\u65e0\u6cd5\u5230\u8fbe\u5185\u90e8\u7684\u670d\u52a1\u5668\u3002\u800c\u9632\u706b\u5899\u91c7\u7528\u7684\u9a8c\u8bc1\u8fde\u63a5\u6709\u6548\u6027\u7684\u65b9\u6cd5\u5219\u53ef\u4ee5\u662f  Cookie  \u6216  Cache  \u7b49\u5176\u4ed6\u6280\u672f</li> <li>\u51cf\u5c11 SYN+ACK \u91cd\u4f20\u6b21\u6570\uff1a\u51cf\u5c11 SYN-ACK \u7684\u91cd\u4f20\u6b21\u6570\uff0c\u4ee5\u52a0\u5feb\u5904\u4e8e  SYN_RECV  \u72b6\u6001\u7684 TCP \u8fde\u63a5\u65ad\u5f00</li> <li>\u65e0\u6548\u8fde\u63a5\u76d1\u89c6\u91ca\u653e\uff1a\u4e0d\u505c\u76d1\u89c6\u7cfb\u7edf\u7684\u534a\u5f00\u8fde\u63a5\u548c\u4e0d\u6d3b\u52a8\u8fde\u63a5\uff0c\u5f53\u8fbe\u5230\u4e00\u5b9a\u9608\u503c\u65f6\u62c6\u9664\u8fd9\u4e9b\u8fde\u63a5\uff0c\u4ece\u800c\u91ca\u653e\u7cfb\u7edf\u8d44\u6e90\u3002\u8fd9\u79cd\u65b9\u6cd5\u5bf9\u4e8e\u6240\u6709\u7684\u8fde\u63a5\u4e00\u89c6\u540c\u4ec1\uff0c\u6b63\u5e38\u8fde\u63a5\u8bf7\u6c42\u4e5f\u4f1a\u88ab\u8fd9\u79cd\u65b9\u5f0f\u8bef\u91ca\u653e\u6389</li> <li>\u589e\u5927\u534a\u8fde\u63a5\u961f\u5217\uff1a\u4fee\u6539 TCP \u7684\u5185\u6838\u53c2\u6570\uff0c\u589e\u5927\u534a\u8fde\u63a5\u961f\u5217\u4ee5\u53ca\u5168\u8fde\u63a5\u961f\u5217\u5927\u5c0f</li> <li>\u8c03\u5927 netdev_max_backlog\uff1a\u5f53\u7f51\u5361\u63a5\u6536\u6570\u636e\u5305\u7684\u901f\u5ea6\u5927\u4e8e\u5185\u6838\u5904\u7406\u7684\u901f\u5ea6\u65f6\uff0c\u4f1a\u6709\u4e00\u4e2a\u961f\u5217\u4fdd\u5b58\u8fd9\u4e9b\u6570\u636e\u5305\uff0c\u53ef\u4ee5\u8c03\u5927\u961f\u5217\u5927\u5c0f</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#time_wait","title":"TIME_WAIT \u4f5c\u7528\uff0c\u8fc7\u591a\u5982\u4f55\u89e3\u51b3\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_29","title":"\u4f5c\u7528","text":"<ul> <li>\u5b9e\u73b0\u5168\u53cc\u5de5\u7684\u53ef\u9760\u91ca\u653e\u8fde\u63a5\uff1a\u5047\u8bbe\u53d1\u8d77\u4e3b\u52a8\u5173\u95ed\u7684\u4e00\u65b9\u6700\u540e\u53d1\u9001\u7684 ACK \u5728\u7f51\u7edc\u4e2d\u4e22\u5931\uff0c\u7531\u4e8e TCP \u7684\u91cd\u4f20\u673a\u5236\uff0c\u88ab\u52a8\u5173\u95ed\u7684\u4e00\u65b9\u4f1a\u91cd\u65b0\u53d1\u9001 FIN \u62a5\u6587\uff0c\u5728 FIN \u5728\u88ab\u4e3b\u52a8\u5173\u95ed\u65b9\u63a5\u6536\u4e4b\u524d\uff0c\u4e3b\u52a8\u5173\u95ed\u65b9\u90fd\u9700\u8981\u7ef4\u62a4\u8fd9\u6761\u8fde\u63a5\u72b6\u6001\uff0c\u5305\u62ec\u5bf9\u5e94\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002\u5982\u679c\u53d1\u9001\u65b9\u4e0d\u7ef4\u62a4 TIME_WAIT \u72b6\u6001\uff0c\u90a3\u4e48\u5f53  FIN \u5230\u8fbe\u4e3b\u52a8\u5173\u95ed\u65b9\u7684\u65f6\u5019\uff0c\u4e3b\u52a8\u5173\u95ed\u65b9\u4f1a\u53d1\u9001 RST \u5305\u6765\u54cd\u5e94\uff0c\u88ab\u52a8\u5173\u95ed\u65b9\u5c31\u4f1a\u8ba4\u4e3a\u6709\u9519\u8bef\u53d1\u751f</li> <li>\u4e3a\u4f7f\u65e7\u7684\u6570\u636e\u5305\u5728\u7f51\u7edc\u56e0\u8fc7\u671f\u800c\u6d88\u5931\uff1a\u5982\u679c\u4e0d\u5b58\u5728  TIME_WAIT  \u72b6\u6001\uff0c\u5f53\u524d\u7684\u4e00\u4e2a TCP \u56db\u5143\u7ec4\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u5173\u95ed\u4e4b\u540e\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u65b0\u7684\u76f8\u540c\u7684\u56db\u5143\u7ec4\u5efa\u7acb\u4e86 TCP \u8fde\u63a5\uff0c\u56e0\u4e3a TCP \u8fde\u63a5\u662f\u7531\u56db\u5143\u7ec4\u552f\u4e00\u6807\u8bc6\u7684\uff0c\u6240\u4ee5\u6ca1\u6cd5\u533a\u5206\u65b0\u65e7\u8fde\u63a5\u3002\u65e7\u7684\u5df2\u7ecf\u5173\u95ed\u7684 TCP \u8fde\u63a5\u53d1\u9001\u7684\u6570\u636e\u5230\u8fbe\u63a5\u53d7\u65b9\u4e4b\u540e\uff0c\u4f1a\u88ab\u5f53\u4f5c\u6b63\u5e38\u6570\u636e\u800c\u5411\u4e0a\u4f20\u8f93\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u9519\u4e71\u3002\u6709\u4e86  TIME_WAIT  \u72b6\u6001\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u65e7 TCP \u4ea7\u751f\u7684\u6570\u636e\u5305\u5168\u90e8\u5728\u7f51\u7edc\u4e2d\u6d88\u4ea1</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_30","title":"\u5371\u5bb3","text":"<ul> <li>\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\uff0c\u6bd4\u5982\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u5185\u5b58\u8d44\u6e90\u3001CPU \u8d44\u6e90\u3001\u7ebf\u7a0b\u8d44\u6e90\u7b49</li> <li>\u5360\u7528\u7aef\u53e3\u8d44\u6e90\uff0c\u7aef\u53e3\u8d44\u6e90\u4e5f\u662f\u6709\u9650\u7684\uff0c\u4e00\u822c\u53ef\u4ee5\u5f00\u542f\u7684\u7aef\u53e3\u4e3a 32768\uff5e61000\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7  net.ipv4.ip_local_port_rang  \u53c2\u6570\u6307\u5b9a\u8303\u56f4</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_31","title":"\u907f\u514d\u65b9\u6cd5","text":"<ul> <li>\u4fee\u6539\u77ed\u8fde\u63a5\u4e3a\u957f\u8fde\u63a5</li> <li>\u6269\u5927\u53ef\u4f7f\u7528\u7aef\u53e3\u53f7\u7684\u8303\u56f4</li> <li>\u5ba2\u6237\u7aef\u673a\u5668\u6253\u5f00  tcp_tw_reuse  \u548c  tcp_timestamps \u9009\u9879\uff1atcp_tw_reuse  \u8c03\u7528 connect() \u51fd\u6570\u65f6\uff0c\u5185\u6838\u4f1a\u968f\u673a\u627e\u4e00\u4e2a time_wait \u72b6\u6001\u8d85\u8fc7 1 \u79d2\u7684\u8fde\u63a5\u7ed9\u65b0\u7684\u8fde\u63a5\u590d\u3002\u590d\u7528\u8fde\u63a5\u4e4b\u540e\u9700\u8981\u66f4\u65b0  timestamps  \u53c2\u6570\uff0c\u5f53\u65e7\u7684 TCP \u6570\u636e\u5305\u5230\u8fbe\u65f6\uff0c\u6839\u636e\u65f6\u95f4\u6233\u5224\u65ad\u662f\u65e7\u8fde\u63a5\u7684\u6570\u636e\u53ef\u4ee5\u820d\u5f03</li> <li>\u5ba2\u6237\u7aef\u673a\u5668\u6253\u5f00  tcp_tw_recycle  \u548c  tcp_timestamps  \u9009\u9879\uff1a\u5f53\u5f00\u542f\u4e4b\u540e\u5185\u6838\u4f1a\u5feb\u901f\u56de\u6536  TIME_WAIT  \u72b6\u6001\u7684\u8fde\u63a5\uff0c\u65f6\u95f4\u662f\u4e00\u4e2a RTO\uff0c\u8fdc\u5c0f\u4e8e\u4e24\u4e2a MSL \u3002\u5728\u542f\u7528\u8be5\u914d\u7f6e\uff0c\u5f53\u8fde\u63a5\u8fdb\u5165  TIME_WAIT  \u72b6\u6001\u540e\uff0c\u5185\u6838\u91cc\u4f1a\u8bb0\u5f55\u5305\u62ec\u8be5\u8fde\u63a5\u5bf9\u5e94\u4e94\u5143\u7ec4\u7684\u4e00\u4e9b\u7edf\u8ba1\u6570\u636e\uff0c\u5305\u62ec\u4ece\u8be5\u5bf9\u65b9 IP \u6240\u63a5\u6536\u5230\u7684\u6700\u8fd1\u7684\u4e00\u6b21\u6570\u636e\u5305\u65f6\u95f4\u3002\u5f53\u6709\u65b0\u7684\u6570\u636e\u5305\u5230\u8fbe\uff0c\u53ea\u8981\u65f6\u95f4\u665a\u4e8e\u5185\u6838\u8bb0\u5f55\u7684\u8fd9\u4e2a\u65f6\u95f4\uff0c\u6570\u636e\u5305\u90fd\u4f1a\u88ab\u7edf\u7edf\u7684\u4e22\u6389</li> <li>\u7f29\u5c0f  net.ipv4.tcp_max_tw_buckets\uff1a\u5f53\u7cfb\u7edf\u4e2d\u5904\u4e8e  TIME_WAIT  \u7684\u8fde\u63a5\u4e00\u65e6\u8d85\u8fc7\u8fd9\u4e2a\u503c\u65f6\uff0c\u7cfb\u7edf\u5c31\u4f1a\u5c06\u540e\u9762\u7684  TIME_WAIT  \u8fde\u63a5\u72b6\u6001\u91cd\u7f6e</li> <li>\u7a0b\u5e8f\u4e2d\u4f7f\u7528  SO_LINGER\uff1a\u8c03\u7528 close \u540e\uff0c\u4f1a\u7acb\u523b\u53d1\u9001\u4e00\u4e2a RST \u6807\u5fd7\u7ed9\u5bf9\u7aef\uff0c\u8be5 TCP \u8fde\u63a5\u5c06\u8df3\u8fc7\u56db\u6b21\u6325\u624b\uff0c\u4e5f\u5c31\u8df3\u8fc7\u4e86  TIME_WAIT  \u72b6\u6001\uff0c\u76f4\u63a5\u5173\u95ed</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp_tw_reuse","title":"tcp_tw_reuse \u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff1f","text":"<ul> <li>\u5386\u53f2 RST \u62a5\u6587\u53ef\u80fd\u4f1a\u7ec8\u6b62\u540e\u9762\u76f8\u540c\u56db\u5143\u7ec4\u7684\u8fde\u63a5\uff0c\u56e0\u4e3a PAWS \u68c0\u67e5\u5230\u5373\u4f7f RST \u662f\u8fc7\u671f\u7684\uff0c\u4e5f\u4e0d\u4f1a\u4e22\u5f03</li> <li>\u5982\u679c\u7b2c\u56db\u6b21\u6325\u624b\u7684 ACK \u62a5\u6587\u4e22\u5931\u4e86\uff0c\u6709\u53ef\u80fd\u88ab\u52a8\u5173\u95ed\u8fde\u63a5\u7684\u4e00\u65b9\u4e0d\u80fd\u88ab\u6b63\u5e38\u7684\u5173\u95ed</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#paws","title":"PAWS \u7684\u4fdd\u62a4\u673a\u5236","text":"<ul> <li>\u5e8f\u5217\u53f7\u56de\u7ed5\uff1a\u200b\u5f53\u5e8f\u5217\u53f7\u5728\u9ad8\u6570\u636e\u4f20\u8f93\u901f\u7387\u4e0b\u56de\u7ed5\u65f6\uff0c\u65e7\u7684\u6570\u636e\u5305\u53ef\u80fd\u88ab\u8bef\u8ba4\u4e3a\u65b0\u7684\u3002PAWS \u901a\u8fc7\u65f6\u95f4\u6233\u673a\u5236\uff0c\u786e\u4fdd\u53ea\u6709\u65f6\u95f4\u4e0a\u66f4\u65b0\u7684\u6570\u636e\u5305\u88ab\u63a5\u53d7\u3002</li> <li>\u8fde\u63a5\u91cd\u542f\u540e\u7684\u65e7\u6570\u636e\u5305\uff1a\u200b\u5728\u8fde\u63a5\u5173\u95ed\u540e\uff0c\u82e5\u540c\u4e00\u5bf9\u7aef\u53e3\u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\uff0c\u4e4b\u524d\u7684\u65e7\u6570\u636e\u5305\u53ef\u80fd\u4f1a\u88ab\u8bef\u8ba4\u4e3a\u65b0\u7684\u3002PAWS \u901a\u8fc7\u65f6\u95f4\u6233\u673a\u5236\uff0c\u786e\u4fdd\u53ea\u6709\u5728\u5f53\u524d\u8fde\u63a5\u4e2d\u63a5\u6536\u5230\u7684\u6700\u65b0\u6570\u636e\u5305\u88ab\u63a5\u53d7</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_32","title":"\u6f5c\u5728\u95ee\u9898\uff1a","text":"<ul> <li>NAT(\u7f51\u7edc\u5730\u5740\u8f6c\u6362)\u8bbe\u5907\u7684\u65f6\u95f4\u6233\u95ee\u9898\uff1a\u200b\u67d0\u4e9b NAT \u8bbe\u5907\u53ef\u80fd\u4f1a\u4fee\u6539 TCP \u6570\u636e\u5305\u4e2d\u7684\u65f6\u95f4\u6233\uff0c\u5bfc\u81f4 PAWS \u673a\u5236\u9519\u8bef\u5730\u4e22\u5f03\u5408\u6cd5\u7684\u6570\u636e\u5305</li> <li>\u65f6\u95f4\u6233\u540c\u6b65\u95ee\u9898\uff1a\u200b\u5982\u679c\u8fde\u63a5\u53cc\u65b9\u7684\u7cfb\u7edf\u65f6\u95f4\u4e0d\u540c\u6b65\uff0c\u53ef\u80fd\u5bfc\u81f4 PAWS \u673a\u5236\u8bef\u5224\u6570\u636e\u5305\u7684\u6709\u6548\u6027</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#time_wait-2msl","title":"TIME_WAIT \u72b6\u6001\u4e3a\u4ec0\u4e48\u9700\u8981\u7ecf\u8fc7 2MSL","text":"<p>\u56e0\u4e3a\u5ba2\u6237\u7aef\u6700\u540e\u4e00\u4e2a\u53d1\u9001\u7684 ACK \u6709\u53ef\u80fd\u4e22\u5931\u3002\u5047\u5982\u670d\u52a1\u5668\u6ca1\u6709\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6700\u540e\u4e00\u4e2a ACK\uff0c\u5c31\u4f1a\u91cd\u65b0\u53d1\u9001 FIN \u62a5\u6587\uff0c\u4e3a\u4e86\u786e\u4fdd\u670d\u52a1\u5668\u6536\u5230\u4e86 FIN \u62a5\u6587\uff0c\u5ba2\u6237\u7aef\u5728  TIME_WAIT  \u72b6\u6001\u9700\u8981\u7ecf\u8fc7 2MSL\uff0c\u5728\u8fd9\u4e2a\u671f\u95f4\u5ba2\u6237\u7aef\u6536\u5230\u91cd\u53d1\u7684 FIN \u62a5\u6587\u5c31\u4f1a\u91cd\u65b0\u53d1\u9001 ACK \u5e76\u4e14\u91cd\u8bbe\u8ba1\u65f6\u5668\u3002MSL \u6307\u4e00\u4e2a\u7247\u6bb5\u5728\u7f51\u7edc\u4e2d\u6700\u5927\u7684\u5b58\u6d3b\u65f6\u95f4\uff0c2MSL \u5c31\u662f\u4e00\u4e2a\u53d1\u9001\u548c\u4e00\u4e2a\u56de\u590d\u6240\u9700\u7684\u6700\u5927\u65f6\u95f4\u3002\u7b2c\u4e00\u4e2a MSL \u662f\u4fdd\u8bc1\u6700\u540e\u4e00\u6b21\u6325\u624b\u5ba2\u6237\u7aef\u54cd\u5e94\u670d\u52a1\u7aef\u7684 ACK \u5230\u8fbe\u4e86\u670d\u52a1\u7aef\u3002\u7b2c\u4e8c\u4e2a MSL \u662f\u4fdd\u8bc1\u670d\u52a1\u7aef\u6ca1\u6709\u91cd\u53d1\u65b0\u7684\u62a5\u6587\u7ed9\u5ba2\u6237\u7aef\uff0c\u6ca1\u6709\u8d85\u65f6\u91cd\u4f20\u3002</p> <p>\u5982\u679c\u5ba2\u6237\u7aef\u76f4\u63a5\u5173\u95ed\uff0c\u7136\u540e\u5411\u670d\u52a1\u5668\u5efa\u7acb\u65b0\u8fde\u63a5\uff0c\u5982\u679c\u65b0\u8fde\u63a5\u548c\u8001\u8fde\u63a5\u7684\u7aef\u53e3\u662f\u4e00\u6837\u7684\u3002\u5047\u8bbe\u8001\u8fde\u63a5\u8fd8\u6709\u4e00\u4e9b\u6570\u636e\uff0c\u56e0\u4e3a\u7f51\u7edc\u6216\u8005\u5176\u4ed6\u539f\u56e0\uff0c\u4e00\u76f4\u6ede\u7559\u6ca1\u6709\u53d1\u9001\u6210\u529f\uff0c\u65b0\u8fde\u63a5\u5efa\u7acb\u540e\uff0c\u5c31\u76f4\u63a5\u53d1\u9001\u5230\u65b0\u8fde\u63a5\u91cc\u9762\u53bb\u4e86\uff0c\u9020\u6210\u6570\u636e\u7684\u7d0a\u4e71\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u7b49\u52302MSL\uff0c\u8ba9\u6ede\u7559\u5728\u7f51\u7edc\u4e2d\u7684\u62a5\u6587\u5931\u6548\uff0c\u518d\u53bb\u5efa\u7acb\u65b0\u7684\u8fde\u63a5\u3002</p> <p>2MSL \u7684\u65f6\u95f4\u662f\u4ece\u5ba2\u6237\u7aef\u63a5\u6536\u5230 FIN \u540e\u53d1\u9001 ACK \u5f00\u59cb\u8ba1\u65f6\u7684\u3002\u5982\u679c\u5728 TIME-WAIT \u65f6\u95f4\u5185\uff0c\u56e0\u4e3a\u5ba2\u6237\u7aef\u7684 ACK \u6ca1\u6709\u4f20\u8f93\u5230\u670d\u52a1\u7aef\uff0c\u5ba2\u6237\u7aef\u53c8\u63a5\u6536\u5230\u4e86\u670d\u52a1\u7aef\u91cd\u53d1\u7684 FIN \u62a5\u6587\uff0c\u90a3\u4e48 2MSL \u65f6\u95f4\u5c06\u91cd\u65b0\u8ba1\u65f6</p>"},{"location":"Computer%20Network/ComputerNetwork/#close_wait","title":"CLOSE_WAIT \u72b6\u6001\u8fc7\u591a\u5982\u4f55\u89e3\u51b3\uff1f","text":"<p>\u5982\u679c\u4e00\u76f4\u4fdd\u6301\u5728  CLOSE_WAIT  \u72b6\u6001\uff0c\u539f\u56e0\u662f\u5728\u5bf9\u65b9\u5173\u95ed\u8fde\u63a5\u4e4b\u540e\u670d\u52a1\u5668\u7a0b\u5e8f\u81ea\u5df1\u6ca1\u6709\u8fdb\u4e00\u6b65\u53d1\u51fa ACK \u4fe1\u53f7\u3002</p> <p>CLOSE_WAIT  \u7684\u89e3\u51b3\u529e\u6cd5\u662f\uff1a\u67e5\u4ee3\u7801\u3002\u56e0\u4e3a\u95ee\u9898\u51fa\u5728\u670d\u52a1\u5668\u7a0b\u5e8f</p>"},{"location":"Computer%20Network/ComputerNetwork/#tcp-udp_1","title":"TCP \u548c UDP \u7684\u533a\u522b\uff1f","text":"<ul> <li>TCP \u662f\u9762\u5411\u8fde\u63a5\u7684\u3002\u5728\u901a\u4fe1\u4e4b\u524d\u9700\u8981\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0c\u901a\u4fe1\u4e4b\u540e\u65ad\u5f00\u8fde\u63a5\u65f6\u9700\u8981\u56db\u6b21\u6325\u624b\uff1b UDP \u4e0d\u9700\u8981\u8fdb\u884c\u8fde\u63a5\u5efa\u7acb</li> <li>TCP \u662f\u53ef\u9760\u4f20\u8f93\u670d\u52a1\u3002\u901a\u8fc7 TCP \u4f20\u8f93\u6570\u636e\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u65e0\u5dee\u9519\u3001\u4e0d\u4e22\u5931\u3001\u4e0d\u91cd\u590d\uff1bUDP \u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u4e0d\u4fdd\u8bc1\u53ef\u9760\u4ea4\u4ed8</li> <li>\u6bcf\u4e2a TCP \u5bf9\u5e94\u7684\u662f\u70b9\u5bf9\u70b9\u7684\u8fde\u63a5\uff1b UDP \u652f\u6301\u4e00\u5bf9\u4e00\u3001\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u4e00\u3001\u591a\u5bf9\u591a\u7b49\u591a\u79cd\u65b9\u5f0f\u7684\u901a\u8baf </li> <li>UDP \u5bf9\u7cfb\u7edf\u8d44\u6e90\u8981\u6c42\u8f83\u5c11\uff0c\u901a\u8baf\u6548\u7387\u9ad8\uff0c\u5b9e\u65f6\u6027\u597d\uff0c\u5e94\u7528\u4e8e\u9ad8\u901f\u4f20\u8f93\u5e76\u4e14\u5bf9\u5b9e\u65f6\u6027\u6709\u8981\u6c42\u7684\u901a\u4fe1\uff1b TCP \u9002\u5408\u9700\u8981\u53ef\u9760\u8fde\u63a5\uff0c\u6bd4\u5982\u4ed8\u8d39\u3001\u52a0\u5bc6\u6570\u636e\u7b49\u7b49\u65b9\u5411\u90fd\u9700\u8981\u4f9d\u9760 TCP</li> <li>TCP \u9996\u90e8\u957f\u5ea6\u8f83\u957f\uff0c\u4f1a\u6709\u4e00\u5b9a\u7684\u5f00\u9500\uff0c\u9996\u90e8\u5728\u6ca1\u6709\u4f7f\u7528\u300c\u9009\u9879\u300d\u5b57\u6bb5\u65f6\u662f 20 \u4e2a\u5b57\u8282\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u300c\u9009\u9879\u300d\u5b57\u6bb5\u5219\u4f1a\u53d8\u957f\u7684\uff1b UDP \u9996\u90e8\u53ea\u6709 8 \u4e2a\u5b57\u8282\uff0c\u5e76\u4e14\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684</li> <li>TCP \u662f\u6d41\u5f0f\u4f20\u8f93\uff0c\u6ca1\u6709\u8fb9\u754c\uff0c\u4f46\u4fdd\u8bc1\u987a\u5e8f\u548c\u53ef\u9760\u3002 UDP \u662f\u4e00\u4e2a\u5305\u4e00\u4e2a\u5305\u7684\u53d1\u9001\uff0c\u662f\u6709\u8fb9\u754c\u7684\uff0c\u53ef\u80fd\u4f1a\u4e22\u5305\u548c\u4e71\u5e8f</li> <li>TCP \u7684\u6570\u636e\u5927\u5c0f\u5982\u679c\u5927\u4e8e MSS \u5927\u5c0f\uff0c\u5219\u4f1a\u5728\u4f20\u8f93\u5c42\u8fdb\u884c\u5206\u7247\uff0c\u76ee\u6807\u4e3b\u673a\u6536\u5230\u540e\uff0c\u4e5f\u540c\u6837\u5728\u4f20\u8f93\u5c42\u7ec4\u88c5 TCP \u6570\u636e\u5305\uff0c\u5982\u679c\u4e2d\u9014\u4e22\u5931\u4e86\u4e00\u4e2a\u5206\u7247\uff0c\u53ea\u9700\u8981\u4f20\u8f93\u4e22\u5931\u7684\u8fd9\u4e2a\u5206\u7247\u3002 UDP \u7684\u6570\u636e\u5927\u5c0f\u5982\u679c\u5927\u4e8e MTU \u5927\u5c0f\uff0c\u5219\u4f1a\u5728 IP \u5c42\u8fdb\u884c\u5206\u7247\uff0c\u76ee\u6807\u4e3b\u673a\u6536\u5230\u540e\uff0c\u5728 IP \u5c42\u7ec4\u88c5\u5b8c\u6570\u636e\uff0c\u63a5\u7740\u518d\u4f20\u7ed9\u4f20\u8f93\u5c42</li> <li>\u5e94\u7528\u573a\u666f\uff1aTCP \u7528\u4e8e FTP \u6587\u4ef6\u4f20\u8f93\u3001HTTP / HTTPs\uff1bUDP \u7528\u4e8e\u5305\u603b\u91cf\u8f83\u5c11\u7684\u901a\u4fe1\uff0c\u5982 DNS\u3001SNMP \u7b49\u3001\u89c6\u9891\u3001\u97f3\u9891\u7b49\u591a\u5a92\u4f53\u901a\u4fe1\u3001\u5e7f\u64ad\u901a\u4fe1</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_33","title":"\u7c98\u5305\u548c\u62c6\u5305\u95ee\u9898\u7684\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_34","title":"\u6982\u5ff5","text":"<ul> <li>TCP \u7684\u7279\u70b9\u4e4b\u4e00\u5c31\u662f\u9762\u5411\u5b57\u8282\u6d41\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f20\u8f93\u65f6\u5019\u6570\u636e\u50cf\u201c\u6c34\u6d41\u4e00\u6837\u201d\uff0c\u662f\u6ca1\u6709\u8fb9\u754c\u7684\uff0c\u56e0\u6b64 \u62c6\u5305\u8fd9\u4e2a\u529f\u80fd\u672c\u8eab\u5c31\u4e0d\u5728 TCP \u6765\u5b8c\u6210 </li> <li>\u6240\u8c13\u7684\u7c98\u5305\u62c6\u5305\u5c31\u662f TCP \u6d41\u7684\u7279\u6027\u5bfc\u81f4\u7684\uff0c\u800c\u4e14\u6839\u672c\u4e0d\u80fd\u8bf4\u662f\u95ee\u9898\uff0c\u62c6\u5305\u672c\u8eab\u5c31\u5e94\u8be5\u5728\u5e94\u7528\u5c42\u6765\u5b8c\u6210</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_35","title":"\u89e3\u51b3\u529e\u6cd5","text":"<ul> <li>\u9047\u5230\u8fd9\u4e2a\u9762\u8bd5\u9898\uff0c\u4f5c\u8005\u4e2a\u4eba\u8ba4\u4e3a\u662f\u9762\u8bd5\u5b98\u57fa\u7840\u4e0d\u624e\u5b9e\u624d\u4f1a\u95ee\u51fa\u6765\uff0c\u5c31\u76f4\u63a5\u603c\u5b83</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#tcp-keepalive-http-keepalive","title":"TCP \u7684 keepalive \u548c HTTP \u7684 keepalive \u7684\u533a\u522b\uff1f","text":"<ul> <li>HTTP \u7684 Keep-Alive \u662f\u7531\u5e94\u7528\u5c42(\u7528\u6237\u6001)\u5b9e\u73b0\u7684\uff0c\u79f0\u4e3a HTTP \u957f\u8fde\u63a5\uff1b TCP \u7684 Keepalive\uff0c\u662f\u7531 TCP \u5c42(\u5185\u6838\u6001)\u5b9e\u73b0\u7684\uff0c\u79f0\u4e3a TCP \u4fdd\u6d3b\u673a\u5236</li> <li>HTTP Keep-Alive \u662f\u6307\u4f7f\u7528\u540c\u4e00\u4e2a TCP \u8fde\u63a5\u6765\u53d1\u9001\u548c\u63a5\u6536\u591a\u4e2a HTTP \u8bf7\u6c42/\u5e94\u7b54\uff0c\u597d\u5904\u662f\u907f\u514d\u4e86\u8fde\u63a5\u5efa\u7acb\u548c\u91ca\u653e\u7684\u5f00\u9500\uff0c\u53ea\u8981\u4efb\u610f\u4e00\u7aef\u6ca1\u6709\u660e\u786e\u63d0\u51fa\u65ad\u5f00\u8fde\u63a5\uff0c\u5c31\u4fdd\u6301 TCP \u8fde\u63a5\u72b6\u6001\uff1b TCP Keepalive \u662f\u6307\u5efa\u7acb TCP \u8fde\u63a5\u7684\u4e24\u7aef\u4e00\u76f4\u6ca1\u6709\u6570\u636e\u4ea4\u4e92\u8fbe\u5230\u89e6\u53d1 TCP \u4fdd\u6d3b\u673a\u5236\u7684\u6761\u4ef6\uff0c\u5185\u6838\u91cc\u7684 TCP \u534f\u8bae\u6808\u5c31\u4f1a\u53d1\u9001\u63a2\u6d4b\u62a5\u6587\uff0c\u5982\u679c\u5bf9\u7aef\u7a0b\u5e8f\u6b63\u5e38\u5de5\u4f5c\uff0c\u6536\u5230\u63a2\u6d4b\u62a5\u6587\u4e4b\u540e\u5c31\u4f1a\u56de\u590d\u54cd\u5e94\uff0c\u540c\u65f6\u4fdd\u6d3b\u65f6\u95f4\u91cd\u7f6e\uff0c\u5982\u679c\u5bf9\u7aef\u4e3b\u673a\u5d29\u6e83\u6ca1\u6709\u54cd\u5e94\u6216\u8005\u7f51\u7edc\u539f\u56e0\u62a5\u6587\u4e0d\u53ef\u8fbe\uff0c\u8fde\u7eed\u51e0\u6b21\u63a2\u6d4b\u62a5\u6587\u4e4b\u540e TCP \u4f1a\u62a5\u544a\u8be5 TCP \u8fde\u63a5\u5df2\u7ecf\u6b7b\u4ea1 </li> <li>web \u670d\u52a1\u8f6f\u4ef6\u4e00\u822c\u90fd\u4f1a\u63d0\u4f9b keepalive_timeout \u53c2\u6570\u6765\u6307\u5b9a HTTP \u957f\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u4f8b\u5982\u8bbe\u7f6e\u4e86 HTTP \u957f\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u662f 60 \u79d2\uff0cweb \u670d\u52a1\u8f6f\u4ef6\u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5728\u5b8c\u6210\u4e00\u4e2a HTTP \u8bf7\u6c42\u540e\uff0c\u5728 60 \u79d2\u5185\u90fd\u6ca1\u6709\u518d\u53d1\u8d77\u65b0\u7684\u8bf7\u6c42\uff0c\u5b9a\u65f6\u5668\u7684\u65f6\u95f4\u4e00\u5230\uff0c\u5c31\u4f1a\u89e6\u53d1\u56de\u8c03\u51fd\u6570\u6765\u91ca\u653e\u8be5\u8fde\u63a5</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#ip-tcp-mss","title":"IP \u5c42\u4f1a\u5206\u7247\uff0c\u4e3a\u4ec0\u4e48 TCP \u5c42\u8fd8\u9700\u8981 MSS \u5462\uff1f","text":"<ul> <li>MTU\uff1a\u4e00\u4e2a\u7f51\u7edc\u5305\u7684\u6700\u5927\u957f\u5ea6\uff0c\u4ee5\u592a\u7f51\u4e2d\u4e00\u822c\u4e3a 1500 \u5b57\u8282</li> <li>MSS\uff1a\u9664\u53bb IP \u548c TCP \u5934\u90e8\u4e4b\u540e\uff0c\u4e00\u4e2a\u7f51\u7edc\u5305\u6240\u80fd\u5bb9\u7eb3\u7684 TCP \u6570\u636e\u7684\u6700\u5927\u957f\u5ea6</li> </ul> <p>\u5982\u679c\u4ea4\u7ed9 IP \u6765\u8fdb\u884c\u5206\u7247\uff0c\u4e00\u4e2a IP \u5206\u7247\u4e22\u5931\uff0c\u6574\u4e2a IP \u62a5\u6587\u7684\u6240\u6709\u5206\u7247\u90fd\u5f97\u91cd\u4f20\u3002\u56e0\u4e3a IP \u5c42\u672c\u8eab\u6ca1\u6709\u8d85\u65f6\u91cd\u4f20\u673a\u5236\uff0c\u5b83\u7531\u4f20\u8f93\u5c42\u7684 TCP \u6765\u8d1f\u8d23\u8d85\u65f6\u548c\u91cd\u4f20\u3002\u5f53\u67d0\u4e00\u4e2a IP \u5206\u7247\u4e22\u5931\u540e\uff0c\u63a5\u6536\u65b9\u7684 IP \u5c42\u5c31\u65e0\u6cd5\u7ec4\u88c5\u6210\u4e00\u4e2a\u5b8c\u6574\u7684 TCP \u62a5\u6587(\u5934\u90e8 + \u6570\u636e)\uff0c\u4e5f\u5c31\u65e0\u6cd5\u5c06\u6570\u636e\u62a5\u6587\u9001\u5230 TCP \u5c42\uff0c\u6240\u4ee5\u63a5\u6536\u65b9\u4e0d\u4f1a\u54cd\u5e94 ACK \u7ed9\u53d1\u9001\u65b9\uff0c\u56e0\u4e3a\u53d1\u9001\u65b9\u8fdf\u8fdf\u6536\u4e0d\u5230 ACK \u786e\u8ba4\u62a5\u6587\uff0c\u6240\u4ee5\u4f1a\u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u5c31\u4f1a\u91cd\u53d1\u6574\u4e2a TCP \u62a5\u6587(\u5934\u90e8 + \u6570\u636e)\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#ip","title":"\ud83d\udfe2 IP","text":""},{"location":"Computer%20Network/ComputerNetwork/#dns","title":"DNS \u67e5\u8be2\u670d\u52a1\u5668\u7684\u57fa\u672c\u6d41\u7a0b\uff1f","text":"<ul> <li>\u5ba2\u6237\u673a\u5411\u5176\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u53d1\u51fa DNS \u8bf7\u6c42\u62a5\u6587</li> <li>\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u67e5\u8be2\u672c\u5730\u7f13\u5b58\uff0c\u5047\u8bbe\u6ca1\u6709\u8be5\u8bb0\u5f55\uff0c\u5219\u4ee5 DNS \u5ba2\u6237\u7684\u8eab\u4efd\u5411 \u6839\u57df\u540d\u670d\u52a1\u5668 \u53d1\u51fa\u89e3\u6790\u8bf7\u6c42</li> <li>\u6839\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5224\u65ad\u8be5\u57df\u540d\u6240\u5c5e\u57df\uff0c\u5c06\u5bf9\u5e94\u7684 \u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668 \u7684 IP \u5730\u5740\u8fd4\u56de\u7ed9\u672c\u5730\u57df\u540d\u670d\u52a1\u5668</li> <li>\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u5411\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u53d1\u51fa\u89e3\u6790\u8bf7\u6c42\u62a5\u6587</li> <li>\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5c06\u6240\u5bf9\u5e94\u7684 \u6388\u6743\u57df\u540d\u670d\u52a1\u5668 \u7684 IP \u5730\u5740\u8fd4\u56de\u7ed9 \u672c\u5730\u57df\u540d\u670d\u52a1\u5668 </li> <li>\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u5411\u6388\u6743\u57df\u540d\u670d\u52a1\u5668\u53d1\u8d77\u89e3\u6790\u8bf7\u6c42\u62a5\u6587</li> <li>\u6388\u6743\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5c06 \u67e5\u8be2\u7ed3\u679c\u8fd4\u56de\u7ed9\u672c\u5730\u57df\u540d\u670d\u52a1\u5668 </li> <li>\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u5c06\u67e5\u8be2\u7ed3\u679c \u4fdd\u5b58\u5230\u672c\u5730\u7f13\u5b58\uff0c\u540c\u65f6\u8fd4\u56de\u7ed9\u5ba2\u6237\u673a</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#dns-tcp-udp","title":"DNS \u91c7\u7528 TCP \u8fd8\u662f UDP\uff0c\u4e3a\u4ec0\u4e48\uff1f","text":"<p>DNS \u5728 \u8fdb\u884c\u533a\u57df\u4f20\u8f93\u7684\u65f6\u5019\u4f7f\u7528 TCP \u534f\u8bae\uff0c \u5176\u5b83\u65f6\u5019\u5219\u4f7f\u7528 UDP \u534f\u8bae\u3002TCP \u4e0e UDP \u4f20\u9001\u5b57\u8282\u7684\u957f\u5ea6\u9650\u5236\u4e0d\u540c\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e00\u4e2a DNS \u7684 UDP \u5305\u7684\u6700\u5927\u957f\u5ea6\u662f 512 \u5b57\u8282\u3002</p> <p>\u533a\u57df\u4f20\u8f93\u4f7f\u7528 TCP \u534f\u8bae\u7684\u539f\u56e0\u5927\u6982\u662f\uff1a - \u533a\u57df\u4f20\u8f93\u7684\u6570\u636e\u91cf\u76f8\u6bd4\u5355\u6b21 DNS \u67e5\u8be2\u7684\u6570\u636e\u91cf\u8981\u5927\u5f97\u591a - \u533a\u57df\u4f20\u8f93\u5bf9\u6570\u636e\u7684\u53ef\u9760\u6027\u548c\u51c6\u786e\u6027\u76f8\u6bd4\u666e\u901a\u7684 DNS \u67e5\u8be2\u8981\u8981\u9ad8\u5f97\u591a\uff0c\u56e0\u6b64\u4f7f\u7528 TCP \u534f\u8bae</p> <p>\u57df\u540d\u89e3\u6790\u65f6\u4e00\u822c\u8fd4\u56de\u7684\u5185\u5bb9\u90fd\u4e0d\u8d85\u8fc7 512 \u5b57\u8282\uff0c\u9996\u9009\u7684\u901a\u8baf\u534f\u8bae\u662f UDP\u3002\u4f7f\u7528 UDP \u4f20\u8f93\uff0c\u4e0d\u7528\u7ecf\u8fc7 TCP \u4e09\u6b21\u63e1\u624b\uff0c\u8fd9\u6837 DNS \u670d\u52a1\u5668\u8d1f\u8f7d\u66f4\u4f4e\uff0c\u54cd\u5e94\u66f4\u5feb\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#dns_1","title":"DNS \u52ab\u6301\u662f\u4ec0\u4e48\uff1f\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_36","title":"\u6982\u5ff5","text":"<ul> <li>\u672c\u5730 DNS \u52ab\u6301\uff1a\u653b\u51fb\u8005\u5728\u7528\u6237\u7684\u8ba1\u7b97\u673a\u4e0a\u5b89\u88c5\u6728\u9a6c\u6076\u610f\u8f6f\u4ef6\uff0c\u5e76\u66f4\u6539\u672c\u5730 DNS \u8bbe\u7f6e\u4ee5\u5c06\u7528\u6237\u91cd\u5b9a\u5411\u5230\u6076\u610f\u7ad9\u70b9</li> <li>\u8def\u7531\u5668 DNS \u52ab\u6301\uff1a\u653b\u51fb\u8005\u63a5\u7ba1\u8def\u7531\u5668\u5e76\u8986\u76d6 DNS \u8bbe\u7f6e\uff0c\u4ece\u800c\u5f71\u54cd\u8fde\u63a5\u5230\u8be5\u8def\u7531\u5668\u7684\u6240\u6709\u7528\u6237</li> <li>\u4e2d\u95f4\u4eba DNS \u653b\u51fb\uff1a\u653b\u51fb\u8005\u62e6\u622a\u7528\u6237\u548c DNS \u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u5e76\u63d0\u4f9b\u6307\u5411\u6076\u610f\u7ad9\u70b9\u7684\u4e0d\u540c\u76ee\u6807 IP \u5730\u5740</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_37","title":"\u89e3\u51b3\u65b9\u6cd5","text":"<ul> <li>\u52a0\u5f3a\u57df\u540d\u8d26\u6237\u7684\u5b89\u5168\u9632\u62a4\u80fd\u529b\uff0c\u4f7f\u7528\u6709\u522b\u4e8e\u5176\u4ed6\u5e73\u53f0\u7684\u7528\u6237\u540d\u548c\u5f3a\u5bc6\u7801\uff0c\u5b9a\u671f\u5bf9\u5bc6\u7801\u8fdb\u884c\u66f4\u6362</li> <li>\u5b9a\u671f\u67e5\u770b\u57df\u540d\u8d26\u6237\u4fe1\u606f\u3001\u57df\u540d whois \u4fe1\u606f\u3001\u57df\u540d\u89e3\u6790\u72b6\u6001\uff0c\u6bcf\u5929 site \u7f51\u7ad9\u68c0\u67e5\u662f\u5426\u5b58\u5728\u975e\u4e2a\u4eba\u8bbe\u5b9a\u7f51\u9875\uff0c\u53d1\u73b0\u5f02\u5e38\u53ca\u65f6\u8054\u7cfb\u57df\u540d\u670d\u52a1\u5546</li> <li>\u9501\u5b9a\u57df\u540d\u89e3\u6790\u72b6\u6001\uff0c\u4e0d\u5141\u8bb8\u901a\u8fc7 DNS \u670d\u52a1\u5546\u7f51\u7ad9\u4fee\u6539\u8bb0\u5f55\uff0c\u4f7f\u7528\u6b64\u65b9\u6cd5\u540e\uff0c\u9700\u8981\u505a\u57df\u540d\u89e3\u6790\u90fd\u8981\u901a\u8fc7\u670d\u52a1\u5546\u6765\u5b8c\u6210\uff0c\u8fd9\u6837\u53ef\u4ee5\u4ece\u6839\u672c\u4e0a\u675c\u7edd\u901a\u8fc7\u653b\u51fb\u670d\u52a1\u5546\u4fee\u6539\u89e3\u6790\u8bb0\u5f55\u7684\u65b9\u6cd5</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#url","title":"\u6d4f\u89c8\u5668\u8f93\u5165\u4e00\u4e2a URL \u5230\u663e\u793a\u5668\u663e\u793a\u7684\u8fc7\u7a0b\uff1f","text":"<ul> <li>\u952e\u76d8\u8f93\u5165\uff1a\u8f93\u5165\u952e\u76d8\u5b57\u7b26\u540e\u952e\u76d8\u5c31\u4f1a\u4ea7\u751f\u626b\u63cf\u6570\u636e\uff0c\u5e76\u5c06\u5176\u7f13\u51b2\u5b58\u5728\u5bc4\u5b58\u5668\u4e2d\uff0c\u7136\u540e\u952e\u76d8\u901a\u8fc7\u603b\u7ebf\u7ed9 CPU \u53d1\u9001\u4e2d\u65ad\u8bf7\u6c42\u3002CPU \u6536\u5230\u4e2d\u65ad\u8bf7\u6c42\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4fdd\u5b58\u88ab\u4e2d\u65ad\u8fdb\u7a0b\u7684 CPU \u4e0a\u4e0b\u6587\uff0c\u7136\u540e\u8c03\u7528\u952e\u76d8\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3002\u952e\u76d8\u4e2d\u65ad\u5904\u7406\u51fd\u6570\u4ece\u952e\u76d8\u7684\u5bc4\u5b58\u5668\u7684\u7f13\u51b2\u533a\u8bfb\u53d6\u626b\u63cf\u7801\uff0c\u518d\u6839\u636e\u626b\u63cf\u7801\u627e\u5230\u7528\u6237\u5728\u952e\u76d8\u8f93\u5165\u7684\u5b57\u7b26\u7684 ASCII \u7801\u3002\u7136\u540e\u628a ASCII \u7801\u653e\u5230\u8bfb\u7f13\u51b2\u533a\u961f\u5217\uff0c\u663e\u793a\u5668\u4f1a\u5b9a\u65f6\u4ece\u8bfb\u7f13\u51b2\u533a\u961f\u5217\u8bfb\u53d6\u6570\u636e\u653e\u5230\u5199\u7f13\u51b2\u533a\u961f\u5217\uff0c\u6700\u540e\u628a\u5199\u7f13\u51b2\u533a\u961f\u5217\u7684\u6570\u636e\u4e00\u4e2a\u4e00\u4e2a\u5199\u5165\u5230\u663e\u793a\u5668\u7684\u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e\u7f13\u51b2\u533a\uff0c\u6700\u540e\u5c06\u8fd9\u4e9b\u6570\u636e\u663e\u793a\u5728\u5c4f\u5e55\u91cc</li> <li>URL \u89e3\u6790\uff1a\u6d4f\u89c8\u5668\u4f1a\u9996\u5148\u4ece\u7f13\u5b58\u4e2d\u627e\u662f\u5426\u5b58\u5728\u57df\u540d\uff0c\u5982\u679c\u5b58\u5728\u5c31\u76f4\u63a5\u53d6\u51fa\u5bf9\u5e94\u7684 IP \u5730\u5740\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u5f00\u542f\u4e00\u4e2a DNS \u57df\u540d\u89e3\u6790\u5668\u3002DNS \u57df\u540d\u89e3\u6790\u5668\u4f1a\u9996\u5148\u8bbf\u95ee\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\uff0c\u5c06\u5bf9\u5e94\u7684 IP \u53d1\u7ed9\u5ba2\u6237\u7aef\uff1b\u7136\u540e\u8bbf\u95ee\u6839\u57df\u540d\u89e3\u6790\u5668\uff0c\u5c06\u5bf9\u5e94\u7684 IP \u53d1\u7ed9\u5ba2\u6237\u7aef\uff1b\u6700\u540e\u8bbf\u95ee\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\uff0c\u5f97\u5230\u6700\u7ec8\u7684 IP \u5730\u5740</li> <li>TCP \u8fde\u63a5\uff1a\u5728 URL \u89e3\u6790\u8fc7\u7a0b\u4e2d\u5f97\u5230\u771f\u5b9e\u7684 IP \u5730\u5740\u4e4b\u540e\uff0c\u4f1a\u8c03\u7528 Socket \u51fd\u6570\u5efa\u7acb TCP \u8fde\u63a5</li> <li>HTTP \u8bf7\u6c42\uff1a\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u8d77\u4e00\u4e2a HTTP \u8bf7\u6c42\uff0cHTTP \u534f\u8bae\u662f\u5efa\u7acb\u5728 TCP \u534f\u8bae\u4e4b\u4e0a\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5176\u672c\u8d28\u662f\u5efa\u7acb\u8d77\u7684 TCP \u8fde\u63a5\u4e2d\uff0c\u6309\u7167 HTTP \u534f\u8bae\u6807\u51c6\u53d1\u9001\u4e00\u4e2a\u7d22\u8981\u7f51\u9875\u7684\u8bf7\u6c42\u3002\u8bf7\u6c42\u5305\u542b\u8bf7\u6c42\u884c\u3001\u8bf7\u6c42\u5934\u3001\u8bf7\u6c42\u4f53\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u6709 GET\u3001POST \u7b49\u4e3b\u8981\u65b9\u6cd5</li> <li>\u6d4f\u89c8\u5668\u63a5\u53d7\u54cd\u5e94\uff1a\u670d\u52a1\u5668\u5728\u6536\u5230\u6d4f\u89c8\u5668\u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u4e4b\u540e\uff0c\u4f1a\u5c06\u6536\u5230\u7684 HTTP  \u62a5\u6587\u5c01\u88c5\u6210 HTTP \u7684 Request \u5bf9\u8c61\uff0c\u5e76\u901a\u8fc7\u4e0d\u540c\u7684 Web \u670d\u52a1\u5668\u8fdb\u884c\u5904\u7406\uff0c\u5904\u7406\u5b8c\u7684\u7ed3\u679c\u4ee5 HTTP \u7684 Response \u5bf9\u8c61\u8fd4\u56de\uff0c\u4e3b\u8981\u5305\u62ec\u72b6\u6001\u7801\uff0c\u54cd\u5e94\u5934\uff0c\u54cd\u5e94\u62a5\u6587\u4e09\u4e2a\u90e8\u5206</li> <li>\u9875\u9762\u6e32\u67d3\uff1a\u6d4f\u89c8\u5668\u6839\u636e\u54cd\u5e94\u5f00\u59cb\u663e\u793a\u9875\u9762\uff0c\u9996\u5148\u89e3\u6790 HTML \u6587\u4ef6\u6784\u5efa DOM \u6811\uff0c\u7136\u540e\u89e3\u6790 CSS \u6587\u4ef6\u6784\u5efa\u6e32\u67d3\u6811\uff0c\u7b49\u5230\u6e32\u67d3\u6811\u6784\u5efa\u5b8c\u6210\u540e\uff0c\u6d4f\u89c8\u5668\u5f00\u59cb\u5e03\u5c40\u6e32\u67d3\u6811\u5e76\u5c06\u5176\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a</li> <li>\u65ad\u5f00\u8fde\u63a5\uff1a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u56db\u6b21\u6325\u624b\u7ec8\u6b62 TCP \u8fde\u63a5</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#ping","title":"PING \u662f\u600e\u4e48\u5de5\u4f5c\u7684\uff1f","text":"<p>ping \u547d\u4ee4\u6267\u884c\u7684\u65f6\u5019\uff0c\u6e90\u4e3b\u673a\u9996\u5148\u4f1a\u6784\u5efa\u4e00\u4e2a  ICMP \u56de\u9001\u8bf7\u6c42\u6d88\u606f\u6570\u636e\u5305\uff0c\u7531 ICMP \u534f\u8bae\u5c06\u8fd9\u4e2a\u6570\u636e\u5305\u8fde\u540c\u670d\u52a1\u7aef IP \u4e00\u8d77\u4ea4\u7ed9 IP \u5c42\uff0cIP \u5c42\u5c06\u4ee5\u670d\u52a1\u7aef IP \u4f5c\u4e3a\u76ee\u7684\u5730\u5740\uff0c\u672c\u673a IP \u5730\u5740\u4f5c\u4e3a\u6e90\u5730\u5740\uff0c\u534f\u8bae\u5b57\u6bb5\u8bbe\u7f6e\u4e3a 1\uff0c\u518d\u52a0\u4e0a\u4e00\u4e9b\u5176\u4ed6\u63a7\u5236\u4fe1\u606f\uff0c\u6784\u5efa\u4e00\u4e2a IP \u6570\u636e\u5305\uff1b\u7136\u540e\u52a0\u5165 MAC \u5934\uff1b\u5982\u679c\u5728\u672c\u5730 ARP \u6620\u5c04\u8868\u4e2d\u67e5\u627e\u51fa\u670d\u52a1\u7aef IP \u6240\u5bf9\u5e94\u7684 MAC \u5730\u5740\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u9700\u8981\u53d1\u9001 ARP \u534f\u8bae\u67e5\u8be2 MAC \u5730\u5740\u3002 \u83b7\u5f97 MAC \u5730\u5740\u540e\uff0c\u7531\u6570\u636e\u94fe\u8def\u5c42\u6784\u5efa\u4e00\u4e2a\u6570\u636e\u5e27\uff0c\u76ee\u7684\u5730\u5740\u662f IP \u5c42\u4f20\u8fc7\u6765\u7684 MAC \u5730\u5740\uff0c\u6e90\u5730\u5740\u5219\u662f\u672c\u673a\u7684 MAC \u5730\u5740\uff1b\u8fd8\u8981\u9644\u52a0\u4e0a\u4e00\u4e9b\u63a7\u5236\u4fe1\u606f\uff0c\u4f9d\u636e\u4ee5\u592a\u7f51\u7684\u4ecb\u8d28\u8bbf\u95ee\u89c4\u5219\u5c06\u5b83\u4eec\u4f20\u9001\u51fa\u53bb\u3002</p> <p>\u76ee\u7684\u4e3b\u673a\u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5e27\u540e\uff0c\u5148\u68c0\u67e5\u5b83\u7684\u76ee\u7684 MAC \u5730\u5740\uff0c\u5e76\u548c\u672c\u673a\u7684 MAC \u5730\u5740\u5bf9\u6bd4\uff0c\u5982\u7b26\u5408\uff0c\u5219\u63a5\u6536\uff0c\u5426\u5219\u5c31\u4e22\u5f03\u3002\u63a5\u6536\u540e\u68c0\u67e5\u8be5\u6570\u636e\u5e27\uff0c\u5c06 IP \u6570\u636e\u5305\u4ece\u5e27\u4e2d\u63d0\u53d6\u51fa\u6765\uff0c\u4ea4\u7ed9\u672c\u673a\u7684 IP \u5c42\u3002IP \u5c42\u68c0\u67e5\u540e\uff0c\u5c06\u6709\u7528\u7684\u4fe1\u606f\u63d0\u53d6\u540e\u4ea4\u7ed9 ICMP \u534f\u8bae\u3002 \u4e3b\u673a B \u4f1a\u6784\u5efa\u4e00\u4e2a ICMP \u56de\u9001\u54cd\u5e94\u6d88\u606f\u6570\u636e\u5305\uff0c\u56de\u9001\u54cd\u5e94\u6570\u636e\u5305\u7684\u7c7b\u578b\u5b57\u6bb5\u4e3a 0\uff0c\u5e8f\u53f7\u4e3a\u63a5\u6536\u5230\u7684\u8bf7\u6c42\u6570\u636e\u5305\u4e2d\u7684\u5e8f\u53f7\uff0c\u7136\u540e\u518d\u53d1\u9001\u51fa\u53bb\u7ed9\u4e3b\u673a A\u3002</p> <p>\u5728\u89c4\u5b9a\u7684\u65f6\u5019\u95f4\u5185\uff0c\u6e90\u4e3b\u673a\u5982\u679c\u6ca1\u6709\u63a5\u5230 ICMP \u7684\u5e94\u7b54\u5305\uff0c\u5219\u8bf4\u660e\u76ee\u6807\u4e3b\u673a\u4e0d\u53ef\u8fbe\uff1b\u5982\u679c\u63a5\u6536\u5230\u4e86 ICMP \u56de\u9001\u54cd\u5e94\u6d88\u606f\uff0c\u5219\u8bf4\u660e\u76ee\u6807\u4e3b\u673a\u53ef\u8fbe\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#cookie-session","title":"Cookie \u548c Session \u7684\u5173\u7cfb\u548c\u533a\u522b\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#cookie","title":"Cookie \u6982\u5ff5","text":"<p>Cookie \u662f\u670d\u52a1\u5668\u53d1\u9001\u5230\u7528\u6237\u6d4f\u89c8\u5668\u5e76\u4fdd\u5b58\u5728\u672c\u5730\u7684\u4e00\u5c0f\u5757\u6570\u636e\uff0c\u5b83\u4f1a\u5728\u6d4f\u89c8\u5668\u4e0b\u6b21\u5411\u540c\u4e00\u670d\u52a1\u5668\u518d\u53d1\u8d77\u8bf7\u6c42\u65f6\u88ab\u643a\u5e26\u5e76\u53d1\u9001\u5230\u670d\u52a1\u5668\u4e0a\u3002\u901a\u5e38\uff0c\u5b83\u7528\u4e8e\u544a\u77e5\u670d\u52a1\u5668\u4e24\u4e2a\u8bf7\u6c42\u662f\u5426\u6765\u81ea\u540c\u4e00\u6d4f\u89c8\u5668\u3002</p> <p>\u5982\u4fdd\u6301\u7528\u6237\u7684\u767b\u5f55\u72b6\u6001\uff0c Cookie \u4f7f\u57fa\u4e8e\u65e0\u72b6\u6001\u7684 HTTP \u534f\u8bae\u8bb0\u5f55\u7a33\u5b9a\u7684\u72b6\u6001\u4fe1\u606f\u6210\u4e3a\u4e86\u53ef\u80fd\u3002 </p>"},{"location":"Computer%20Network/ComputerNetwork/#cookie_1","title":"Cookie \u4f5c\u7528","text":"<ul> <li>\u4f1a\u8bdd\u72b6\u6001\u7ba1\u7406 (\u5982\u7528\u6237\u767b\u5f55\u72b6\u6001\u3001\u8d2d\u7269\u8f66\u3001\u6e38\u620f\u5206\u6570\u6216\u5176\u5b83\u9700\u8981\u8bb0\u5f55\u7684\u4fe1\u606f)</li> <li>\u4e2a\u6027\u5316\u8bbe\u7f6e (\u5982\u7528\u6237\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u3001\u4e3b\u9898\u7b49)</li> <li>\u6d4f\u89c8\u5668\u884c\u4e3a\u8ddf\u8e2a (\u5982\u8ddf\u8e2a\u5206\u6790\u7528\u6237\u884c\u4e3a\u7b49)</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#session","title":"Session \u6982\u5ff5","text":"<p>Session \u4ee3\u8868\u7740\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4e00\u6b21\u4f1a\u8bdd\u7684\u8fc7\u7a0b\u3002Session \u5bf9\u8c61\u5b58\u50a8\u7279\u5b9a\u7528\u6237\u4f1a\u8bdd\u6240\u9700\u7684\u5c5e\u6027\u53ca\u914d\u7f6e\u4fe1\u606f\u3002\u8fd9\u6837\uff0c\u5f53\u7528\u6237\u5728\u5e94\u7528\u7a0b\u5e8f\u7684 Web \u9875\u4e4b\u95f4\u8df3\u8f6c\u65f6\uff0c\u5b58\u50a8\u5728 Session \u5bf9\u8c61\u4e2d\u7684\u53d8\u91cf\u5c06\u4e0d\u4f1a\u4e22\u5931\uff0c\u800c\u662f\u5728\u6574\u4e2a\u7528\u6237\u4f1a\u8bdd\u4e2d\u4e00\u76f4\u5b58\u5728\u4e0b\u53bb\u3002 \u5f53\u5ba2\u6237\u7aef\u5173\u95ed\u4f1a\u8bdd\uff0c\u6216\u8005 Session \u8d85\u65f6\u5931\u6548\u65f6\u4f1a\u8bdd\u7ed3\u675f\u3002</p>"},{"location":"Computer%20Network/ComputerNetwork/#_38","title":"\u5dee\u522b","text":"<ul> <li>\u4f5c\u7528\u8303\u56f4\u4e0d\u540c\uff1aCookie \u4fdd\u5b58\u5728\u5ba2\u6237\u7aef(\u6d4f\u89c8\u5668)\uff0cSession \u4fdd\u5b58\u5728\u670d\u52a1\u7aef</li> <li>\u5b58\u53d6\u65b9\u5f0f\u7684\u4e0d\u540c\uff1aCookie \u53ea\u80fd\u4fdd\u5b58 ASCII\uff0cSession \u53ef\u4ee5\u5b58\u4efb\u610f\u6570\u636e\u7c7b\u578b</li> <li>\u6709\u6548\u671f\u4e0d\u540c\uff1aCookie \u53ef\u8bbe\u7f6e\u4e3a\u957f\u65f6\u95f4\u4fdd\u6301\uff0c\u6bd4\u5982\u7ecf\u5e38\u4f7f\u7528\u7684\u9ed8\u8ba4\u767b\u5f55\u529f\u80fd\uff0cSession \u4e00\u822c\u5931\u6548\u65f6\u95f4\u8f83\u77ed\uff0c\u5ba2\u6237\u7aef\u5173\u95ed\u6216\u8005 Session \u8d85\u65f6\u90fd\u4f1a\u5931\u6548</li> <li>\u9690\u79c1\u7b56\u7565\u4e0d\u540c\uff1aCookie \u5b58\u50a8\u5728\u5ba2\u6237\u7aef\uff0c\u6bd4\u8f83\u5bb9\u6613\u906d\u5230\u4e0d\u6cd5\u83b7\u53d6\uff1bSession \u5b58\u50a8\u5728\u670d\u52a1\u7aef\uff0c\u5b89\u5168\u6027\u76f8\u5bf9 Cookie \u8981\u597d\u4e00\u4e9b</li> <li>\u5b58\u50a8\u5927\u5c0f\u4e0d\u540c\uff1a\u5355\u4e2a Cookie \u4fdd\u5b58\u7684\u6570\u636e\u4e0d\u80fd\u8d85\u8fc7 4K\uff0cSession \u53ef\u5b58\u50a8\u6570\u636e\u8fdc\u9ad8\u4e8e Cookie</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#ipv4-ipv6","title":"iPv4 \u548c iPv6 \u7684\u533a\u522b\uff1f","text":"<ul> <li>IPv6 \u7684\u9996\u90e8\u957f\u5ea6\u662f 40 \u4e2a\u5b57\u8282\uff0c\u76f8\u5bf9 IPv4 \u7684\u9996\u90e8\u957f\u5ea6 24 \u5b57\u8282\u8981\u957f\uff0c\u4f46 IPv6 \u9996\u90e8\u7ed3\u6784\u6bd4 IPv4 \u7b80\u5355</li> <li>IPv6 \u628a IP \u5730\u5740\u7531 32 \u4f4d\u589e\u52a0\u5230 128 \u4f4d\uff0c\u4ece\u800c\u80fd\u591f\u652f\u6301\u66f4\u5927\u7684\u5730\u5740\u7a7a\u95f4\u3002IPv6 \u7b80\u5316\u4e86\u8def\u7531\uff0c\u52a0\u5feb\u4e86\u8def\u7531\u901f\u5ea6</li> <li>IPv6 \u7684\u53ef\u9009\u9879\u4e0d\u653e\u5165\u62a5\u5934\uff0c\u800c\u662f\u653e\u5728\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u6269\u5c55\u5934\u90e8\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u8def\u7531\u5668\u4e0d\u4f1a\u6253\u5f00\u5904\u7406\u6269\u5c55\u5934\u90e8\uff0c IPv6 \u653e\u5bbd\u4e86\u5bf9\u53ef\u9009\u9879\u957f\u5ea6\u7684\u4e25\u683c\u8981\u6c42 (IPv4 \u7684\u53ef\u9009\u9879\u603b\u957f\u6700\u591a\u4e3a 40 \u5b57\u8282)\uff0c\u5e76\u53ef\u6839\u636e\u9700\u8981\u968f\u65f6\u5f15\u5165\u65b0\u9009\u9879</li> <li>IPv6 \u534f\u8bae\u652f\u6301\u5730\u5740\u81ea\u52a8\u914d\u7f6e\uff0c\u8fd9\u662f\u4e00\u79cd\u5373\u63d2\u5373\u7528\u7684\u673a\u5236\u3002IPv6 \u8282\u70b9\u901a\u8fc7\u5730\u5740\u81ea\u52a8\u914d\u7f6e\u5f97\u5230 IPv6 \u5730\u5740\u548c\u7f51\u5173\u5730\u5740\u3002IPv6 \u652f\u6301\u65e0\u72b6\u6001\u5730\u5740\u81ea\u52a8\u914d\u7f6e\u548c\u72b6\u6001\u5730\u5740\u81ea\u52a8\u914d\u7f6e\u4e24\u79cd\u5730\u5740\u81ea\u52a8\u914d\u7f6e\u65b9\u5f0f\u3002\u5b83\u4f1a\u7ed9\u914d\u7f6e 128 \u4f4d\u7684\u5730\u5740\u5e26\u6765\u5f88\u5927\u7684\u65b9\u4fbf\uff0c\u7279\u522b\u662f\u65e0\u72b6\u6001\u5730\u5740\u81ea\u52a8\u914d\u7f6e</li> <li>\u5728 IPv6 \u4e2d\u52a0\u5165\u4e86\u5173\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u3001\u6570\u636e\u4e00\u81f4\u6027\u548c\u4fdd\u5bc6\u6027\u7684\u5185\u5bb9</li> </ul>"},{"location":"Computer%20Network/ComputerNetwork/#_39","title":"\u4ec0\u4e48\u662f\u8de8\u57df\uff0c\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u53d1\u751f\u8de8\u57df\u8bf7\u6c42\uff1f","text":""},{"location":"Computer%20Network/ComputerNetwork/#_40","title":"\u6982\u5ff5","text":"<p>\u6307\u7684\u662f \u6d4f\u89c8\u5668\u4e0d\u80fd\u6267\u884c\u5176\u4ed6\u7f51\u7ad9\u7684\u811a\u672c\u3002\u5b83\u662f\u7531\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\u9020\u6210\u7684\u3002a \u9875\u9762\u60f3\u83b7\u53d6 b \u9875\u9762\u8d44\u6e90\uff0c\u5982\u679c a\u3001b \u9875\u9762\u7684\u534f\u8bae\u3001\u57df\u540d\u3001\u7aef\u53e3\u3001\u5b50\u57df\u540d\u4e0d\u540c\uff0c\u6240\u8fdb\u884c\u7684\u8bbf\u95ee\u884c\u52a8\u90fd\u662f\u8de8\u57df\u7684\uff0c\u800c\u6d4f\u89c8\u5668\u4e3a\u4e86\u5b89\u5168\u95ee\u9898\u4e00\u822c\u90fd\u9650\u5236\u4e86\u8de8\u57df\u8bbf\u95ee\uff0c\u4e5f\u5c31\u662f\u4e0d\u5141\u8bb8\u8de8\u57df\u8bf7\u6c42\u8d44\u6e90</p>"},{"location":"Computer%20Network/ComputerNetwork/#_41","title":"\u89e3\u51b3\u65b9\u6cd5","text":"<ul> <li>Nginx\uff1a\u4f7f\u7528 Nginx \u4f5c\u4e3a\u4ee3\u7406\u670d\u52a1\u5668\u548c\u7528\u6237\u4ea4\u4e92\uff0c\u7528\u6237\u5c31\u53ea\u9700\u8981\u5728 80 \u7aef\u53e3\u4e0a\u8fdb\u884c\u4ea4\u4e92\u5c31\u53ef\u4ee5\u4e86\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u8de8\u57df\u95ee\u9898</li> <li>JSONP\uff1a\u7f51\u9875\u901a\u8fc7\u6dfb\u52a0\u4e00\u4e2a script \u5143\u7d20\uff0c\u5411\u670d\u52a1\u5668\u8bf7\u6c42 JSON \u6570\u636e\uff0c\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5c06\u6570\u636e\u653e\u5728\u4e00\u4e2a\u6307\u5b9a\u540d\u5b57\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4f4d\u7f6e\u4f20\u56de\u6765\u3002\u7f3a\u70b9\u662f\u53ea\u652f\u6301 get \u8bf7\u6c42\uff0c\u4e0d\u652f\u6301 post \u8bf7\u6c42</li> <li>CORS\uff1a\u8de8\u57df\u8d44\u6e90\u5206\u4eab</li> </ul> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/","title":"HTTP & HTTPs","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http-https","title":"\ud83d\udfe1 HTTP &amp; HTTPs","text":"<p> \u7ea6 9445 \u4e2a\u5b57  8 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 47 \u5206\u949f</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http","title":"HTTP \u72b6\u6001\u7801\u7684\u542b\u4e49\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#100","title":"100 \u7c7b","text":"<p>100 \u7c7b\u72b6\u6001\u7801\u5c5e\u4e8e\u63d0\u793a\u4fe1\u606f\uff0c\u662f\u534f\u8bae\u5904\u7406\u4e2d\u7684\u4e00\u79cd\u4e2d\u95f4\u72b6\u6001\uff0c\u5b9e\u9645\u7528\u5230\u7684\u6bd4\u8f83\u5c11</p> <ul> <li>100(\u7ee7\u7eed)\uff1a\u8bf7\u6c42\u8005\u5e94\u5f53\u7ee7\u7eed\u63d0\u51fa\u8bf7\u6c42\u3002 \u670d\u52a1\u5668\u8fd4\u56de\u6b64\u4ee3\u7801\u8868\u793a\u5df2\u6536\u5230\u8bf7\u6c42\u7684\u7b2c\u4e00\u90e8\u5206\uff0c\u6b63\u5728\u7b49\u5f85\u5176\u4f59\u90e8\u5206</li> <li>101(\u5207\u6362\u534f\u8bae)\uff1a\u8bf7\u6c42\u8005\u5df2\u8981\u6c42\u670d\u52a1\u5668\u5207\u6362\u534f\u8bae\uff0c\u670d\u52a1\u5668\u5df2\u786e\u8ba4\u5e76\u51c6\u5907\u5207\u6362</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#200","title":"200 \u7c7b","text":"<p>200 \u7c7b\u72b6\u6001\u7801\u8868\u793a\u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u3002</p> <ul> <li>200(\u6210\u529f)\uff1a\u8868\u793a\u670d\u52a1\u5668\u54cd\u5e94\u6210\u529f\uff0c\u4e5f\u5c31\u662f\u670d\u52a1\u5668\u627e\u5230\u4e86\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u5185\u5bb9\uff0c\u5e76\u4e14\u5c06\u5185\u5bb9\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef</li> <li>204(\u5df2\u521b\u5efa)\uff1a\u8bf7\u6c42\u6210\u529f\u5e76\u4e14\u670d\u52a1\u5668\u521b\u5efa\u4e86\u65b0\u7684\u8d44\u6e90</li> <li>206(\u90e8\u5206\u5185\u5bb9)\uff1a\u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u90e8\u5206 GET \u8bf7\u6c42</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#300","title":"300 \u7c7b","text":"<p>300 \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8d44\u6e90\u53d1\u751f\u4e86\u53d8\u52a8\uff0c\u9700\u8981\u5ba2\u6237\u7aef\u7528\u65b0\u7684 URL \u91cd\u65b0\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u8d44\u6e90\uff0c\u4e5f\u5c31\u662f\u91cd\u5b9a\u5411\u3002</p> <ul> <li>301(\u6c38\u4e45\u79fb\u52a8)\uff1a\u4ee3\u8868 \u6c38\u4e45\u6027\u7684\u91cd\u5b9a\u5411\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u91cd\u5b9a\u5411\u8df3\u8f6c\uff0c\u4ece\u4e25\u683c\u610f\u4e49\u6765\u8bb2\u4e0d\u662f\u670d\u52a1\u5668\u8df3\u8f6c\uff0c\u800c\u662f \u5ba2\u6237\u7aef\u8df3\u8f6c \u7684\u3002\u8fd9\u4e2a\u201c\u8df3\u201d\u7684\u52a8\u4f5c\u662f\u670d\u52a1\u5668\u662f\u901a\u8fc7\u56de\u4f20\u72b6\u6001\u7801 301 \u6765\u4e0b\u8fbe\u7ed9\u5ba2\u6237\u7aef\u7684\uff0c\u8ba9\u5ba2\u6237\u7aef\u5b8c\u6210\u8df3\u8f6c</li> <li>302(\u4e34\u65f6\u79fb\u52a8)\uff1a\u4ee3\u8868\u4e34\u65f6\u8df3\u8f6c\u3002\u4f8b\u5982\uff1aURL \u5730\u5740 A \u53ef\u4ee5\u5411 URL \u5730\u5740 B \u4e0a\u8df3\u8f6c\uff0c\u4f46\u8fd9\u5e76\u4e0d\u662f\u6c38\u4e45\u6027\u7684\uff0c\u5728\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u540e\uff0cURL \u5730\u5740 A \u8fd8\u53ef\u80fd\u5411 URL \u5730\u5740 C \u4e0a\u8df3\u8f6c</li> <li>304(\u672a\u4fee\u6539)\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd4\u56de\u72b6\u6001\u7801304\u53ef\u4ee5\u544a\u8bc9\u5ba2\u6237\u7aef\u8bf7\u6c42\u8d44\u6e90\u6210\u529f\uff0c\u4f46\u662f\u8fd9\u4e2a\u8d44\u6e90\u4e0d\u662f\u7531\u670d\u52a1\u5668\u63d0\u4f9b\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u7684\uff0c\u800c\u662f\u5ba2\u6237\u7aef\u672c\u5730\u6d4f\u89c8\u5668\u7f13\u5b58\u4e2d\u5c31\u6709\u7684\u8fd9\u4e2a\u8d44\u6e90\uff0c\u56e0\u4e3a\u53ef\u4ee5\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u8fd9\u4e2a\u8d44\u6e90\uff0c\u4ece\u800c\u8282\u7701\u4f20\u8f93\u7684\u5f00\u9500</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#400","title":"400 \u7c7b","text":"<p>400 \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u62a5\u6587\u6709\u8bef\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u5904\u7406\u3002</p> <ul> <li>400(\u9519\u8bef\u8bf7\u6c42)\uff1a\u670d\u52a1\u5668\u4e0d\u7406\u89e3\u8bf7\u6c42\u7684\u8bed\u6cd5</li> <li>403(\u7981\u6b62)\uff1a\u4ee3\u8868\u8bf7\u6c42\u7684\u670d\u52a1\u5668\u8d44\u6e90\u6743\u9650\u4e0d\u591f\uff0c\u4e5f\u5c31\u662f\u6ca1\u6709\u6743\u9650\u53bb\u8bbf\u95ee\u670d\u52a1\u5668\u7684\u8d44\u6e90\uff0c\u6216\u8005\u8bf7\u6c42\u7684 IP \u5730\u5740\u88ab\u5c01\u6389\u4e86</li> <li>404(\u672a\u627e\u5230)\uff1a\u4ee3\u8868\u670d\u52a1\u5668\u4e0a\u6ca1\u6709\u8be5\u8d44\u6e90\uff0c\u6216\u8005\u8bf4\u670d\u52a1\u5668\u627e\u4e0d\u5230\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8d44\u6e90\uff0c\u662f\u6700\u5e38\u89c1\u7684\u8bf7\u6c42\u9519\u8bef\u7801</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#500","title":"500 \u7c7b","text":"<p>500 \u7c7b\u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u8bf7\u6c42\u62a5\u6587\u6b63\u786e\uff0c\u4f46\u662f\u670d\u52a1\u5668\u5904\u7406\u65f6\u5185\u90e8\u53d1\u751f\u4e86\u9519\u8bef\uff0c\u5c5e\u4e8e\u670d\u52a1\u5668\u7aef\u7684\u9519\u8bef\u7801\u3002</p> <ul> <li>500(\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef)\uff1a\u4ee3\u8868\u7a0b\u5e8f\u9519\u8bef\uff0c\u4e5f\u5c31\u662f\u8bf4\u8bf7\u6c42\u7684\u7f51\u9875\u7a0b\u5e8f\u672c\u8eab\u62a5\u9519\u4e86\u3002\u5728\u670d\u52a1\u5668\u7aef\u7684\u7f51\u9875\u7a0b\u5e8f\u51fa\u9519\u3002\u7531\u4e8e\u73b0\u5728\u7684\u6d4f\u89c8\u5668\u90fd\u4f1a\u5bf9\u72b6\u6001\u7801 500 \u505a\u4e00\u5b9a\u7684\u5904\u7406\uff0c\u6240\u4ee5\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5b9a\u5236\u7684\u9519\u8bef\u9875\u9762\u3002</li> <li>501(\u5c1a\u672a\u5b9e\u65bd)\uff1a\u670d\u52a1\u5668\u4e0d\u5177\u5907\u5b8c\u6210\u8bf7\u6c42\u7684\u529f\u80fd\u3002 \u4f8b\u5982\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u8bc6\u522b\u8bf7\u6c42\u65b9\u6cd5\u65f6\u53ef\u80fd\u4f1a\u8fd4\u56de\u6b64\u4ee3\u7801\u3002</li> <li>502(\u7f51\u5173\u9519\u8bef)\uff1a\u901a\u5e38\u662f\u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\u65f6\u8fd4\u56de\u7684\u9519\u8bef\u7801\uff0c\u8868\u793a\u670d\u52a1\u5668\u81ea\u8eab\u5de5\u4f5c\u6b63\u5e38\uff0c\u8bbf\u95ee\u540e\u7aef\u670d\u52a1\u5668\u53d1\u751f\u4e86\u9519\u8bef\u3002</li> <li>503(\u670d\u52a1\u4e0d\u53ef\u7528)\uff1a\u8868\u793a\u670d\u52a1\u5668\u5f53\u524d\u5f88\u5fd9\uff0c\u6682\u65f6\u65e0\u6cd5\u54cd\u5e94\u5ba2\u6237\u7aef\u3002</li> <li>504(\u7f51\u5173\u8d85\u65f6)\uff1a\u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\uff0c\u4f46\u662f\u6ca1\u6709\u53ca\u65f6\u4ece\u4e0a\u6e38\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u3002</li> <li>505(HTTP \u7248\u672c\u4e0d\u53d7\u652f\u6301)\uff1a\u670d\u52a1\u5668\u4e0d\u652f\u6301\u8bf7\u6c42\u4e2d\u6240\u7528\u7684 HTTP \u534f\u8bae\u7248\u672c</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http_1","title":"HTTP \u5e38\u89c1\u5b57\u6bb5","text":"<ul> <li>Host\uff1a\u6307\u5b9a\u670d\u52a1\u5668\u57df\u540d</li> <li>Content-Length\uff1a\u4e3a\u4e86\u89e3\u51b3 TCP \u7c98\u5305\u95ee\u9898\u6240\u8bbe\u8ba1\u7684 HTTP \u6570\u636e\u957f\u5ea6</li> <li>Connection\uff1a\u662f\u5426\u4f7f\u7528\u957f\u8fde\u63a5</li> <li>Content-Type\uff1a\u6307\u5b9a\u6570\u636e\u683c\u5f0f\uff0c\u4f8b\u5982\u6587\u672c\u6216\u56fe\u50cf\u3001\u7f16\u7801\u65b9\u5f0f</li> <li>Content-Encoding\uff1a\u6570\u636e\u7684\u538b\u7f29\u65b9\u6cd5\uff0c\u5982 gzip \u7b49\u7b49</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http_2","title":"HTTP \u7f13\u5b58\u6709\u54ea\u4e9b\u5b9e\u73b0\u65b9\u5f0f\uff1f","text":"<ul> <li>\u5f3a\u5236\u7f13\u5b58\uff1a\u5f3a\u5236\u7f13\u5b58\u6307\u7684\u662f\u53ea\u8981\u6d4f\u89c8\u5668\u5224\u65ad\u7f13\u5b58\u6ca1\u6709\u8fc7\u671f\uff0c\u5219\u76f4\u63a5\u4f7f\u7528\u6d4f\u89c8\u5668\u7684\u672c\u5730\u7f13\u5b58\uff0c\u51b3\u5b9a\u662f\u5426\u4f7f\u7528\u7f13\u5b58\u7684\u4e3b\u52a8\u6027\u5728\u4e8e\u6d4f\u89c8\u5668\u8fd9\u8fb9\u3002\u76f8\u5173\u5b57\u6bb5\u6709 Cache-Control \u4e0e Expires\uff0c\u524d\u8005\u4f18\u5148\u7ea7\u66f4\u9ad8</li> <li>\u534f\u5546\u7f13\u5b58\uff1a\u8bf7\u6c42\u7684\u54cd\u5e94\u7801 304\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u53ef\u4ee5\u4f7f\u7528\u672c\u5730\u7f13\u5b58\u7684\u8d44\u6e90\uff0c\u901a\u8fc7\u670d\u52a1\u7aef\u544a\u77e5\u5ba2\u6237\u7aef\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u7f13\u5b58\u7684\u65b9\u5f0f\u88ab\u79f0\u4e3a\u534f\u5546\u7f13\u5b58\u3002\u8bf7\u6c42\u5934\u90e8\u7528 If-Modified-Since\uff1b\u54cd\u5e94\u5934\u90e8\u4f7f\u7528 Last-Modified \u6765\u7ef4\u62a4\u3002\u5f53\u53d1\u73b0\u8d44\u6e90\u8fc7\u671f\u65f6\u8bf7\u6c42\u65b9\u4f1a\u5e26\u4e0a Last-Modified \u5b57\u6bb5\uff0c\u5982\u679c\u4fee\u6539\u8fc7\u5219\u8fd4\u56de 200 OK \u4ee5\u53ca\u76f8\u5173\u8d44\u6e90\uff0c\u5426\u5219\u7ee7\u7eed 304 \u8d70\u7f13\u5b58</li> <li>\u534f\u5546\u7f13\u5b58\u8fd8\u53ef\u4ee5\u901a\u8fc7 If-None-Match \u4e0e ETag \u4e24\u79cd\u5b57\u6bb5\u5b9e\u73b0\u3002\u524d\u8005\u5c5e\u4e8e\u8bf7\u6c42\u5934\u90e8\uff0c\u540e\u8005\u5c5e\u4e8e\u54cd\u5e94\u5934\u90e8\u3002\u8fd9\u79cd\u65b9\u6cd5\u57fa\u4e8e\u552f\u4e00\u6807\u8bc6\uff0c\u76f8\u5bf9\u6765\u8bf4\u53ef\u4ee5\u66f4\u51c6\u786e\u5224\u65ad\u6587\u4ef6\u662f\u5426\u88ab\u4fee\u6539\uff0c ETag \u7684\u4f18\u5148\u7ea7\u4e5f\u6bd4 Last-Modified \u66f4\u9ad8 </li> <li>\u534f\u5546\u7f13\u5b58\u9700\u8981\u914d\u5408\u5f3a\u5236\u7f13\u5b58\u4e2d\u7684 Cache-Control \u4f7f\u7528\u3002\u5f53\u7f13\u5b58\u6ca1\u6709\u5bf9\u5e94\u8d44\u6e90\u65f6\u8bf7\u6c42\u670d\u52a1\u5668</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http-https_1","title":"HTTP \u548c HTTPs \u7684\u533a\u522b\uff1f","text":"<ul> <li>\u5de5\u4f5c\u7aef\u53e3\u4e0d\u540c\uff1aHTTP 80\uff1bHTTPs 443</li> <li>HTTP \u660e\u6587\u4f20\u8f93\uff0c\u6570\u636e\u90fd\u662f\u672a\u52a0\u5bc6\u7684\uff0c\u5b89\u5168\u6027\u8f83\u5dee\uff0cHTTPs(SSL+HTTP)\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u662f\u52a0\u5bc6\u7684\uff0c\u5b89\u5168\u6027\u8f83\u597d</li> <li>\u4f7f\u7528 HTTPs \u534f\u8bae\u9700\u8981\u5230 CA \u7533\u8bf7\u8bc1\u4e66</li> <li>HTTP \u9875\u9762\u54cd\u5e94\u901f\u5ea6\u6bd4 HTTPs \u5feb\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a HTTP \u4f7f\u7528 TCP \u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0c\u800c HTTPs \u9664\u4e86 TCP \u7684\u4e09\u4e2a\u5305\uff0c\u8fd8\u8981\u52a0\u4e0a SSL \u63e1\u624b\u7684\u6d88\u8017</li> <li>HTTPs \u5176\u5b9e\u5c31\u662f\u5efa\u6784\u5728 SSL/TLS \u4e4b\u4e0a\u7684 HTTP \u534f\u8bae\uff0c\u6240\u4ee5\uff0c\u8981\u6bd4\u8f83 HTTPs \u6bd4 HTTP \u8981\u66f4\u8017\u8d39\u670d\u52a1\u5668\u8d44\u6e90</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#https-tls","title":"HTTPs \u7684\u52a0\u5bc6\u4e0e\u8ba4\u8bc1\u8fc7\u7a0b(TLS \u63e1\u624b\u8fc7\u7a0b)\uff1f","text":"<p>\u6ce8\u610f\uff1a </p> <ul> <li>\u524d\u4e24\u6b21\u63e1\u624b\u5c5e\u4e8e\u5bc6\u94a5\u4ea4\u6362\uff0c\u4e00\u822c\u800c\u8a00\u8fd9\u4e2a\u9636\u6bb5\u662f\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\uff0c\u52a0\u5bc6\u7b97\u6cd5\u6709 RSA \u6216\u8005 ECDHA\uff0c\u5f53\u7136\u540e\u8005\u4fdd\u8bc1\u524d\u5411\u5b89\u5168</li> <li>\u5728\u7b2c\u4e8c\u6b21\u63e1\u624b\u4e2d\u7684 CA \u8bc1\u4e66\u6d89\u53ca CA \u673a\u6784\u7b7e\u540d\uff0c\u7b7e\u540d\u7b97\u6cd5\u4f1a\u5728\u524d\u4e24\u6b21\u63e1\u624b\u4e2d\u786e\u8ba4</li> <li>\u5728\u7b2c\u4e09\u6b21\u63e1\u624b\u4e4b\u540e\u4f1a\u5f00\u59cb\u4f7f\u7528\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff0c\u56e0\u4e3a\u975e\u5bf9\u79f0\u52a0\u5bc6\u6548\u7387\u5b9e\u5728\u4e0d\u9ad8</li> <li>RSA \u6709\u4ec0\u4e48\u5f0a\u7aef\uff1a\u52a0\u5bc6\u6027\u4f9d\u8d56\u4e8e\u5bc6\u94a5\u957f\u5ea6\uff1b\u4e0d\u4fdd\u8bc1\u524d\u5411\u5b89\u5168\uff0c\u670d\u52a1\u5668\u79c1\u94a5\u88ab\u83b7\u53d6\u5c06\u5bfc\u81f4\u4e25\u91cd\u540e\u679c\uff1bRSA \u6548\u7387\u5e76\u4e0d\u9ad8</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#clienthello","title":"ClientHello","text":"<p>\u9996\u5148\uff0c\u7531\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u52a0\u5bc6\u901a\u4fe1\u8bf7\u6c42\u3002\u5ba2\u6237\u7aef\u4e3b\u8981\u5411\u670d\u52a1\u7aef\u53d1\u9001\uff1a</p> <ul> <li>\u5ba2\u6237\u7aef\u652f\u6301\u7684 SSL/TLS \u534f\u8bae\u7248\u672c </li> <li>\u5ba2\u6237\u7aef\u4ea7\u751f\u7684\u7684 \u968f\u673a\u6570 (Client Random)</li> <li>\u5ba2\u6237\u7aef\u652f\u6301\u7684 \u5bc6\u7801\u5957\u4ef6\u5217\u8868 </li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#serverhello","title":"ServerHello","text":"<p>\u670d\u52a1\u5668\u6536\u5230\u5ba2\u6237\u7aef\u8bf7\u6c42\u540e\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u51fa\u54cd\u5e94\u3002\u670d\u52a1\u7aef\u56de\u5e94\u7684\u5185\u5bb9\u6709\uff1a</p> <ul> <li>\u786e\u8ba4 SSL/TLS \u534f\u8bae\u7248\u672c (\u5982\u679c\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\uff0c\u5219\u5173\u95ed\u52a0\u5bc6\u901a\u4fe1)</li> <li>\u670d\u52a1\u7aef\u751f\u4ea7\u7684 \u968f\u673a\u6570 (Server Random)</li> <li>\u786e\u8ba4\u7684 \u5bc6\u7801\u5957\u4ef6\u5217\u8868 </li> <li>\u670d\u52a1\u7aef\u7684 \u6570\u5b57\u8bc1\u4e66 </li> </ul> <p>CA \u8bc1\u4e66\u4e2d\u5305\u542b\u5185\u5bb9\uff1a</p> <ul> <li>\u7248\u672c\u53f7(Version Number)\uff1a\u89c4\u8303\u7684\u7248\u672c\u53f7\uff0c\u5982\u7248\u672c 3\uff0c\u503c\u4e3a 0x2</li> <li>\u5e8f\u5217\u53f7(Serial Number)\uff1a\u7531 CA \u7ef4\u62a4\u7684\u4e3a\u5b83\u6240\u53d1\u7684\u6bcf\u4e2a\u8bc1\u4e66\u5206\u914d\u7684\u4e00\u4e2a\u5e8f\u5217\u53f7\uff0c\u7528\u6765\u8ffd\u8e2a\u548c\u64a4\u9500\u8bc1\u4e66\u3002\u53ea\u8981\u62e5\u6709\u7b7e\u53d1\u8005\u4fe1\u606f\u548c\u5e8f\u5217\u53f7\uff0c\u5c31\u53ef\u4ee5\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u8bc1\u4e66</li> <li>\u7b7e\u540d\u7b97\u6cd5(Signature Algorithm)\uff1a\u8be5\u6570\u5b57\u8bc1\u4e66\u652f\u6301\u6570\u5b57\u7b7e\u540d\u6240\u91c7\u7528\u7684\u7b97\u6cd5\uff0c\u5982 sha256RSA</li> <li>\u9881\u53d1\u8005(Issuer)\uff1a\u5c31\u662f CA \u9881\u53d1\u673a\u6784\uff0c\u662f\u7b7e\u53d1\u8bc1\u4e66\u5355\u4f4d\u7684\u6807\u8bc6\u4fe1\u606f</li> <li>\u6709\u6548\u671f(Validity) : \u8bc1\u4e66\u7684\u6709\u6548\u671f\u5f88\uff0c\u5305\u62ec\u8d77\u6b62\u65f6\u95f4</li> <li>\u4f7f\u7528\u8005(Subject) : \u8bc1\u4e66\u62e5\u6709\u8005\u7684\u6807\u8bc6\u4fe1\u606f\u3002\u5982\u679c\u4f7f\u7528\u7684\u662f OV \u6216 EV \u578b\u8bc1\u4e66\uff0c\u5c31\u53ef\u67e5\u770b\u5230\u4f01\u4e1a\u4fe1\u606f\uff0c\u8fa8\u522b\u516c\u53f8\u771f\u4f2a</li> <li>\u4e3b\u4f53\u7684\u516c\u94a5\u4fe1\u606f(Subject Public Key Info)\uff1a\u6240\u4fdd\u62a4\u7684\u516c\u94a5\u76f8\u5173\u7684\u4fe1\u606f</li> <li>\u4f7f\u7528\u8005\u53ef\u9009\u540d\u79f0(Subject Alternative Name)\uff1a\u5373\u8be5\u8bc1\u4e66\u4fdd\u62a4\u7684\u6240\u6709\u57df\u540d\u540d\u79f0</li> </ul> <p>CA \u8bc1\u4e66\u7684\u7b7e\u540d\u8fc7\u7a0b\u4ee5\u53ca\u9a8c\u8bc1\u5176\u6709\u6548\u6027\u7684\u8fc7\u7a0b\u5982\u4e0b\uff1a </p> <ul> <li>\u9996\u5148 CA \u4f1a\u628a\u8bc1\u4e66\u4fe1\u606f\u6253\u6210\u4e00\u4e2a\u5305\uff0c\u7136\u540e\u5bf9\u8fd9\u4e9b\u4fe1\u606f\u8fdb\u884c Hash \u8ba1\u7b97\uff0c\u5f97\u5230\u4e00\u4e2a Hash \u503c</li> <li>\u7136\u540e CA \u4f1a\u4f7f\u7528\u79c1\u94a5\u5bf9 Hash \u503c\u8fdb\u884c\u7b7e\u540d\u5f97\u5230\u65b0\u7684\u54c8\u5e0c\u503c</li> <li>\u6700\u540e\u5c06\u8bc1\u4e66\u7b7e\u540d\u6dfb\u52a0\u5230\u8bc1\u4e66\u5185\u5bb9\u4e4b\u540e\uff0c\u5f53\u5ba2\u6237\u7aef\u4f7f\u7528 CA \u516c\u94a5\u89e3\u5bc6\u7b7e\u540d\u5f97\u5230 Hash \u503c\uff0c\u5e76\u4f7f\u7528\u4e0e\u7b2c\u4e00\u6b65\u540c\u6837\u7684 Hash \u7b97\u6cd5\u5bf9 CA \u6253\u5305\u4fe1\u606f\u8fdb\u884c Hash \u8ba1\u7b97\uff0c\u5bf9\u6bd4\u4e24\u8005\u5373\u53ef\u9a8c\u8bc1 CA \u8bc1\u4e66\u7684\u6709\u6548\u6027</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#client-key-exchange","title":"Client Key Exchange","text":"<p>\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u7aef\u7684\u56de\u5e94\u4e4b\u540e\uff0c\u9996\u5148\u901a\u8fc7\u6d4f\u89c8\u5668\u6216\u8005\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684 CA \u516c\u94a5\uff0c\u786e\u8ba4\u670d\u52a1\u7aef\u7684\u6570\u5b57\u8bc1\u4e66\u7684\u771f\u5b9e\u6027\u3002\u5982\u679c\u8bc1\u4e66\u6ca1\u6709\u95ee\u9898\uff0c\u5ba2\u6237\u7aef\u4f1a\u4ece\u6570\u5b57\u8bc1\u4e66\u4e2d\u53d6\u51fa\u670d\u52a1\u7aef\u7684\u516c\u94a5\uff0c\u7136\u540e\u4f7f\u7528\u5b83\u52a0\u5bc6\u62a5\u6587\uff0c\u5411\u670d\u52a1\u7aef\u53d1\u9001\u5982\u4e0b\u4fe1\u606f\uff1a</p> <ul> <li>\u4e00\u4e2a\u968f\u673a\u6570(Pre-master)\uff0c\u8be5\u968f\u673a\u6570\u4f1a\u88ab\u670d\u52a1\u7aef\u516c\u94a5\u52a0\u5bc6(RSA/ECDHA)</li> <li>\u52a0\u5bc6\u901a\u4fe1\u7b97\u6cd5\u6539\u53d8\u901a\u77e5\uff0c\u8868\u793a\u968f\u540e\u7684\u4fe1\u606f\u90fd\u5c06\u7528\u4f1a\u8bdd\u79d8\u94a5\u52a0\u5bc6\u901a\u4fe1</li> <li>\u5ba2\u6237\u7aef\u63e1\u624b\u7ed3\u675f\u901a\u77e5\uff0c\u8868\u793a\u5ba2\u6237\u7aef\u7684\u63e1\u624b\u9636\u6bb5\u5df2\u7ecf\u7ed3\u675f</li> <li>\u4e4b\u524d\u6240\u6709\u5185\u5bb9\u7684\u53d1\u751f\u7684\u6570\u636e\u505a\u4e2a \u6458\u8981\uff0c\u7528\u6765\u4f9b\u670d\u52a1\u7aef\u6821\u9a8c</li> </ul> <p>\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u6709\u4e86\u4e09\u4e2a\u968f\u673a\u6570\uff0c\u63a5\u7740\u7528\u53cc\u65b9\u534f\u5546\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5404\u81ea\u751f\u6210\u672c\u6b21\u901a\u4fe1\u7684\u4f1a\u8bdd\u79d8\u94a5</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#change-cipher-spec-encrypted-handshake-message","title":"Change Cipher Spec &amp; Encrypted Handshake Message","text":"<p>\u670d\u52a1\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u7684\u7b2c\u4e09\u4e2a\u968f\u673a\u6570(pre-master key)\u4e4b\u540e\uff0c\u901a\u8fc7\u534f\u5546\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u8ba1\u7b97\u51fa\u672c\u6b21\u901a\u4fe1\u7684\u4f1a\u8bdd\u79d8\u94a5\u3002\u670d\u52a1\u7aef\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6700\u540e\u7684\u4fe1\u606f\uff1a</p> <ul> <li>\u52a0\u5bc6\u901a\u4fe1\u7b97\u6cd5\u6539\u53d8\u901a\u77e5\uff0c\u8868\u793a\u968f\u540e\u7684\u4fe1\u606f\u90fd\u5c06\u7528\u300c\u4f1a\u8bdd\u79d8\u94a5\u300d\u52a0\u5bc6\u901a\u4fe1</li> <li>\u670d\u52a1\u7aef\u63e1\u624b\u7ed3\u675f\u901a\u77e5\uff0c\u8868\u793a\u670d\u52a1\u7aef\u7684\u63e1\u624b\u9636\u6bb5\u5df2\u7ecf\u7ed3\u675f</li> <li>\u4e4b\u524d\u6240\u6709\u5185\u5bb9\u7684\u53d1\u751f\u7684\u6570\u636e\u505a\u4e2a \u6458\u8981\uff0c\u7528\u6765\u4f9b\u5ba2\u6237\u7aef\u6821\u9a8c</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#https","title":"HTTPs \u4e00\u5b9a\u5b89\u5168\u53ef\u9760\u5417\uff1f","text":"<p>\u4e0d\u5b89\u5168\u662f\u56e0\u4e3a\u7528\u6237\u70b9\u51fb\u63a5\u53d7\u4e86\u4e2d\u95f4\u4eba\u670d\u52a1\u5668\u7684\u8bc1\u4e66\u3002\u4e2d\u95f4\u4eba\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u5728 TLS \u63e1\u624b\u8fc7\u7a0b\u4e2d\uff0c\u5b9e\u9645\u4e0a\u53d1\u9001\u4e86\u81ea\u5df1\u4f2a\u9020\u7684\u8bc1\u4e66\u7ed9\u6d4f\u89c8\u5668\uff0c\u800c\u8fd9\u4e2a\u4f2a\u9020\u7684\u8bc1\u4e66\u662f\u80fd\u88ab\u6d4f\u89c8\u5668(\u5ba2\u6237\u7aef)\u8bc6\u522b\u51fa\u662f\u975e\u6cd5\u7684\uff0c\u4e8e\u662f\u5c31\u4f1a\u63d0\u9192\u7528\u6237\u8be5\u8bc1\u4e66\u5b58\u5728\u95ee\u9898\u3002\u5982\u679c\u7528\u6237\u70b9\u51fb\u300c\u7ee7\u7eed\u6d4f\u89c8\u6b64\u7f51\u7ad9\u300d\uff0c\u76f8\u5f53\u4e8e\u7528\u6237\u63a5\u53d7\u4e86\u4e2d\u95f4\u4eba\u4f2a\u9020\u7684\u8bc1\u4e66\uff0c\u90a3\u4e48\u540e\u7eed\u6574\u4e2a HTTPs \u901a\u4fe1\u90fd\u80fd\u88ab\u4e2d\u95f4\u4eba\u76d1\u542c\u4e86\u3002</p> <p>HTTPs \u534f\u8bae\u672c\u8eab\u5230\u76ee\u524d\u4e3a\u6b62\u8fd8\u662f\u6ca1\u6709\u4efb\u4f55\u6f0f\u6d1e\u7684\uff0c\u5373\u4f7f\u4f60\u6210\u529f\u8fdb\u884c\u4e2d\u95f4\u4eba\u653b\u51fb\uff0c\u672c\u8d28\u4e0a\u662f\u5229\u7528\u4e86\u5ba2\u6237\u7aef\u7684\u6f0f\u6d1e(\u7528\u6237\u70b9\u51fb\u7ee7\u7eed\u8bbf\u95ee\u6216\u8005\u88ab\u6076\u610f\u5bfc\u5165\u4f2a\u9020\u7684\u6839\u8bc1\u4e66)\uff0c\u5e76\u4e0d\u662f HTTPs \u4e0d\u591f\u5b89\u5168\u3002</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http10http11http2-http3","title":"HTTP1.0\u3001HTTP1.1\u3001HTTP2 \u548c HTTP3 \u7684\u533a\u522b\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http10","title":"HTTP1.0","text":"<ul> <li>\u65e0\u8fde\u63a5\uff1a\u6bcf\u6b21\u8bf7\u6c42\u90fd\u8981\u5efa\u7acb\u8fde\u63a5\uff0c\u9700\u8981\u4f7f\u7528  keep-alive  \u53c2\u6570\u5efa\u7acb\u957f\u8fde\u63a5\uff0c\u5efa\u7acb\u8fde\u63a5\u5341\u5206\u6d88\u8017\u8d44\u6e90</li> <li>\u961f\u5934\u963b\u585e\uff1aHTTP1.0 \u89c4\u5b9a\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u5fc5\u987b\u5728\u524d\u4e00\u4e2a\u8bf7\u6c42\u54cd\u5e94\u5230\u8fbe\u4e4b\u524d\u624d\u80fd\u53d1\u9001\uff0c\u5047\u8bbe\u524d\u4e00\u4e2a\u8bf7\u6c42\u54cd\u5e94\u4e00\u76f4\u4e0d\u5230\u8fbe\uff0c\u90a3\u4e48\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u5c31\u4e0d\u53d1\u9001\uff0c\u540e\u9762\u7684\u8bf7\u6c42\u5c31\u963b\u585e\u4e86</li> <li>\u7f13\u5b58\uff1a\u5728 HTTP 1.0 \u4e2d\u4e3b\u8981\u4f7f\u7528  header  \u91cc\u7684\u534f\u5546\u7f13\u5b58  last-modified\\if-modified-since\uff0c\u5f3a\u5236\u7f13\u5b58  Expires  \u6765\u505a\u4e3a\u7f13\u5b58\u5224\u65ad\u7684\u6807\u51c6</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http11","title":"HTTP1.1","text":"<ul> <li>\u957f\u8fde\u63a5\uff1a\u597d\u5904\u5728\u4e8e\u51cf\u5c11\u4e86 TCP \u8fde\u63a5\u7684\u91cd\u590d\u5efa\u7acb\u548c\u65ad\u5f00\u6240\u9020\u6210\u7684\u989d\u5916\u5f00\u9500\uff0c\u51cf\u8f7b\u4e86\u670d\u52a1\u5668\u7aef\u7684\u8d1f\u8f7d</li> <li>\u652f\u6301\u7ba1\u9053(pipeline)\u7f51\u7edc\u4f20\u8f93\uff1a\u53ea\u8981\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u53d1\u51fa\u53bb\u4e86\uff0c\u4e0d\u5fc5\u7b49\u5f85\u6536\u5230 ACK \u54cd\u5e94\u5c31\u53ef\u4ee5\u53d1\u7b2c\u4e8c\u4e2a\u8bf7\u6c42\u51fa\u53bb\uff0c\u53ef\u4ee5\u51cf\u5c11\u6574\u4f53\u7684\u54cd\u5e94\u65f6\u95f4</li> <li>\u7f13\u5b58\u5904\u7406\uff1aHTTP1.1 \u5f15\u5165\u4e86 \u66f4\u591a\u7684\u7f13\u5b58\u63a7\u5236\u7b56\u7565(Cache-Control/If-None-Match/ETag)\uff0c\u8bb8\u591a\u53ef\u4f9b\u9009\u62e9\u7684\u7f13\u5b58\u5934\u6765\u63a7\u5236\u7f13\u5b58\u7b56\u7565</li> <li>\u65ad\u70b9\u7eed\u4f20\uff1aHTTP1.1 \u5728\u8bf7\u6c42\u5934\u5f15\u5165\u4e86  range  \u5934\u57df\uff0c\u5b83\u5141\u8bb8\u53ea\u8bf7\u6c42\u8d44\u6e90\u7684\u67d0\u4e2a\u90e8\u5206\uff0c\u5373\u8fd4\u56de\u7801\u662f  206(Partial Content)\uff0c\u8fd9\u6837\u5c31\u65b9\u4fbf\u4e86\u5f00\u53d1\u8005\u81ea\u7531\u7684\u9009\u62e9\u4ee5\u4fbf\u4e8e\u5145\u5206\u5229\u7528\u5e26\u5bbd\u548c\u8fde\u63a5</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http2","title":"HTTP2","text":"<ul> <li>Header \u538b\u7f29\uff1aHTTP \u534f\u8bae\u7684\u62a5\u6587\u7531 header + body \u6784\u6210\u3002\u60f3\u8981\u63d0\u9ad8\u5176\u4f20\u8f93\u6548\u7387\u7684\u4e00\u4e2a\u529e\u6cd5\u5c31\u662f\u538b\u7f29\u7f16\u7801\u3002\u4e00\u822c\u800c\u8a00\uff0cbody \u53ef\u4ee5\u4f7f\u7528\u8bf8\u5982 gzip \u7b49\u7b97\u6cd5\u8fdb\u884c\u538b\u7f29\uff0c\u4f46 HTTP1 \u6ca1\u6709\u8003\u8651\u5934\u90e8\u7684\u538b\u7f29\u3002HTTP1 \u7684 header \u5e26\u6709\u5927\u91cf\u4fe1\u606f\uff0c\u800c\u4e14\u6bcf\u6b21\u90fd\u8981\u91cd\u590d\u53d1\u9001\uff0cHTTP2 \u4f7f\u7528 encoder \u6765\u51cf\u5c11\u9700\u8981\u4f20\u8f93\u7684 header \u5927\u5c0f\uff0c\u901a\u8baf\u53cc\u65b9\u5404\u81ea cache \u4e00\u4efd header fields \u8868\uff0c\u65e2\u907f\u514d\u4e86\u91cd\u590d header \u7684\u4f20\u8f93\uff0c\u53c8\u51cf\u5c0f\u4e86\u9700\u8981\u4f20\u8f93\u7684\u5927\u5c0f\u2014\u2014\u8fd9\u5c31\u662f HPACK \u7b97\u6cd5\u3002HPACK \u7b97\u6cd5\u4e3b\u8981\u5305\u62ec \u9759\u6001\u5b57\u5178(61 \u79cd\u9ad8\u9891\u5b57\u6bb5\u5982 GET/POST/200/http/https \u7b49)\u3001\u52a8\u6001\u5b57\u5178(62 \u79cd\u4ee5\u540e\u7684\u5b57\u6bb5\u4f1a\u88ab\u52a8\u6001\u66f4\u65b0)\u3001Huffman \u7f16\u7801</li> <li>\u4e8c\u8fdb\u5236\u5e27\u683c\u5f0f\uff1aHTTP2 \u628a\u8bf7\u6c42\u5728\u5e94\u7528\u5c42\u5207\u5206\u6210 \u9996\u90e8\u548c\u6d88\u606f\u8d1f\u8f7d\u4e24\u7c7b \u4e8c\u8fdb\u5236\u5e27\u5e76\u6807\u4e0a\u5e8f\u53f7\uff0c\u670d\u52a1\u5668\u63a5\u6536\u5230\u4e8c\u8fdb\u5236\u5e27\u540e\u7ec4\u88c5\u6210\u8bf7\u6c42\u8fdb\u884c\u5904\u7406\uff0c\u4ece\u800c\u8fbe\u5230\u5e76\u53d1\u53d1\u9001\u8bf7\u6c42\u7684\u6548\u679c\u3002\u5bf9\u4e8e\u670d\u52a1\u5668\u7aef\uff0c\u54cd\u5e94\u53ef\u4ee5\u901a\u8fc7\u5e8f\u53f7\u786e\u5b9a\u662f\u54ea\u4e2a\u8bf7\u6c42\uff0c\u4ece\u800c\u4e0d\u4f1a\u51fa\u73b0\u6df7\u4e71\u7684\u95ee\u9898\u3002\u5e27\u9996\u90e8(9B)\u5305\u62ec\u5e27\u957f\u5ea6(3B)\u3001\u5e27\u7c7b\u578b(1B)\u3001\u6807\u5fd7\u4f4d(1B)\u3001\u6d41\u6807\u8bc6\u7b26(4B\uff0c\u6700\u9ad8\u4f4d\u4fdd\u7559\uff0c\u8868\u793a\u8be5\u5e27\u5c5e\u4e8e\u54ea\u4e2a Stream)</li> <li>\u5e76\u53d1\u4f20\u8f93\uff1a\u4f7f\u7528\u7c7b\u4f3c\u591a\u8def\u590d\u7528\u7684\u6280\u672f\uff0c\u505a\u5230\u540c\u4e00\u4e2a\u8fde\u63a5\u5e76\u53d1\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\uff0c\u800c\u4e14\u5e76\u53d1\u8bf7\u6c42\u7684\u6570\u91cf\u6bd4 HTTP1.1 \u5927\u4e86\u597d\u51e0\u4e2a\u6570\u91cf\u7ea7\u3002\u4e00\u4e2a TCP \u8fde\u63a5\u4e2d\u6709\u591a\u4e2a Stream  (Stream \u4e4b\u95f4\u6709\u4f9d\u8d56\uff0c\u524d\u9762\u7684 Stream \u963b\u585e\u540e\u9762\u7684 Stream)\uff1b\u4e00\u4e2a Stream \u4e2d\u5305\u542b\u591a\u4e2a Message\uff0c\u5bf9\u5e94 HTTP1 \u4e2d\u7684\u8bf7\u6c42\u6216\u54cd\u5e94\uff1bMessage \u5305\u542b\u591a\u4e2a Frame\uff0c\u4ee5\u4e8c\u8fdb\u5236\u538b\u7f29\u683c\u5f0f\u5b58\u653e HTTP1 \u4e2d\u7684\u5185\u5bb9\uff0c\u5bf9\u5e94\u4e00\u4e2a\u8bf7\u6c42\u7684\u5934\u90e8\u6216\u8005\u6570\u636e</li> <li>\u670d\u52a1\u5668\u63a8\u9001\uff1aHTTP2 \u5f15\u5165\u4e86 server push\uff0c\u5b83\u5141\u8bb8\u670d\u52a1\u7aef\u63a8\u9001\u8d44\u6e90\u7ed9\u6d4f\u89c8\u5668\uff0c\u5728\u6d4f\u89c8\u5668\u660e\u786e\u5730\u8bf7\u6c42\u4e4b\u524d\uff0c\u514d\u5f97\u5ba2\u6237\u7aef\u518d\u6b21\u521b\u5efa\u8fde\u63a5\u53d1\u9001\u8bf7\u6c42\u5230\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u3002\u8fd9\u6837\u5ba2\u6237\u7aef\u53ef\u4ee5\u76f4\u63a5\u4ece\u672c\u5730\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90\uff0c\u4e0d\u7528\u518d\u901a\u8fc7\u7f51\u7edc\u4e3b\u52a8\u83b7\u53d6\u8d44\u6e90\u3002\u5b9e\u73b0\u7684\u65b9\u5f0f\u53ef\u4ee5\u6982\u62ec\u4e3a\uff1a\u5ba2\u6237\u7aef\u53d1\u8d77\u7684 Stream ID \u662f\u5947\u6570\uff0c\u670d\u52a1\u7aef\u5219\u4e3a\u5076\u6570\uff1b\u5f53\u670d\u52a1\u5668\u51b3\u5b9a\u4f7f\u7528 Server Push \u63a8\u9001\u4e00\u4e2a\u8d44\u6e90\u65f6(\u4f8b\u5982 styles.css)\uff0c\u5b83\u4f1a\u4e3b\u52a8\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6d41\u3002\u5728\u670d\u52a1\u5668\u771f\u6b63\u5f00\u59cb\u63a8\u9001\u8d44\u6e90\u6570\u636e(\u5373\u5f00\u59cb\u4f7f\u7528\u90a3\u4e2a\u5076\u6570\u6d41 ID)\u4e4b\u524d\uff0c\u5b83\u5fc5\u987b\u5148\u53d1\u9001\u4e00\u4e2a\u7279\u6b8a\u7684 PUSH_PROMISE \u5e27\uff0c\u8fd9\u4e2a\u5e27\u4e0d\u662f\u5728\u5b83\u8981\u521b\u5efa\u7684\u65b0\u5076\u6570\u6d41\u4e0a\u53d1\u9001\u7684\uff01\u5b83\u5fc5\u987b\u627f\u8f7d\u5728\u4e0e\u5176\u5173\u8054\u7684\u5ba2\u6237\u7aef\u539f\u59cb\u8bf7\u6c42\u6d41\u4e0a(\u5373\u627f\u8f7d\u5728\u4e00\u4e2a\u5947\u6570\u6d41 ID \u4e0a\uff0c\u6bd4\u5982\u627f\u8f7d\u5728\u6d41 ID 1 /index.html \u4e0a)\u3002\u5947\u5076\u6027\u5b8c\u7f8e\u533a\u5206\u4e86\u8bf7\u6c42/\u63a8\u9001\u7684\u53d1\u8d77\u65b9\uff0c\u907f\u514d\u4e86\u6d41 ID \u51b2\u7a81\uff0c\u5e76\u901a\u8fc7 PUSH_PROMISE \u5c06\u5076\u6570\u63a8\u9001\u6d41\u7ed1\u5b9a\u5230\u5947\u6570\u8bf7\u6c42\u6d41\u4e0a\uff0c\u8ba9\u5ba2\u6237\u7aef\u80fd\u6b63\u786e\u5173\u8054\u548c\u4f7f\u7528\u63a8\u9001\u7684\u8d44\u6e90</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http3quic","title":"HTTP3(QUIC)","text":"<ul> <li>HTTP3 \u76f4\u63a5\u653e\u5f03\u4f7f\u7528 TCP\uff0c\u5c06\u4f20\u8f93\u5c42\u534f\u8bae\u6539\u6210 UDP\uff0c\u4f7f\u7528 UDP \u5b9e\u73b0\u53ef\u9760\u4f20\u8f93 </li> <li>0-RTT\uff1a\u7f13\u5b58\u5f53\u524d\u4f1a\u8bdd\u7684\u4e0a\u4e0b\u6587\uff0c\u4e0b\u6b21\u6062\u590d\u4f1a\u8bdd\u7684\u65f6\u5019\uff0c\u53ea\u9700\u8981\u5c06\u4e4b\u524d\u7684\u7f13\u5b58\u4f20\u9012\u7ed9\u670d\u52a1\u5668\uff0c\u9a8c\u8bc1\u901a\u8fc7\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u4f20\u8f93\u4e86  (\u8fd9\u662f QUIC \u534f\u8bae\u76f8\u6bd4 HTTP2 \u7684\u6700\u5927\u4f18\u52bf) </li> <li>\u591a\u8def\u590d\u7528\uff1a\u9996\u5148\uff0cHTTP3 \u7684 Stream \u662f\u4e0d\u9700\u8981\u50cf HTTP2 \u4e00\u6837\u5b9a\u4e49\u5728 Frame Header \u4e2d\u7684\uff0c\u5b83\u57fa\u4e8e QUIC \u5b9a\u4e49 Stream\uff0c\u4e8e\u662f\u5b83\u7684 Frame Header \u53d8\u5f97\u66f4\u52a0\u7b80\u5355(2B\uff0c\u7c7b\u578b + \u957f\u5ea6)\u3002\u540c\u6837\u5730\uff0c\u5b83\u7684\u5934\u90e8\u538b\u7f29\u7b97\u6cd5\u4e5f\u66f4\u6362\u6210\u4e86\u66f4\u52a0\u9ad8\u6548\u7684 QPACK \u7b97\u6cd5(\u9759\u6001\u8868\u66f4\u5927 + \u5355\u5411\u6d41\u5b9e\u65f6\u66f4\u65b0\u52a8\u6001\u8868)\u3002QUIC \u57fa\u4e8e UDP\uff0c\u4e00\u4e2a\u8fde\u63a5\u4e0a\u7684\u591a\u4e2a stream \u4e4b\u95f4\u6ca1\u6709\u4f9d\u8d56\uff0c\u5373\u4f7f\u4e22\u5305\uff0c\u53ea\u9700\u8981\u91cd\u53d1\u4e22\u5931\u7684\u5305\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u91cd\u4f20\u6574\u4e2a\u8fde\u63a5</li> <li>\u66f4\u597d\u7684\u79fb\u52a8\u7aef\u8868\u73b0\uff1aQUIC \u5728\u79fb\u52a8\u7aef\u7684\u8868\u73b0\u6bd4 TCP \u597d\uff0c\u56e0\u4e3a TCP \u662f\u57fa\u4e8e IP \u8bc6\u522b\u8fde\u63a5\uff0c\u800c QUIC \u662f\u901a\u8fc7 ID \u8bc6\u522b\u94fe\u63a5\u3002\u65e0\u8bba\u7f51\u7edc\u73af\u5883\u5982\u4f55\u53d8\u5316\uff0c\u53ea\u8981 ID \u4e0d\u53d8\uff0c\u5c31\u80fd\u8fc5\u901f\u91cd\u65b0\u8fde\u4e0a</li> <li>\u52a0\u5bc6\u8ba4\u8bc1\u7684\u62a5\u6587\uff1aTCP \u534f\u8bae\u5934\u6ca1\u6709\u7ecf\u8fc7\u4efb\u4f55\u52a0\u5bc6\u548c\u8ba4\u8bc1\uff0c\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u5f88\u5bb9\u6613\u88ab\u4e2d\u95f4\u7f51\u7edc\u8bbe\u5907\u7be1\u6539\u3001\u6ce8\u5165\u548c\u7a83\u542c\u3002QUIC \u7684 packet \u9664\u4e86\u4e2a\u522b\u62a5\u6587\uff0c \u6240\u6709\u62a5\u6587\u5934\u90e8\u90fd\u662f\u7ecf\u8fc7\u8ba4\u8bc1\u7684\uff0c\u62a5\u6587 Body \u90fd\u662f\u7ecf\u8fc7\u52a0\u5bc6\u7684\u3002\u53ea\u8981\u5bf9 QUIC \u505a\u4efb\u4f55\u66f4\u6539\uff0c\u63a5\u6536\u7aef\u90fd\u80fd\u53ca\u65f6\u53d1\u73b0\uff0c\u6709\u6548\u5730\u964d\u4f4e\u4e86\u5b89\u5168\u98ce\u9669</li> <li>\u524d\u5411\u7ea0\u9519\u673a\u5236\uff1a\u524d\u5411\u7ea0\u9519(Foward Error Correction\uff0cFEC) \u5373\u6bcf\u4e2a\u6570\u636e\u5305\u9664\u4e86\u5b83\u672c\u8eab\u7684\u5185\u5bb9\u4e4b\u5916\u8fd8\u5305\u62ec\u4e86\u5176\u4ed6\u6570\u636e\u5305\u7684\u6570\u636e\uff0c\u56e0\u6b64\u5c11\u91cf\u7684\u4e22\u5305\u53ef\u4ee5\u901a\u8fc7\u5176\u4ed6\u5305\u7684\u5197\u4f59\u6570\u636e\u76f4\u63a5\u7ec4\u88c5\u800c\u65e0\u9700\u91cd\u4f20\u3002\u524d\u5411\u7ea0\u9519\u727a\u7272\u4e86\u6bcf\u4e2a\u6570\u636e\u5305\u53ef\u4ee5\u53d1\u9001\u6570\u636e\u7684\u4e0a\u9650\uff0c\u4f46\u662f\u5e26\u6765\u7684\u63d0\u5347\u5927\u4e8e\u4e22\u5305\u5bfc\u81f4\u7684\u6570\u636e\u91cd\u4f20\uff0c\u56e0\u4e3a\u6570\u636e\u91cd\u4f20\u5c06\u4f1a\u6d88\u8017\u66f4\u591a\u7684\u65f6\u95f4(\u5305\u62ec\u786e\u8ba4\u6570\u636e\u5305\u4e22\u5931\uff0c\u8bf7\u6c42\u91cd\u4f20\uff0c\u7b49\u5f85\u65b0\u6570\u636e\u5305\u7b49\u6b65\u9aa4\u7684\u65f6\u95f4\u6d88\u8017)\u3002FEC \u91c7\u7528\u7b80\u5355\u5f02\u6216\u7684\u65b9\u5f0f\uff0c\u6bcf\u53d1\u9001\u4e00\u7ec4\u6570\u636e\u5e76\u5bf9\u8fd9\u4e9b\u6570\u636e\u5305\u4f9d\u6b21\u505a\u5f02\u6216\u8fd0\u7b97\u540e\uff0c\u5c06\u6700\u540e\u7684\u7ed3\u679c\u4f5c\u4e3a\u4e00\u4e2a FEC \u5305\u518d\u53d1\u9001\u51fa\u53bb\u3002\u63a5\u6536\u65b9\u6536\u5230\u4e00\u7ec4\u6570\u636e\u540e\uff0c\u6839\u636e\u6570\u636e\u5305\u548c FEC \u5305\u5373\u53ef\u4ee5\u8fdb\u884c\u6821\u9a8c\u548c\u7ea0\u9519\u3002\u6bd4\u5982\uff1a10\u4e2a\u5305\u7f16\u7801\u540e\u4f1a\u589e\u52a02\u4e2a\u5305\uff0c\u63a5\u6536\u7aef\u4e22\u5931\u7b2c 2 \u548c\u7b2c 3 \u4e2a\u5305\uff0c\u4ec5\u9760\u5269\u4e0b\u7684 10 \u4e2a\u5305\u5c31\u53ef\u4ee5\u89e3\u51fa\u4e22\u5931\u7684\u5305\uff0c\u4e0d\u5fc5\u91cd\u65b0\u53d1\u9001</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#quic","title":"QUIC \u534f\u8bae\u7684\u6982\u5ff5\u548c\u7279\u70b9\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_1","title":"\u6982\u5ff5","text":"<p>HTTP3 \u57fa\u4e8e UDP \u534f\u8bae\u5728\u5e94\u7528\u5c42\u5b9e\u73b0\u4e86 QUIC \u534f\u8bae\uff0c\u5177\u6709\u7c7b\u4f3c TCP \u7684 \u8fde\u63a5\u7ba1\u7406\u3001\u62e5\u585e\u7a97\u53e3\u3001\u6d41\u91cf\u63a7\u5236 \u7684\u7f51\u7edc\u7279\u6027\uff0c\u8ba9 UDP \u534f\u8bae\u53d8\u5f97\u53ef\u9760</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_2","title":"\u7279\u70b9","text":"<ul> <li>\u65e0\u961f\u5934\u963b\u585e\uff1aQUIC \u534f\u8bae\u6709\u7c7b\u4f3c HTTP2 Stream \u4e0e\u591a\u8def\u590d\u7528\u7684\u6982\u5ff5\uff0c\u53ef\u4ee5\u5728 \u540c\u4e00\u6761\u8fde\u63a5\u4e0a\u5e76\u53d1\u4f20\u8f93\u591a\u4e2a Stream\u3002UDP \u4e0d\u5173\u5fc3\u6570\u636e\u5305\u7684\u987a\u5e8f\uff0c\u4e5f\u4e0d\u5173\u5fc3\u662f\u5426\u4e22\u5305\u3002UDP \u5c06\u6bcf\u4e2a\u6570\u636e\u5305\u90fd\u6709\u4e00\u4e2a\u5e8f\u53f7\u552f\u4e00\u6807\u8bc6\u3002\u5f53\u67d0\u4e2a\u6d41\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u5305\u4e22\u5931\u4e86\uff0c\u8be5\u6d41\u7684\u5176\u4ed6\u6570\u636e\u5305\u5230\u8fbe\u4e86\uff0c\u6570\u636e\u4e5f\u65e0\u6cd5\u88ab HTTP3 \u8bfb\u53d6\uff0cQUIC \u91cd\u4f20\u4e22\u5931\u7684\u62a5\u6587\u4e4b\u540e\u6570\u636e\u624d\u4f1a\u4ea4\u7ed9 HTTP3\u3002\u800c\u5176\u4ed6\u6d41\u7684\u6570\u636e\u62a5\u6587\u53ea\u8981\u88ab\u5b8c\u6574\u63a5\u6536\uff0cHTTP3 \u5c31\u53ef\u4ee5\u8bfb\u53d6\u5230\u6570\u636e\u3002QUIC \u8fde\u63a5\u4e0a\u7684\u591a\u4e2a Stream \u4e4b\u95f4\u5e76\u6ca1\u6709\u4f9d\u8d56\uff0c\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u67d0\u4e2a\u6d41\u53d1\u751f\u4e22\u5305\u4e86\uff0c\u53ea\u4f1a\u5f71\u54cd\u8be5\u6d41\uff0c\u5176\u4ed6\u6d41\u4e0d\u53d7\u5f71\u54cd</li> <li>\u5feb\u901f\u8fde\u63a5\u5efa\u7acb\uff1aHTTP3 \u5728\u4f20\u8f93\u6570\u636e\u524d\u867d\u7136\u9700\u8981 QUIC \u534f\u8bae\u63e1\u624b\uff0c\u8fd9\u4e2a \u63e1\u624b\u8fc7\u7a0b\u53ea\u9700\u8981 1 RTT\uff0c\u63e1\u624b\u7684\u76ee\u7684\u662f\u4e3a\u786e\u8ba4\u53cc\u65b9\u7684\u300c\u8fde\u63a5 ID\u300d\uff0c \u8fde\u63a5\u8fc1\u79fb\u5c31\u662f\u57fa\u4e8e\u8fde\u63a5 ID \u5b9e\u73b0\u7684\u3002HTTP3 \u7684 QUIC \u534f\u8bae\u4e0d\u4e0e TLS \u5206\u5c42\uff0cQUIC \u5185\u90e8\u5305\u542b\u4e86 TLS\uff0c\u5b83\u5728\u81ea\u5df1\u7684\u5e27\u4f1a\u643a\u5e26 TLS \u8bb0\u5f55\uff0c\u53ea\u9700 1 \u4e2a RTT \u5c31\u53ef\u4ee5\u5b8c\u6210\u5efa\u7acb\u8fde\u63a5\u4e0e\u5bc6\u94a5\u534f\u5546\u3002\u5728\u7b2c\u4e8c\u6b21\u8fde\u63a5\u7684\u65f6\u5019\uff0c\u5e94\u7528\u6570\u636e\u5305\u53ef\u4ee5\u548c QUIC \u63e1\u624b\u4fe1\u606f(\u8fde\u63a5\u4fe1\u606f + TLS \u4fe1\u606f)\u4e00\u8d77\u53d1\u9001</li> <li>\u8fde\u63a5\u8fc1\u79fb\uff1aQUIC \u534f\u8bae\u6ca1\u6709\u7528\u56db\u5143\u7ec4\u7684\u65b9\u5f0f\u6765\u7ed1\u5b9a\u8fde\u63a5\uff0c\u800c\u662f\u901a\u8fc7  \u8fde\u63a5 ID  \u6765\u6807\u8bb0\u901a\u4fe1\u7684\u4e24\u4e2a\u7aef\u70b9\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u53ef\u4ee5\u5404\u81ea\u9009\u62e9\u4e00\u7ec4 ID \u6765\u6807\u8bb0\u81ea\u5df1\uff0c\u56e0\u6b64\u5373\u4f7f\u79fb\u52a8\u8bbe\u5907\u7684\u7f51\u7edc\u53d8\u5316\u540e\uff0c\u5bfc\u81f4 IP \u5730\u5740\u53d8\u5316\u4e86\uff0c\u53ea\u8981\u4ecd\u4fdd\u6709\u4e0a\u4e0b\u6587\u4fe1\u606f(\u6bd4\u5982\u8fde\u63a5 ID\u3001TLS \u5bc6\u94a5\u7b49)\uff0c\u5c31\u53ef\u4ee5\u590d\u7528\u539f\u8fde\u63a5\uff0c\u6d88\u9664\u91cd\u8fde\u7684\u6210\u672c\uff0c\u8fbe\u5230\u4e86 \u8fde\u63a5\u8fc1\u79fb \u7684\u529f\u80fd</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#quic_1","title":"QUIC \u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93\uff1f","text":"<p>QUIC \u534f\u8bae\u4e2d Packet \u5305\u542b QUIC Frame\uff0cQUIC Frame \u5305\u542b HTTP3 Frame\u3002</p> <ul> <li>Packet Header\uff1a\u5206\u4e3a Long Packet Header \u7528\u4e8e\u9996\u6b21\u5efa\u7acb\u8fde\u63a5\u548c Short Packet Header \u7528\u4e8e\u65e5\u5e38\u4f20\u8f93\u6570\u636e\u3002QUIC \u4e5f\u662f\u9700\u8981\u4e09\u6b21\u63e1\u624b\u6765\u5efa\u7acb\u8fde\u63a5\u7684\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u534f\u5546\u8fde\u63a5 ID\u3002\u534f\u5546\u51fa\u8fde\u63a5 ID \u540e\uff0c\u540e\u7eed\u4f20\u8f93\u65f6\uff0c\u53cc\u65b9\u53ea\u9700\u8981\u56fa\u5b9a\u4f4f\u8fde\u63a5 ID\uff0c\u4ece\u800c\u5b9e\u73b0\u8fde\u63a5\u8fc1\u79fb\u529f\u80fd\u3002Short Packet Header \u4e2d\u7684 Packet Number \u6bcf\u4e2a\u62a5\u6587\u6709\u72ec\u4e00\u65e0\u4e8c\u7684\u7f16\u53f7\uff0c\u5e76\u4e14\u4e25\u683c\u9012\u589e\u3002\u5355\u8c03\u9012\u589e\u7684\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u8ba9\u6570\u636e\u5305\u4e0d\u518d\u50cf TCP \u90a3\u6837\u5fc5\u987b\u6709\u5e8f\u786e\u8ba4\uff0c\u5f53\u6570\u636e\u5305 Packet N \u4e22\u5931\u540e\uff0c\u53ea\u8981\u6709\u65b0\u7684\u5df2\u63a5\u6536\u6570\u636e\u5305\u786e\u8ba4\uff0c\u5f53\u524d\u7a97\u53e3\u5c31\u4f1a\u7ee7\u7eed\u5411\u53f3\u6ed1\u52a8\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u961f\u5934\u963b\u585e\u7684\u95ee\u9898</li> <li>QUIC Frame Header\uff1a\u4e00\u4e2a Packet \u62a5\u6587\u4e2d\u53ef\u4ee5\u5b58\u653e\u591a\u4e2a QUIC Frame\u3002\u7528\u4e8e\u4f20\u8f93\u7684 Stream Frame \u6709 Stream ID\u3001Offset \u548c length \u5b57\u6bb5\uff0cStream ID \u7528\u4e8e\u591a\u4e2a\u5e76\u53d1\u4f20\u8f93\u7684 HTTP \u6d88\u606f\uff0c\u901a\u8fc7\u4e0d\u540c\u7684 Stream ID \u52a0\u4ee5\u533a\u522b\u3001Offset \u5b57\u6bb5\u7c7b\u4f3c\u4e8e TCP \u534f\u8bae\u4e2d\u7684 Seq \u5e8f\u53f7\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u987a\u5e8f\u6027\u548c\u53ef\u9760\u6027\uff1bLength \u6807\u8bc6\u4e86 Frame \u6570\u636e\u7684\u957f\u5ea6\u3002\u5982\u679c\u53d1\u751f\u4e22\u5305\u4e86\u8fdb\u884c\u91cd\u4f20\uff0c\u901a\u8fc7\u6bd4\u8f83\u4e24\u4e2a\u6570\u636e\u5305\u7684 Stream ID \u4e0e Stream Offset\uff0c\u5982\u679c\u90fd\u662f\u4e00\u81f4\uff0c\u5c31\u8bf4\u660e\u8fd9\u4e24\u4e2a\u6570\u636e\u5305\u7684\u5185\u5bb9\u4e00\u81f4</li> </ul> <p>\u6240\u4ee5\uff0cQUIC \u901a\u8fc7 \u5355\u5411\u9012\u589e\u7684 Packet Number\uff0c\u914d\u5408  Stream ID \u4e0e Offset \u5b57\u6bb5\u4fe1\u606f\uff0c\u53ef\u4ee5\u652f\u6301\u4e71\u5e8f\u786e\u8ba4\u800c\u4e0d\u5f71\u54cd\u6570\u636e\u5305\u7684\u6b63\u786e\u7ec4\u88c5\uff0c\u6446\u8131\u4e86 TCP \u5fc5\u987b\u6309\u987a\u5e8f\u786e\u8ba4\u7684\u9650\u5236\u3002</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http-get-post","title":"HTTP \u7684 GET \u548c POST \u65b9\u6cd5\u533a\u522b\uff1f","text":"<ul> <li>GET \u4e00\u822c\u7528\u6765\u4ece\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u8d44\u6e90\uff0cPOST \u4e00\u822c\u7528\u6765\u66f4\u65b0\u670d\u52a1\u5668\u4e0a\u7684\u8d44\u6e90</li> <li>GET \u662f\u5e42\u7b49\u7684\uff0c\u5373\u8bfb\u53d6\u540c\u4e00\u4e2a\u8d44\u6e90\u603b\u662f\u5f97\u5230\u76f8\u540c\u7684\u6570\u636e\uff0c\u800c  POST \u4e0d\u662f\u5e42\u7b49\u7684\uff0c\u56e0\u4e3a\u6bcf\u6b21\u8bf7\u6c42\u5bf9\u8d44\u6e90\u7684\u6539\u53d8\u5e76\u4e0d\u662f\u76f8\u540c\u7684</li> <li>GET \u4e0d\u4f1a\u6539\u53d8\u670d\u52a1\u5668\u4e0a\u7684\u8d44\u6e90\uff0c\u800c POST \u4f1a\u5bf9\u670d\u52a1\u5668\u8d44\u6e90\u8fdb\u884c\u6539\u53d8</li> <li>GET \u8bf7\u6c42\u7684\u6570\u636e\u4f1a\u9644\u5728 URL \u4e4b\u540e\uff0c\u5373\u5c06\u8bf7\u6c42\u6570\u636e\u653e\u7f6e\u5728 HTTP \u62a5\u6587\u7684\u8bf7\u6c42\u5934\u4e2d\uff0c\u4ee5  ? \u5206\u5272 URL \u548c\u4f20\u8f93\u6570\u636e\uff0c\u53c2\u6570\u4e4b\u95f4\u4ee5  &amp; \u76f8\u8fde\uff1b\u800c POST \u8bf7\u6c42\u4f1a\u628a\u63d0\u4ea4\u7684\u6570\u636e\u5219\u653e\u7f6e\u5728\u662f HTTP \u8bf7\u6c42\u62a5\u6587\u7684\u8bf7\u6c42\u4f53\u4e2d</li> <li>POST \u7684\u5b89\u5168\u6027\u8981\u6bd4 GET \u7684\u5b89\u5168\u6027\u9ad8\uff0c\u56e0\u4e3a GET \u8bf7\u6c42\u63d0\u4ea4\u7684\u6570\u636e\u5c06\u660e\u6587\u51fa\u73b0\u5728 URL \u4e0a\uff0c\u800c\u4e14 POST \u8bf7\u6c42\u53c2\u6570\u5219\u88ab\u5305\u88c5\u5230\u8bf7\u6c42\u4f53\u4e2d\uff0c\u76f8\u5bf9\u66f4\u5b89\u5168(\u5b9e\u9645\u4e0a\u8fd9\u4e2a\u8bba\u65ad\u4e0d\u51c6\u786e\uff1a\u65e0\u8bba\u662f GET \u8fd8\u662f POST \u5e95\u5c42\u90fd\u662f TCP/IP\uff0cGET \u548c POST  \u80fd\u505a\u7684\u4e8b\u60c5\u662f\u4e00\u6837\u7684\u3002\u4f60\u8981\u7ed9 GET \u52a0\u4e0a request body\uff0c\u7ed9 POST \u5e26\u4e0a url \u53c2\u6570\uff0c\u6280\u672f\u4e0a\u662f\u5b8c\u5168\u884c\u7684\u901a\u7684\u3002\u6240\u4ee5\u5bf9\u4e8e\u4e24\u8005\u7684\u5b89\u5168\u6027\u8bba\u65ad \u6ca1\u6709\u7edf\u4e00\u7b54\u6848\uff0c\u4e24\u8005 \u672c\u8d28\u76f8\u540c )</li> <li>\u4ece\u8bf7\u6c42\u7684\u5927\u5c0f\u770b\uff0cGET \u8bf7\u6c42\u7684\u957f\u5ea6\u53d7\u9650\u4e8e\u6d4f\u89c8\u5668\u6216\u670d\u52a1\u5668\u5bf9 URL \u957f\u5ea6\u7684\u9650\u5236\uff0c\u5141\u8bb8\u53d1\u9001\u7684\u6570\u636e\u91cf\u6bd4\u8f83\u5c0f\uff0c\u800c POST \u8bf7\u6c42\u5219\u662f\u6ca1\u6709\u5927\u5c0f\u9650\u5236\u7684</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#get-body","title":"GET \u8bf7\u6c42\u53ef\u4ee5\u5e26 body \u5417\uff1f","text":"<p>RFC \u89c4\u8303\u5e76\u6ca1\u6709\u89c4\u5b9a GET \u8bf7\u6c42\u4e0d\u80fd\u5e26 body\u3002\u4efb\u4f55\u8bf7\u6c42\u90fd\u53ef\u4ee5\u5e26 body\u3002GET \u8bf7\u6c42\u662f\u83b7\u53d6\u8d44\u6e90\uff0c\u6240\u4ee5\u6839\u636e\u8fd9\u4e2a\u8bed\u4e49\u4e0d\u9700\u8981\u7528\u5230 body\u3002URL \u4e2d\u7684\u67e5\u8be2\u53c2\u6570\u4e5f\u4e0d\u662f GET \u6240\u72ec\u6709\u7684\uff0cPOST \u8bf7\u6c42\u7684 URL \u4e2d\u4e5f\u53ef\u4ee5\u6709\u53c2\u6570\u7684\u3002</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#xss","title":"\u4ec0\u4e48\u662f XSS \u653b\u51fb\uff1f\u6709\u4ec0\u4e48\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_3","title":"\u6982\u5ff5","text":"<p>XSS(Cross(X) Site Scripting, \u8de8\u7ad9\u811a\u672c\u653b\u51fb) \u662f\u6307 \u6076\u610f\u653b\u51fb\u8005\u5229\u7528\u7f51\u7ad9\u6ca1\u6709\u5bf9\u7528\u6237\u63d0\u4ea4\u6570\u636e\u8fdb\u884c\u8f6c\u4e49\u5904\u7406\u6216\u8005\u8fc7\u6ee4\u4e0d\u8db3 \u7684\u7f3a\u70b9\uff0c\u8fdb\u800c\u6dfb\u52a0\u4e00\u4e9b\u811a\u672c\u4ee3\u7801\u5d4c\u5165\u5230 web \u9875\u9762\u4e2d\u53bb\uff0c\u4f7f\u522b\u7684\u7528\u6237\u8bbf\u95ee\u90fd\u4f1a\u6267\u884c\u76f8\u5e94\u7684\u5d4c\u5165\u4ee3\u7801\uff0c\u4ece\u800c\u76d7\u53d6\u7528\u6237\u8d44\u6599\u3001\u5229\u7528\u7528\u6237\u8eab\u4efd\u8fdb\u884c\u67d0\u79cd\u52a8\u4f5c\u6216\u8005\u5bf9\u8bbf\u95ee\u8005\u8fdb\u884c\u75c5\u6bd2\u4fb5\u5bb3\u7684\u4e00\u79cd\u653b\u51fb\u65b9\u5f0f</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_4","title":"\u5206\u7c7b","text":"<ul> <li>\u53cd\u5c04\u6027 XSS \u653b\u51fb(\u975e\u6301\u4e45\u6027 XSS \u653b\u51fb)\uff1a\u4e4b\u6240\u4ee5\u79f0\u4e3a\u53cd\u5c04\u578b XSS\uff0c\u662f \u56e0\u4e3a\u8fd9\u79cd\u653b\u51fb\u65b9\u5f0f\u7684\u6ce8\u5165\u4ee3\u7801\u662f\u4ece\u76ee\u6807\u670d\u52a1\u5668\u901a\u8fc7\u9519\u8bef\u4fe1\u606f\u3001\u641c\u7d22\u7ed3\u679c\u7b49\u7b49\u65b9\u5f0f\u201c\u53cd\u5c04\u201d\u56de\u6765\u7684\uff1a\u53d1\u51fa\u8bf7\u6c42\u65f6\uff0cXSS \u4ee3\u7801\u51fa\u73b0\u5728 URL \u4e2d\uff0c\u4f5c\u4e3a\u8f93\u5165\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7aef\uff0c\u670d\u52a1\u5668\u7aef\u89e3\u6790\u540e\u54cd\u5e94\uff0cXSS \u4ee3\u7801\u968f\u54cd\u5e94\u5185\u5bb9\u4e00\u8d77\u4f20\u56de\u7ed9\u6d4f\u89c8\u5668\uff0c\u6700\u540e\u6d4f\u89c8\u5668\u89e3\u6790\u6267\u884c XSS \u4ee3\u7801\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u50cf\u4e00\u6b21\u53cd\u5c04\uff0c\u6545\u53eb\u53cd\u5c04\u578b XSS\u3002\u800c\u79f0\u4e3a\u975e\u6301\u4e45\u578b XSS\uff0c\u5219\u662f \u56e0\u4e3a\u8fd9\u79cd\u653b\u51fb\u65b9\u5f0f\u5177\u6709\u4e00\u6b21\u6027\uff0c\u7531\u4e8e\u4ee3\u7801\u6ce8\u5165\u7684\u662f\u4e00\u4e2a\u52a8\u6001\u4ea7\u751f\u7684\u9875\u9762\u800c\u4e0d\u662f\u6c38\u4e45\u7684\u9875\u9762\uff0c\u56e0\u6b64\u8fd9\u79cd\u653b\u51fb\u65b9\u5f0f\u53ea\u5728\u70b9\u51fb\u94fe\u63a5\u7684\u65f6\u5019\u624d\u4ea7\u751f\u4f5c\u7528</li> <li>\u6301\u4e45\u6027 XSS \u653b\u51fb(\u7559\u8a00\u677f\u573a\u666f)\uff1a\u6307 XSS \u653b\u51fb\u4ee3\u7801\u5b58\u50a8\u5728\u7f51\u7ad9\u6570\u636e\u5e93\uff0c\u6bcf\u5f53\u7528\u6237\u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00\u6307\u5b9a\u9875\u9762\u65f6\uff0c\u811a\u672c\u5c31\u6267\u884c\u3002\u4e0e\u975e\u6301\u4e45\u6027 XSS \u653b\u51fb\u76f8\u6bd4\uff0c\u6301\u4e45\u6027 XSS \u653b\u51fb\u5371\u5bb3\u6027\u66f4\u5927</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_5","title":"\u5371\u5bb3","text":"<ul> <li>\u76d7\u53d6\u5404\u7c7b\u7528\u6237\u5e10\u53f7\uff0c\u5982\u673a\u5668\u767b\u5f55\u5e10\u53f7\u3001\u7528\u6237\u7f51\u94f6\u5e10\u53f7\u3001\u5404\u7c7b\u7ba1\u7406\u5458\u5e10\u53f7</li> <li>\u63a7\u5236\u4f01\u4e1a\u6570\u636e\uff0c\u5305\u62ec\u8bfb\u53d6\u3001\u7be1\u6539\u3001\u6dfb\u52a0\u3001\u5220\u9664\u4f01\u4e1a\u654f\u611f\u6570\u636e\u7684\u80fd\u529b</li> <li>\u76d7\u7a83\u4f01\u4e1a\u91cd\u8981\u7684\u5177\u6709\u5546\u4e1a\u4ef7\u503c\u7684\u8d44\u6599</li> <li>\u975e\u6cd5\u8f6c\u8d26</li> <li>\u5f3a\u5236\u53d1\u9001\u7535\u5b50\u90ae\u4ef6</li> <li>\u7f51\u7ad9\u6302\u9a6c</li> <li>\u63a7\u5236\u53d7\u5bb3\u8005\u673a\u5668\u5411\u5176\u5b83\u7f51\u7ad9\u53d1\u8d77\u653b\u51fb</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_6","title":"\u9632\u8303","text":"<p>\u6f0f\u6d1e\u4ea7\u751f\u7684\u6839\u672c\u539f\u56e0\u662f \u592a\u76f8\u4fe1\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u5bf9\u7528\u6237\u6240\u63d0\u4ea4\u7684\u6570\u636e\u8fc7\u6ee4\u4e0d\u8db3\u3002\u89e3\u51b3\u65b9\u6848\u4e5f\u5e94\u8be5\u4ece\u8fd9\u4e2a\u65b9\u9762\u5165\u624b\uff1a</p> <ul> <li>\u5c06\u91cd\u8981\u7684 cookie \u6807\u8bb0\u4e3a http only\uff1aJavascript \u4e2d\u7684 document.cookie \u8bed\u53e5\u5c31\u4e0d\u80fd\u83b7\u53d6\u5230 cookie \u4e86(\u5982\u679c\u5728 cookie \u4e2d\u8bbe\u7f6e\u4e86 HttpOnly \u5c5e\u6027\uff0c\u90a3\u4e48\u901a\u8fc7 js \u811a\u672c\u5c06\u65e0\u6cd5\u8bfb\u53d6\u5230 cookie \u4fe1\u606f\uff0c\u8fd9\u6837\u80fd\u6709\u6548\u7684\u9632\u6b62 XSS \u653b\u51fb)</li> <li>\u8868\u5355\u6570\u636e\u89c4\u5b9a\u503c\u7684\u7c7b\u578b\uff1a\u4f8b\u5982\uff1a\u5e74\u9f84\u5e94\u4e3a\u53ea\u80fd\u4e3a int \u3001 name \u53ea\u80fd\u4e3a\u5b57\u6bcd\u6570\u5b57\u7ec4\u5408</li> <li>\u5bf9\u6570\u636e\u8fdb\u884c HTML \u7f16\u7801\u5904\u7406 </li> <li>\u8fc7\u6ee4\u6216\u79fb\u9664\u7279\u6b8a\u7684 HTML \u6807\u7b7e\uff1a\u4f8b\u5982:   JavaScript<pre><code>  &lt;script&gt; , &lt;iframe&gt; , &lt; for &lt; , &gt; for&gt;\n</code></pre></li> <li>\u8fc7\u6ee4 JavaScript \u4e8b\u4ef6\u7684\u6807\u7b7e\uff1a\u4f8b\u5982 \"onclick=\", \"onfocus=\"</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#csrf","title":"\u4ec0\u4e48\u662f CSRF \u653b\u51fb\uff1f\u6709\u4ec0\u4e48\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_7","title":"\u6982\u5ff5","text":"<p>CSRF \u5c31\u662f \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\u3002\u662f\u4e00\u79cd\u5bf9\u7f51\u7ad9\u7684\u6076\u610f\u5229\u7528\u3002\u5c3d\u7ba1\u542c\u8d77\u6765\u50cf\u8de8\u7ad9\u811a\u672c(XSS)\uff0c\u4f46\u5b83\u4e0e XSS \u975e\u5e38\u4e0d\u540c\uff0cXSS \u5229\u7528\u7ad9\u70b9\u5185\u7684\u4fe1\u4efb\u7528\u6237\uff0c\u800c CSRF \u5219\u901a\u8fc7\u4f2a\u88c5\u6210\u53d7\u4fe1\u4efb\u7528\u6237\u8bf7\u6c42\u53d7\u4fe1\u4efb\u7684\u7f51\u7ad9\u3002</p> <ul> <li>\u767b\u5f55\u53d7\u4fe1\u4efb\u7f51\u7ad9 A\uff0c\u5e76\u5728\u672c\u5730\u751f\u6210 Cookie(\u5982\u679c\u7528\u6237\u6ca1\u6709\u767b\u5f55\u7f51\u7ad9 A\uff0c\u90a3\u4e48\u7f51\u7ad9 B \u5728\u8bf1\u5bfc\u7684\u65f6\u5019\uff0c\u8bf7\u6c42\u7f51\u7ad9 A \u7684 api \u63a5\u53e3\u65f6\uff0c\u4f1a\u63d0\u793a\u4f60\u767b\u5f55)</li> <li>\u5728\u4e0d\u767b\u51fa A \u7684\u60c5\u51b5\u4e0b\uff0c\u8bbf\u95ee\u5371\u9669\u7f51\u7ad9 B(\u5176\u5b9e\u662f\u5229\u7528\u4e86\u7f51\u7ad9 A \u7684\u6f0f\u6d1e)</li> <li></li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_8","title":"\u9632\u8303","text":"<ul> <li>Token \u9a8c\u8bc1\uff1a\u670d\u52a1\u5668\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u4e00\u4e2a token\uff0c\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u8868\u5355\u4e2d\u5e26\u7740\u8fd9\u4e2a token\uff0c\u5982\u679c\u8fd9\u4e2a token \u4e0d\u5408\u6cd5\uff0c\u90a3\u4e48\u670d\u52a1\u5668\u62d2\u7edd\u8fd9\u4e2a\u8bf7\u6c42</li> <li>\u9690\u85cf\u4ee4\u724c\uff1a\u628a token \u9690\u85cf\u5728 http \u7684 head \u5934\u4e2d</li> <li>Referer \u9a8c\u8bc1\uff1a\u53ea\u63a5\u53d7\u672c\u7ad9\u7684\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u624d\u505a\u54cd\u5e94\uff1b\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u62e6\u622a</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_9","title":"\u4e2d\u95f4\u4eba\u653b\u51fb\u4ee5\u53ca\u5982\u4f55\u9632\u8303\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_10","title":"\u6982\u5ff5","text":"<p>\u6307\u653b\u51fb\u8005\u4e0e\u901a\u8baf\u7684\u4e24\u7aef\u5206\u522b\u521b\u5efa\u72ec\u7acb\u7684\u8054\u7cfb\uff0c\u5e76\u4ea4\u6362\u5176\u6240\u6536\u5230\u7684\u6570\u636e\uff0c\u4f7f\u901a\u8baf\u7684\u4e24\u7aef\u8ba4\u4e3a\u4ed6\u4eec\u6b63\u5728\u901a\u8fc7\u4e00\u4e2a\u79c1\u5bc6\u7684\u8fde\u63a5\u4e0e\u5bf9\u65b9\u76f4\u63a5\u5bf9\u8bdd\uff0c\u4f46\u4e8b\u5b9e\u4e0a\u6574\u4e2a\u4f1a\u8bdd\u90fd\u88ab\u653b\u51fb\u8005\u5b8c\u5168\u63a7\u5236\u3002 </p> <ul> <li>\u55c5\u63a2\uff1a\u55c5\u63a2\u6216\u6570\u636e\u5305\u55c5\u63a2 \u662f\u4e00\u79cd\u7528\u4e8e\u6355\u83b7\u6d41\u8fdb\u548c\u6d41\u51fa\u7cfb\u7edf/\u7f51\u7edc\u7684\u6570\u636e\u5305\u7684\u6280\u672f\u3002\u7f51\u7edc\u4e2d\u7684\u6570\u636e\u5305\u55c5\u63a2\u5c31\u597d\u50cf\u7535\u8bdd\u4e2d\u7684\u76d1\u542c</li> <li>\u6570\u636e\u5305\u6ce8\u5165\uff1a\u653b\u51fb\u8005\u4f1a\u5c06\u6076\u610f\u6570\u636e\u5305\u6ce8\u5165\u5e38\u89c4\u6570\u636e\u4e2d\u3002\u8fd9\u6837\u7528\u6237\u4fbf\u4e0d\u4f1a\u6ce8\u610f\u5230\u6587\u4ef6/\u6076\u610f\u8f6f\u4ef6\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u5408\u6cd5\u901a\u8baf\u6d41\u7684\u4e00\u90e8\u5206\u3002\u5728\u4e2d\u95f4\u4eba\u653b\u51fb\u548c\u62d2\u7edd\u5f0f\u653b\u51fb\u4e2d\uff0c\u8fd9\u4e9b\u6587\u4ef6\u662f\u5f88\u5e38\u89c1\u7684</li> <li>\u4f1a\u8bdd\u52ab\u6301\uff1a\u5f53\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\u5728\u8fdb\u884c\u4e00\u4e2a\u4f1a\u8bdd\u65f6\uff0c\u4f1a\u8bdd\u4e2d\u5305\u542b\u4e86\u5f88\u591a\u91cd\u8981\u4fe1\u606f\uff0c\u4e00\u4e9b\u9ed1\u5ba2\u4f1a\u6f5c\u4f0f\u5728\u8fd9\u4e2a\u4f1a\u8bdd\u4e2d\uff0c\u6700\u7ec8\u63a7\u5236\u8fd9\u4e2a\u4f1a\u8bdd\uff0c\u8fd9\u65e2\u662f\u4f1a\u8bdd\u52ab\u6301</li> <li>SSL \u5265\u79bb\uff1aSSL/TLS \u8bc1\u4e66\u901a\u8fc7\u52a0\u5bc6\u4fdd\u62a4\u7740\u7684\u901a\u8baf\u5b89\u5168\u3002\u5728 SSL \u5265\u79bb\u653b\u51fb\u4e2d\uff0c\u653b\u51fb\u8005\u4f7f SSL/TLS \u8fde\u63a5\u5265\u843d\uff0c\u968f\u4e4b\u534f\u8bae\u4fbf\u4ece\u5b89\u5168\u7684 HTTPs \u53d8\u6210\u4e86\u4e0d\u5b89\u5168\u7684 HTTP</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_11","title":"\u9632\u8303","text":"<p>\u4f7f\u7528 HTTPs \u534f\u8bae\uff0c\u7981\u7528\u4e0d\u5b89\u5168\u7684 SSL \u534f\u8bae\uff0c\u542f\u7528\u865a\u62df\u4e13\u7528\u7f51(VPN)\u3002</p> <p>\u901a\u8fc7  HTTPs \u53cc\u5411\u8ba4\u8bc1 \u6765\u907f\u514d\u8fd9\u79cd\u95ee\u9898\uff1a\u4e00\u822c HTTPs \u662f\u5355\u5411\u8ba4\u8bc1\uff0c\u5ba2\u6237\u7aef\u53ea\u4f1a\u9a8c\u8bc1\u4e86\u670d\u52a1\u7aef\u7684\u8eab\u4efd\uff0c\u4f46\u662f\u670d\u52a1\u7aef\u5e76\u4e0d\u4f1a\u9a8c\u8bc1\u5ba2\u6237\u7aef\u7684\u8eab\u4efd\u3002\u5982\u679c\u7528\u4e86\u53cc\u5411\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u4e0d\u4ec5\u5ba2\u6237\u7aef\u4f1a\u9a8c\u8bc1\u670d\u52a1\u7aef\u7684\u8eab\u4efd\uff0c\u800c\u4e14\u670d\u52a1\u7aef\u4e5f\u4f1a\u9a8c\u8bc1\u5ba2\u6237\u7aef\u7684\u8eab\u4efd\u3002\u670d\u52a1\u7aef\u4e00\u65e6\u9a8c\u8bc1\u5230\u8bf7\u6c42\u81ea\u5df1\u7684\u5ba2\u6237\u7aef\u4e3a\u4e0d\u53ef\u4fe1\u4efb\u7684\uff0c\u670d\u52a1\u7aef\u5c31\u62d2\u7edd\u7ee7\u7eed\u901a\u4fe1\uff0c\u5ba2\u6237\u7aef\u5982\u679c\u53d1\u73b0\u670d\u52a1\u7aef\u4e3a\u4e0d\u53ef\u4fe1\u4efb\u7684\uff0c\u90a3\u4e48\u4e5f\u4e2d\u6b62\u901a\u4fe1\u3002</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http-11","title":"HTTP 1.1 \u5982\u4f55\u4f18\u5316\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http_3","title":"\u907f\u514d\u53d1\u9001 HTTP \u8bf7\u6c42","text":"<p>\u901a\u8fc7 \u7f13\u5b58\u6280\u672f \u5c06\u8bf7\u6c42-\u54cd\u5e94\u7684\u6570\u636e\u90fd\u7f13\u5b58\u5728\u672c\u5730\uff0c\u4e0b\u6b21\u8bf7\u6c42\u76f4\u63a5\u8bfb\u53d6\u672c\u5730\u7684\u6570\u636e\u3002</p> <p>\u5ba2\u6237\u7aef\u4f1a\u5c06\u7b2c\u4e00\u6b21\u8bf7\u6c42\u4ee5\u53ca\u54cd\u5e94\u7684\u6570\u636e\u4fdd\u5b58\u5728\u672c\u5730\u786c\u76d8\uff0c\u5176\u4e2d\u5c06\u8bf7\u6c42\u7684 URL \u4f5c\u4e3a key\uff0c\u5c06\u76f8\u5e94\u4f5c\u4e3a value\u3002\u5f53\u540e\u7eed\u53d1\u8d77\u76f8\u540c\u7684\u8bf7\u6c42\u65f6\u53ef\u4ee5\u5148\u5728\u672c\u5730\u786c\u76d8\u4e0a\u901a\u8fc7 key \u67e5\u627e\u5bf9\u5e94\u7684 value\u3002</p> <p>\u670d\u52a1\u5668\u5728\u53d1\u9001 HTTP \u54cd\u5e94\u65f6\u4f1a\u4f30\u7b97\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4\uff0c\u5e76\u628a\u4fe1\u606f\u653e\u5230\u54cd\u5e94\u5934\u90e8\u4e2d\u3002\u5f53\u5ba2\u6237\u7aef\u53d1\u73b0\u54cd\u5e94\u8fc7\u671f\u65f6\u4f1a\u91cd\u65b0\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u5982\u679c\u670d\u52a1\u5668\u4e0a\u8d44\u6e90\u6ca1\u6709\u53d8\u66f4\uff0c\u90a3\u4e48\u670d\u52a1\u5668\u4f1a\u8fd4\u56de \u4e0d\u542b\u6709\u54cd\u5e94\u4f53\u7684 <code>304 Not Modified</code> \u54cd\u5e94\u3002</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http_4","title":"\u51cf\u5c11 HTTP \u8bf7\u6c42\u6b21\u6570","text":"<ul> <li>\u51cf\u5c11\u91cd\u5b9a\u5411\u8bf7\u6c42\u6b21\u6570\uff1a\u91cd\u5b9a\u5411\u7684\u5de5\u4f5c\u53ef\u4ee5\u4ea4\u7531\u4ee3\u7406\u670d\u52a1\u5668\u5b8c\u6210</li> <li>\u5408\u5e76\u8bf7\u6c42\uff1a\u4e00\u822c\u6d4f\u89c8\u5668\u4f1a\u540c\u65f6\u53d1\u8d77 5-6 \u4e2a\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u901a\u8fc7\u5c06\u5f88\u591a\u5c0f\u56fe\u7247\u5229\u7528 <code>CSS Image Sprites</code> \u6280\u672f\u5c06\u5b83\u4eec\u5408\u79f0\u4e3a\u4e00\u4e2a\u5927\u56fe\u7247\uff0c\u6216\u8005\u901a\u8fc7 <code>Base64</code> \u7f16\u7801\u5c06\u56fe\u7247\u5d4c\u5165\u5230 HTML \u6587\u4ef6\u5b9e\u73b0\u5408\u5e76\u8bf7\u6c42</li> <li>\u5ef6\u8fdf\u53d1\u9001\u8bf7\u6c42\uff1a\u53ea\u6709\u5728\u7528\u6237\u5411\u4e0b\u6ed1\u52a8\u9875\u9762\u7684\u65f6\u5019\u518d\u53d1\u9001\u8bf7\u6c42\uff0c\u5bf9\u8d44\u6e90 \u6309\u9700\u83b7\u53d6 </li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http_5","title":"\u51cf\u5c11 HTTP \u54cd\u5e94\u6570\u636e\u5927\u5c0f","text":"<ul> <li>\u65e0\u635f\u538b\u7f29\uff1a\u53bb\u9664\u4e00\u4e9b\u4e3a\u4e86\u4ee3\u7801\u683c\u5f0f\u7f8e\u89c2\u800c\u4f7f\u7528\u7684\u7a7a\u683c\u3001\u6362\u884c\uff1b\u5229\u7528\u970d\u592b\u66fc\u7f16\u7801\u5bf9\u8d44\u6e90\u8fdb\u884c\u538b\u7f29</li> <li>\u6709\u635f\u538b\u7f29\uff1a\u4f8b\u5982\u5bf9\u56fe\u7247\u53ef\u4ee5\u4f7f\u7528  WebP  \u683c\u5f0f\u538b\u7f29\u3001\u5bf9\u89c6\u9891\u4f7f\u7528  H264\u3001H265  \u7b49\u683c\u5f0f\u538b\u7f29</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#https_1","title":"HTTPs \u5982\u4f55\u4f18\u5316\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_12","title":"\u786c\u4ef6\u4f18\u5316","text":"<p>HTTPs \u662f \u8ba1\u7b97\u5bc6\u96c6\u578b\uff0c\u6240\u4ee5\u5e94\u4ece\u4f18\u5316 CPU \u5165\u624b\u3002\u53ef\u4ee5\u9009\u62e9\u652f\u6301 AES-NI \u7279\u6027\u7684 CPU\uff0c\u56e0\u4e3a\u8fd9\u79cd CPU \u5728\u6307\u4ee4\u7ea7\u522b\u4f18\u5316\u4e86 AES \u7b97\u6cd5\uff0c\u52a0\u901f\u52a0\u5bc6\u6570\u636e\u7684\u4f20\u8f93\u3002</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_13","title":"\u8f6f\u4ef6\u4f18\u5316","text":"<ul> <li>\u8f6f\u4ef6\u5347\u7ea7\uff1a\u5347\u7ea7 Linux \u5185\u6838\u7248\u672c</li> <li>\u534f\u8bae\u5347\u7ea7\uff1a\u5347\u7ea7\u534f\u8bae\u8f6f\u4ef6\u7248\u672c</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_14","title":"\u534f\u8bae\u4f18\u5316","text":"<ul> <li>\u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5\u4f18\u5316\uff1a\u5c3d\u91cf\u9009\u7528 ECDHE \u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5\u66ff\u6362 RSA \u7b97\u6cd5</li> <li>TLS \u5347\u7ea7\uff1aTLS1.3 \u5927\u5e45\u7b80\u5316\u4e86\u63e1\u624b\u7684\u6b65\u9aa4\uff0c \u5b8c\u6210\u63e1\u624b\u4ec5\u9700 1 RTT\uff0c\u5b89\u5168\u6027\u4e5f\u66f4\u9ad8\u3002\u5b9e\u73b0\u65b9\u6cd5\u662f TLS1.3 \u5c06 Hello \u548c\u516c\u94a5\u4ea4\u6362\u4e24\u4e2a\u6d88\u606f\u5408\u5e76\u6210\u4e86\u4e00\u4e2a\u6d88\u606f</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_15","title":"\u8bc1\u4e66\u4f18\u5316","text":"<ul> <li>\u8bc1\u4e66\u4f20\u8f93\u4f18\u5316\uff1a\u5c3d\u91cf\u9009\u62e9\u692d\u5706\u66f2\u7ebf ECDSA \u8bc1\u4e66</li> <li>\u8bc1\u4e66\u9a8c\u8bc1\u4f18\u5316\uff1a\u5ba2\u6237\u7aef\u8fdb\u884c\u9010\u7ea7\u9a8c\u8bc1\u8bc1\u4e66\u53ef\u9760\u6027\u662f\u4e00\u4e2a\u590d\u6742\u7684\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u7740\u624b\u5728\u8fd9\u65b9\u9762\u8fdb\u884c\u4f18\u5316</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_16","title":"\u4f1a\u8bdd\u590d\u7528","text":"<p>\u4f1a\u8bdd\u590d\u7528\u4f7f\u7528\u7684\u4ee5\u4e0b\u4e09\u79cd\u6280\u672f\u90fd\u6709\u4e0d\u80fd\u907f\u514d \u91cd\u653e\u653b\u51fb\uff1a</p> <ul> <li>Session ID\uff1a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u9996\u6b21 TLS \u63e1\u624b\u8fde\u63a5\u540e\uff0c\u53cc\u65b9\u5728\u5185\u5b58\u7f13\u5b58\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u5e76\u7528\u552f\u4e00\u7684 Session ID \u8fdb\u884c\u6807\u8bc6\u3002\u5f53\u5ba2\u6237\u7aef\u518d\u6b21\u8fde\u63a5\u65f6\uff0cHello \u62a5\u6587\u4e2d\u4f1a\u643a\u5e26 Session ID\uff0c\u53ea\u8981 ID \u6ca1\u6709\u8fc7\u671f\u5c31\u53ef\u4ee5\u901a\u8fc7 1 RTT \u5b9e\u73b0\u63e1\u624b</li> <li>Session Ticket\uff1a\u670d\u52a1\u5668\u4e0d\u518d\u7f13\u5b58\u6bcf\u4e2a\u5ba2\u6237\u7aef\u7684\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u8f6c\u800c\u5c06\u7f13\u5b58\u5de5\u4f5c\u4ea4\u7ed9\u5ba2\u6237\u7aef\u3002\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u9996\u6b21\u8fde\u63a5\u65f6\u670d\u52a1\u5668\u52a0\u5bc6\u4f1a\u8bdd\u5bc6\u94a5\u4f5c\u4e3a Ticket \u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u7f13\u5b58\u8be5 Ticket\u3002\u5ba2\u6237\u7aef\u518d\u6b21\u8fde\u63a5\u670d\u52a1\u5668\u65f6\u53d1\u9001\u8be5 Ticket\uff0c\u670d\u52a1\u5668\u89e3\u7801 Ticket \u5e76\u68c0\u67e5\u6709\u6548\u671f\u5373\u53ef\u6062\u590d\u901a\u8bdd</li> <li>Pre-shared Key\uff1aTLS1.3 \u901a\u8fc7 Pre-shared Key \u5b9e\u73b0 0 RTT \u5b8c\u6210\u63e1\u624b</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http-rpc","title":"\u65e2\u7136\u6709 HTTP \u534f\u8bae\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u6709 RPC\uff1f","text":""},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_17","title":"\u5b9a\u4e49","text":"<p>TCP \u662f\u4f20\u8f93\u5c42\u7684\u534f\u8bae\uff0c\u57fa\u4e8e TCP \u9020\u51fa\u6765\u7684 HTTP \u548c\u5404\u7c7b RPC \u534f\u8bae\u90fd\u53ea\u662f \u5b9a\u4e49\u4e86\u4e0d\u540c\u6d88\u606f\u683c\u5f0f\u7684\u5e94\u7528\u5c42\u534f\u8bae \u800c\u5df2\u3002HTTP \u534f\u8bae\u662f \u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff1bRPC \u662f \u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff0c\u5b83\u4e0d\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u534f\u8bae\uff0c\u800c\u662f\u4e00\u79cd\u8c03\u7528\u65b9\u5f0f\u3002\u867d\u7136\u5927\u90e8\u5206 RPC \u534f\u8bae\u5e95\u5c42\u4f7f\u7528 TCP\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u4eec\u4e0d\u4e00\u5b9a\u975e\u8981\u7528 TCP\uff0c\u4e5f\u53ef\u4ee5\u6539\u7528 UDP \u6216\u8005 HTTP\u3002HTTP \u4e3b\u8981\u7528\u4e8e b/s \u67b6\u6784\uff0c\u800c RPC \u66f4\u591a\u7528\u4e8e c/s \u67b6\u6784</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_18","title":"\u670d\u52a1\u53d1\u73b0","text":"<p>HTTP \u4e2d\u77e5\u9053\u670d\u52a1\u7684\u57df\u540d\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7 DNS \u670d\u52a1\u53bb\u89e3\u6790\u5f97\u5230 IP \u5730\u5740\uff0c\u9ed8\u8ba4 80 \u7aef\u53e3\u3002RPC \u4e00\u822c\u4f1a\u6709\u4e13\u95e8\u7684\u4e2d\u95f4\u670d\u52a1\u53bb\u4fdd\u5b58\u670d\u52a1\u540d\u548c IP \u4fe1\u606f\uff0c\u6bd4\u5982 consul \u6216\u8005 etcd\uff0c\u6216\u8005\u662f redis\u3002\u60f3\u8981\u8bbf\u95ee\u67d0\u4e2a\u670d\u52a1\uff0c\u5c31\u53bb\u8fd9\u4e9b\u4e2d\u95f4\u670d\u52a1\u53bb\u83b7\u5f97 IP \u548c\u7aef\u53e3\u4fe1\u606f\u3002\u7531\u4e8e dns \u4e5f\u662f\u670d\u52a1\u53d1\u73b0\u7684\u4e00\u79cd\uff0c\u6240\u4ee5\u4e5f\u6709\u57fa\u4e8e DNS \u53bb\u505a\u670d\u52a1\u53d1\u73b0\u7684\u7ec4\u4ef6\uff0c\u6bd4\u5982 CoreDNS</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_19","title":"\u5e95\u5c42\u8fde\u63a5\u65b9\u5f0f","text":"<p>HTTP \u534f\u8bae\u9ed8\u8ba4\u5728\u5efa\u7acb\u5e95\u5c42 TCP \u8fde\u63a5\u4e4b\u540e\u4f1a\u4e00\u76f4\u4fdd\u6301\u8fd9\u4e2a\u8fde\u63a5(keep alive)\uff0c\u4e4b\u540e\u7684\u8bf7\u6c42\u548c\u54cd\u5e94\u90fd\u4f1a\u590d\u7528\u8fd9\u6761\u8fde\u63a5\u3002RPC \u534f\u8bae\u4e5f\u662f\u901a\u8fc7\u5efa\u7acb TCP \u957f\u8fde\u63a5\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\uff0c\u4f46  RPC \u534f\u8bae\u4e00\u822c\u8fd8\u4f1a\u518d\u5efa\u4e2a\u8fde\u63a5\u6c60\uff0c\u5728\u8bf7\u6c42\u91cf\u5927\u7684\u65f6\u5019\uff0c\u5efa\u7acb\u591a\u6761\u8fde\u63a5\u653e\u5728\u6c60\u5185\uff0c\u8981\u53d1\u6570\u636e\u7684\u65f6\u5019\u5c31\u4ece\u6c60\u91cc\u53d6\u4e00\u6761\u8fde\u63a5\u51fa\u6765\uff0c\u7528\u5b8c\u653e\u56de\u53bb\u4fbf\u4e8e\u4e0b\u6b21\u518d\u590d\u7528</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_20","title":"\u4f20\u8f93\u5185\u5bb9","text":"<p>HTTP \u8bbe\u8ba1\u521d\u662f\u7528\u4e8e\u505a\u7f51\u9875\u6587\u672c\u5c55\u793a\u7684\uff0c\u4f20\u7684\u5185\u5bb9\u4ee5\u5b57\u7b26\u4e32\u4e3a\u4e3b\uff0c\u6709 header \u548c body\u3002\u5728 body \u8fd9\u5757\uff0c\u5b83\u4f7f\u7528 json \u6765\u5e8f\u5217\u5316\u7ed3\u6784\u4f53\u6570\u636e\uff0c \u5185\u5bb9\u4f1a\u6709\u5197\u4f59\u3002RPC \u56e0\u4e3a\u5b9a\u5236\u5316\u7a0b\u5ea6\u66f4\u9ad8\uff0c\u53ef\u4ee5\u91c7\u7528 \u4f53\u79ef\u66f4\u5c0f \u7684 protobuf \u6216\u5176\u4ed6\u5e8f\u5217\u5316\u534f\u8bae\u53bb\u4fdd\u5b58\u7ed3\u6784\u4f53\u6570\u636e\uff0c\u540c\u65f6\u4e5f\u4e0d\u9700\u8981\u50cf HTTP \u90a3\u6837\u8003\u8651\u5404\u79cd\u6d4f\u89c8\u5668\u884c\u4e3a\uff0c\u6bd4\u5982 302 \u91cd\u5b9a\u5411\u3002\u56e0\u6b64\u6027\u80fd\u4e5f\u4f1a\u66f4\u597d\u4e00\u4e9b\uff0c\u8fd9\u4e5f\u662f\u5728\u516c\u53f8\u5185\u90e8\u5fae\u670d\u52a1\u4e2d\u629b\u5f03 HTTP\uff0c\u9009\u62e9\u4f7f\u7528 RPC \u7684\u6700\u4e3b\u8981\u539f\u56e0</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#_21","title":"\u5386\u53f2\u539f\u56e0","text":"<p>RPC \u5176\u5b9e\u6bd4 HTTP \u51fa\u73b0\u7684\u8981\u65e9\uff0c\u4e14\u6bd4\u76ee\u524d\u4e3b\u6d41\u7684 HTTP1.1 \u6027\u80fd\u8981\u66f4\u597d\uff0c\u6240\u4ee5\u5927\u90e8\u5206\u516c\u53f8\u5185\u90e8\u90fd\u8fd8\u5728\u4f7f\u7528 RPC\u3002HTTP2 \u5728 HTTP1.1 \u7684\u57fa\u7840\u4e0a\u505a\u4e86\u4f18\u5316\uff0c\u6027\u80fd\u53ef\u80fd\u6bd4\u5f88\u591a RPC \u534f\u8bae\u90fd\u8981\u597d\uff0c\u4f46\u7531\u4e8e\u662f\u8fd9\u51e0\u5e74\u624d\u51fa\u6765\u7684\uff0c\u6240\u4ee5\u4e5f\u4e0d\u592a\u53ef\u80fd\u53d6\u4ee3\u6389 RPC</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#http-websocket","title":"\u65e2\u7136\u6709 HTTP \u534f\u8bae\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u6709 WebSocket\uff1f","text":"<p>\u56e0\u4e3a HTTP \u867d\u7136\u57fa\u4e8e\u652f\u6301\u5168\u53cc\u5de5\u901a\u4fe1\u7684 TCP \u534f\u8bae\uff0c\u4f46\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u505a\u5230\u5168\u53cc\u5de5\u901a\u4fe1\uff0c\u5b83\u53ea\u5141\u8bb8\u5ba2\u6237\u7aef\u53d1\u9001\u4fe1\u606f\u7ed9\u670d\u52a1\u5668\u3002\u56e0\u6b64\uff0c\u652f\u6301\u53cc\u65b9\u5168\u53cc\u5de5\u901a\u4fe1\u7684 WebSocket \u534f\u8bae\u5e94\u8fd0\u800c\u751f\u3002</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#websocket","title":"WebSocket \u6982\u5ff5","text":"<p>WebSocket \u662f \u652f\u6301\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u5168\u53cc\u5de5\u5927\u91cf\u6570\u636e\u7684\u901a\u4fe1 \u7684\u57fa\u4e8e TCP \u8fde\u63a5\u7684\u534f\u8bae\u3002\u5efa\u7acb WebSocket \u8fde\u63a5\u5e94\u5728 HTTP \u8bf7\u6c42\u5934\u90e8\u4f7f\u7528 \u7279\u6b8a Header\uff1a</p> HTTP<pre><code>Connection: Upgrade\nUpgrade: WebSocket\nSec-WebSocket-Key: YOUR_WEBSOCKET_KEY\n</code></pre> <p>\u4e0a\u8ff0\u62a5\u6587\u6307\u6d4f\u89c8\u5668\u5e0c\u671b \u5347\u7ea7\u4e3a WebSocket\u534f\u8bae\uff08Connection: Upgrade\uff09\uff0c\u540c\u65f6\u5e26\u4e0a\u4e00\u6bb5 \u968f\u673a\u751f\u6210\u7684 Base64 \u7801\uff08Sec-WebSocket-Key\uff09 \u53d1\u7ed9\u670d\u52a1\u5668\u3002\u5982\u679c\u670d\u52a1\u5668\u6b63\u597d\u652f\u6301\u5347\u7ea7\u6210 WebSocket \u534f\u8bae\u3002\u5c31\u4f1a\u8d70 WebSocket \u63e1\u624b\u6d41\u7a0b\uff0c\u540c\u65f6\u6839\u636e\u5ba2\u6237\u7aef\u751f\u6210\u7684 Base64 \u7801\uff0c\u7528\u67d0\u4e2a \u516c\u5f00\u7684 \u7b97\u6cd5\u53d8\u6210\u53e6\u4e00\u6bb5\u5b57\u7b26\u4e32\uff0c\u653e\u5728 HTTP \u54cd\u5e94\u7684 <code>Sec-WebSocket-Accept</code> \u7684\u540c\u65f6\u5e26\u4e0a <code>101 \u72b6\u6001\u7801</code> \u53d1\u56de\u7ed9\u6d4f\u89c8\u5668\u3002HTTP \u7684\u54cd\u5e94\u5982\u4e0b\uff1a</p> HTTP<pre><code>HTTP/1.1 101 Switching Protocols\\r\\n\nSec-WebSocket-Accept: YOUR_WEBSOCKET_ACCEPT_CODE\nUpgrade: WebSocket\\r\\n\nConnection: Upgrade\\r\\n\n</code></pre> <p>\u4ee5\u4e0a\u7684\u4e24\u6b21 WebSocket \u63e1\u624b\u4f7f\u5f97 WebSocket \u8fde\u63a5\u6210\u529f\u5efa\u7acb\uff0c\u6b64\u540e\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u53ef\u4ee5\u901a\u8fc7 WebSocket \u534f\u8bae\u901a\u4fe1\u3002</p>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#websocket_1","title":"WebSocket \u7684\u6d88\u606f\u683c\u5f0f","text":"<p>\u6570\u636e\u5305\u5728 WebSocket \u4e2d\u88ab\u53eb\u505a \u5e27\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u5b57\u6bb5\uff1a</p> <ul> <li>opcode\uff1a\u6807\u5fd7\u8fd9\u6570\u636e\u5e27\u7c7b\u578b<ul> <li>\u7b49\u4e8e 1\uff1a\u6307 text \u7c7b\u578b\uff08<code>string</code>\uff09\u7684\u6570\u636e\u5305</li> <li>\u7b49\u4e8e 2\uff1a\u4e8c\u8fdb\u5236\u6570\u636e\u7c7b\u578b\uff08<code>[]byte</code>\uff09\u7684\u6570\u636e\u5305</li> <li>\u7b49\u4e8e 8\uff1a\u5173\u95ed\u8fde\u63a5\u7684\u4fe1\u53f7</li> </ul> </li> <li>payload\uff1a\u5b58\u653e\u4f20\u8f93\u7684\u6570\u636e\u7684\u957f\u5ea6\uff0c\u5355\u4f4d\u662f\u5b57\u8282</li> <li>payload data\uff1a\u5b9e\u9645\u4f20\u8f93\u7684\u6570\u636e\uff0c\u6839\u636e payload \u957f\u5ea6\u622a\u53d6\u5bf9\u5e94\u7684\u6570\u636e</li> </ul>"},{"location":"Computer%20Network/HTTP%20%26%20HTTPs/#websocket_2","title":"WebSocket \u7684\u4f7f\u7528\u573a\u666f","text":"<p>WebSocket \u5b8c\u7f8e\u7ee7\u627f\u4e86 TCP \u534f\u8bae\u7684 \u5168\u53cc\u5de5 \u80fd\u529b\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u89e3\u51b3\u7c98\u5305\u7684\u65b9\u6848\u3002\u5b83\u9002\u7528\u4e8e \u9700\u8981\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\uff08\u6d4f\u89c8\u5668\uff09\u9891\u7e41\u4ea4\u4e92 \u7684\u5927\u90e8\u5206\u573a\u666f\uff0c\u6bd4\u5982\u7f51\u9875/\u5c0f\u7a0b\u5e8f\u6e38\u620f\uff0c\u7f51\u9875\u804a\u5929\u5ba4\uff0c\u4ee5\u53ca\u4e00\u4e9b\u7c7b\u4f3c\u98de\u4e66\u8fd9\u6837\u7684\u7f51\u9875\u534f\u540c\u529e\u516c\u8f6f\u4ef6\u3002\u5728\u4f7f\u7528 WebSocket \u534f\u8bae\u7684\u7f51\u9875\u6e38\u620f\u91cc\uff0c\u602a\u7269\u79fb\u52a8\u4ee5\u53ca\u653b\u51fb\u73a9\u5bb6\u7684\u884c\u4e3a\u662f \u670d\u52a1\u5668\u903b\u8f91 \u4ea7\u751f\u7684\uff0c\u5bf9\u73a9\u5bb6\u4ea7\u751f\u7684\u4f24\u5bb3\u7b49\u6570\u636e\uff0c\u90fd\u9700\u8981\u7531 \u670d\u52a1\u5668\u4e3b\u52a8\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u83b7\u5f97\u6570\u636e\u540e\u5c55\u793a\u5bf9\u5e94\u7684\u6548\u679c\u3002</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Computer%20Network/IP/","title":"IP","text":""},{"location":"Computer%20Network/IP/#ip","title":"\ud83d\udfe2 IP","text":"<p> \u7ea6 2983 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p>"},{"location":"Computer%20Network/IP/#dns","title":"DNS \u67e5\u8be2\u670d\u52a1\u5668\u7684\u57fa\u672c\u6d41\u7a0b\uff1f","text":"<ul> <li>\u5ba2\u6237\u673a\u5411\u5176\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u53d1\u51fa DNS \u8bf7\u6c42\u62a5\u6587</li> <li>\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u67e5\u8be2\u672c\u5730\u7f13\u5b58\uff0c\u5047\u8bbe\u6ca1\u6709\u8be5\u8bb0\u5f55\uff0c\u5219\u4ee5 DNS \u5ba2\u6237\u7684\u8eab\u4efd\u5411 \u6839\u57df\u540d\u670d\u52a1\u5668 \u53d1\u51fa\u89e3\u6790\u8bf7\u6c42</li> <li>\u6839\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5224\u65ad\u8be5\u57df\u540d\u6240\u5c5e\u57df\uff0c\u5c06\u5bf9\u5e94\u7684 \u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668 \u7684 IP \u5730\u5740\u8fd4\u56de\u7ed9\u672c\u5730\u57df\u540d\u670d\u52a1\u5668</li> <li>\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u5411\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u53d1\u51fa\u89e3\u6790\u8bf7\u6c42\u62a5\u6587</li> <li>\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5c06\u6240\u5bf9\u5e94\u7684 \u6388\u6743\u57df\u540d\u670d\u52a1\u5668 \u7684 IP \u5730\u5740\u8fd4\u56de\u7ed9 \u672c\u5730\u57df\u540d\u670d\u52a1\u5668 </li> <li>\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u5411\u6388\u6743\u57df\u540d\u670d\u52a1\u5668\u53d1\u8d77\u89e3\u6790\u8bf7\u6c42\u62a5\u6587</li> <li>\u6388\u6743\u57df\u540d\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5c06 \u67e5\u8be2\u7ed3\u679c\u8fd4\u56de\u7ed9\u672c\u5730\u57df\u540d\u670d\u52a1\u5668 </li> <li>\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\u5c06\u67e5\u8be2\u7ed3\u679c \u4fdd\u5b58\u5230\u672c\u5730\u7f13\u5b58\uff0c\u540c\u65f6\u8fd4\u56de\u7ed9\u5ba2\u6237\u673a</li> </ul>"},{"location":"Computer%20Network/IP/#dns-tcp-udp","title":"DNS \u91c7\u7528 TCP \u8fd8\u662f UDP\uff0c\u4e3a\u4ec0\u4e48\uff1f","text":"<p>DNS \u5728 \u8fdb\u884c\u533a\u57df\u4f20\u8f93\u7684\u65f6\u5019\u4f7f\u7528 TCP \u534f\u8bae\uff0c \u5176\u5b83\u65f6\u5019\u5219\u4f7f\u7528 UDP \u534f\u8bae\u3002TCP \u4e0e UDP \u4f20\u9001\u5b57\u8282\u7684\u957f\u5ea6\u9650\u5236\u4e0d\u540c\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e00\u4e2a DNS \u7684 UDP \u5305\u7684\u6700\u5927\u957f\u5ea6\u662f 512 \u5b57\u8282\u3002</p> <p>\u533a\u57df\u4f20\u8f93\u4f7f\u7528 TCP \u534f\u8bae\u7684\u539f\u56e0\u5927\u6982\u662f\uff1a</p> <ul> <li>\u533a\u57df\u4f20\u8f93\u7684\u6570\u636e\u91cf\u76f8\u6bd4\u5355\u6b21 DNS \u67e5\u8be2\u7684\u6570\u636e\u91cf\u8981\u5927\u5f97\u591a</li> <li>\u533a\u57df\u4f20\u8f93\u5bf9\u6570\u636e\u7684\u53ef\u9760\u6027\u548c\u51c6\u786e\u6027\u76f8\u6bd4\u666e\u901a\u7684 DNS \u67e5\u8be2\u8981\u8981\u9ad8\u5f97\u591a\uff0c\u56e0\u6b64\u4f7f\u7528 TCP \u534f\u8bae</li> </ul> <p>\u57df\u540d\u89e3\u6790\u65f6\u4e00\u822c\u8fd4\u56de\u7684\u5185\u5bb9\u90fd\u4e0d\u8d85\u8fc7 512 \u5b57\u8282\uff0c\u9996\u9009\u7684\u901a\u8baf\u534f\u8bae\u662f UDP\u3002\u4f7f\u7528 UDP \u4f20\u8f93\uff0c\u4e0d\u7528\u7ecf\u8fc7 TCP \u4e09\u6b21\u63e1\u624b\uff0c\u8fd9\u6837 DNS \u670d\u52a1\u5668\u8d1f\u8f7d\u66f4\u4f4e\uff0c\u54cd\u5e94\u66f4\u5feb\u3002</p>"},{"location":"Computer%20Network/IP/#dns_1","title":"DNS \u52ab\u6301\u662f\u4ec0\u4e48\uff1f\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Computer%20Network/IP/#_1","title":"\u6982\u5ff5","text":"<ul> <li>\u672c\u5730 DNS \u52ab\u6301\uff1a\u653b\u51fb\u8005\u5728\u7528\u6237\u7684\u8ba1\u7b97\u673a\u4e0a\u5b89\u88c5\u6728\u9a6c\u6076\u610f\u8f6f\u4ef6\uff0c\u5e76\u66f4\u6539\u672c\u5730 DNS \u8bbe\u7f6e\u4ee5\u5c06\u7528\u6237\u91cd\u5b9a\u5411\u5230\u6076\u610f\u7ad9\u70b9</li> <li>\u8def\u7531\u5668 DNS \u52ab\u6301\uff1a\u653b\u51fb\u8005\u63a5\u7ba1\u8def\u7531\u5668\u5e76\u8986\u76d6 DNS \u8bbe\u7f6e\uff0c\u4ece\u800c\u5f71\u54cd\u8fde\u63a5\u5230\u8be5\u8def\u7531\u5668\u7684\u6240\u6709\u7528\u6237</li> <li>\u4e2d\u95f4\u4eba DNS \u653b\u51fb\uff1a\u653b\u51fb\u8005\u62e6\u622a\u7528\u6237\u548c DNS \u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u5e76\u63d0\u4f9b\u6307\u5411\u6076\u610f\u7ad9\u70b9\u7684\u4e0d\u540c\u76ee\u6807 IP \u5730\u5740</li> </ul>"},{"location":"Computer%20Network/IP/#_2","title":"\u89e3\u51b3\u65b9\u6cd5","text":"<ul> <li>\u52a0\u5f3a\u57df\u540d\u8d26\u6237\u7684\u5b89\u5168\u9632\u62a4\u80fd\u529b\uff0c\u4f7f\u7528\u6709\u522b\u4e8e\u5176\u4ed6\u5e73\u53f0\u7684\u7528\u6237\u540d\u548c\u5f3a\u5bc6\u7801\uff0c\u5b9a\u671f\u5bf9\u5bc6\u7801\u8fdb\u884c\u66f4\u6362</li> <li>\u5b9a\u671f\u67e5\u770b\u57df\u540d\u8d26\u6237\u4fe1\u606f\u3001\u57df\u540d whois \u4fe1\u606f\u3001\u57df\u540d\u89e3\u6790\u72b6\u6001\uff0c\u6bcf\u5929 site \u7f51\u7ad9\u68c0\u67e5\u662f\u5426\u5b58\u5728\u975e\u4e2a\u4eba\u8bbe\u5b9a\u7f51\u9875\uff0c\u53d1\u73b0\u5f02\u5e38\u53ca\u65f6\u8054\u7cfb\u57df\u540d\u670d\u52a1\u5546</li> <li>\u9501\u5b9a\u57df\u540d\u89e3\u6790\u72b6\u6001\uff0c\u4e0d\u5141\u8bb8\u901a\u8fc7 DNS \u670d\u52a1\u5546\u7f51\u7ad9\u4fee\u6539\u8bb0\u5f55\uff0c\u4f7f\u7528\u6b64\u65b9\u6cd5\u540e\uff0c\u9700\u8981\u505a\u57df\u540d\u89e3\u6790\u90fd\u8981\u901a\u8fc7\u670d\u52a1\u5546\u6765\u5b8c\u6210\uff0c\u8fd9\u6837\u53ef\u4ee5\u4ece\u6839\u672c\u4e0a\u675c\u7edd\u901a\u8fc7\u653b\u51fb\u670d\u52a1\u5546\u4fee\u6539\u89e3\u6790\u8bb0\u5f55\u7684\u65b9\u6cd5</li> </ul>"},{"location":"Computer%20Network/IP/#url","title":"\u6d4f\u89c8\u5668\u8f93\u5165\u4e00\u4e2a URL \u5230\u663e\u793a\u5668\u663e\u793a\u7684\u8fc7\u7a0b\uff1f","text":"<ul> <li>\u952e\u76d8\u8f93\u5165\uff1a\u8f93\u5165\u952e\u76d8\u5b57\u7b26\u540e\u952e\u76d8\u5c31\u4f1a\u4ea7\u751f\u626b\u63cf\u6570\u636e\uff0c\u5e76\u5c06\u5176\u7f13\u51b2\u5b58\u5728\u5bc4\u5b58\u5668\u4e2d\uff0c\u7136\u540e\u952e\u76d8\u901a\u8fc7\u603b\u7ebf\u7ed9 CPU \u53d1\u9001\u4e2d\u65ad\u8bf7\u6c42\u3002CPU \u6536\u5230\u4e2d\u65ad\u8bf7\u6c42\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4fdd\u5b58\u88ab\u4e2d\u65ad\u8fdb\u7a0b\u7684 CPU \u4e0a\u4e0b\u6587\uff0c\u7136\u540e\u8c03\u7528\u952e\u76d8\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3002\u952e\u76d8\u4e2d\u65ad\u5904\u7406\u51fd\u6570\u4ece\u952e\u76d8\u7684\u5bc4\u5b58\u5668\u7684\u7f13\u51b2\u533a\u8bfb\u53d6\u626b\u63cf\u7801\uff0c\u518d\u6839\u636e\u626b\u63cf\u7801\u627e\u5230\u7528\u6237\u5728\u952e\u76d8\u8f93\u5165\u7684\u5b57\u7b26\u7684 ASCII \u7801\u3002\u7136\u540e\u628a ASCII \u7801\u653e\u5230\u8bfb\u7f13\u51b2\u533a\u961f\u5217\uff0c\u663e\u793a\u5668\u4f1a\u5b9a\u65f6\u4ece\u8bfb\u7f13\u51b2\u533a\u961f\u5217\u8bfb\u53d6\u6570\u636e\u653e\u5230\u5199\u7f13\u51b2\u533a\u961f\u5217\uff0c\u6700\u540e\u628a\u5199\u7f13\u51b2\u533a\u961f\u5217\u7684\u6570\u636e\u4e00\u4e2a\u4e00\u4e2a\u5199\u5165\u5230\u663e\u793a\u5668\u7684\u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e\u7f13\u51b2\u533a\uff0c\u6700\u540e\u5c06\u8fd9\u4e9b\u6570\u636e\u663e\u793a\u5728\u5c4f\u5e55\u91cc</li> <li>URL \u89e3\u6790\uff1a\u6d4f\u89c8\u5668\u4f1a\u9996\u5148\u4ece\u7f13\u5b58\u4e2d\u627e\u662f\u5426\u5b58\u5728\u57df\u540d\uff0c\u5982\u679c\u5b58\u5728\u5c31\u76f4\u63a5\u53d6\u51fa\u5bf9\u5e94\u7684 IP \u5730\u5740\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u5f00\u542f\u4e00\u4e2a DNS \u57df\u540d\u89e3\u6790\u5668\u3002DNS \u57df\u540d\u89e3\u6790\u5668\u4f1a\u9996\u5148\u8bbf\u95ee\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\uff0c\u5c06\u5bf9\u5e94\u7684 IP \u53d1\u7ed9\u5ba2\u6237\u7aef\uff1b\u7136\u540e\u8bbf\u95ee\u6839\u57df\u540d\u89e3\u6790\u5668\uff0c\u5c06\u5bf9\u5e94\u7684 IP \u53d1\u7ed9\u5ba2\u6237\u7aef\uff1b\u6700\u540e\u8bbf\u95ee\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\uff0c\u5f97\u5230\u6700\u7ec8\u7684 IP \u5730\u5740</li> <li>TCP \u8fde\u63a5\uff1a\u5728 URL \u89e3\u6790\u8fc7\u7a0b\u4e2d\u5f97\u5230\u771f\u5b9e\u7684 IP \u5730\u5740\u4e4b\u540e\uff0c\u4f1a\u8c03\u7528 Socket \u51fd\u6570\u5efa\u7acb TCP \u8fde\u63a5</li> <li>HTTP \u8bf7\u6c42\uff1a\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u8d77\u4e00\u4e2a HTTP \u8bf7\u6c42\uff0cHTTP \u534f\u8bae\u662f\u5efa\u7acb\u5728 TCP \u534f\u8bae\u4e4b\u4e0a\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5176\u672c\u8d28\u662f\u5efa\u7acb\u8d77\u7684 TCP \u8fde\u63a5\u4e2d\uff0c\u6309\u7167 HTTP \u534f\u8bae\u6807\u51c6\u53d1\u9001\u4e00\u4e2a\u7d22\u8981\u7f51\u9875\u7684\u8bf7\u6c42\u3002\u8bf7\u6c42\u5305\u542b\u8bf7\u6c42\u884c\u3001\u8bf7\u6c42\u5934\u3001\u8bf7\u6c42\u4f53\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u6709 GET\u3001POST \u7b49\u4e3b\u8981\u65b9\u6cd5</li> <li>\u6d4f\u89c8\u5668\u63a5\u53d7\u54cd\u5e94\uff1a\u670d\u52a1\u5668\u5728\u6536\u5230\u6d4f\u89c8\u5668\u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u4e4b\u540e\uff0c\u4f1a\u5c06\u6536\u5230\u7684 HTTP  \u62a5\u6587\u5c01\u88c5\u6210 HTTP \u7684 Request \u5bf9\u8c61\uff0c\u5e76\u901a\u8fc7\u4e0d\u540c\u7684 Web \u670d\u52a1\u5668\u8fdb\u884c\u5904\u7406\uff0c\u5904\u7406\u5b8c\u7684\u7ed3\u679c\u4ee5 HTTP \u7684 Response \u5bf9\u8c61\u8fd4\u56de\uff0c\u4e3b\u8981\u5305\u62ec\u72b6\u6001\u7801\uff0c\u54cd\u5e94\u5934\uff0c\u54cd\u5e94\u62a5\u6587\u4e09\u4e2a\u90e8\u5206</li> <li>\u9875\u9762\u6e32\u67d3\uff1a\u6d4f\u89c8\u5668\u6839\u636e\u54cd\u5e94\u5f00\u59cb\u663e\u793a\u9875\u9762\uff0c\u9996\u5148\u89e3\u6790 HTML \u6587\u4ef6\u6784\u5efa DOM \u6811\uff0c\u7136\u540e\u89e3\u6790 CSS \u6587\u4ef6\u6784\u5efa\u6e32\u67d3\u6811\uff0c\u7b49\u5230\u6e32\u67d3\u6811\u6784\u5efa\u5b8c\u6210\u540e\uff0c\u6d4f\u89c8\u5668\u5f00\u59cb\u5e03\u5c40\u6e32\u67d3\u6811\u5e76\u5c06\u5176\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a</li> <li>\u65ad\u5f00\u8fde\u63a5\uff1a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u901a\u8fc7\u56db\u6b21\u6325\u624b\u7ec8\u6b62 TCP \u8fde\u63a5</li> </ul>"},{"location":"Computer%20Network/IP/#ping","title":"PING \u662f\u600e\u4e48\u5de5\u4f5c\u7684\uff1f","text":"<p>ping \u547d\u4ee4\u6267\u884c\u7684\u65f6\u5019\uff0c\u6e90\u4e3b\u673a\u9996\u5148\u4f1a\u6784\u5efa\u4e00\u4e2a  ICMP \u56de\u9001\u8bf7\u6c42\u6d88\u606f\u6570\u636e\u5305\uff0c\u7531 ICMP \u534f\u8bae\u5c06\u8fd9\u4e2a\u6570\u636e\u5305\u8fde\u540c\u670d\u52a1\u7aef IP \u4e00\u8d77\u4ea4\u7ed9 IP \u5c42\uff0cIP \u5c42\u5c06\u4ee5\u670d\u52a1\u7aef IP \u4f5c\u4e3a\u76ee\u7684\u5730\u5740\uff0c\u672c\u673a IP \u5730\u5740\u4f5c\u4e3a\u6e90\u5730\u5740\uff0c\u534f\u8bae\u5b57\u6bb5\u8bbe\u7f6e\u4e3a 1\uff0c\u518d\u52a0\u4e0a\u4e00\u4e9b\u5176\u4ed6\u63a7\u5236\u4fe1\u606f\uff0c\u6784\u5efa\u4e00\u4e2a IP \u6570\u636e\u5305\uff1b\u7136\u540e\u52a0\u5165 MAC \u5934\uff1b\u5982\u679c\u5728\u672c\u5730 ARP \u6620\u5c04\u8868\u4e2d\u67e5\u627e\u51fa\u670d\u52a1\u7aef IP \u6240\u5bf9\u5e94\u7684 MAC \u5730\u5740\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u9700\u8981\u53d1\u9001 ARP \u534f\u8bae\u67e5\u8be2 MAC \u5730\u5740\u3002 \u83b7\u5f97 MAC \u5730\u5740\u540e\uff0c\u7531\u6570\u636e\u94fe\u8def\u5c42\u6784\u5efa\u4e00\u4e2a\u6570\u636e\u5e27\uff0c\u76ee\u7684\u5730\u5740\u662f IP \u5c42\u4f20\u8fc7\u6765\u7684 MAC \u5730\u5740\uff0c\u6e90\u5730\u5740\u5219\u662f\u672c\u673a\u7684 MAC \u5730\u5740\uff1b\u8fd8\u8981\u9644\u52a0\u4e0a\u4e00\u4e9b\u63a7\u5236\u4fe1\u606f\uff0c\u4f9d\u636e\u4ee5\u592a\u7f51\u7684\u4ecb\u8d28\u8bbf\u95ee\u89c4\u5219\u5c06\u5b83\u4eec\u4f20\u9001\u51fa\u53bb\u3002</p> <p>\u76ee\u7684\u4e3b\u673a\u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5e27\u540e\uff0c\u5148\u68c0\u67e5\u5b83\u7684\u76ee\u7684 MAC \u5730\u5740\uff0c\u5e76\u548c\u672c\u673a\u7684 MAC \u5730\u5740\u5bf9\u6bd4\uff0c\u5982\u7b26\u5408\uff0c\u5219\u63a5\u6536\uff0c\u5426\u5219\u5c31\u4e22\u5f03\u3002\u63a5\u6536\u540e\u68c0\u67e5\u8be5\u6570\u636e\u5e27\uff0c\u5c06 IP \u6570\u636e\u5305\u4ece\u5e27\u4e2d\u63d0\u53d6\u51fa\u6765\uff0c\u4ea4\u7ed9\u672c\u673a\u7684 IP \u5c42\u3002IP \u5c42\u68c0\u67e5\u540e\uff0c\u5c06\u6709\u7528\u7684\u4fe1\u606f\u63d0\u53d6\u540e\u4ea4\u7ed9 ICMP \u534f\u8bae\u3002 \u4e3b\u673a B \u4f1a\u6784\u5efa\u4e00\u4e2a ICMP \u56de\u9001\u54cd\u5e94\u6d88\u606f\u6570\u636e\u5305\uff0c\u56de\u9001\u54cd\u5e94\u6570\u636e\u5305\u7684\u7c7b\u578b\u5b57\u6bb5\u4e3a 0\uff0c\u5e8f\u53f7\u4e3a\u63a5\u6536\u5230\u7684\u8bf7\u6c42\u6570\u636e\u5305\u4e2d\u7684\u5e8f\u53f7\uff0c\u7136\u540e\u518d\u53d1\u9001\u51fa\u53bb\u7ed9\u4e3b\u673a A\u3002</p> <p>\u5728\u89c4\u5b9a\u7684\u65f6\u5019\u95f4\u5185\uff0c\u6e90\u4e3b\u673a\u5982\u679c\u6ca1\u6709\u63a5\u5230 ICMP \u7684\u5e94\u7b54\u5305\uff0c\u5219\u8bf4\u660e\u76ee\u6807\u4e3b\u673a\u4e0d\u53ef\u8fbe\uff1b\u5982\u679c\u63a5\u6536\u5230\u4e86 ICMP \u56de\u9001\u54cd\u5e94\u6d88\u606f\uff0c\u5219\u8bf4\u660e\u76ee\u6807\u4e3b\u673a\u53ef\u8fbe\u3002</p>"},{"location":"Computer%20Network/IP/#cookie-session","title":"Cookie \u548c Session \u7684\u5173\u7cfb\u548c\u533a\u522b\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"Computer%20Network/IP/#cookie","title":"Cookie \u6982\u5ff5","text":"<p>Cookie \u662f\u670d\u52a1\u5668\u53d1\u9001\u5230\u7528\u6237\u6d4f\u89c8\u5668\u5e76\u4fdd\u5b58\u5728\u672c\u5730\u7684\u4e00\u5c0f\u5757\u6570\u636e\uff0c\u5b83\u4f1a\u5728\u6d4f\u89c8\u5668\u4e0b\u6b21\u5411\u540c\u4e00\u670d\u52a1\u5668\u518d\u53d1\u8d77\u8bf7\u6c42\u65f6\u88ab\u643a\u5e26\u5e76\u53d1\u9001\u5230\u670d\u52a1\u5668\u4e0a\u3002\u901a\u5e38\uff0c\u5b83\u7528\u4e8e\u544a\u77e5\u670d\u52a1\u5668\u4e24\u4e2a\u8bf7\u6c42\u662f\u5426\u6765\u81ea\u540c\u4e00\u6d4f\u89c8\u5668\u3002</p> <p>\u5982\u4fdd\u6301\u7528\u6237\u7684\u767b\u5f55\u72b6\u6001\uff0c Cookie \u4f7f\u57fa\u4e8e\u65e0\u72b6\u6001\u7684 HTTP \u534f\u8bae\u8bb0\u5f55\u7a33\u5b9a\u7684\u72b6\u6001\u4fe1\u606f\u6210\u4e3a\u4e86\u53ef\u80fd\u3002 </p>"},{"location":"Computer%20Network/IP/#cookie_1","title":"Cookie \u4f5c\u7528","text":"<ul> <li>\u4f1a\u8bdd\u72b6\u6001\u7ba1\u7406 (\u5982\u7528\u6237\u767b\u5f55\u72b6\u6001\u3001\u8d2d\u7269\u8f66\u3001\u6e38\u620f\u5206\u6570\u6216\u5176\u5b83\u9700\u8981\u8bb0\u5f55\u7684\u4fe1\u606f)</li> <li>\u4e2a\u6027\u5316\u8bbe\u7f6e (\u5982\u7528\u6237\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u3001\u4e3b\u9898\u7b49)</li> <li>\u6d4f\u89c8\u5668\u884c\u4e3a\u8ddf\u8e2a (\u5982\u8ddf\u8e2a\u5206\u6790\u7528\u6237\u884c\u4e3a\u7b49)</li> </ul>"},{"location":"Computer%20Network/IP/#session","title":"Session \u6982\u5ff5","text":"<p>Session \u4ee3\u8868\u7740\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4e00\u6b21\u4f1a\u8bdd\u7684\u8fc7\u7a0b\u3002Session \u5bf9\u8c61\u5b58\u50a8\u7279\u5b9a\u7528\u6237\u4f1a\u8bdd\u6240\u9700\u7684\u5c5e\u6027\u53ca\u914d\u7f6e\u4fe1\u606f\u3002\u8fd9\u6837\uff0c\u5f53\u7528\u6237\u5728\u5e94\u7528\u7a0b\u5e8f\u7684 Web \u9875\u4e4b\u95f4\u8df3\u8f6c\u65f6\uff0c\u5b58\u50a8\u5728 Session \u5bf9\u8c61\u4e2d\u7684\u53d8\u91cf\u5c06\u4e0d\u4f1a\u4e22\u5931\uff0c\u800c\u662f\u5728\u6574\u4e2a\u7528\u6237\u4f1a\u8bdd\u4e2d\u4e00\u76f4\u5b58\u5728\u4e0b\u53bb\u3002 \u5f53\u5ba2\u6237\u7aef\u5173\u95ed\u4f1a\u8bdd\uff0c\u6216\u8005 Session \u8d85\u65f6\u5931\u6548\u65f6\u4f1a\u8bdd\u7ed3\u675f\u3002</p>"},{"location":"Computer%20Network/IP/#_3","title":"\u5dee\u522b","text":"<ul> <li>\u4f5c\u7528\u8303\u56f4\u4e0d\u540c\uff1aCookie \u4fdd\u5b58\u5728\u5ba2\u6237\u7aef(\u6d4f\u89c8\u5668)\uff0cSession \u4fdd\u5b58\u5728\u670d\u52a1\u7aef</li> <li>\u5b58\u53d6\u65b9\u5f0f\u7684\u4e0d\u540c\uff1aCookie \u53ea\u80fd\u4fdd\u5b58 ASCII\uff0cSession \u53ef\u4ee5\u5b58\u4efb\u610f\u6570\u636e\u7c7b\u578b</li> <li>\u6709\u6548\u671f\u4e0d\u540c\uff1aCookie \u53ef\u8bbe\u7f6e\u4e3a\u957f\u65f6\u95f4\u4fdd\u6301\uff0c\u6bd4\u5982\u7ecf\u5e38\u4f7f\u7528\u7684\u9ed8\u8ba4\u767b\u5f55\u529f\u80fd\uff0cSession \u4e00\u822c\u5931\u6548\u65f6\u95f4\u8f83\u77ed\uff0c\u5ba2\u6237\u7aef\u5173\u95ed\u6216\u8005 Session \u8d85\u65f6\u90fd\u4f1a\u5931\u6548</li> <li>\u9690\u79c1\u7b56\u7565\u4e0d\u540c\uff1aCookie \u5b58\u50a8\u5728\u5ba2\u6237\u7aef\uff0c\u6bd4\u8f83\u5bb9\u6613\u906d\u5230\u4e0d\u6cd5\u83b7\u53d6\uff1bSession \u5b58\u50a8\u5728\u670d\u52a1\u7aef\uff0c\u5b89\u5168\u6027\u76f8\u5bf9 Cookie \u8981\u597d\u4e00\u4e9b</li> <li>\u5b58\u50a8\u5927\u5c0f\u4e0d\u540c\uff1a\u5355\u4e2a Cookie \u4fdd\u5b58\u7684\u6570\u636e\u4e0d\u80fd\u8d85\u8fc7 4K\uff0cSession \u53ef\u5b58\u50a8\u6570\u636e\u8fdc\u9ad8\u4e8e Cookie</li> </ul>"},{"location":"Computer%20Network/IP/#ipv4-ipv6","title":"iPv4 \u548c iPv6 \u7684\u533a\u522b\uff1f","text":"<ul> <li>IPv6 \u7684\u9996\u90e8\u957f\u5ea6\u662f 40 \u4e2a\u5b57\u8282\uff0c\u76f8\u5bf9 IPv4 \u7684\u9996\u90e8\u957f\u5ea6 24 \u5b57\u8282\u8981\u957f\uff0c\u4f46 IPv6 \u9996\u90e8\u7ed3\u6784\u6bd4 IPv4 \u7b80\u5355</li> <li>IPv6 \u628a IP \u5730\u5740\u7531 32 \u4f4d\u589e\u52a0\u5230 128 \u4f4d\uff0c\u4ece\u800c\u80fd\u591f\u652f\u6301\u66f4\u5927\u7684\u5730\u5740\u7a7a\u95f4\u3002IPv6 \u7b80\u5316\u4e86\u8def\u7531\uff0c\u52a0\u5feb\u4e86\u8def\u7531\u901f\u5ea6</li> <li>IPv6 \u7684\u53ef\u9009\u9879\u4e0d\u653e\u5165\u62a5\u5934\uff0c\u800c\u662f\u653e\u5728\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u6269\u5c55\u5934\u90e8\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u8def\u7531\u5668\u4e0d\u4f1a\u6253\u5f00\u5904\u7406\u6269\u5c55\u5934\u90e8\uff0c IPv6 \u653e\u5bbd\u4e86\u5bf9\u53ef\u9009\u9879\u957f\u5ea6\u7684\u4e25\u683c\u8981\u6c42 (IPv4 \u7684\u53ef\u9009\u9879\u603b\u957f\u6700\u591a\u4e3a 40 \u5b57\u8282)\uff0c\u5e76\u53ef\u6839\u636e\u9700\u8981\u968f\u65f6\u5f15\u5165\u65b0\u9009\u9879</li> <li>IPv6 \u534f\u8bae\u652f\u6301\u5730\u5740\u81ea\u52a8\u914d\u7f6e\uff0c\u8fd9\u662f\u4e00\u79cd\u5373\u63d2\u5373\u7528\u7684\u673a\u5236\u3002IPv6 \u8282\u70b9\u901a\u8fc7\u5730\u5740\u81ea\u52a8\u914d\u7f6e\u5f97\u5230 IPv6 \u5730\u5740\u548c\u7f51\u5173\u5730\u5740\u3002IPv6 \u652f\u6301\u65e0\u72b6\u6001\u5730\u5740\u81ea\u52a8\u914d\u7f6e\u548c\u72b6\u6001\u5730\u5740\u81ea\u52a8\u914d\u7f6e\u4e24\u79cd\u5730\u5740\u81ea\u52a8\u914d\u7f6e\u65b9\u5f0f\u3002\u5b83\u4f1a\u7ed9\u914d\u7f6e 128 \u4f4d\u7684\u5730\u5740\u5e26\u6765\u5f88\u5927\u7684\u65b9\u4fbf\uff0c\u7279\u522b\u662f\u65e0\u72b6\u6001\u5730\u5740\u81ea\u52a8\u914d\u7f6e</li> <li>\u5728 IPv6 \u4e2d\u52a0\u5165\u4e86\u5173\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u3001\u6570\u636e\u4e00\u81f4\u6027\u548c\u4fdd\u5bc6\u6027\u7684\u5185\u5bb9</li> </ul>"},{"location":"Computer%20Network/IP/#_4","title":"\u4ec0\u4e48\u662f\u8de8\u57df\uff0c\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u53d1\u751f\u8de8\u57df\u8bf7\u6c42\uff1f","text":""},{"location":"Computer%20Network/IP/#_5","title":"\u6982\u5ff5","text":"<p>\u6307\u7684\u662f \u6d4f\u89c8\u5668\u4e0d\u80fd\u6267\u884c\u5176\u4ed6\u7f51\u7ad9\u7684\u811a\u672c\u3002\u5b83\u662f\u7531\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\u9020\u6210\u7684\u3002a \u9875\u9762\u60f3\u83b7\u53d6 b \u9875\u9762\u8d44\u6e90\uff0c\u5982\u679c a\u3001b \u9875\u9762\u7684\u534f\u8bae\u3001\u57df\u540d\u3001\u7aef\u53e3\u3001\u5b50\u57df\u540d\u4e0d\u540c\uff0c\u6240\u8fdb\u884c\u7684\u8bbf\u95ee\u884c\u52a8\u90fd\u662f\u8de8\u57df\u7684\uff0c\u800c\u6d4f\u89c8\u5668\u4e3a\u4e86\u5b89\u5168\u95ee\u9898\u4e00\u822c\u90fd\u9650\u5236\u4e86\u8de8\u57df\u8bbf\u95ee\uff0c\u4e5f\u5c31\u662f\u4e0d\u5141\u8bb8\u8de8\u57df\u8bf7\u6c42\u8d44\u6e90</p>"},{"location":"Computer%20Network/IP/#_6","title":"\u89e3\u51b3\u65b9\u6cd5","text":"<ul> <li>Nginx\uff1a\u4f7f\u7528 Nginx \u4f5c\u4e3a\u4ee3\u7406\u670d\u52a1\u5668\u548c\u7528\u6237\u4ea4\u4e92\uff0c\u7528\u6237\u5c31\u53ea\u9700\u8981\u5728 80 \u7aef\u53e3\u4e0a\u8fdb\u884c\u4ea4\u4e92\u5c31\u53ef\u4ee5\u4e86\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u8de8\u57df\u95ee\u9898</li> <li>JSONP\uff1a\u7f51\u9875\u901a\u8fc7\u6dfb\u52a0\u4e00\u4e2a script \u5143\u7d20\uff0c\u5411\u670d\u52a1\u5668\u8bf7\u6c42 JSON \u6570\u636e\uff0c\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5c06\u6570\u636e\u653e\u5728\u4e00\u4e2a\u6307\u5b9a\u540d\u5b57\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4f4d\u7f6e\u4f20\u56de\u6765\u3002\u7f3a\u70b9\u662f\u53ea\u652f\u6301 get \u8bf7\u6c42\uff0c\u4e0d\u652f\u6301 post \u8bf7\u6c42</li> <li>CORS\uff1a\u8de8\u57df\u8d44\u6e90\u5206\u4eab</li> </ul> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Computer%20Network/Intro/","title":"Network Model","text":""},{"location":"Computer%20Network/Intro/#_1","title":"\ud83d\udfe3 \u8ba1\u7b97\u673a\u7f51\u7edc\u6a21\u578b","text":"<p> \u7ea6 2981 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p>"},{"location":"Computer%20Network/Intro/#osi-7","title":"OSI \u7684 7 \u5c42\u7f51\u7edc\u6a21\u578b\uff1f","text":"<ul> <li>\u5e94\u7528\u5c42\uff1a\u786e\u5b9a  \u8fdb\u7a0b\u4e4b\u95f4\u901a\u4fe1\u7684\u6027\u8d28  \u4ee5\u53ca\u6ee1\u8db3\u7528\u6237\u9700\u8981\u4ee5\u53ca\u63d0\u4f9b\u7f51\u7edc\u548c\u7528\u6237\u5e94\u7528\uff0c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u670d\u52a1</li> <li>\u8868\u793a\u5c42\uff1a\u4e3b\u8981\u89e3\u51b3\u7528\u6237\u4fe1\u606f\u7684\u8bed\u6cd5\u8868\u793a\u95ee\u9898</li> <li>\u4f1a\u8bdd\u5c42\uff1a\u4f1a\u8bdd\u5c42\u5c31\u662f \u8d1f\u8d23\u5efa\u7acb\u3001\u7ba1\u7406\u548c\u7ec8\u6b62\u8868\u793a\u5c42\u5b9e\u4f53\u4e4b\u95f4\u7684\u901a\u4fe1\u4f1a\u8bdd </li> <li>\u4f20\u8f93\u5c42\uff1a\u5b9e\u73b0\u7f51\u7edc\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u8fdb\u7a0b\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1</li> <li>\u7f51\u7edc\u5c42\uff1a\u672c\u5c42\u901a\u8fc7 IP \u5bfb\u5740\u6765\u5efa\u7acb\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4e3a\u6e90\u7aef\u7684\u8fd0\u8f93\u5c42\u9001\u6765\u7684\u5206\u7ec4\uff0c\u9009\u62e9\u5408\u9002\u7684\u8def\u7531\u548c\u4ea4\u6362\u8282\u70b9</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u5c06\u4e0a\u5c42\u6570\u636e\u5c01\u88c5\u6210\u5e27\uff0c\u7528 MAC \u5730\u5740\u8bbf\u95ee\u5a92\u4ecb\uff0c\u5e76\u7531\u9519\u8bef\u68c0\u6d4b\u548c\u4fee\u6b63</li> <li>\u7269\u7406\u5c42\uff1a\u8bbe\u5907\u4e4b\u95f4\u6bd4\u7279\u6d41\u7684\u4f20\u8f93</li> </ul>"},{"location":"Computer%20Network/Intro/#tcpip-4","title":"TCP/IP \u7684 4 \u5c42\u7f51\u7edc\u6a21\u578b\uff1f","text":"<ul> <li>\u5e94\u7528\u5c42\uff1a\u786e\u5b9a \u8fdb\u7a0b\u4e4b\u95f4\u901a\u4fe1\u7684\u6027\u8d28 \u4ee5\u53ca\u6ee1\u8db3\u7528\u6237\u9700\u8981\u4ee5\u53ca\u63d0\u4f9b\u7f51\u7edc\u548c\u7528\u6237\u5e94\u7528\uff0c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u670d\u52a1</li> <li>\u4f20\u8f93\u5c42\uff1a\u5b9e\u73b0\u7f51\u7edc\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u8fdb\u7a0b\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1</li> <li>\u7f51\u7edc\u5c42\uff1a\u672c\u5c42\u901a\u8fc7 IP \u5bfb\u5740\u6765\u5efa\u7acb\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4e3a\u6e90\u7aef\u7684\u8fd0\u8f93\u5c42\u9001\u6765\u7684\u5206\u7ec4\uff0c\u9009\u62e9\u5408\u9002\u7684\u8def\u7531\u548c\u4ea4\u6362\u8282\u70b9</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u5c06\u4e0a\u5c42\u6570\u636e\u5c01\u88c5\u6210\u5e27\uff0c\u7528 MAC \u5730\u5740\u8bbf\u95ee\u5a92\u4ecb\uff0c\u5e76\u7531\u9519\u8bef\u68c0\u6d4b\u548c\u4fee\u6b63</li> </ul>"},{"location":"Computer%20Network/Intro/#5","title":"5 \u5c42\u56e0\u7279\u7f51\u534f\u8bae\u6808\uff1f","text":"<ul> <li>\u5e94\u7528\u5c42\uff1a\u786e\u5b9a \u8fdb\u7a0b\u4e4b\u95f4\u901a\u4fe1\u7684\u6027\u8d28 \u4ee5\u53ca\u6ee1\u8db3\u7528\u6237\u9700\u8981\u4ee5\u53ca\u63d0\u4f9b\u7f51\u7edc\u548c\u7528\u6237\u5e94\u7528\uff0c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u670d\u52a1</li> <li>\u4f20\u8f93\u5c42\uff1a\u5b9e\u73b0\u7f51\u7edc\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u8fdb\u7a0b\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1</li> <li>\u7f51\u7edc\u5c42\uff1a\u672c\u5c42\u901a\u8fc7 IP \u5bfb\u5740\u6765\u5efa\u7acb\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4e3a\u6e90\u7aef\u7684\u8fd0\u8f93\u5c42\u9001\u6765\u7684\u5206\u7ec4\uff0c\u9009\u62e9\u5408\u9002\u7684\u8def\u7531\u548c\u4ea4\u6362\u8282\u70b9</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u5c06\u4e0a\u5c42\u6570\u636e\u5c01\u88c5\u6210\u5e27\uff0c\u7528 MAC \u5730\u5740\u8bbf\u95ee\u5a92\u4ecb\uff0c\u5e76\u7531\u9519\u8bef\u68c0\u6d4b\u548c\u4fee\u6b63</li> <li>\u7269\u7406\u5c42\uff1a\u8bbe\u5907\u4e4b\u95f4\u6bd4\u7279\u6d41\u7684\u4f20\u8f93</li> </ul>"},{"location":"Computer%20Network/Intro/#_2","title":"\u4ece\u952e\u5165\u7f51\u5740\u5230\u7f51\u9875\u663e\u793a\u671f\u95f4\u53d1\u751f\u4e86\u4ec0\u4e48","text":"<ul> <li>\u89e3\u6790 URL \u751f\u6210 http \u8bf7\u6c42\uff1a\u83b7\u53d6 URL \u4ee3\u8868\u7684\u57df\u540d\uff0c\u628a\u5b83\u586b\u5145\u5230\u8bf7\u6c42\u5934\u4e2d\u7684 host \u5b57\u6bb5\u4e2d\u5e76\u751f\u6210 http \u8bf7\u6c42</li> <li>\u901a\u8fc7 DNS \u534f\u8bae\u89e3\u6790\u51fa IP \u5730\u5740\uff1a\u6d4f\u89c8\u5668\u9996\u5148\u67e5\u8be2\u672c\u5730\u7684\u7f13\u5b58\uff0c\u5982\u679c\u6ca1\u6709\u7684\u8bdd\u67e5\u8be2 hosts \u6587\u4ef6\u3002\u5982\u679c\u4ecd\u7136\u6ca1\u6709\uff0c\u518d\u5411\u672c\u5730\u7684 DNS \u670d\u52a1\u5668\u67e5\u8be2\u3002\u5982\u679c\u672c\u5730 DNS \u670d\u52a1\u5668\u6ca1\u6709\u7ed3\u679c\uff0c\u5b83\u5c06\u5411\u9012\u5f52 DNS \u670d\u52a1\u5668\u53d1\u8d77\u67e5\u8be2\uff0c\u9012\u5f52\u670d\u52a1\u5668\u4f1a\u901a\u8fc7\u8fed\u4ee3\u67e5\u8be2\u5411\u6839\u57df\u540d\u670d\u52a1\u5668\u3001\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u548c\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u8bf7\u6c42\u6700\u7ec8\u7684\u89e3\u6790\u7ed3\u679c\uff0c\u6700\u540e\u7f13\u5b58\u5728 DNS \u672c\u5730\u670d\u52a1\u5668</li> <li>DNS \u83b7\u53d6\u5230 IP \u5730\u5740\u4ee5\u540e\u628a HTTP \u7684\u4f20\u8f93\u5de5\u4f5c\u4ea4\u7ed9\u534f\u8bae\u6808\u6765\u8fdb\u884c\u5904\u7406\uff1a\u901a\u8fc7\u8c03\u7528 socket \u51fd\u6570\uff0c\u7531\u7528\u6237\u6001\u8fdb\u5165\u5185\u6838\u6001\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u6570\u636e\u4f20\u8f93\u7684\u8fc7\u7a0b</li> <li> <p>TCP\uff1a</p> <ol> <li> <p>\u4e09\u6b21\u63e1\u624b\uff1a   - SYN\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a SYN(\u540c\u6b65)\u5305\u5230\u670d\u52a1\u5668\uff0c\u8868\u793a\u8bf7\u6c42\u5efa\u7acb\u8fde\u63a5   - SYN-ACK\uff1a\u670d\u52a1\u5668\u6536\u5230 SYN \u5305\u540e\uff0c\u56de\u590d\u4e00\u4e2a SYN-ACK(\u540c\u6b65-\u786e\u8ba4)\u5305\uff0c\u8868\u793a\u540c\u610f\u5efa\u7acb\u8fde\u63a5   - ACK\uff1a\u5ba2\u6237\u7aef\u6536\u5230 SYN-ACK \u5305\u540e\uff0c\u56de\u590d\u4e00\u4e2a ACK(\u786e\u8ba4)\u5305\uff0c\u8fde\u63a5\u5efa\u7acb</p> </li> <li> <p>TLS \u63e1\u624b\uff1a   - \u5ba2\u6237\u7aef\u95ee\u5019\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a ClientHello \u6d88\u606f\uff0c\u5305\u542b\u652f\u6301\u7684\u52a0\u5bc6\u7b97\u6cd5\u3001TLS \u7248\u672c\u7b49\u4fe1\u606f   - \u670d\u52a1\u5668\u95ee\u5019\uff1a\u670d\u52a1\u5668\u56de\u590d\u4e00\u4e2a ServerHello \u6d88\u606f\uff0c\u9009\u62e9\u52a0\u5bc6\u7b97\u6cd5\u548c TLS \u7248\u672c\uff0c\u5e76\u53d1\u9001\u670d\u52a1\u5668\u8bc1\u4e66   - \u8bc1\u4e66\u9a8c\u8bc1\uff1a\u5ba2\u6237\u7aef\u9a8c\u8bc1\u670d\u52a1\u5668\u8bc1\u4e66\u7684\u6709\u6548\u6027   - \u5bc6\u94a5\u4ea4\u6362\uff1a\u5ba2\u6237\u7aef\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u7528\u670d\u52a1\u5668\u7684\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u7528\u79c1\u94a5\u89e3\u5bc6\uff0c\u751f\u6210\u4f1a\u8bdd\u5bc6\u94a5   - \u5b8c\u6210\u63e1\u624b\uff1a\u53cc\u65b9\u4f7f\u7528\u4f1a\u8bdd\u5bc6\u94a5\u52a0\u5bc6\u901a\u4fe1\uff0c\u63e1\u624b\u5b8c\u6210</p> </li> </ol> </li> <li> <p>\u8fde\u63a5\u6210\u529f\u540e\u53d1\u9001 HTTP \u8bf7\u6c42\uff1a</p> <ol> <li>\u6784\u5efa\u8bf7\u6c42\uff1a\u6d4f\u89c8\u5668\u6784\u5efa\u4e00\u4e2a HTTP \u8bf7\u6c42\uff0c\u5305\u62ec\u8bf7\u6c42\u884c(\u5982 GET / HTTP/1.1)\u3001\u8bf7\u6c42\u5934(\u5982 Host: www.example.com)\u548c\u53ef\u9009\u7684\u8bf7\u6c42\u4f53(\u5982 POST \u8bf7\u6c42\u7684\u6570\u636e)</li> <li>\u53d1\u9001\u8bf7\u6c42\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u5efa\u7acb\u7684 TCP \u8fde\u63a5\u5c06 HTTP \u8bf7\u6c42\u53d1\u9001\u5230\u670d\u52a1\u5668</li> <li>\u6d4f\u89c8\u5668\u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u62a5\u6587\u7ecf\u4f20\u8f93\u5c42\u88ab \u5c01\u88c5\u8fdb TCP \u6570\u636e\u5305\uff0c\u6dfb\u52a0 TCP \u5934\u90e8\u4fe1\u606f\uff0c\u5305\u62ec\u6e90\u7aef\u53e3\u3001\u76ee\u6807\u7aef\u53e3\u3001\u5e8f\u53f7\u7b49\u4fe1\u606f</li> <li>\u6bcf\u4e2a TCP \u6570\u636e\u5305\u4f1a\u7ecf\u8fc7\u7f51\u7edc\u5c42\u88ab \u5c01\u88c5\u6210 IP \u6570\u636e\u5305\uff0c\u6dfb\u52a0 IP \u5934\u90e8\uff0c\u5305\u62ec\u6e90 IP \u5730\u5740\u548c\u76ee\u6807 IP \u5730\u5740\uff0c\u518d\u8fdb\u884c\u8def\u7531\u7684\u5206\u7ec4\u548c\u8f6c\u53d1</li> <li>\u7f51\u7edc\u63a5\u53e3\u5c42 \u5c06 IP \u6570\u636e\u5305\u5c01\u88c5\u6210\u6570\u636e\u5e27\uff0c\u5728\u6570\u636e\u94fe\u8def\u5c42\u6dfb\u52a0\u5934\u90e8\u548c\u5c3e\u90e8\uff0c\u5305\u62ec\u6e90 MAC \u5730\u5740\u548c\u76ee\u6807 MAC \u5730\u5740(MAC\u5730\u5740\u662f\u7f51\u7edc\u5c42\u7684 ARP \u534f\u8bae\u6839\u636e IP \u5730\u5740\u67e5\u8be2\u51fa\u6765\u7684)\uff0c\u6570\u636e\u5e27\u5728\u7269\u7406\u5c42\u901a\u8fc7\u7269\u7406\u4ecb\u8d28(\u5149\u7ea4\u3001\u7f51\u7ebf\u7b49)\u4ee5\u6bd4\u7279\u6d41\u7684\u5f62\u5f0f\u8fdb\u884c\u4f20\u8f93</li> </ol> </li> <li> <p>\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\uff1a</p> <ol> <li>\u63a5\u6536\u8bf7\u6c42\uff1a\u670d\u52a1\u5668\u63a5\u6536\u5230 HTTP \u8bf7\u6c42\u540e\uff0c\u6839\u636e\u7269\u7406\u5c42\u3001\u6570\u636e\u94fe\u8def\u5c42\u3001\u7f51\u7edc\u5c42\u3001\u4f20\u8f93\u5c42\u548c\u5e94\u7528\u5c42\u7684\u987a\u5e8f\u5c06\u6570\u636e\u8fdb\u884c\u53cd\u5411\u89e3\u6790\uff0c\u5f97\u5230\u6700\u7ec8\u53ea\u542b\u6709\u5e94\u7528\u6570\u636e\u7684\u4fe1\u606f\uff0c\u6839\u636e\u7aef\u53e3\u4fe1\u606f\u4ea4\u7531\u5177\u4f53\u7684\u7a0b\u5e8f\u8fdb\u884c\u5904\u7406</li> <li>\u8bf7\u6c42\u89e3\u6790\uff1a\u670d\u52a1\u5668\u89e3\u6790\u8bf7\u6c42\u884c\u3001\u8bf7\u6c42\u5934\u548c\u8bf7\u6c42\u4f53</li> <li>\u8def\u7531\u5904\u7406\uff1a\u670d\u52a1\u5668\u6839\u636e\u8bf7\u6c42\u7684\u8def\u5f84\u548c\u53c2\u6570\uff0c\u786e\u5b9a\u5904\u7406\u8bf7\u6c42\u7684\u903b\u8f91</li> <li>\u4e1a\u52a1\u903b\u8f91\uff1a\u670d\u52a1\u5668\u6267\u884c\u76f8\u5e94\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u53ef\u80fd\u6d89\u53ca\u8bfb\u53d6\u6587\u4ef6\u3001\u67e5\u8be2\u6570\u636e\u5e93\u3001\u8c03\u7528\u5176\u4ed6\u670d\u52a1\u7b49</li> <li>\u751f\u6210\u54cd\u5e94\uff1a\u670d\u52a1\u5668\u751f\u6210\u4e00\u4e2a HTTP \u54cd\u5e94\uff0c\u5305\u62ec\u72b6\u6001\u884c(\u5982 HTTP/1.1 200 OK)\u3001\u54cd\u5e94\u5934(\u5982 Content-Type: text/html)\u548c\u54cd\u5e94\u4f53(\u5982 HTML \u5185\u5bb9)</li> </ol> </li> <li> <p>\u6d4f\u89c8\u5668\u63a5\u6536\u54cd\u5e94\uff1a</p> <ol> <li>\u63a5\u6536\u54cd\u5e94\uff1a\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u670d\u52a1\u5668\u7684 HTTP \u54cd\u5e94</li> <li>\u89e3\u6790\u54cd\u5e94\uff1a\u6d4f\u89c8\u5668\u89e3\u6790\u54cd\u5e94\u5934\u548c\u54cd\u5e94</li> </ol> </li> <li> <p>\u6e32\u67d3\u9875\u9762\uff1a</p> <ol> <li>\u89e3\u6790 HTML\uff1a<ul> <li>\u6784\u5efa DOM \u6811\uff1a\u6d4f\u89c8\u5668\u89e3\u6790 HTML \u6587\u6863\uff0c\u6784\u5efa DOM \u6811(Document Object Model)</li> <li>\u5904\u7406\u811a\u672c\uff1a\u5982\u679c\u9047\u5230 \\&lt;script&gt; \u6807\u7b7e\uff0c\u6d4f\u89c8\u5668\u4f1a\u6682\u505c\u89e3\u6790\uff0c\u6267\u884c\u811a\u672c\u3002\u811a\u672c\u53ef\u80fd\u4f1a\u4fee\u6539 DOM \u6811</li> </ul> </li> <li>\u89e3\u6790 CSS\uff1a<ul> <li>\u6784\u5efa CSSOM \u6811\uff1a\u6d4f\u89c8\u5668\u89e3\u6790 CSS \u6587\u4ef6\u548c\u5185\u8054\u6837\u5f0f\uff0c\u6784\u5efa CSSOM \u6811(CSS Object Model)</li> </ul> </li> <li>\u89e3\u6790 JavaScript\uff1a<ul> <li>\u6267\u884c\u811a\u672c\uff1a\u6d4f\u89c8\u5668\u89e3\u6790\u548c\u6267\u884c JavaScript \u4ee3\u7801\uff0cJavaScript \u4ee3\u7801\u53ef\u80fd\u4f1a\u4fee\u6539 DOM \u6811\u548c CSSOM \u6811</li> </ul> </li> <li>\u6784\u5efa\u6e32\u67d3\u6811\uff1a<ul> <li>\u7ed3\u5408 DOM \u548c CSSOM\uff1a\u6d4f\u89c8\u5668\u5c06 DOM \u6811\u548c CSSOM \u6811\u7ed3\u5408\uff0c\u6784\u5efa\u6e32\u67d3\u6811</li> </ul> </li> <li>\u5e03\u5c40(Layout)\uff1a<ul> <li>\u8ba1\u7b97\u5e03\u5c40\uff1a\u6d4f\u89c8\u5668\u8ba1\u7b97\u6bcf\u4e2a\u5143\u7d20\u7684\u5927\u5c0f\u548c\u4f4d\u7f6e</li> </ul> </li> <li>\u7ed8\u5236(Painting)\uff1a<ul> <li>\u7ed8\u5236\u5143\u7d20\uff1a\u6d4f\u89c8\u5668\u5c06\u5143\u7d20\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a</li> </ul> </li> </ol> </li> <li> <p>\u5904\u7406\u8d44\u6e90\u8bf7\u6c42\uff1a</p> <ol> <li>\u53d1\u73b0\u8d44\u6e90\uff1a\u5728\u89e3\u6790 HTML \u7684\u8fc7\u7a0b\u4e2d\uff0c\u6d4f\u89c8\u5668\u4f1a\u53d1\u73b0\u9700\u8981\u52a0\u8f7d\u7684\u8d44\u6e90(\u5982\u56fe\u7247\u3001CSS \u6587\u4ef6\u3001JavaScript \u6587\u4ef6\u7b49)</li> <li>\u53d1\u9001\u8bf7\u6c42\uff1a\u6d4f\u89c8\u5668\u4f1a\u5e76\u884c\u53d1\u9001\u8bf7\u6c42\uff0c\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90</li> <li>\u91cd\u590d\u89e3\u6790\u548c\u6e32\u67d3\uff1a\u6d4f\u89c8\u5668\u91cd\u590d\u4e0a\u8ff0\u7684\u89e3\u6790\u548c\u6e32\u67d3\u8fc7\u7a0b\uff0c\u76f4\u5230\u6240\u6709\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210</li> </ol> </li> <li> <p>\u7528\u6237\u4ea4\u4e92\uff1a</p> <ol> <li>\u7528\u6237\u64cd\u4f5c\uff1a\u9875\u9762\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u4e0e\u9875\u9762\u8fdb\u884c\u4ea4\u4e92(\u5982\u70b9\u51fb\u6309\u94ae\u3001\u8f93\u5165\u8868\u5355\u7b49)</li> <li>\u4e8b\u4ef6\u5904\u7406\uff1a\u6d4f\u89c8\u5668\u4f1a\u6839\u636e\u7528\u6237\u7684\u64cd\u4f5c\uff0c\u89e6\u53d1\u76f8\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u66f4\u65b0\u9875\u9762\u5185\u5bb9</li> </ol> </li> </ul>"},{"location":"Computer%20Network/Intro/#linux","title":"Linux \u5982\u4f55\u6536\u7f51\u7edc\u5305\uff1f","text":"<ul> <li>\u7f51\u5361\u6536\u5230\u7f51\u7edc\u5305\u540e\u901a\u8fc7 DMA \u6280\u672f\u5c06\u7f51\u7edc\u5305\u5199\u5165\u5230  Ring Buffer  \u73af\u5f62\u7f13\u51b2\u533a</li> <li>\u73b0\u4ee3 Linux \u901a\u5e38\u901a\u8fc7  NAPI \u673a\u5236  \u5bf9\u63a5\u53d7\u6570\u636e\u7684\u670d\u52a1\u7a0b\u5e8f\u8fdb\u884c\u4e2d\u65ad\u5524\u9192\uff0c\u901a\u8fc7 poll \u7684\u65b9\u6cd5\u8f6e\u8be2\u6570\u636e\uff0c\u5373\u7f51\u5361\u5411 CPU \u53d1\u8d77\u786c\u4ef6\u4e2d\u65ad\uff0c\u5f53 CPU \u6536\u5230\u786c\u4ef6\u4e2d\u65ad\u8bf7\u6c42\u540e\u6839\u636e\u4e2d\u65ad\u8868\u8c03\u7528\u5df2\u7ecf\u6ce8\u518c\u7684\u4e2d\u65ad\u5904\u7406\u51fd\u6570</li> <li>\u9996\u5148\u8fdb\u884c  \u5173\u4e2d\u65ad\uff1a\u786c\u4ef6\u4e2d\u65ad\u51fd\u6570\u4f1a\u9996\u5148\u901a\u77e5\u7f51\u5361\u5728\u4e0b\u6b21\u6709\u6570\u636e\u65f6\u76f4\u63a5\u5199\u5165\u5185\u5b58\u5e76\u6062\u590d\u4e2d\u65ad\u5c4f\u853d\uff0c\u8fdb\u5165  \u8f6f\u4e2d\u65ad </li> <li>\u5185\u6838\u4e2d\u7684  ksoftirqd \u7ebf\u7a0b\u4e13\u95e8\u8d1f\u8d23\u8f6f\u4e2d\u65ad\u7684\u5904\u7406\uff0c\u5f53 ksoftirqd \u5185\u6838\u7ebf\u7a0b\u6536\u5230\u8f6f\u4e2d\u65ad\u540e\u5c31\u4f1a\u8f6e\u8be2\u5904\u7406\u6570\u636e</li> <li>ksoftirqd \u7ebf\u7a0b  \u4f1a\u4ece Ring Buffer \u4e2d\u83b7\u53d6\u2f00\u4e2a\u6570\u636e\u5e27\uff0c\u7528 sk_buff \u8868\u793a\uff0c\u4ece\u800c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u7f51\u7edc\u5305\u4ea4\u7ed9\u7f51\u7edc\u534f\u8bae\u6808\u8fdb\u884c\u9010\u5c42\u5904\u7406</li> <li>\u9996\u5148\u8fdb\u5165\u5230  \u7f51\u7edc\u63a5\u53e3\u5c42\uff0c\u5728\u8fd9\u2f00\u5c42\u4f1a\u68c0\u67e5\u62a5\u2f42\u7684\u5408\u6cd5\u6027\uff0c\u5982\u679c\u4e0d\u5408\u6cd5\u5219\u4e22\u5f03\uff0c\u5408\u6cd5\u5219\u4f1a\u627e\u51fa\u8be5\u7f51\u7edc\u5305\u7684\u4e0a\u5c42\u534f\u8bae\u7684\u7c7b\u578b\uff0c\u7136\u540e\u4ea4\u7ed9\u7f51\u7edc\u5c42</li> <li>\u7f51\u7edc\u5c42\uff1a\u53d6\u51fa IP \u5305\uff0c\u5224\u65ad\u7f51\u7edc\u5305\u4e0b\u4e00\u6b65\u7684\u8d70\u5411\uff0c\u6bd4\u5982\u662f\u4ea4\u7ed9\u4e0a\u5c42\u5904\u7406\u8fd8\u662f\u8f6c\u53d1\u51fa\u53bb\u3002\u5f53\u786e\u8ba4\u8fd9\u4e2a\u7f51\u7edc\u5305\u8981\u53d1\u9001\u7ed9\u672c\u673a\u540e\u4f1a\u4ece IP \u5934\u90e8\u67e5\u770b\u4e0a\u4e00\u5c42\u534f\u8bae\u7684\u7c7b\u578b\u662f TCP \u8fd8\u662f UDP\uff0c\u63a5\u7740\u53bb\u6389 IP \u5934\uff0c\u4ea4\u7ed9\u4f20\u8f93\u5c42</li> <li>\u4f20\u8f93\u5c42\uff1a\u53d6\u51fa TCP \u5934\u6216 UDP \u5934\uff0c\u6839\u636e\u56db\u5143\u7ec4\u300c\u6e90 IP\u3001\u6e90\u7aef\u53e3\u3001\u76ee\u7684 IP\u3001\u76ee\u7684\u7aef\u53e3\u300d \u4f5c\u4e3a\u6807\u8bc6\uff0c\u627e\u51fa\u5bf9\u5e94\u7684 Socket\uff0c\u5e76\u628a\u6570\u636e\u653e\u5230 Socket \u7684\u63a5\u6536\u7f13\u51b2\u533a</li> <li>\u5e94\u7528\u5c42\uff1a\u7a0b\u5e8f\u8c03\u7528 Socket \u63a5\u53e3\uff0c\u5c06\u5185\u6838\u7684 Socket \u63a5\u6536\u7f13\u51b2\u533a\u7684\u6570\u636e\u300c\u62f7\u8d1d\u300d\u5230\u5e94\u7528\u5c42\u7684\u7f13\u51b2\u533a\uff0c\u7136\u540e\u5524\u9192\u7528\u6237\u8fdb\u7a0b</li> </ul>"},{"location":"Computer%20Network/Intro/#linux_1","title":"Linux \u5982\u4f55\u53d1\u7f51\u7edc\u5305\uff1f","text":"<ul> <li>\u9996\u5148\u5e94\u7528\u7a0b\u5e8f \u8c03\u7528 Socket \u53d1\u9001\u6570\u636e\u5305\u7684\u63a5\u53e3\uff0c\u7531\u4e8e\u8fd9\u4e2a\u662f\u7cfb\u7edf\u8c03\u7528\uff0c\u6240\u4ee5\u4f1a\u4ece\u7528\u6237\u6001\u9677\u5165\u5230\u5185\u6838\u6001\u4e2d\u7684 Socket \u5c42\uff0c\u5185\u6838\u4f1a\u7533\u8bf7\u4e00\u4e2a\u5185\u6838\u6001\u7684  sk_buff \u5185\u5b58\uff0c\u5c06\u7528\u6237\u5f85\u53d1\u9001\u7684\u6570\u636e\u62f7\u8d1d\u5230 sk_buff \u5185\u5b58\uff0c\u5e76\u5c06\u5176\u52a0\u5165\u5230\u53d1\u9001\u7f13\u51b2\u533a</li> <li>\u63a5\u4e0b\u6765\u7f51\u7edc\u534f\u8bae\u6808\u4ece Socket \u53d1\u9001\u7f13\u51b2\u533a\u4e2d \u53d6\u51fa sk_buff\uff0c\u5e76\u6309\u7167 TCP/IP \u534f\u8bae\u6808\u4ece\u4e0a\u5230\u4e0b\u9010\u5c42\u5904\u7406\u3002\u5982\u679c\u4f7f\u7528\u7684\u662f TCP \u4f20\u8f93\u534f\u8bae\u53d1\u9001\u6570\u636e\uff0c\u90a3\u4e48\u5148 \u62f7\u8d1d\u4e00\u4e2a\u65b0\u7684 sk_buff \u526f\u672c </li> <li>\u63a5\u7740\u5bf9 sk_buff \u586b\u5145 TCP \u5934\u3002sk_buff \u53ef\u4ee5\u8868\u793a\u5404\u4e2a\u5c42\u7684\u6570\u636e\u5305\uff0c\u5728\u5e94\u7528\u5c42\u6570\u636e\u5305\u53eb data\uff0c\u5728 TCP \u5c42\u6211\u4eec\u79f0\u4e3a segment\uff0c\u5728 IP \u5c42\u6211\u4eec\u53eb packet\uff0c\u5728\u6570\u636e\u94fe\u8def\u5c42\u79f0\u4e3a frame</li> <li>\u7f51\u7edc\u5c42\uff1a\u9009\u53d6\u8def\u7531(\u786e\u8ba4\u4e0b\u4e00\u8df3\u7684 IP)\u3001\u586b\u5145 IP \u5934\u3001netfilter \u8fc7\u6ee4\u3001\u5bf9\u8d85\u8fc7 MTU \u5927\u5c0f\u7684\u6570\u636e\u5305\u8fdb\u884c\u5206\u7247\u3002\u5904\u7406\u5b8c\u8fd9\u4e9b\u5de5\u4f5c\u540e\u4f1a\u4ea4\u7ed9\u7f51\u7edc\u63a5\u53e3\u5c42\u5904\u7406</li> <li>\u7f51\u7edc\u63a5\u53e3\u5c42\uff1a\u901a\u8fc7 ARP \u534f\u8bae\u83b7\u5f97\u4e0b\u4e00\u8df3\u7684 MAC \u5730\u5740\uff0c\u7136\u540e\u5bf9 sk_buff \u586b\u5145\u5e27\u5934\u548c\u5e27\u5c3e\uff0c\u63a5\u7740\u5c06 sk_buff \u653e\u5230\u7f51\u5361\u7684\u53d1\u9001\u961f\u5217\u4e2d</li> <li>\u5f53\u6536\u5230\u8fd9\u4e2a TCP \u62a5\u6587\u7684 ACK \u5e94\u7b54\u65f6 \u4f20\u8f93\u5c42\u5c31\u4f1a\u91ca\u653e\u539f\u59cb\u7684 sk_buff </li> </ul>"},{"location":"Computer%20Network/Intro/#_3","title":"\u53d1\u9001\u7f51\u7edc\u6570\u636e\u6d89\u53ca\u51e0\u6b21\u5185\u5b58\u62f7\u8d1d\uff1f","text":"<p>\u4e09\u6b21\uff1a</p> <ol> <li>\u8c03\u7528\u53d1\u9001\u6570\u636e\u7684\u7cfb\u7edf\u8c03\u7528\u65f6 \u5185\u6838\u4f1a\u7533\u8bf7\u4e00\u4e2a\u5185\u6838\u6001\u7684 sk_buff \u5185\u5b58\uff0c\u5c06\u7528\u6237\u5f85\u53d1\u9001\u7684\u6570\u636e\u62f7\u8d1d\u5230 sk_buff \u5185\u5b58\uff0c\u5e76\u5c06\u5176\u52a0\u5165\u5230\u53d1\u9001\u7f13\u51b2\u533a</li> <li>\u5728\u4f7f\u7528 TCP \u4f20\u8f93\u534f\u8bae\u7684\u60c5\u51b5\u4e0b\uff0c\u4ece\u4f20\u8f93\u5c42\u8fdb\u5165\u7f51\u7edc\u5c42\u65f6\u6bcf\u4e00\u4e2a sk_buff \u90fd\u4f1a\u88ab\u514b\u9686\u4e00\u4e2a\u65b0\u7684\u526f\u672c\u51fa\u6765\u3002\u526f\u672c sk_buff \u4f1a\u88ab\u9001\u5f80\u7f51\u7edc\u5c42\uff0c\u7b49\u5b83\u53d1\u9001\u5b8c\u7684\u65f6\u5019\u5c31\u4f1a\u91ca\u653e\u6389\uff0c\u7136\u540e\u539f\u59cb\u7684 sk_buff \u8fd8\u4fdd\u7559\u5728\u4f20\u8f93\u5c42\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u5b9e\u73b0 TCP \u7684\u53ef\u9760\u4f20\u8f93\uff0c\u7b49\u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5305\u7684 ACK \u65f6\uff0c\u624d\u4f1a\u91ca\u653e\u539f\u59cb\u7684 sk_buff</li> <li>\u5f53 IP \u5c42\u53d1\u73b0 sk_buff \u5927\u4e8e MTU \u65f6\u624d\u9700\u8981\u8fdb\u884c\u3002\u4f1a\u518d\u7533\u8bf7\u989d\u5916\u7684 sk_buff \u5e76\u5c06\u539f\u6765\u7684 sk_buff \u62f7\u8d1d\u4e3a\u591a\u4e2a\u5c0f\u7684 sk_buff</li> </ol> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Computer%20Network/TCP%20%26%20UDP/","title":"TCP & UDP","text":""},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp-udp","title":"\ud83d\udd34 TCP &amp; UDP","text":"<p> \u7ea6 11917 \u4e2a\u5b57  2 \u884c\u4ee3\u7801  5 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 60 \u5206\u949f</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp","title":"\u4ec0\u4e48\u662f TCP\uff1f","text":"<p>TCP \u662f \u9762\u5411\u8fde\u63a5\u7684\u3001\u53ef\u9760\u7684\u3001\u57fa\u4e8e\u5b57\u8282\u6d41 \u7684\u4f20\u8f93\u5c42\u901a\u4fe1\u534f\u8bae\u3002</p> <ul> <li>\u9762\u5411\u8fde\u63a5\uff1a\u4e00\u5b9a\u662f\u300c\u4e00\u5bf9\u4e00\u300d\u624d\u80fd\u8fde\u63a5\uff0c\u4e0d\u80fd\u50cf UDP \u534f\u8bae\u53ef\u4ee5\u4e00\u4e2a\u4e3b\u673a\u540c\u65f6\u5411\u591a\u4e2a\u4e3b\u673a\u53d1\u9001\u6d88\u606f\uff0c\u4e5f\u5c31\u662f\u4e00\u5bf9\u591a\u662f\u65e0\u6cd5\u505a\u5230\u7684</li> <li>\u53ef\u9760\u7684\uff1a\u65e0\u8bba\u7f51\u7edc\u94fe\u8def\u4e2d\u51fa\u73b0\u4e86\u600e\u6837\u7684\u94fe\u8def\u53d8\u5316\uff0cTCP \u90fd\u53ef\u4ee5\u4fdd\u8bc1\u4e00\u4e2a\u62a5\u6587\u4e00\u5b9a\u80fd\u591f\u5230\u8fbe\u63a5\u6536\u7aef</li> <li>\u5b57\u8282\u6d41\uff1a\u7528\u6237\u6d88\u606f\u901a\u8fc7 TCP \u534f\u8bae\u4f20\u8f93\u65f6\uff0c\u6d88\u606f\u53ef\u80fd\u4f1a\u88ab\u64cd\u4f5c\u7cfb\u7edf\u300c\u5206\u7ec4\u300d\u6210\u591a\u4e2a\u7684 TCP \u62a5\u6587\uff0c\u5982\u679c\u63a5\u6536\u65b9\u7684\u7a0b\u5e8f\u5982\u679c\u4e0d\u77e5\u9053\u300c\u6d88\u606f\u7684\u8fb9\u754c\u300d\uff0c\u662f\u65e0\u6cd5\u8bfb\u51fa\u4e00\u4e2a\u6709\u6548\u7684\u7528\u6237\u6d88\u606f\u7684\u3002\u5e76\u4e14 TCP \u62a5\u6587\u662f\u300c\u6709\u5e8f\u7684\u300d\uff0c\u5f53\u300c\u524d\u4e00\u4e2a\u300dTCP \u62a5\u6587\u6ca1\u6709\u6536\u5230\u7684\u65f6\u5019\uff0c\u5373\u4f7f\u5b83\u5148\u6536\u5230\u4e86\u540e\u9762\u7684 TCP \u62a5\u6587\uff0c\u90a3\u4e48\u4e5f\u4e0d\u80fd\u6254\u7ed9\u5e94\u7528\u5c42\u53bb\u5904\u7406\uff0c\u540c\u65f6\u5bf9\u300c\u91cd\u590d\u300d\u7684 TCP \u62a5\u6587\u4f1a\u81ea\u52a8\u4e22\u5f03</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_1","title":"TCP \u7684\u5934\u90e8\u7ed3\u6784","text":"<ul> <li>\u6e90\u7aef\u53e3\uff1a16 \u4f4d\uff0c\u6807\u8bc6\u62a5\u6587\u7684\u8fd4\u56de\u5730\u5740</li> <li>\u76ee\u7684\u7aef\u53e3\uff1a16 \u4f4d\uff0c\u6307\u660e\u63a5\u6536\u65b9\u8ba1\u7b97\u673a\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3</li> <li>\u5e8f\u5217\u53f7\uff1a32 \u4f4d\uff0c\u5728\u5efa\u7acb\u8fde\u63a5\u65f6\u7531\u8ba1\u7b97\u673a\u751f\u6210\u7684\u968f\u673a\u6570\u4f5c\u4e3a\u5176\u521d\u59cb\u503c\uff0c\u901a\u8fc7 SYN \u5305\u4f20\u7ed9\u63a5\u6536\u7aef\u4e3b\u673a\uff0c\u6bcf\u53d1\u9001\u4e00\u6b21\u6570\u636e\uff0c\u5c31\u7d2f\u52a0\u4e00\u6b21\u8be5\u6570\u636e\u5b57\u8282\u6570\u7684\u5927\u5c0f\u3002\u7528\u6765\u89e3\u51b3\u7f51\u7edc\u5305\u4e71\u5e8f\u95ee\u9898</li> <li>\u786e\u8ba4\u53f7\uff1a32 \u4f4d\uff0c\u6307\u4e0b\u4e00\u6b21\u671f\u671b\u6536\u5230\u7684\u6570\u636e\u7684\u5e8f\u5217\u53f7\uff0c\u53d1\u9001\u7aef\u6536\u5230\u8fd9\u4e2a\u786e\u8ba4\u5e94\u7b54\u4ee5\u540e\u53ef\u4ee5\u8ba4\u4e3a\u5728\u8fd9\u4e2a\u5e8f\u53f7\u4ee5\u524d\u7684\u6570\u636e\u90fd\u5df2\u7ecf\u88ab\u6b63\u5e38\u63a5\u6536\u3002\u7528\u6765\u89e3\u51b3\u4e22\u5305\u7684\u95ee\u9898</li> <li>\u6570\u636e\u504f\u79fb/\u9996\u90e8\u957f\u5ea6\uff1a4 \u4f4d\uff0cTCP \u9996\u90e8\u53ef\u80fd\u542b\u6709\u53ef\u9009\u9879\u5185\u5bb9\uff0c\u6240\u4ee5 TCP \u62a5\u5934\u7684\u957f\u5ea6\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u62a5\u5934\u4e0d\u5305\u542b\u4efb\u4f55\u4efb\u9009\u5b57\u6bb5\u5219\u957f\u5ea6\u4e3a 20 \u5b57\u8282\uff0c4 \u4f4d\u9996\u90e8\u957f\u5ea6\u5b57\u6bb5\u6240\u80fd\u8868\u793a\u6700\u5927\u957f\u5ea6\u4e3a 60 \u5b57\u8282\u3002\u9996\u90e8\u957f\u5ea6\u4e5f\u53eb\u6570\u636e\u504f\u79fb\uff0c\u56e0\u4e3a\u9996\u90e8\u957f\u5ea6\u5b9e\u9645\u4e0a\u6307\u793a\u4e86\u6570\u636e\u533a\u5728\u62a5\u6587\u6bb5\u4e2d\u7684\u8d77\u59cb\u504f\u79fb\u503c</li> <li>\u4fdd\u7559\uff1a6 \u4f4d\uff0c\u4e3a\u5c06\u6765\u5b9a\u4e49\u65b0\u7684\u7528\u9014\u4fdd\u7559\uff0c\u73b0\u5728\u4e00\u822c\u7f6e 0</li> <li>\u6821\u9a8c\u548c\uff1a16 \u4f4d\uff0c\u7531\u53d1\u9001\u7aef\u586b\u5145\uff0c\u63a5\u6536\u7aef\u5bf9 TCP \u62a5\u6587\u6bb5\u6267\u884c CRC \u7b97\u6cd5\u4ee5\u68c0\u9a8c TCP \u62a5\u6587\u6bb5\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u662f\u5426\u635f\u574f\uff0c\u8fd9\u4e2a\u6821\u9a8c\u4e0d\u4ec5\u5305\u62ec TCP \u5934\u90e8\uff0c\u4e5f\u5305\u62ec\u6570\u636e\u90e8\u5206\u3002\u8fd9\u662f TCP \u5b9e\u73b0\u53ef\u9760\u4f20\u8f93\u7684\u4e00\u4e2a\u91cd\u8981\u4fdd\u969c</li> <li>\u7a97\u53e3\uff1a16 \u4f4d\uff0c\u662f TCP \u6d41\u91cf\u63a7\u5236\u7684\u4e00\u4e2a\u624b\u6bb5\u3002\u901a\u8fc7\u7a97\u53e3\u544a\u8bc9\u5bf9\u65b9\u672c\u7aef\u7684 TCP \u63a5\u6536\u7f13\u51b2\u533a\u8fd8\u80fd\u5bb9\u7eb3\u591a\u5c11\u5b57\u8282\u7684\u6570\u636e\uff0c\u8fd9\u6837\u5bf9\u65b9\u53ef\u4ee5\u63a7\u5236\u53d1\u9001\u6570\u636e\u7684\u901f\u5ea6\uff0c\u4ece\u800c\u8fbe\u5230\u6d41\u91cf\u63a7\u5236\u3002\u7a97\u53e3\u5927\u5c0f\u4e3a16 bit \u5b57\u6bb5\uff0c\u56e0\u800c\u7a97\u53e3\u5927\u5c0f\u6700\u5927\u4e3a 65535</li> <li>\u7d27\u6025\u6307\u9488\uff1a16 \u4f4d\uff0c\u53ea\u6709\u5f53 URG \u6807\u5fd7\u7f6e 1 \u65f6\u7d27\u6025\u6307\u9488\u624d\u6709\u6548\u3002\u7d27\u6025\u6307\u9488\u662f\u4e00\u4e2a\u6b63\u7684\u504f\u79fb\u91cf\uff0c\u548c\u987a\u5e8f\u53f7\u5b57\u6bb5\u4e2d\u7684\u503c\u76f8\u52a0\u8868\u793a\u7d27\u6025\u6570\u636e\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u53f7\u3002\u4f7f\u7528\u7d27\u6025\u6307\u9488\u662f\u53d1\u9001\u7aef\u5411\u53e6\u4e00\u7aef\u53d1\u9001\u7d27\u6025\u6570\u636e\u7684\u4e00\u79cd\u65b9\u5f0f</li> <li>\u9009\u9879\u548c\u586b\u5145\uff1aTCP \u5934\u90e8\u7684\u6700\u540e\u4e00\u4e2a\u9009\u9879\u5b57\u6bb5\u662f\u53ef\u53d8\u957f\u7684\u53ef\u9009\u4fe1\u606f\u3002\u8fd9\u90e8\u5206\u6700\u591a\u5305\u542b 40 \u5b57\u8282\uff0c\u56e0\u4e3a TCP \u5934\u90e8\u6700\u957f\u662f 60 \u5b57\u8282\u3002 \u6700\u5e38\u89c1\u7684\u53ef\u9009\u5b57\u6bb5\u662f\u6700\u957f\u62a5\u6587\u5927\u5c0f MSS\uff0c\u6bcf\u4e2a\u8fde\u63a5\u65b9\u901a\u5e38\u90fd\u5728\u901a\u4fe1\u7684\u7b2c\u4e00\u4e2a\u62a5\u6587\u6bb5\u4e2d\u6307\u660e\u8fd9\u4e2a\u9009\u9879\uff0c\u5b83\u8868\u793a\u672c\u7aef\u6240\u80fd\u63a5\u53d7\u7684\u6700\u5927\u62a5\u6587\u6bb5\u7684\u957f\u5ea6</li> <li>\u6570\u636e\u90e8\u5206\uff1aTCP \u62a5\u6587\u6bb5\u4e2d\u7684\u6570\u636e\u90e8\u5206\u662f\u53ef\u9009\u7684\u3002\u5728\u8fde\u63a5\u5efa\u7acb\u6216\u8005\u7ec8\u6b62\u65f6\uff0c\u53cc\u65b9\u4ea4\u6362\u7684\u62a5\u6587\u6bb5\u4ec5\u6709 TCP \u9996\u90e8\uff1b\u5982\u679c\u4e00\u65b9\u6ca1\u6709\u6570\u636e\u8981\u53d1\u9001\uff0c\u4e5f\u4f1a\u4f7f\u7528\u6ca1\u6709\u4efb\u4f55\u6570\u636e\u7684\u9996\u90e8\u6765\u786e\u8ba4\u6536\u5230\u7684\u6570\u636e\uff1b\u5728\u5904\u7406\u8d85\u65f6\u7684\u8bb8\u591a\u60c5\u51b5\u4e2d\uff0c\u4e5f\u4f1a\u53d1\u9001\u4e0d\u5e26\u4efb\u4f55\u6570\u636e\u7684\u62a5\u6587\u6bb5</li> </ul> <p>\u8fd8\u5305\u62ec\u63a7\u5236\u4f4d\uff1a</p> <ul> <li>URG\uff1a\u7d27\u6025\u6307\u9488\u6807\u5fd7\uff0c\u4e3a 1 \u65f6\u8868\u793a\u7d27\u6025\u6307\u9488\u6709\u6548\uff0c\u8be5\u62a5\u6587\u5e94\u8be5\u4f18\u5148\u4f20\u9001\uff0c\u4e3a 0 \u5219\u5ffd\u7565\u7d27\u6025\u6307\u9488</li> <li>ACK\uff1a\u786e\u8ba4\u5e8f\u53f7\u6807\u5fd7\uff0c\u4e3a 1 \u65f6\u8868\u793a\u786e\u8ba4\u53f7\u6709\u6548\uff0c\u4e3a 0 \u8868\u793a\u62a5\u6587\u4e2d\u4e0d\u542b\u786e\u8ba4\u4fe1\u606f\u3002\u643a\u5e26 ACK \u6807\u8bc6\u7684 TCP \u62a5\u6587\u6bb5\u88ab\u79f0\u4e3a\u786e\u8ba4\u62a5\u6587\u6bb5</li> <li>RST\uff1a\u91cd\u7f6e\u8fde\u63a5\u6807\u5fd7\uff0c\u7528\u4e8e\u91cd\u7f6e\u7531\u4e8e\u4e3b\u673a\u5d29\u6e83\u6216\u5176\u4ed6\u539f\u56e0\u800c\u51fa\u73b0\u9519\u8bef\u7684\u8fde\u63a5\uff0c\u6216\u8005\u7528\u4e8e\u62d2\u7edd\u975e\u6cd5\u7684\u62a5\u6587\u6bb5\u548c\u62d2\u7edd\u8fde\u63a5\u8bf7\u6c42\u3002\u79f0\u643a\u5e26 RST \u6807\u5fd7\u7684 TCP \u62a5\u6587\u6bb5\u4e3a\u590d\u4f4d\u62a5\u6587\u6bb5</li> <li>SYN\uff1a\u8868\u793a\u8bf7\u6c42\u5efa\u7acb\u4e00\u4e2a\u8fde\u63a5\u3002\u79f0\u643a\u5e26 SYN \u6807\u5fd7\u7684 TCP \u62a5\u6587\u6bb5\u4e3a\u540c\u6b65\u62a5\u6587\u6bb5</li> <li>FIN\uff1afinish \u6807\u5fd7\uff0c\u7528\u4e8e\u91ca\u653e\u8fde\u63a5\uff0c\u4e3a 1 \u65f6\u8868\u793a\u53d1\u9001\u65b9\u5df2\u7ecf\u6ca1\u6709\u6570\u636e\u53d1\u9001\u4e86\uff0c\u5373\u5173\u95ed\u672c\u65b9\u6570\u636e\u6d41\u3002\u79f0\u643a\u5e26 FIN \u6807\u5fd7\u7684 TCP \u62a5\u6587\u6bb5\u4e3a\u7ed3\u675f\u62a5\u6587\u6bb5</li> <li>PSH\uff1apush \u6807\u5fd7\uff0c\u4e3a 1 \u8868\u793a\u662f\u5e26\u6709 push \u6807\u5fd7\u7684\u6570\u636e\uff0c\u6307\u793a\u63a5\u6536\u65b9\u5728\u63a5\u6536\u5230\u8be5\u62a5\u6587\u6bb5\u4ee5\u540e\uff0c\u5e94\u4f18\u5148\u5c06\u8fd9\u4e2a\u62a5\u6587\u6bb5\u4ea4\u7ed9\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u4e0d\u662f\u5728\u7f13\u51b2\u533a\u6392\u961f</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_2","title":"TCP \u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93","text":"<ul> <li>\u6821\u9a8c\u548c\uff1a\u76ee\u7684\u662f\u4e3a\u4e86 \u9a8c\u8bc1 TCP \u9996\u90e8\u548c\u6570\u636e\u5728\u53d1\u9001\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u4efb\u4f55\u6539\u52a8\uff0c\u4e00\u65e6\u53d1\u73b0\u6821\u9a8c\u548c\u6709\u5dee\u9519\uff0c\u76f4\u63a5\u4e22\u5f03 TCP \u6bb5\u5e76\u91cd\u65b0\u53d1\u9001</li> <li>\u5e8f\u5217\u53f7/\u786e\u8ba4\u53f7\uff1a\u5e8f\u5217\u53f7\u7528\u4e8e \u89e3\u51b3\u5305\u4e71\u5e8f\u95ee\u9898\uff0c\u786e\u8ba4\u53f7\u7528\u4e8e \u89e3\u51b3\u5305\u4e22\u5931\u95ee\u9898 </li> <li>\u8fde\u63a5\u7ba1\u7406\uff1a\u4e09\u6b21\u63e1\u624b\u3001\u56db\u6b21\u6325\u624b</li> <li>\u6d41\u91cf\u63a7\u5236\uff1a\u57fa\u4e8e\u6ed1\u52a8\u7a97\u53e3\u673a\u5236\u5b9e\u73b0\u3002TCP \u7684\u62a5\u6587\u4fe1\u606f\u4e2d\u6709\u4e00\u4e2a 16 \u4f4d\u5b57\u6bb5\u6765\u6807\u8bc6\u6ed1\u52a8\u7a97\u53e3\uff0c\u7a97\u53e3\u5927\u5c0f\u5c31\u662f\u63a5\u6536\u65b9\u5269\u4f59\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u5728\u56de\u590d ACK \u65f6\uff0c\u63a5\u6536\u65b9\u5c06\u81ea\u5df1\u5269\u4f59\u7f13\u51b2\u533a\u5927\u5c0f\u586b\u5165\u3002\u53d1\u9001\u65b9\u6839\u636e\u7a97\u53e3\u5927\u5c0f\u6765\u8c03\u6574\u81ea\u5df1\u7684\u53d1\u9001\u901f\u5ea6\uff0c\u5982\u679c\u7f13\u51b2\u533a\u5927\u5c0f\u4e3a 0\uff0c\u90a3\u4e48\u53d1\u9001\u65b9\u4f1a\u505c\u6b62\u53d1\u9001\u6570\u636e\u3002\u5e76\u4e14\u53d1\u9001\u65b9\u5b9a\u671f\u4f1a\u53d1\u9001\u63a2\u6d4b\u62a5\u6587\uff0c\u6765\u83b7\u53d6\u7f13\u51b2\u533a\u5927\u5c0f</li> <li> <p>\u62e5\u585e\u63a7\u5236\uff1a\u62e5\u585e\u63a7\u5236\u4e0e\u6d41\u91cf\u63a7\u5236\u76f8\u6bd4\uff0c\u66f4\u52a0\u5173\u6ce8\u7f51\u7edc\u7ebf\u8def\u4e2d\u7684\u62e5\u585e\u7a0b\u5ea6\uff0c\u5373\u7f51\u7edc\u7684\u5305\u8f6c\u53d1\u8fd8\u8981\u53d7\u5230\u5f53\u524d\u7f51\u7edc\u7aef\u5230\u7aef\u8def\u7531\u7684\u62e5\u585e\u60c5\u51b5</p> <ul> <li>\u6162\u542f\u52a8\u7b97\u6cd5\uff1a\u4e00\u5f00\u59cb\u4e0d\u53d1\u9001\u5927\u91cf\u6570\u636e\uff0c\u800c\u662f\u5e94\u8be5\u5148\u53d1\u4e00\u5c0f\u90e8\u5206\u63a2\u6d4b\u6570\u636e\uff0c\u7136\u540e\u7531\u5c0f\u5230\u5927\u9010\u6e10\u589e\u5927\u53d1\u9001\u7a97\u53e3\u3002\u901a\u5e38\u5728\u521a\u521a\u5f00\u59cb\u53d1\u9001\u62a5\u6587\u6bb5\u65f6\uff0c\u5148\u628a\u62e5\u585e\u7a97\u53e3 cwnd \u8bbe\u7f6e\u4e3a1\uff0c\u6bcf\u6b21\u63a5\u6536\u5230\u62a5\u6587\u4e4b\u540e\u5c06\u7a97\u53e3\u5927\u5c0f\u7ffb\u500d\u3002\u5982\u679c\u6307\u6570\u589e\u957f\u5230\u907f\u514d\u62e5\u585e\u7b97\u6cd5\u7684\u95e8\u9650 ssthresh\uff0c\u5219\u6539\u7528\u907f\u514d\u62e5\u585e\u7b97\u6cd5</li> <li>\u62e5\u585e\u907f\u514d\u7b97\u6cd5\uff1a\u6bcf\u5f53\u6536\u5230\u4e00\u4e2a ACK \u65f6\uff0ccwnd \u589e\u52a0 1\uff0c\u53d8\u4e3a\u7ebf\u6027\u589e\u957f\u3002\u4e00\u4f46\u53d1\u73b0\u4e22\u5305\u548c\u8d85\u65f6\u91cd\u4f20\uff0c\u5c31\u8fdb\u5165\u62e5\u585e\u5904\u7406\u72b6\u6001</li> <li>\u62e5\u585e\u53d1\u751f\uff1a</li> <li>\u8d85\u65f6\u91cd\u4f20\uff1assthresh \u8bbe\u4e3a cwnd/2\uff1bcwnd \u91cd\u7f6e\u4e3a 1\uff1b\u56de\u5230\u6162\u542f\u52a8\u8fc7\u7a0b</li> <li>\u5feb\u901f\u91cd\u4f20\uff1a\u5f53\u53d1\u9001\u65b9\u5728\u8d85\u65f6\u4e4b\u524d\u6536\u5230\u6765\u81ea\u63a5\u6536\u65b9\u7684 3 \u4e2a\u5197\u4f59 ACK\uff0ccwnd = cwnd/2\uff0c\u4e5f\u5c31\u662f\u8bbe\u7f6e\u4e3a\u539f\u6765\u7684\u4e00\u534a\uff1bssthresh = cwnd\uff1b\u8fdb\u5165\u5feb\u901f\u6062\u590d\u7b97\u6cd5</li> <li>\u5feb\u901f\u6062\u590d\uff1a\u62e5\u585e\u7a97\u53e3 cwnd = ssthresh + 3\uff1b\u56e0\u4e3a 3 \u4e2a\u5197\u4f59 ACK \u5df2\u7ecf\u6536\u5230\uff0c\u6240\u4ee5\u7a97\u53e3\u5e94\u8be5\u589e\u52a0 3\u3002\u91cd\u4f20\u4e22\u5931\u7684\u6570\u636e\u5305   \u5982\u679c\u518d\u6536\u5230\u91cd\u590d\u7684 ACK\uff0c\u90a3\u4e48 cwnd \u589e\u52a0 1\uff1b\u5982\u679c\u6536\u5230\u65b0\u6570\u636e\u7684 ACK \u540e\uff0c\u628a cwnd \u8bbe\u7f6e\u4e3a\u7b2c\u4e00\u6b65\u4e2d\u7684 ssthresh \u7684\u503c\uff0c\u539f\u56e0\u662f\u8be5 ACK \u786e\u8ba4\u4e86\u65b0\u7684\u6570\u636e\uff0c\u8bf4\u660e\u4ece duplicated ACK \u65f6\u7684\u6570\u636e\u90fd\u5df2\u6536\u5230\uff0c\u8be5\u6062\u590d\u8fc7\u7a0b\u5df2\u7ecf\u7ed3\u675f\uff0c\u53ef\u4ee5\u56de\u5230\u6062\u590d\u4e4b\u524d\u7684\u72b6\u6001\u4e86\uff0c\u4e5f\u5373\u518d\u6b21\u8fdb\u5165\u62e5\u585e\u907f\u514d\u72b6\u6001</li> </ul> </li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_3","title":"TCP \u91cd\u4f20\u673a\u5236","text":""},{"location":"Computer%20Network/TCP%20%26%20UDP/#_1","title":"\u8d85\u65f6\u91cd\u4f20","text":"<p>\u5728\u53d1\u9001\u6570\u636e\u65f6\u8bbe\u5b9a\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u5f53\u8d85\u8fc7\u6307\u5b9a\u7684\u65f6\u95f4\u540e\u6ca1\u6709\u6536\u5230\u5bf9\u65b9\u7684 <code>ACK</code> \u786e\u8ba4\u5e94\u7b54\u62a5\u6587\uff0c\u5c31\u4f1a\u91cd\u53d1\u8be5\u6570\u636e\u3002TCP \u4f1a\u5728\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u53d1\u751f\u8d85\u65f6\u91cd\u4f20\uff1a</p> <ul> <li>\u6570\u636e\u5305\u4e22\u5931</li> <li>\u786e\u8ba4\u5e94\u7b54\u4e22\u5931</li> </ul> <p>\u8d85\u65f6\u91cd\u4f20\u65f6\u95f4\u662f\u4ee5 <code>RTO</code> (Retransmission Timeout \u8d85\u65f6\u91cd\u4f20\u65f6\u95f4)\u8868\u793a\u3002\u8d85\u65f6\u91cd\u4f20\u65f6\u95f4 RTO \u7684\u503c\u5e94\u8be5\u7565\u5927\u4e8e\u62a5\u6587\u5f80\u8fd4 RTT \u7684\u503c\uff0c\u56e0\u4e3a\uff1a</p> <ul> <li>\u5f53\u8d85\u65f6\u65f6\u95f4 RTO \u8f83\u5927\uff1a\u91cd\u53d1\u8fc7\u6162\uff0c\u6ca1\u6709\u6548\u7387\uff0c\u6027\u80fd\u5dee</li> <li>\u5f53\u8d85\u65f6\u65f6\u95f4 RTO \u8f83\u5c0f\uff1a\u5bfc\u81f4\u53ef\u80fd\u6ca1\u6709\u4e22\u5305\u800c\u91cd\u53d1\u3002\u4e8e\u662f\u91cd\u53d1\u901f\u5ea6\u5feb\u5bfc\u81f4\u589e\u52a0\u7f51\u7edc\u62e5\u585e\u3001\u66f4\u591a\u7684\u8d85\u65f6\u3001\u66f4\u591a\u7684\u8d85\u65f6\u4e5f\u5bfc\u81f4\u66f4\u591a\u7684\u91cd\u53d1</li> </ul> <p>Linux \u8ba1\u7b97 RTO \u9700\u8981\u91c7\u6837 \u52a0\u6743\u5e73\u5747 RTT \u65f6\u95f4 \u4ee5\u53ca RTT \u6ce2\u52a8\u8303\u56f4\uff0c\u8ba1\u7b97\u8fc7\u7a0b\u8868\u793a\u4e3a\uff1a</p> <p>Note</p> <p>SRTT = R1</p> <p>DevRTT = R1 / 2</p> <p>RTO = \u03bc * SRTT + \u03b8 * DevRTT</p> <p>SRTT = SRTT + \u03b1 * (RTT - SRTT)</p> <p>DevRTT = (1 - \u03b2) * DevRTT  + \u03b2 *(|RTT - SRTT|)</p> <p>RTO = \u03bc * SRTT + \u03b8 * DevRTT</p> <p>\u5176\u4e2d <code>SRTT</code> \u662f\u8ba1\u7b97\u5e73\u6ed1\u7684 RTT\uff0c<code>DevRTR</code> \u662f\u8ba1\u7b97\u5e73\u6ed1\u7684 RTT \u4e0e \u6700\u65b0 RTT \u7684\u5dee\u8ddd\u3002\u5728 Linux \u4e0b\uff0c\u03b1 = 0.125\uff0c\u03b2 = 0.25\uff0c \u03bc = 1\uff0c\u2202 = 4\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_2","title":"\u5feb\u901f\u91cd\u4f20","text":"<p>\u5feb\u901f\u91cd\u4f20\u7684\u5de5\u4f5c\u65b9\u5f0f\u662f\u5f53\u6536\u5230\u4e09\u4e2a\u76f8\u540c\u7684 ACK \u62a5\u6587\u65f6\u4f1a\u5728\u5b9a\u65f6\u5668\u8fc7\u671f\u4e4b\u524d\u91cd\u4f20\u4e22\u5931\u7684\u62a5\u6587\u6bb5\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#sack","title":"SACK","text":"<p><code>SACK</code>( Selective Acknowledgment)\u610f\u4e3a \u9009\u62e9\u6027\u786e\u8ba4\u3002\u5b83 \u53ef\u4ee5\u5c06\u5df2\u6536\u5230\u7684\u6570\u636e\u7684\u4fe1\u606f\u53d1\u9001\u7ed9\u300c\u53d1\u9001\u65b9\u300d\u3002\u8fd9\u6837\u53d1\u9001\u65b9\u5c31\u53ef\u4ee5\u77e5\u9053\u54ea\u4e9b\u6570\u636e\u6536\u5230\u4e86\uff0c\u54ea\u4e9b\u6570\u636e\u6ca1\u6536\u5230\u3002\u77e5\u9053\u4e86\u8fd9\u4e9b\u4fe1\u606f\u5c31\u53ef\u4ee5 \u53ea\u91cd\u4f20\u4e22\u5931\u7684\u6570\u636e\u3002\u5982\u679c\u8981\u4f7f\u7528 <code>SACK</code>\uff0c\u5fc5\u987b\u901a\u4fe1\u53cc\u65b9\u90fd\u652f\u6301\u3002\u5728 Linux \u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>net.ipv4.tcp_sack</code> \u53c2\u6570\u6253\u5f00\u8fd9\u4e2a\u529f\u80fd(Linux 2.4 \u540e\u9ed8\u8ba4\u6253\u5f00)\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#d-sack","title":"D-SACK","text":"<p>Duplicate SACK \u53c8\u79f0 <code>D-SACK</code>\uff0c\u5176\u4e3b\u8981 \u4f7f\u7528 SACK \u6765\u544a\u8bc9\u300c\u53d1\u9001\u65b9\u300d\u6709\u54ea\u4e9b\u6570\u636e\u88ab\u91cd\u590d\u63a5\u6536\u3002</p> <p><code>D-SACK</code> \u7684\u4e3b\u8981\u4f5c\u7528\u6709\uff1a</p> <ol> <li>\u8ba9\u300c\u53d1\u9001\u65b9\u300d\u77e5\u9053\u662f\u53d1\u51fa\u53bb\u7684\u5305\u4e22\u5931\u8fd8\u662f\u63a5\u6536\u65b9\u56de\u5e94\u7684 ACK \u5305\u4e22\u5931</li> <li>\u53ef\u4ee5\u5206\u6790\u300c\u53d1\u9001\u65b9\u300d\u7684\u6570\u636e\u5305\u662f\u5426\u6709\u7f51\u7edc\u5ef6\u8fdf</li> <li>\u53ef\u4ee5\u5206\u6790\u7f51\u7edc\u4e2d\u300c\u53d1\u9001\u65b9\u300d\u7684\u6570\u636e\u5305\u662f\u5426\u88ab\u590d\u5236</li> </ol> <p>\u5728 Linux \u4e0b\u53ef\u4ee5\u901a\u8fc7 <code>net.ipv4.tcp_dsack</code> \u53c2\u6570\u5f00\u542f/\u5173\u95ed\u8fd9\u4e2a\u529f\u80fd(Linux 2.4 \u540e\u9ed8\u8ba4\u6253\u5f00)\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_4","title":"TCP \u7684\u4e09\u6b21\u63e1\u624b","text":"<ul> <li>\u7b2c\u4e00\u6b21\u63e1\u624b\uff1aSYN = 1; seq = x; \u8fdb\u5165 SYN_SENT \u72b6\u6001</li> <li>\u7b2c\u4e8c\u6b21\u63e1\u624b\uff1aSYN = 1; ACK = 1; seq = y; ack = x + 1; \u8fdb\u5165 SYN_RCVD \u72b6\u6001</li> <li>\u7b2c\u4e09\u6b21\u63e1\u624b\uff1aACK = 1; seq = x + 1; ack = y + 1; \u8fdb\u5165 ESTABLISHED \u72b6\u6001</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_5","title":"TCP \u4e3a\u4ec0\u4e48\u8981\u4e09\u6b21\u63e1\u624b\uff1f","text":"<p>\u53ea\u6709\u4e09\u6b21\u63e1\u624b\u624d\u80fd\u8bc1\u660e\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u7684 \u6536\u53d1\u80fd\u529b\u90fd\u662f\u6b63\u5e38 \u7684\u3002</p> <ul> <li>\u7b2c\u4e00\u6b21\u63e1\u624b\uff1a\u670d\u52a1\u7aef\u53ef\u4ee5\u77e5\u9053\u5ba2\u6237\u7aef\u53d1\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684\uff0c\u81ea\u5df1\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684</li> <li>\u7b2c\u4e8c\u6b21\u63e1\u624b\uff1a\u5ba2\u6237\u7aef\u53ef\u4ee5\u77e5\u9053\u81ea\u5df1\u53d1\u9001\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u548c\u670d\u52a1\u7aef\u53d1\u9001\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684</li> <li>\u7b2c\u4e09\u6b21\u63e1\u624b\uff1a\u670d\u52a1\u7aef\u53ef\u4ee5\u77e5\u9053\u81ea\u5df1\u53d1\u9001\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684\uff0c\u5ba2\u6237\u7aef\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684</li> </ul> <p>\u7531\u6b64\u7ecf\u8fc7\u4e09\u6b21\u63e1\u624b\u4e4b\u540e\u53cc\u65b9\u5c31\u53ef\u4ee5\u90fd\u77e5\u9053\u81ea\u5df1\u7684\u53d1\u9001\u548c\u63a5\u6536\u6d88\u606f\u7684\u80fd\u529b\u662f\u6b63\u5e38\u7684\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_6","title":"\u5982\u679c TCP \u7684\u4e09\u6b21\u63e1\u624b\u4e22\u5931\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u7b2c\u4e00\u6b21\u4e22\u5931\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u7684 SYN \u62a5\u6587\u4f1a\u6536\u4e0d\u5230\u670d\u52a1\u7aef\u7684\u54cd\u5e94\uff0c\u4ece\u800c\u4f1a \u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u91cd\u4f20\u7684 SYN \u62a5\u6587\u5e8f\u5217\u53f7\u548c\u4e4b\u524d\u76f8\u540c\uff0c\u91cd\u4f20\u6700\u5927\u91cd\u4f20\u6b21\u6570\u7531\u5185\u6838\u53c2\u6570\u63a7\u5236\uff0c\u4e00\u822c\u662f 5\u3002\u5982\u679c\u8d85\u8fc7\u6700\u5927\u6b21\u6570\u5ba2\u6237\u7aef\u4ecd \u6ca1\u6709\u6536\u5230\u56de\u590d\u5c31\u4f1a\u65ad\u5f00\u8fde\u63a5 </li> <li>\u7b2c\u4e8c\u6b21\u4e22\u5931\uff1a\u670d\u52a1\u7aef\u5728\u6536\u5230\u5ba2\u6237\u7aef\u7684\u62a5\u6587\u4e4b\u540e\u4f1a\u56de\u590d SYN + ACK \u62a5\u6587\u3002\u5982\u679c\u7b2c\u4e8c\u6b21\u63e1\u624b\u4e22\u5931\u4e86\u5ba2\u6237\u7aef\u4f1a\u8ba4\u4e3a\u81ea\u5df1\u4e22\u5305\u4e86\uff0c \u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u91cd\u65b0\u53d1\u9001 SYN \u62a5\u6587\uff0c\u670d\u52a1\u7aef\u56e0\u4e3a\u6536\u4e0d\u5230\u786e\u8ba4\u7684 ACK  \u81ea\u8eab\u4e5f\u4f1a\u91cd\u4f20 </li> <li>\u7b2c\u4e09\u6b21\u4e22\u5931\uff1a\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u7aef\u7684 SYN-ACK \u62a5\u6587\u540e\u4f1a\u7ed9\u670d\u52a1\u7aef\u56de\u4e00\u4e2a ACK \u62a5\u6587\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u72b6\u6001\u8fdb\u5165\u5230 ESTABLISH \u72b6\u6001\u3002\u5982\u679c\u53d1\u751f\u4e86\u4e22\u5305\uff0c\u670d\u52a1\u7aef\u6536\u4e0d\u5230 ACK \u4f1a\u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\u673a\u5236\uff0c\u91cd\u4f20 SYN-ACK \u62a5\u6587\uff0c\u76f4\u5230\u6536\u5230\u786e\u8ba4 ACK \u6216\u8005\u8fbe\u5230\u6700\u5927\u91cd\u4f20\u6b21\u6570</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_7","title":"TCP \u4e3a\u4ec0\u4e48\u4e0d\u662f\u4e24\u6b21\u63e1\u624b\uff1f","text":"<p>\u6700\u597d\u518d\u52a0\u4e0a  \u5982\u679c TCP \u7684\u4e09\u6b21\u63e1\u624b\u4e22\u5931\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f </p> <ul> <li>\u907f\u514d\u5386\u53f2\u8fde\u63a5(\u9996\u8981\u539f\u56e0)\uff1a\u5982\u679c\u4f7f\u7528\u7684\u662f\u4e24\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0c\u53ef\u80fd\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u8fde\u63a5\u5e76\u4e14\u6ca1\u6709\u4e22\u5931\uff0c\u53ea\u662f\u56e0\u4e3a\u5728\u7f51\u7edc\u4e2d\u6ede\u7559\u7684\u65f6\u95f4\u592a\u957f\u4e86\uff0c\u7531\u4e8e TCP \u7684\u5ba2\u6237\u7aef\u8fdf\u8fdf\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u62a5\u6587\uff0c\u4ee5\u4e3a\u670d\u52a1\u5668\u6ca1\u6709\u6536\u5230\uff0c\u6b64\u65f6\u91cd\u65b0\u5411\u670d\u52a1\u5668\u53d1\u9001\u8fd9\u6761\u62a5\u6587\uff0c\u6b64\u540e\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7ecf\u8fc7\u4e24\u6b21\u63e1\u624b\u5b8c\u6210\u8fde\u63a5\uff0c\u4f20\u8f93\u6570\u636e\uff0c\u7136\u540e\u5173\u95ed\u8fde\u63a5\u3002\u4e4b\u524d\u6ede\u7559\u7684\u90a3\u4e00\u6b21\u8bf7\u6c42\u8fde\u63a5\uff0c\u56e0\u4e3a\u7f51\u7edc\u901a\u7545\u4e86\uff0c\u5230\u8fbe\u4e86\u670d\u52a1\u5668\uff0c\u8fd9\u4e2a\u62a5\u6587\u672c\u8be5\u662f\u5931\u6548\u7684\uff0c\u4f46\u662f\uff0c\u4e24\u6b21\u63e1\u624b\u7684\u673a\u5236\u5c06\u4f1a\u8ba9\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u518d\u6b21\u5efa\u7acb\u8fde\u63a5\uff0c\u8fd9\u5c06\u5bfc\u81f4\u4e0d\u5fc5\u8981\u7684\u9519\u8bef\u548c\u8d44\u6e90\u7684\u6d6a\u8d39</li> <li>\u540c\u6b65\u53cc\u65b9\u521d\u59cb\u5e8f\u5217\u53f7\uff1a\u4e3a\u4e86\u5b9e\u73b0\u53ef\u9760\u6570\u636e\u4f20\u8f93\uff0cTCP \u534f\u8bae\u7684\u901a\u4fe1\u53cc\u65b9\uff0c\u90fd\u5fc5\u987b\u7ef4\u62a4\u4e00\u4e2a\u5e8f\u5217\u53f7\uff0c\u4ee5\u6807\u8bc6\u53d1\u9001\u51fa\u53bb\u7684\u6570\u636e\u5305\u4e2d\uff0c\u54ea\u4e9b\u662f\u5df2\u7ecf\u88ab\u5bf9\u65b9\u6536\u5230\u7684\u3002 \u4e09\u6b21\u63e1\u624b\u7684\u8fc7\u7a0b\u5373\u662f\u901a\u4fe1\u53cc\u65b9\u76f8\u4e92\u544a\u77e5\u5e8f\u5217\u53f7\u8d77\u59cb\u503c\uff0c\u5e76\u786e\u8ba4\u5bf9\u65b9\u5df2\u7ecf\u6536\u5230\u4e86\u5e8f\u5217\u53f7\u8d77\u59cb\u503c\u7684\u5fc5\u7ecf\u6b65\u9aa4\u3002\u5982\u679c\u53ea\u662f\u4e24\u6b21\u63e1\u624b\uff0c\u81f3\u591a\u53ea\u6709\u8fde\u63a5\u53d1\u8d77\u65b9\u7684\u8d77\u59cb\u5e8f\u5217\u53f7\u80fd\u88ab\u786e\u8ba4\uff0c\u53e6\u4e00\u65b9\u9009\u62e9\u7684\u5e8f\u5217\u53f7\u5219\u5f97\u4e0d\u5230\u786e\u8ba4</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_8","title":"TCP \u4e3a\u4ec0\u4e48\u4e0d\u662f\u56db\u6b21\u63e1\u624b\uff1f","text":"<p>\u5c3d\u7ba1\u56db\u6b21\u63e1\u624b\u5176\u5b9e\u4e5f\u80fd\u591f\u53ef\u9760\u7684\u540c\u6b65\u53cc\u65b9\u7684\u521d\u59cb\u5316\u5e8f\u53f7\uff0c\u4f46\u7531\u4e8e \u7b2c\u4e8c\u6b21\u548c\u7b2c\u4e09\u6b21\u53ef\u4ee5\u5408\u5e76\uff0c\u4f18\u5316\u7ed3\u679c\u4e3a\u4e09\u6b21\u63e1\u624b\u3002\u4e09\u6b21\u63e1\u624b\u5c31\u5df2\u7ecf\u7406\u8bba\u4e0a\u6700\u5c11\u53ef\u9760\u8fde\u63a5\u5efa\u7acb\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u4f7f\u7528\u66f4\u591a\u7684\u901a\u4fe1\u6b21\u6570\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_9","title":"\u4e3a\u4ec0\u4e48\u6bcf\u6b21\u5efa\u7acb TCP \u8fde\u63a5\u65f6\uff0c\u521d\u59cb\u5316\u7684\u5e8f\u5217\u53f7\u90fd\u8981\u6c42\u4e0d\u4e00\u6837\uff1f","text":"<ul> <li>\u4e3a\u4e86\u9632\u6b62\u5386\u53f2\u62a5\u6587\u88ab\u4e0b\u4e00\u4e2a\u76f8\u540c\u56db\u5143\u7ec4\u7684\u8fde\u63a5\u63a5\u6536(\u4e3b\u8981\u65b9\u9762)\uff1a\u5982\u679c\u6bcf\u6b21\u5efa\u7acb\u8fde\u63a5\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\u90fd\u662f\u4e00\u6837\u7684\uff0c\u5bb9\u6613\u51fa\u73b0\u5386\u53f2\u62a5\u6587\u88ab\u4e0b\u4e00\u4e2a\u76f8\u540c\u56db\u5143\u7ec4\u7684\u8fde\u63a5\u63a5\u6536\u7684\u95ee\u9898</li> <li>\u4e3a\u4e86\u5b89\u5168\u6027\uff0c\u9632\u6b62\u9ed1\u5ba2\u4f2a\u9020\u7684\u76f8\u540c\u5e8f\u5217\u53f7\u7684 TCP \u62a5\u6587\u88ab\u5bf9\u65b9\u63a5\u6536</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#isn","title":"\u521d\u59cb\u5e8f\u5217\u53f7 ISN \u662f\u5982\u4f55\u968f\u673a\u4ea7\u751f\u7684\uff1f","text":"<p>\u8d77\u59cb <code>ISN</code> \u662f\u57fa\u4e8e\u65f6\u949f\u7684\uff0c\u6bcf 4 \u5fae\u79d2 + 1\uff0c\u8f6c\u4e00\u5708\u8981 4.55 \u4e2a\u5c0f\u65f6\u3002RFC793 \u63d0\u5230\u521d\u59cb\u5316\u5e8f\u5217\u53f7 ISN \u968f\u673a\u751f\u6210\u7b97\u6cd5\uff1aISN = M + F(localhost, localport, remotehost, remoteport)\u3002</p> <ul> <li><code>M</code> \u662f\u4e00\u4e2a\u8ba1\u65f6\u5668\uff0c\u8fd9\u4e2a\u8ba1\u65f6\u5668\u6bcf\u9694 4 \u5fae\u79d2\u52a0 1</li> <li><code>F</code> \u662f\u4e00\u4e2a Hash \u7b97\u6cd5\uff0c\u6839\u636e\u6e90 IP\u3001\u76ee\u7684 IP\u3001\u6e90\u7aef\u53e3\u3001\u76ee\u7684\u7aef\u53e3\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\u503c\u3002\u8981\u4fdd\u8bc1 Hash \u7b97\u6cd5\u4e0d\u80fd\u88ab\u5916\u90e8\u8f7b\u6613\u63a8\u7b97\u5f97\u51fa\uff0c\u7528 MD5 \u7b97\u6cd5\u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u9009\u62e9</li> </ul> <p>\u968f\u673a\u6570\u662f\u4f1a\u57fa\u4e8e\u65f6\u949f\u8ba1\u65f6\u5668\u9012\u589e\u7684\uff0c\u57fa\u672c\u4e0d\u53ef\u80fd\u4f1a\u968f\u673a\u6210\u4e00\u6837\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_10","title":"TCP \u7684\u56db\u6b21\u6325\u624b","text":"<ul> <li>\u7b2c\u4e00\u6b21\u6325\u624b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u91ca\u653e\u62a5\u6587\uff0c\u5e76\u505c\u6b62\u53d1\u9001\u6570\u636e\uff0c\u5c06\u9996\u90e8\u7684 FIN \u6807\u8bc6\u4f4d\u7f6e\u4e3a 1\uff0c\u5e8f\u5217\u53f7 seq = u \u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff0c\u503c\u7b49\u4e8e\u524d\u9762\u5df2\u7ecf\u4f20\u9001\u8fc7\u6765\u7684\u6570\u636e\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u7684\u5e8f\u53f7\u52a0 1\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u8fdb\u5165  FIN_WAIT_1  \u72b6\u6001\u3002\u5373\u4fbf FIN \u62a5\u6587\u4e0d\u643a\u5e26\u6570\u636e\uff0c\u4e5f\u8981\u6d88\u8017\u4e00\u4e2a\u5e8f\u5217\u53f7</li> <li>\u7b2c\u4e8c\u6b21\u6325\u624b\uff1a\u670d\u52a1\u5668\u5728\u6536\u5230\u91ca\u653e\u62a5\u6587\u540e\uff0c\u53d1\u9001\u786e\u8ba4\u62a5\u6587\uff0cACK \u6807\u8bc6\u4f4d\u7f6e\u4e3a 1\uff0cack \u503c\u4e3a\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u5e8f\u5217\u53f7 u + 1\uff0c\u5e76\u5e26\u4e0a\u81ea\u5df1\u7684\u5e8f\u5217\u53f7 v\uff0c\u7136\u540e\u670d\u52a1\u5668\u8fdb\u5165  CLOSE_WAIT  \u5173\u95ed\u7b49\u5f85\u72b6\u6001\u3002\u8fd9\u65f6\u670d\u52a1\u5668 TCP \u901a\u77e5\u9ad8\u7ea7\u5e94\u7528\u8fdb\u7a0b\uff1a\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u7684\u8fde\u63a5\u91ca\u653e\u4e86\uff0c\u8fdb\u5165\u534a\u5173\u95ed\u72b6\u6001\u3002\u4f46\u662f\u670d\u52a1\u5668\u5982\u679c\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\uff0c\u5ba2\u6237\u7aef\u4ecd\u7136\u53ef\u4ee5\u63a5\u6536\uff0c\u8fd9\u4e2a\u72b6\u6001\u8981\u6301\u7eed\u4e00\u6bb5\u65f6\u95f4\uff0c\u4e5f\u5c31\u662f  CLOSE_WAIT  \u5173\u95ed\u7b49\u5f85\u6301\u7eed\u7684\u65f6\u95f4\u3002\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u5668\u7684\u786e\u8ba4\u8bf7\u6c42\u540e\uff0c\u8fdb\u5165  FIN_WAIT_2  \u72b6\u6001\uff0c\u7b49\u5f85\u670d\u52a1\u5668\u53d1\u9001\u91ca\u653e\u62a5\u6587</li> <li>\u7b2c\u4e09\u6b21\u6325\u624b\uff1a\u670d\u52a1\u5668\u6570\u636e\u5904\u7406\u5b8c\u6bd5\u540e\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u91ca\u653e\u8fde\u63a5\u62a5\u6587\uff0cFIN \u6807\u8bc6\u4f4d\u7f6e\u4e3a 1\uff0cack \u7684\u503c\u4e3a\u5ba2\u6237\u7aef\u7684\u5e8f\u5217\u53f7 u + 1\u3002\u7531\u4e8e\u5728\u534a\u5173\u95ed\u72b6\u6001\uff0c\u670d\u52a1\u5668\u5f88\u53ef\u80fd\u53c8\u53d1\u9001\u4e00\u4e9b\u6570\u636e\uff0c\u5047\u5b9a\u6b64\u65f6\u5e8f\u5217\u53f7\u4e3a w\uff0c\u670d\u52a1\u5668\u8fdb\u5165  LAST_ACK  \u72b6\u6001\uff0c\u7b49\u5f85\u5ba2\u6237\u7aef\u786e\u8ba4</li> <li>\u7b2c\u56db\u6b21\u6325\u624b\uff1a\u5ba2\u6237\u7aef\u5728\u6536\u5230\u670d\u52a1\u5668\u7684\u91ca\u653e\u8fde\u63a5\u62a5\u6587\u540e\uff0c\u4f1a\u53d1\u9001\u786e\u8ba4\u62a5\u6587\uff0cACK \u6807\u8bc6\u4f4d\u7f6e\u4e3a 1\uff0cack \u503c\u4e3a\u670d\u52a1\u5668\u53d1\u9001\u7684\u5e8f\u5217\u53f7 w + 1\uff0c\u81ea\u5df1\u7684\u5e8f\u5217\u53f7\u662f u + 1\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u5c31\u8fdb\u5165  TIME_WAIT  \u72b6\u6001\u3002\u6b64\u65f6 TCP \u8fde\u63a5\u8fd8\u6ca1\u6709\u91ca\u653e\uff0c\u5fc5\u987b\u7ecf\u8fc7 \u4e24\u4e2a MSL \u65f6\u95f4 (\u4e00\u4e2a MSL \u6307\u7684\u662f\u62a5\u6587\u6bb5\u6700\u957f\u5bff\u547d)\uff0c\u5f53\u5ba2\u6237\u7aef\u64a4\u9500 TCB\uff0c\u624d\u8fdb\u5165  CLOSED  \u72b6\u6001\u3002\u670d\u52a1\u5668\u53ea\u8981\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u786e\u8ba4\u8bf7\u6c42\uff0c\u7acb\u5373\u8fdb\u5165  CLOSED  \u72b6\u6001\u3002\u540c\u65f6\u4f1a\u64a4\u9500 TCB\uff0cTCP \u8fde\u63a5\u81f3\u6b64\u7ed3\u675f</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_11","title":"TCP \u4e3a\u4ec0\u4e48\u8981\u56db\u6b21\u6325\u624b\uff1f","text":"<p>\u5173\u95ed\u8fde\u63a5\u65f6\uff0c\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001  FIN  \u65f6\uff0c\u4ec5\u4ec5\u8868\u793a\u5ba2\u6237\u7aef\u4e0d\u518d\u53d1\u9001\u6570\u636e\u4e86\u4f46\u662f\u8fd8\u80fd\u63a5\u6536\u6570\u636e\u3002</p> <p>\u670d\u52a1\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u7684  FIN  \u62a5\u6587\u65f6\uff0c\u5148\u56de\u4e00\u4e2a  ACK  \u5e94\u7b54\u62a5\u6587\uff0c\u800c\u670d\u52a1\u7aef\u53ef\u80fd\u8fd8\u6709\u6570\u636e\u9700\u8981\u5904\u7406\u548c\u53d1\u9001\uff0c\u7b49\u670d\u52a1\u7aef\u4e0d\u518d\u53d1\u9001\u6570\u636e\u65f6\uff0c\u624d\u53d1\u9001  FIN  \u62a5\u6587\u7ed9\u5ba2\u6237\u7aef\u6765\u8868\u793a\u540c\u610f\u73b0\u5728\u5173\u95ed\u8fde\u63a5\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#linux-tcp","title":"\u5982\u4f55\u5728 Linux \u7cfb\u7edf\u4e2d\u67e5\u770b TCP \u72b6\u6001","text":"Bash<pre><code>netstat -napt\n</code></pre>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#fin_wait_2-fin-tcp-time_wait","title":"\u5728 FIN_WAIT_2 \u72b6\u6001\u4e0b\uff0c\u662f\u5982\u4f55\u5904\u7406\u6536\u5230\u7684\u4e71\u5e8f\u5230 FIN \u62a5\u6587\uff0c\u7136\u540e TCP \u8fde\u63a5\u53c8\u662f\u4ec0\u4e48\u65f6\u5019\u624d\u8fdb\u5165\u5230 TIME_WAIT \u72b6\u6001\uff1f","text":"<p>\u5728  FIN_WAIT_2  \u72b6\u6001\u65f6\uff0c\u5982\u679c\u6536\u5230\u4e71\u5e8f\u7684  FIN  \u62a5\u6587\u4f1a\u52a0\u5165\u5230\u4e71\u5e8f\u961f\u5217\uff0c\u5e76\u4e0d\u4f1a\u8fdb\u5165\u5230  TIME_WAIT  \u72b6\u6001\u3002\u7b49\u518d\u6b21\u6536\u5230\u524d\u9762\u88ab\u7f51\u7edc\u5ef6\u8fdf\u7684\u6570\u636e\u5305\u65f6\uff0c\u4f1a\u5224\u65ad\u4e71\u5e8f\u961f\u5217\u6709\u6ca1\u6709\u6570\u636e\uff0c\u68c0\u6d4b\u4e71\u5e8f\u961f\u5217\u4e2d\u662f\u5426\u6709\u53ef\u7528\u7684\u6570\u636e\uff0c\u5982\u679c\u80fd\u5728\u4e71\u5e8f\u961f\u5217\u4e2d\u627e\u5230\u4e0e\u5f53\u524d\u62a5\u6587\u7684\u5e8f\u5217\u53f7\u4fdd\u6301\u7684\u987a\u5e8f\u7684\u62a5\u6587\uff0c\u5c31\u4f1a\u770b\u8be5\u62a5\u6587\u662f\u5426\u6709  FIN  \u6807\u5fd7\uff0c\u5982\u679c\u53d1\u73b0\u6709  FIN  \u6807\u5fd7\uff0c\u624d\u4f1a\u8fdb\u5165  TIME_WAIT  \u72b6\u6001</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_12","title":"\u5982\u679c TCP \u7684\u56db\u6b21\u6325\u624b\u4e22\u5931\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u7b2c\u4e00\u6b21\u4e22\u5931\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u62a5\u6587 FIN \u62a5\u6587\u6536\u4e0d\u5230\u670d\u52a1\u7aef\u7684 ACK \u54cd\u5e94\uff0c\u4f1a\u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u91cd\u4f20 FIN \u62a5\u6587\uff0c\u91cd\u53d1\u6b21\u6570\u7531\u5185\u6838\u53c2\u6570\u63a7\u5236</li> <li>\u7b2c\u4e8c\u6b21\u4e22\u5931\uff1a\u670d\u52a1\u7aef\u56de\u590d\u7684 ACK \u62a5\u6587\u53d1\u751f\u4e22\u5931\uff0c\u5ba2\u6237\u7aef\u4f1a\u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u91cd\u4f20 FIN \u62a5\u6587\uff0c\u76f4\u5230\u6536\u5230\u670d\u52a1\u7aef\u7684 ACK \u6216\u8005\u8fbe\u5230\u6700\u5927\u7684\u91cd\u4f20\u6b21\u6570\u3002\u8d85\u8fc7\u6700\u5927\u91cd\u4f20\u6b21\u6570\u8fd8\u6ca1\u6536\u5230 ACK \u4f1a\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u518d\u65ad\u5f00\u8fde\u63a5</li> <li>\u7b2c\u4e09\u6b21\u4e22\u5931\uff1a\u670d\u52a1\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u7684 FIN \u62a5\u6587\u540e\u5185\u6838\u4f1a\u81ea\u52a8\u56de\u590d ACK\uff0c\u540c\u65f6\u8fde\u63a5\u5904\u4e8e  CLOSE_WAIT  \u72b6\u6001\u3002\u670d\u52a1\u7aef\u5904\u4e8e  CLOSE_WAIT  \u72b6\u6001\u65f6\uff0c\u8c03\u7528\u4e86 close \u51fd\u6570\uff0c\u5185\u6838\u4f1a\u53d1\u51fa FIN \u62a5\u6587\uff0c\u540c\u65f6\u8fde\u63a5\u8fdb\u5165  LAST_ACK  \u72b6\u6001\uff0c\u7b49\u5f85\u5ba2\u6237\u7aef\u8fd4\u56de ACK \u6765\u786e\u8ba4\u8fde\u63a5\u5173\u95ed\u3002\u6536\u4e0d\u5230 ACK \u7684\u8bdd\u4f1a\u91cd\u53d1 FIN \u62a5\u6587\u76f4\u5230\u6700\u5927\u6b21\u6570\u4e3a\u6b62</li> <li>\u7b2c\u56db\u6b21\u4e22\u5931\uff1a\u6700\u540e\u4e00\u6b21\u7684 ACK \u53d1\u751f\u4e86\u4e22\u5931\uff0c\u670d\u52a1\u7aef\u6ca1\u6709\u6536\u5230 ACK \u62a5\u6587\u524d\u662f\u5904\u4e8e  LAST_ACK  \u72b6\u6001\u3002\u8d85\u65f6\u4e4b\u540e\u670d\u52a1\u7aef\u4f1a\u91cd\u4f20 FIN \u62a5\u6587\uff0c\u5ba2\u6237\u7aef\u6b64\u65f6\u662f\u5728  TIME_WAIT  \u72b6\u6001\uff0c\u5f00\u542f\u65f6\u957f\u4e3a 2MSL \u7684\u5b9a\u65f6\u5668\uff0c\u5982\u679c\u9014\u4e2d\u518d\u6b21\u6536\u5230\u7b2c\u4e09\u6b21\u6325\u624b(FIN \u62a5\u6587)\u540e\uff0c\u4f1a\u91cd\u7f6e\u5b9a\u65f6\u5668\uff0c\u5f53\u7b49\u5f85 2MSL \u65f6\u957f\u540e\uff0c\u5ba2\u6237\u7aef\u4f1a\u65ad\u5f00\u8fde\u63a5</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_13","title":"TCP \u4e3a\u4ec0\u4e48\u4e0d\u662f\u4e09\u6b21\u6325\u624b\uff1f","text":"<p>\u5f53\u88ab\u52a8\u5173\u95ed\u65b9\u5728 TCP \u6325\u624b\u8fc7\u7a0b\u4e2d\uff0c\u6ca1\u6709\u6570\u636e\u8981\u53d1\u9001\u5e76\u4e14\u5f00\u542f\u4e86\u5ef6\u8fdf\u5e94\u7b54\uff0c\u7b2c\u4e8c\u548c\u7b2c\u4e09\u6b21\u6325\u624b\u5c31\u4f1a\u5408\u5e76\u4f20\u8f93\uff0c\u8fd9\u6837\u5c31\u51fa\u73b0\u4e86\u4e09\u6b21\u6325\u624b\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_14","title":"TCP \u7684\u72b6\u6001\u8f6c\u6362\u56fe\uff0c\u4f9b\u968f\u65f6\u67e5\u9605","text":""},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_15","title":"TCP \u7684\u5ef6\u8fdf\u5e94\u7b54\u548c\u7d2f\u8ba1\u5e94\u7b54\uff1f","text":"<ul> <li>\u5ef6\u8fdf\u5e94\u7b54\uff1aTCP \u5728\u63a5\u6536\u5230\u5bf9\u7aef\u7684\u62a5\u6587\u540e\u5e76\u4e0d\u4f1a\u7acb\u5373\u53d1\u9001 ACK\uff0c\u800c\u662f\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u53d1\u9001 ACK\uff0c\u4ee5\u4fbf\u5c06 ACK \u548c\u8981\u53d1\u9001\u7684\u6570\u636e\u4e00\u5757\u53d1\u9001\u3002\u5ef6\u8fdf\u65f6\u95f4\u4e0d\u80fd\u65e0\u9650\u5ef6\u957f\uff0c\u5426\u5219\u5bf9\u65b9\u7aef\u4f1a\u8ba4\u4e3a\u4e22\u5305\u8d85\u65f6\u800c\u9020\u6210\u8d85\u65f6\u91cd\u4f20\u3002Linux \u91c7\u7528\u52a8\u6001\u8c03\u8282\u7b97\u6cd5\u6765\u786e\u5b9a\u7b49\u5f85\u7684\u65f6\u95f4</li> <li>\u7d2f\u8ba1\u5e94\u7b54\uff1a\u4e3a\u4e86\u4fdd\u8bc1\u987a\u5e8f\u6027\uff0c\u6bcf\u4e00\u4e2a\u5305\u90fd\u6709\u4e00\u4e2a ID(\u5e8f\u53f7)\uff0c\u5728\u5efa\u7acb\u8fde\u63a5\u7684\u65f6\u5019\uff0c\u53cc\u65b9\u4f1a\u5546\u5b9a\u8d77\u59cb\u7684 ID \u662f\u591a\u5c11\uff0c\u7136\u540e\u6309\u7167 ID \u4e00\u4e2a\u4e2a\u53d1\u9001\u3002\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u4e22\u5305\uff0c\u5bf9\u5e94\u53d1\u9001\u7684\u5305\u90fd\u8981\u8fdb\u884c\u5e94\u7b54\uff0c\u4f46\u4e0d\u662f\u4e00\u4e2a\u4e2a\u5e94\u7b54\uff0c\u800c\u662f\u4f1a\u5e94\u7b54 \u67d0\u4e2a\u4e4b\u524d\u7684 ID\uff0c\u8be5\u6a21\u5f0f\u79f0\u4e3a \u7d2f\u8ba1\u5e94\u7b54 </li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp-msl","title":"TCP \u7684 MSL","text":"<p>MSL \u662f\u4efb\u4f55\u62a5\u6587\u5728\u7f51\u7edc\u4e2d\u88ab\u4e22\u5f03\u524d\u7684\u6700\u957f\u5b58\u6d3b\u65f6\u95f4\uff0c\u8fd9\u4e2a\u65f6\u95f4\u662f\u6709\u9650\u7684\uff0c\u56e0\u4e3a TCP \u662f\u4ee5 IP \u6570\u636e\u62a5\u7684\u5f62\u5f0f\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\uff0cIP \u6709\u9650\u5236\u5176\u751f\u5b58\u7684\u65f6\u95f4 TTL\uff0cRFC793 \u6307\u51fa MSL \u4e3a  2 \u5206\u949f\uff0c\u73b0\u5b9e\u4e2d\u5e38\u7528  30 \u79d2  \u6216  1 \u5206\u949f </p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_3","title":"\u5df2\u7ecf\u5efa\u7acb\u4e86\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u7a81\u7136\u51fa\u73b0\u6545\u969c\u4e86\u4f1a\u600e\u6837\uff1f","text":"<p>TCP \u5b58\u5728\u4fdd\u6d3b\u8ba1\u65f6\u5668\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u6545\u969c\uff0c\u670d\u52a1\u5668\u4e0d\u4f1a\u4e00\u76f4\u7b49\u5f85\u3002\u901a\u5e38\u8ba1\u65f6\u5668\u8bbe\u7f6e\u4e3a\u4e24\u5c0f\u65f6\uff0c\u5728\u6bcf\u6b21\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u62a5\u6587\u90fd\u4f1a\u91cd\u7f6e\u8ba1\u65f6\u5668\uff0c\u8d85\u65f6\u4e4b\u540e\u670d\u52a1\u7aef\u5c31\u4f1a\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u63a2\u6d4b\u62a5\u6587\uff0c\u6bcf\u9694 75s \u53d1\u9001\u4e00\u6b21\uff0c\u5982\u679c\u8fde\u7eed 10 \u4e2a\u63a2\u6d4b\u62a5\u6587\u90fd\u6ca1\u6709\u6536\u5230\u56de\u590d\uff0c\u670d\u52a1\u5668\u4f1a\u8ba4\u4e3a\u5ba2\u6237\u7aef\u53d1\u751f\u6545\u969c\uff0c\u4e2d\u65ad\u6b64\u6b21\u8fde\u63a5</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_4","title":"\u5df2\u7ecf\u5efa\u7acb\u4e86\u8fde\u63a5\uff0c\u4f46\u662f\u670d\u52a1\u7aef\u7684\u8fdb\u7a0b\u5d29\u6e83\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f","text":"<p>TCP \u7684\u8fde\u63a5\u4fe1\u606f\u662f\u7531\u5185\u6838\u7ef4\u62a4\u7684\uff0c\u6240\u4ee5\u5f53\u670d\u52a1\u7aef\u7684\u8fdb\u7a0b\u5d29\u6e83\u540e\u5185\u6838\u9700\u8981\u56de\u6536\u8be5\u8fdb\u7a0b\u7684\u6240\u6709 TCP \u8fde\u63a5\u8d44\u6e90\u3002\u5185\u6838\u4f1a\u53d1\u9001\u7b2c\u4e00\u6b21\u6325\u624b FIN \u62a5\u6587\uff0c\u540e\u7eed\u7684\u6325\u624b\u8fc7\u7a0b\u4e5f\u90fd\u662f\u5728\u5185\u6838\u5b8c\u6210\uff0c\u5e76\u4e0d\u9700\u8981\u8fdb\u7a0b\u7684\u53c2\u4e0e\u3002\u6240\u4ee5\u5373\u4f7f\u670d\u52a1\u7aef\u7684\u8fdb\u7a0b\u9000\u51fa\u4e86\uff0c\u8fd8\u662f\u80fd\u4e0e\u5ba2\u6237\u7aef\u5b8c\u6210 TCP \u56db\u6b21\u6325\u624b\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_5","title":"\u4ec0\u4e48\u65f6\u5019\u7528\u957f\u8fde\u63a5\uff0c\u77ed\u8fde\u63a5\uff1f","text":"<p>\u957f\u8fde\u63a5\u591a\u7528\u4e8e \u64cd\u4f5c\u9891\u7e41\uff0c\u70b9\u5bf9\u70b9\u7684\u901a\u8baf\uff0c\u800c\u4e14\u8fde\u63a5\u6570\u4e0d\u80fd\u592a\u591a \u7684\u60c5\u51b5\u3002\u6bcf\u4e2a TCP \u8fde\u63a5\u90fd\u9700\u8981\u4e09\u6b65\u63e1\u624b\uff0c\u8fd9\u9700\u8981\u65f6\u95f4\u3002\u5982\u679c\u6bcf\u4e2a\u64cd\u4f5c\u90fd\u662f\u5148\u8fde\u63a5\uff0c\u518d\u64cd\u4f5c\u7684\u8bdd\u90a3\u4e48\u5904\u7406\u901f\u5ea6\u4f1a\u964d\u4f4e\u5f88\u591a\u3002\u6240\u4ee5\u6bcf\u4e2a\u64cd\u4f5c\u5b8c\u540e\u90fd\u4e0d\u65ad\u5f00\uff0c\u4e0b\u6b21\u5904\u7406\u65f6\u76f4\u63a5\u53d1\u9001\u6570\u636e\u5305\u5c31\u53ef\u4ee5\uff0c\u4e0d\u7528\u5efa\u7acb TCP \u8fde\u63a5\u3002\u4f8b\u5982\uff1a \u6570\u636e\u5e93\u7684\u8fde\u63a5\u7528\u957f\u8fde\u63a5\u3002</p> <p>WEB \u7f51\u7ad9\u7684 HTTP \u670d\u52a1\u4e00\u822c\u90fd\u7528\u77ed\u8fde\u63a5\uff0c\u56e0\u4e3a\u957f\u8fde\u63a5\u5bf9\u4e8e\u670d\u52a1\u7aef\u6765\u8bf4\u4f1a\u8017\u8d39\u4e00\u5b9a\u7684\u8d44\u6e90\uff0c\u800c WEB \u7f51\u7ad9\u6210\u5343\u4e0a\u4e07\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u7528\u77ed\u8fde\u63a5\u4f1a\u66f4\u7701\u4e00\u4e9b\u8d44\u6e90\uff0c\u5982\u679c\u7528\u957f\u8fde\u63a5\uff0c\u800c\u4e14\u540c\u65f6\u6709\u6210\u5343\u4e0a\u4e07\u7684\u7528\u6237\uff0c\u5982\u679c\u6bcf\u4e2a\u7528\u6237\u90fd\u5360\u7528\u4e00\u4e2a\u8fde\u63a5\u7684\u8bdd\uff0c\u6240\u4ee5\u5e76\u53d1\u91cf\u5927\uff0c\u7528\u77ed\u8fde\u63a5\u53ef\u4ee5\u5feb\u901f\u91ca\u653e\u8d44\u6e90\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_16","title":"TCP \u7684\u534a\u8fde\u63a5\u961f\u5217\u548c\u5168\u8fde\u63a5\u961f\u5217\uff1f","text":"<ul> <li>\u534a\u8fde\u63a5\u961f\u5217\uff1a\u4e5f\u79f0  SYN \u961f\u5217\uff0c\u670d\u52a1\u7aef\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u8d77\u7684 SYN \u8bf7\u6c42\u540e\uff0c\u5185\u6838\u4f1a\u628a\u8be5\u8fde\u63a5\u5b58\u50a8\u5230\u534a\u8fde\u63a5\u961f\u5217\uff0c\u5e76\u5411\u5ba2\u6237\u7aef\u53d1  SYN + ACK </li> <li>\u5168\u8fde\u63a5\u961f\u5217\uff1a\u4e5f\u79f0 accept \u961f\u5217\uff0c\u670d\u52a1\u7aef\u6536\u5230\u7b2c\u4e09\u6b21\u63e1\u624b\u7684 ACK \u540e\uff0c \u5185\u6838\u4f1a\u628a\u8fde\u63a5\u4ece\u534a\u8fde\u63a5\u961f\u5217\u79fb\u9664\uff0c\u7136\u540e\u521b\u5efa\u65b0\u7684\u5b8c\u5168\u7684\u8fde\u63a5\uff0c\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u5168\u8fde\u63a5\u961f\u5217\uff0c\u7b49\u5f85\u8fdb\u7a0b\u8c03\u7528 accept \u51fd\u6570\u65f6\u628a\u8fde\u63a5\u53d6\u51fa\u6765</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#syn","title":"\u4ec0\u4e48\u662f SYN \u653b\u51fb\uff1f\u5982\u4f55\u907f\u514d\uff1f","text":""},{"location":"Computer%20Network/TCP%20%26%20UDP/#_6","title":"\u6982\u5ff5","text":"<p>SYN \u653b\u51fb \u662f\u6307\u5229\u7528\u5408\u7406\u7684\u670d\u52a1\u8bf7\u6c42\u6765\u5360\u7528\u8fc7\u591a\u7684\u670d\u52a1\u8d44\u6e90\u4ece\u800c\u4f7f\u5408\u6cd5\u7528\u6237\u65e0\u6cd5\u5f97\u5230\u670d\u52a1\u7684\u54cd\u5e94\u3002\u5982\u679c\u5411\u67d0\u4e2a\u670d\u52a1\u5668\u7aef\u53e3\u53d1\u9001\u5927\u91cf\u7684 SYN \u62a5\u6587\uff0c\u63a5\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u6765\u7684 SYN \u62a5\u6587\u4e4b\u540e\u670d\u52a1\u7aef\u5c31\u9700\u8981\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u5206\u914d\u4e00\u4e2a\u8fdb\u7a0b\u63a7\u5236\u5757 TCB \u5e76\u8fd4\u56de\u4e00\u4e2a SYN-ACK \u62a5\u6587\uff0c\u7acb\u5373 \u8f6c\u4e3a SYN_RECV \u534a\u5f00\u8fde\u63a5\u72b6\u6001\u3002\u6536\u4e0d\u5230\u5bf9\u7aef ACK \u56de\u590d\u7684\u670d\u52a1\u7aef\u8fd8\u4f1a\u91cd\u4f20 SYN-ACK \u62a5\u6587\uff0c\u7cfb\u7edf\u4f1a\u4e3a\u6b64\u8017\u5c3d\u8d44\u6e90</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_7","title":"\u907f\u514d\u65b9\u6cd5","text":"<ul> <li>Cache\uff1a\u7cfb\u7edf\u5728\u6536\u5230\u4e00\u4e2a SYN \u62a5\u6587\u65f6\uff0c\u5728\u4e00\u4e2a\u4e13\u7528 HASH \u8868\u4e2d\u4fdd\u5b58\u8fd9\u79cd\u534a\u8fde\u63a5\u4fe1\u606f\uff0c\u76f4\u5230\u6536\u5230\u6b63\u786e\u7684\u56de\u5e94 ACK \u62a5\u6587\u518d\u5206\u914d TCB\u3002\u8fd9\u4e2a\u5f00\u9500\u8fdc\u5c0f\u4e8e  TCB \u7684\u5f00\u9500</li> <li>Cookie\uff1a\u5229\u7528\u7b97\u6cd5\uff0c\u901a\u8fc7\u5bf9\u65b9\u7684 IP\u3001\u7aef\u53e3\u3001\u5df1\u65b9 IP\u3001\u7aef\u53e3\u7684\u56fa\u5b9a\u4fe1\u606f\uff0c\u4ee5\u53ca\u5bf9\u65b9\u65e0\u6cd5\u77e5\u9053\u800c\u5df1\u65b9\u6bd4\u8f83\u56fa\u5b9a\u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u5982 MSS(\u6700\u5927\u62a5\u6587\u6bb5\u5927\u5c0f)\u3001\u65f6\u95f4\u7b49\uff0c\u5728\u6536\u5230\u5bf9\u65b9\u7684 ACK \u62a5\u6587\u540e\uff0c\u91cd\u65b0\u8ba1\u7b97\u4e00\u904d\uff0c\u770b\u5176\u662f\u5426\u4e0e\u5bf9\u65b9\u56de\u5e94\u62a5\u6587\u4e2d\u7684 (Sequence Numbe r - 1) \u76f8\u540c\uff0c\u4ece\u800c\u51b3\u5b9a\u662f\u5426\u5206\u914d TCB \u8d44\u6e90</li> <li>Proxy \u9632\u706b\u5899\uff1a\u8bbe\u7acb\u4e2d\u95f4\u5c42\u9632\u706b\u5899\uff0c\u9632\u706b\u5899\u5728\u786e\u8ba4\u4e86\u8fde\u63a5\u7684\u6709\u6548\u6027\u540e\uff0c\u624d\u5411\u5185\u90e8\u7684\u670d\u52a1\u5668\u53d1\u8d77 SYN \u8bf7\u6c42\uff0c\u6240\u6709\u7684\u65e0\u6548\u8fde\u63a5\u5747\u65e0\u6cd5\u5230\u8fbe\u5185\u90e8\u7684\u670d\u52a1\u5668\u3002\u800c\u9632\u706b\u5899\u91c7\u7528\u7684\u9a8c\u8bc1\u8fde\u63a5\u6709\u6548\u6027\u7684\u65b9\u6cd5\u5219\u53ef\u4ee5\u662f Cookie \u6216 Cache \u7b49\u5176\u4ed6\u6280\u672f</li> <li>\u51cf\u5c11 SYN+ACK \u91cd\u4f20\u6b21\u6570\uff1a\u51cf\u5c11 SYN-ACK \u7684\u91cd\u4f20\u6b21\u6570\uff0c\u4ee5\u52a0\u5feb\u5904\u4e8e SYN_RECV \u72b6\u6001\u7684 TCP \u8fde\u63a5\u65ad\u5f00</li> <li>\u65e0\u6548\u8fde\u63a5\u76d1\u89c6\u91ca\u653e\uff1a\u4e0d\u505c\u76d1\u89c6\u7cfb\u7edf\u7684\u534a\u5f00\u8fde\u63a5\u548c\u4e0d\u6d3b\u52a8\u8fde\u63a5\uff0c\u5f53\u8fbe\u5230\u4e00\u5b9a\u9608\u503c\u65f6\u62c6\u9664\u8fd9\u4e9b\u8fde\u63a5\uff0c\u4ece\u800c\u91ca\u653e\u7cfb\u7edf\u8d44\u6e90\u3002\u8fd9\u79cd\u65b9\u6cd5\u5bf9\u4e8e\u6240\u6709\u7684\u8fde\u63a5\u4e00\u89c6\u540c\u4ec1\uff0c\u6b63\u5e38\u8fde\u63a5\u8bf7\u6c42\u4e5f\u4f1a\u88ab\u8fd9\u79cd\u65b9\u5f0f\u8bef\u91ca\u653e\u6389</li> <li>\u589e\u5927\u534a\u8fde\u63a5\u961f\u5217\uff1a\u4fee\u6539 TCP \u7684\u5185\u6838\u53c2\u6570\uff0c\u589e\u5927\u534a\u8fde\u63a5\u961f\u5217\u4ee5\u53ca\u5168\u8fde\u63a5\u961f\u5217\u5927\u5c0f</li> <li>\u8c03\u5927 netdev_max_backlog\uff1a\u5f53\u7f51\u5361\u63a5\u6536\u6570\u636e\u5305\u7684\u901f\u5ea6\u5927\u4e8e\u5185\u6838\u5904\u7406\u7684\u901f\u5ea6\u65f6\uff0c\u4f1a\u6709\u4e00\u4e2a\u961f\u5217\u4fdd\u5b58\u8fd9\u4e9b\u6570\u636e\u5305\uff0c\u53ef\u4ee5\u8c03\u5927\u961f\u5217\u5927\u5c0f</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#time_wait","title":"TIME_WAIT \u4f5c\u7528\uff0c\u8fc7\u591a\u5982\u4f55\u89e3\u51b3\uff1f","text":""},{"location":"Computer%20Network/TCP%20%26%20UDP/#_8","title":"\u4f5c\u7528","text":"<ul> <li>\u5b9e\u73b0\u5168\u53cc\u5de5\u7684\u53ef\u9760\u91ca\u653e\u8fde\u63a5\uff1a\u5047\u8bbe\u53d1\u8d77\u4e3b\u52a8\u5173\u95ed\u7684\u4e00\u65b9\u6700\u540e\u53d1\u9001\u7684 ACK \u5728\u7f51\u7edc\u4e2d\u4e22\u5931\uff0c\u7531\u4e8e TCP \u7684\u91cd\u4f20\u673a\u5236\uff0c\u88ab\u52a8\u5173\u95ed\u7684\u4e00\u65b9\u4f1a\u91cd\u65b0\u53d1\u9001 FIN \u62a5\u6587\uff0c\u5728 FIN \u5728\u88ab\u4e3b\u52a8\u5173\u95ed\u65b9\u63a5\u6536\u4e4b\u524d\uff0c\u4e3b\u52a8\u5173\u95ed\u65b9\u90fd\u9700\u8981\u7ef4\u62a4\u8fd9\u6761\u8fde\u63a5\u72b6\u6001\uff0c\u5305\u62ec\u5bf9\u5e94\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002\u5982\u679c\u53d1\u9001\u65b9\u4e0d\u7ef4\u62a4 TIME_WAIT \u72b6\u6001\uff0c\u90a3\u4e48\u5f53  FIN \u5230\u8fbe\u4e3b\u52a8\u5173\u95ed\u65b9\u7684\u65f6\u5019\uff0c\u4e3b\u52a8\u5173\u95ed\u65b9\u4f1a\u53d1\u9001 RST \u5305\u6765\u54cd\u5e94\uff0c\u88ab\u52a8\u5173\u95ed\u65b9\u5c31\u4f1a\u8ba4\u4e3a\u6709\u9519\u8bef\u53d1\u751f</li> <li>\u4e3a\u4f7f\u65e7\u7684\u6570\u636e\u5305\u5728\u7f51\u7edc\u56e0\u8fc7\u671f\u800c\u6d88\u5931\uff1a\u5982\u679c\u4e0d\u5b58\u5728  TIME_WAIT  \u72b6\u6001\uff0c\u5f53\u524d\u7684\u4e00\u4e2a TCP \u56db\u5143\u7ec4\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u5173\u95ed\u4e4b\u540e\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u65b0\u7684\u76f8\u540c\u7684\u56db\u5143\u7ec4\u5efa\u7acb\u4e86 TCP \u8fde\u63a5\uff0c\u56e0\u4e3a TCP \u8fde\u63a5\u662f\u7531\u56db\u5143\u7ec4\u552f\u4e00\u6807\u8bc6\u7684\uff0c\u6240\u4ee5\u6ca1\u6cd5\u533a\u5206\u65b0\u65e7\u8fde\u63a5\u3002\u65e7\u7684\u5df2\u7ecf\u5173\u95ed\u7684 TCP \u8fde\u63a5\u53d1\u9001\u7684\u6570\u636e\u5230\u8fbe\u63a5\u53d7\u65b9\u4e4b\u540e\uff0c\u4f1a\u88ab\u5f53\u4f5c\u6b63\u5e38\u6570\u636e\u800c\u5411\u4e0a\u4f20\u8f93\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u9519\u4e71\u3002\u6709\u4e86  TIME_WAIT  \u72b6\u6001\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u65e7 TCP \u4ea7\u751f\u7684\u6570\u636e\u5305\u5168\u90e8\u5728\u7f51\u7edc\u4e2d\u6d88\u4ea1</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_9","title":"\u5371\u5bb3","text":"<ul> <li>\u5360\u7528\u670d\u52a1\u5668\u7cfb\u7edf\u8d44\u6e90\uff0c\u6bd4\u5982\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u5185\u5b58\u8d44\u6e90\u3001CPU \u8d44\u6e90\u3001\u7ebf\u7a0b\u8d44\u6e90\u7b49</li> <li>\u5360\u7528\u5ba2\u6237\u7aef\u7aef\u53e3\u8d44\u6e90\uff0c\u7aef\u53e3\u8d44\u6e90\u4e5f\u662f\u6709\u9650\u7684\uff0c\u4e00\u822c\u53ef\u4ee5\u5f00\u542f\u7684\u7aef\u53e3\u4e3a 32768\uff5e61000\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7  net.ipv4.ip_local_port_rang  \u53c2\u6570\u6307\u5b9a\u8303\u56f4</li> </ul> <p>\u6ce8\u610f\uff1a\u670d\u52a1\u5668\u4e00\u822c\u53ea\u76d1\u542c\u4e00\u4e2a\u7aef\u53e3\uff0c\u7aef\u53e3\u8d44\u6e90\u4e0d\u4f1a\u5360\u7528\u8fc7\u591a</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_10","title":"\u907f\u514d\u65b9\u6cd5","text":"<ul> <li>\u4fee\u6539\u77ed\u8fde\u63a5\u4e3a\u957f\u8fde\u63a5</li> <li>\u6269\u5927\u53ef\u4f7f\u7528\u7aef\u53e3\u53f7\u7684\u8303\u56f4</li> <li>\u5ba2\u6237\u7aef\u673a\u5668\u6253\u5f00  tcp_tw_reuse  \u548c  tcp_timestamps \u9009\u9879\uff1atcp_tw_reuse  \u8c03\u7528 connect() \u51fd\u6570\u65f6\uff0c\u5185\u6838\u4f1a\u968f\u673a\u627e\u4e00\u4e2a time_wait \u72b6\u6001\u8d85\u8fc7 1 \u79d2\u7684\u8fde\u63a5\u7ed9\u65b0\u7684\u8fde\u63a5\u590d\u3002\u590d\u7528\u8fde\u63a5\u4e4b\u540e\u9700\u8981\u66f4\u65b0  timestamps  \u53c2\u6570\uff0c\u5f53\u65e7\u7684 TCP \u6570\u636e\u5305\u5230\u8fbe\u65f6\uff0c\u6839\u636e\u65f6\u95f4\u6233\u5224\u65ad\u662f\u65e7\u8fde\u63a5\u7684\u6570\u636e\u53ef\u4ee5\u820d\u5f03</li> <li>\u5ba2\u6237\u7aef\u673a\u5668\u6253\u5f00  tcp_tw_recycle  \u548c  tcp_timestamps  \u9009\u9879\uff1a\u5f53\u5f00\u542f\u4e4b\u540e\u5185\u6838\u4f1a\u5feb\u901f\u56de\u6536  TIME_WAIT  \u72b6\u6001\u7684\u8fde\u63a5\uff0c\u65f6\u95f4\u662f\u4e00\u4e2a RTO\uff0c\u8fdc\u5c0f\u4e8e\u4e24\u4e2a MSL \u3002\u5728\u542f\u7528\u8be5\u914d\u7f6e\uff0c\u5f53\u8fde\u63a5\u8fdb\u5165  TIME_WAIT  \u72b6\u6001\u540e\uff0c\u5185\u6838\u91cc\u4f1a\u8bb0\u5f55\u5305\u62ec\u8be5\u8fde\u63a5\u5bf9\u5e94\u4e94\u5143\u7ec4\u7684\u4e00\u4e9b\u7edf\u8ba1\u6570\u636e\uff0c\u5305\u62ec\u4ece\u8be5\u5bf9\u65b9 IP \u6240\u63a5\u6536\u5230\u7684\u6700\u8fd1\u7684\u4e00\u6b21\u6570\u636e\u5305\u65f6\u95f4\u3002\u5f53\u6709\u65b0\u7684\u6570\u636e\u5305\u5230\u8fbe\uff0c\u53ea\u8981\u65f6\u95f4\u665a\u4e8e\u5185\u6838\u8bb0\u5f55\u7684\u8fd9\u4e2a\u65f6\u95f4\uff0c\u6570\u636e\u5305\u90fd\u4f1a\u88ab\u7edf\u7edf\u7684\u4e22\u6389</li> <li>\u7f29\u5c0f  net.ipv4.tcp_max_tw_buckets\uff1a\u5f53\u7cfb\u7edf\u4e2d\u5904\u4e8e  TIME_WAIT  \u7684\u8fde\u63a5\u4e00\u65e6\u8d85\u8fc7\u8fd9\u4e2a\u503c\u65f6\uff0c\u7cfb\u7edf\u5c31\u4f1a\u5c06\u540e\u9762\u7684  TIME_WAIT  \u8fde\u63a5\u72b6\u6001\u91cd\u7f6e</li> <li>\u7a0b\u5e8f\u4e2d\u4f7f\u7528  SO_LINGER\uff1a\u8c03\u7528 close \u540e\uff0c\u4f1a\u7acb\u523b\u53d1\u9001\u4e00\u4e2a RST \u6807\u5fd7\u7ed9\u5bf9\u7aef\uff0c\u8be5 TCP \u8fde\u63a5\u5c06\u8df3\u8fc7\u56db\u6b21\u6325\u624b\uff0c\u4e5f\u5c31\u8df3\u8fc7\u4e86  TIME_WAIT  \u72b6\u6001\uff0c\u76f4\u63a5\u5173\u95ed</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#time_wait_1","title":"\u51fa\u73b0\u5927\u91cf TIME_WAIT \u72b6\u6001\u7684\u539f\u56e0\u6709\u54ea\u4e9b\uff1f","text":"<p>TIME_WAIT \u72b6\u6001\u662f \u4e3b\u52a8\u5173\u95ed\u8fde\u63a5\u65b9\u624d\u4f1a\u51fa\u73b0 \u7684\u72b6\u6001\uff0c\u6240\u4ee5\u5982\u679c\u670d\u52a1\u5668\u51fa\u73b0\u5927\u91cf\u7684 TIME_WAIT \u72b6\u6001\u7684 TCP \u8fde\u63a5\uff0c\u5c31\u662f\u8bf4\u660e\u670d\u52a1\u5668\u4e3b\u52a8\u65ad\u5f00\u4e86\u5f88\u591a TCP \u8fde\u63a5\u3002</p> <p>\u670d\u52a1\u5668\u4e3b\u52a8\u65ad\u5f00 TCP \u8fde\u63a5\u7684\u573a\u666f\u6709\uff1a</p> <ul> <li>HTTP \u6ca1\u6709\u4f7f\u7528\u957f\u8fde\u63a5\uff1a\u867d\u7136 RFC \u6587\u6863\u6ca1\u6709\u89c4\u5b9a\u77ed\u8fde\u63a5\u7684\u60c5\u51b5\u4e0b\u7531\u54ea\u4e00\u65b9\u5173\u95ed\u8fde\u63a5\uff0c\u4f46\u5927\u591a\u6570\u573a\u666f\u4e0b\u90fd\u662f\u7531\u670d\u52a1\u5668\u8d1f\u8d23\u5173\u95ed\u8fde\u63a5\u3002\u5f53\u5ba2\u6237\u7aef\u7981\u7528\u4e86 HTTP Keep-Alive \u65f6 HTTP \u8bf7\u6c42\u7684 header \u5c31\u4f1a\u6709 <code>Connection:close</code> \u4fe1\u606f\uff0c\u8fd9\u65f6\u670d\u52a1\u7aef\u5728\u53d1\u5b8c HTTP \u54cd\u5e94\u540e\uff0c\u5c31\u4f1a\u4e3b\u52a8\u5173\u95ed\u8fde\u63a5\u3002TCP Keep-Alive \u7684\u521d\u8877\u662f \u4e3a\u5ba2\u6237\u7aef\u540e\u7eed\u7684\u8bf7\u6c42\u91cd\u7528\u8fde\u63a5\uff0c\u5982\u679c\u6211\u4eec \u5728\u67d0\u6b21 HTTP \u8bf7\u6c42 - \u54cd\u5e94\u6a21\u578b\u4e2d\u8bf7\u6c42\u7684 header \u5b9a\u4e49\u4e86 <code>connection\uff1aclose</code> \u4fe1\u606f\uff0c\u90a3\u4e0d\u518d\u91cd\u7528\u8fd9\u4e2a\u8fde\u63a5\u7684\u65f6\u673a\u5c31\u53ea\u6709\u5728\u670d\u52a1\u7aef\uff0c\u6240\u4ee5\u5728 HTTP \u8bf7\u6c42 - \u54cd\u5e94\u8fd9\u4e2a\u5468\u671f\u7684\u300c\u672b\u7aef\u300d\u5173\u95ed\u8fde\u63a5\u662f\u5408\u7406\u7684</li> <li>HTTP \u957f\u8fde\u63a5\u8d85\u65f6\uff1a\u4e3a\u4e86\u907f\u514d\u8d44\u6e90\u6d6a\u8d39\u7684\u60c5\u51b5\uff0cweb \u670d\u52a1\u8f6f\u4ef6\u4e00\u822c\u90fd\u4f1a\u63d0\u4f9b\u4e00\u4e2a\u53c2\u6570\uff0c\u7528\u6765\u6307\u5b9a HTTP \u957f\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u6bd4\u5982 nginx \u63d0\u4f9b\u7684 keepalive_timeout \u53c2\u6570\u3002\u5047\u8bbe\u8bbe\u7f6e\u4e86 HTTP \u957f\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u662f 60 \u79d2\uff0cnginx \u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a\u300c\u5b9a\u65f6\u5668\u300d\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5728\u5b8c\u540e\u4e00\u4e2a HTTP \u8bf7\u6c42\u540e 60 \u79d2\u5185\u90fd\u6ca1\u6709\u518d\u53d1\u8d77\u65b0\u7684\u8bf7\u6c42\uff0c\u5b9a\u65f6\u5668\u7684\u65f6\u95f4\u4e00\u5230 nginx \u5c31\u4f1a\u89e6\u53d1\u56de\u8c03\u51fd\u6570\u6765\u5173\u95ed\u8be5\u8fde\u63a5\uff0c\u6b64\u65f6\u670d\u52a1\u7aef\u4e0a\u5c31\u4f1a\u51fa\u73b0 TIME_WAIT \u72b6\u6001\u7684\u8fde\u63a5</li> <li>HTTP \u957f\u8fde\u63a5\u7684\u8bf7\u6c42\u6570\u91cf\u8fbe\u5230\u4e0a\u9650\uff1a\u5bf9\u4e8e\u4e00\u4e9b QPS \u6bd4\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u5982\u679c keepalive_requests \u53c2\u6570\u503c\u8f83\u4f4e\uff0cnginx \u5c31\u4f1a\u9891\u7e41\u5730\u5173\u95ed\u8fde\u63a5\uff0c\u6b64\u65f6\u670d\u52a1\u7aef\u4e0a\u4f1a\u51fa\u73b0\u5927\u91cf\u7684 TIME_WAIT \u72b6\u6001</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#close_wait","title":"\u51fa\u73b0\u5927\u91cf CLOSE_WAIT \u72b6\u6001\u7684\u539f\u56e0\u6709\u54ea\u4e9b\uff1f","text":"<p>\u5f53\u670d\u52a1\u7aef\u51fa\u73b0\u5927\u91cf CLOSE_WAIT \u72b6\u6001\u7684\u8fde\u63a5\u65f6\u8bf4\u660e\u670d\u52a1\u7aef\u7684\u7a0b\u5e8f\u6ca1\u6709\u8c03\u7528 close \u51fd\u6570\u5173\u95ed\u8fde\u63a5\u3002\u5148\u5206\u6790\u4e00\u4e2a\u666e\u901a\u7684 TCP \u670d\u52a1\u7aef\u7684\u6d41\u7a0b\uff1a</p> <ol> <li>\u521b\u5efa\u670d\u52a1\u7aef socket\uff0cbind \u7ed1\u5b9a\u7aef\u53e3\u3001listen \u76d1\u542c\u7aef\u53e3</li> <li>\u5c06\u670d\u52a1\u7aef socket \u6ce8\u518c\u5230 epoll</li> <li>epoll_wait \u7b49\u5f85\u8fde\u63a5\u5230\u6765\uff0c\u8fde\u63a5\u5230\u6765\u65f6\uff0c\u8c03\u7528 accpet \u83b7\u53d6\u5df2\u8fde\u63a5\u7684 socket</li> <li>\u5c06\u5df2\u8fde\u63a5\u7684 socket \u6ce8\u518c\u5230 epoll</li> <li>epoll_wait \u7b49\u5f85\u4e8b\u4ef6\u53d1\u751f</li> <li>\u5bf9\u65b9\u8fde\u63a5\u5173\u95ed\u65f6\uff0c\u6211\u65b9\u8c03\u7528 close</li> </ol> <p>\u53ef\u80fd\u5bfc\u81f4\u670d\u52a1\u7aef\u6ca1\u6709\u8c03\u7528 close \u51fd\u6570\u7684\u539f\u56e0\u5982\u4e0b\uff1a</p> <ul> <li>\u7b2c\u4e00\u4e2a\u539f\u56e0\uff1a\u7b2c 2 \u6b65\u6ca1\u6709\u505a\uff0c\u6ca1\u6709\u5c06\u670d\u52a1\u7aef socket \u6ce8\u518c\u5230 epoll\u3002\u6709\u65b0\u8fde\u63a5\u5230\u6765\u65f6\u670d\u52a1\u7aef\u65e0\u6cd5\u611f\u77e5\u4e8b\u4ef6\uff0c\u4e5f\u5c31\u65e0\u6cd5\u83b7\u53d6\u5230\u5df2\u8fde\u63a5\u7684 socket\uff0c\u670d\u52a1\u7aef\u81ea\u7136\u6ca1\u673a\u4f1a\u5bf9 socket \u8c03\u7528 close \u51fd\u6570\u3002\u8fd9\u79cd\u539f\u56e0\u53d1\u751f\u7684\u6982\u7387\u6bd4\u8f83\u5c0f\uff0c\u5c5e\u4e8e\u660e\u663e\u7684\u4ee3\u7801\u903b\u8f91 bug\uff0c\u5728\u524d\u671f read view \u9636\u6bb5\u5c31\u80fd\u53d1\u73b0</li> <li>\u7b2c\u4e8c\u4e2a\u539f\u56e0\uff1a\u7b2c 3 \u6b65\u6ca1\u6709\u505a\uff0c\u6709\u65b0\u8fde\u63a5\u5230\u6765\u65f6\u6ca1\u6709\u8c03\u7528 accpet \u83b7\u53d6\u8be5\u8fde\u63a5\u7684 socket\uff0c\u5bfc\u81f4\u5f53\u6709\u5927\u91cf\u7684\u5ba2\u6237\u7aef\u4e3b\u52a8\u65ad\u5f00\u4e86\u8fde\u63a5\u800c\u670d\u52a1\u7aef\u6ca1\u673a\u4f1a\u5bf9\u8fd9\u4e9b socket \u8c03\u7528 close \u51fd\u6570\uff0c\u4ece\u800c\u5bfc\u81f4\u670d\u52a1\u7aef\u51fa\u73b0\u5927\u91cf CLOSE_WAIT \u72b6\u6001\u7684\u8fde\u63a5\u3002\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u53ef\u80fd\u662f\u56e0\u4e3a\u670d\u52a1\u7aef\u5728\u6267\u884c accpet  \u51fd\u6570\u4e4b\u524d\u4ee3\u7801\u5361\u5728\u67d0\u4e00\u4e2a\u903b\u8f91\u6216\u8005\u63d0\u524d\u629b\u51fa\u4e86\u5f02\u5e38</li> <li>\u7b2c\u4e09\u4e2a\u539f\u56e0\uff1a\u7b2c 4 \u6b65\u6ca1\u6709\u505a\uff0c\u901a\u8fc7 accpet \u83b7\u53d6\u5df2\u8fde\u63a5\u7684 socket \u540e\u6ca1\u6709\u5c06\u5176\u6ce8\u518c\u5230 epoll\uff0c\u5bfc\u81f4\u540e\u7eed\u6536\u5230 FIN \u62a5\u6587\u65f6\u670d\u52a1\u7aef\u65e0\u6cd5\u611f\u77e5\u4e8b\u4ef6\uff0c\u670d\u52a1\u7aef\u6ca1\u673a\u4f1a\u8c03\u7528 close \u51fd\u6570\u3002\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u53ef\u80fd\u662f\u56e0\u4e3a\u670d\u52a1\u7aef\u5728\u5c06\u5df2\u8fde\u63a5\u7684 socket \u6ce8\u518c\u5230 epoll \u4e4b\u524d\uff0c\u4ee3\u7801\u5361\u5728\u67d0\u4e00\u4e2a\u903b\u8f91\u6216\u8005\u63d0\u524d\u629b\u51fa\u4e86\u5f02\u5e38</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp_tw_reuse","title":"tcp_tw_reuse \u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff1f","text":"<ul> <li>\u5386\u53f2 RST \u62a5\u6587\u53ef\u80fd\u4f1a\u7ec8\u6b62\u540e\u9762\u76f8\u540c\u56db\u5143\u7ec4\u7684\u8fde\u63a5\uff0c\u56e0\u4e3a PAWS \u68c0\u67e5\u5230\u5373\u4f7f RST \u662f\u8fc7\u671f\u7684\uff0c\u4e5f\u4e0d\u4f1a\u4e22\u5f03</li> <li>\u5982\u679c\u7b2c\u56db\u6b21\u6325\u624b\u7684 ACK \u62a5\u6587\u4e22\u5931\u4e86\uff0c\u6709\u53ef\u80fd\u88ab\u52a8\u5173\u95ed\u8fde\u63a5\u7684\u4e00\u65b9\u4e0d\u80fd\u88ab\u6b63\u5e38\u7684\u5173\u95ed</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#paws","title":"PAWS \u7684\u4fdd\u62a4\u673a\u5236","text":"<ul> <li>\u5e8f\u5217\u53f7\u56de\u7ed5\uff1a\u200b\u5f53\u5e8f\u5217\u53f7\u5728\u9ad8\u6570\u636e\u4f20\u8f93\u901f\u7387\u4e0b\u56de\u7ed5\u65f6\uff0c\u65e7\u7684\u6570\u636e\u5305\u53ef\u80fd\u88ab\u8bef\u8ba4\u4e3a\u65b0\u7684\u3002PAWS \u901a\u8fc7\u65f6\u95f4\u6233\u673a\u5236\uff0c\u786e\u4fdd\u53ea\u6709\u65f6\u95f4\u4e0a\u66f4\u65b0\u7684\u6570\u636e\u5305\u88ab\u63a5\u53d7</li> <li>\u8fde\u63a5\u91cd\u542f\u540e\u7684\u65e7\u6570\u636e\u5305\uff1a\u200b\u5728\u8fde\u63a5\u5173\u95ed\u540e\uff0c\u82e5\u540c\u4e00\u5bf9\u7aef\u53e3\u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\uff0c\u4e4b\u524d\u7684\u65e7\u6570\u636e\u5305\u53ef\u80fd\u4f1a\u88ab\u8bef\u8ba4\u4e3a\u65b0\u7684\u3002PAWS \u901a\u8fc7\u65f6\u95f4\u6233\u673a\u5236\uff0c\u786e\u4fdd\u53ea\u6709\u5728\u5f53\u524d\u8fde\u63a5\u4e2d\u63a5\u6536\u5230\u7684\u6700\u65b0\u6570\u636e\u5305\u88ab\u63a5\u53d7</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_11","title":"\u6f5c\u5728\u95ee\u9898\uff1a","text":"<ul> <li>NAT(\u7f51\u7edc\u5730\u5740\u8f6c\u6362)\u8bbe\u5907\u7684\u65f6\u95f4\u6233\u95ee\u9898\uff1a\u200b\u67d0\u4e9b NAT \u8bbe\u5907\u53ef\u80fd\u4f1a\u4fee\u6539 TCP \u6570\u636e\u5305\u4e2d\u7684\u65f6\u95f4\u6233\uff0c\u5bfc\u81f4 PAWS \u673a\u5236\u9519\u8bef\u5730\u4e22\u5f03\u5408\u6cd5\u7684\u6570\u636e\u5305</li> <li>\u65f6\u95f4\u6233\u540c\u6b65\u95ee\u9898\uff1a\u200b\u5982\u679c\u8fde\u63a5\u53cc\u65b9\u7684\u7cfb\u7edf\u65f6\u95f4\u4e0d\u540c\u6b65\uff0c\u53ef\u80fd\u5bfc\u81f4 PAWS \u673a\u5236\u8bef\u5224\u6570\u636e\u5305\u7684\u6709\u6548\u6027</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#time_wait-2msl","title":"TIME_WAIT \u72b6\u6001\u4e3a\u4ec0\u4e48\u9700\u8981\u7ecf\u8fc7 2MSL","text":"<p>\u56e0\u4e3a\u5ba2\u6237\u7aef\u6700\u540e\u4e00\u4e2a\u53d1\u9001\u7684 ACK \u6709\u53ef\u80fd\u4e22\u5931\u3002\u5047\u5982\u670d\u52a1\u5668\u6ca1\u6709\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u6700\u540e\u4e00\u4e2a ACK\uff0c\u5c31\u4f1a\u91cd\u65b0\u53d1\u9001 FIN \u62a5\u6587\uff0c\u4e3a\u4e86\u786e\u4fdd\u670d\u52a1\u5668\u6536\u5230\u4e86 FIN \u62a5\u6587\uff0c\u5ba2\u6237\u7aef\u5728  TIME_WAIT  \u72b6\u6001\u9700\u8981\u7ecf\u8fc7 2MSL\uff0c\u5728\u8fd9\u4e2a\u671f\u95f4\u5ba2\u6237\u7aef\u6536\u5230\u91cd\u53d1\u7684 FIN \u62a5\u6587\u5c31\u4f1a\u91cd\u65b0\u53d1\u9001 ACK \u5e76\u4e14\u91cd\u8bbe\u8ba1\u65f6\u5668\u3002MSL \u6307\u4e00\u4e2a\u7247\u6bb5\u5728\u7f51\u7edc\u4e2d\u6700\u5927\u7684\u5b58\u6d3b\u65f6\u95f4\uff0c2MSL \u5c31\u662f\u4e00\u4e2a\u53d1\u9001\u548c\u4e00\u4e2a\u56de\u590d\u6240\u9700\u7684\u6700\u5927\u65f6\u95f4\u3002\u7b2c\u4e00\u4e2a MSL \u662f\u4fdd\u8bc1\u6700\u540e\u4e00\u6b21\u6325\u624b\u5ba2\u6237\u7aef\u54cd\u5e94\u670d\u52a1\u7aef\u7684 ACK \u5230\u8fbe\u4e86\u670d\u52a1\u7aef\u3002\u7b2c\u4e8c\u4e2a MSL \u662f\u4fdd\u8bc1\u670d\u52a1\u7aef\u6ca1\u6709\u91cd\u53d1\u65b0\u7684\u62a5\u6587\u7ed9\u5ba2\u6237\u7aef\uff0c\u6ca1\u6709\u8d85\u65f6\u91cd\u4f20\u3002</p> <p>\u5982\u679c\u5ba2\u6237\u7aef\u76f4\u63a5\u5173\u95ed\uff0c\u7136\u540e\u5411\u670d\u52a1\u5668\u5efa\u7acb\u65b0\u8fde\u63a5\uff0c\u800c\u65b0\u8fde\u63a5\u548c\u8001\u8fde\u63a5\u7684\u7aef\u53e3\u662f\u4e00\u6837\u7684\uff0c\u5047\u8bbe\u8001\u8fde\u63a5\u8fd8\u6709\u4e00\u4e9b\u6570\u636e\uff0c\u56e0\u4e3a\u7f51\u7edc\u6216\u8005\u5176\u4ed6\u539f\u56e0\uff0c\u4e00\u76f4\u6ede\u7559\u6ca1\u6709\u53d1\u9001\u6210\u529f\uff0c\u65b0\u8fde\u63a5\u5efa\u7acb\u540e\uff0c\u5c31\u76f4\u63a5\u53d1\u9001\u5230\u65b0\u8fde\u63a5\u91cc\u9762\u53bb\u4e86\uff0c\u9020\u6210\u6570\u636e\u7684\u7d0a\u4e71\u3002\u56e0\u6b64\uff0c\u9700\u8981\u7b49\u5230 2MSL\uff0c\u8ba9\u6ede\u7559\u5728\u7f51\u7edc\u4e2d\u7684\u62a5\u6587\u5931\u6548\uff0c\u518d\u53bb\u5efa\u7acb\u65b0\u7684\u8fde\u63a5\u3002</p> <p>2MSL \u7684\u65f6\u95f4\u662f\u4ece\u5ba2\u6237\u7aef\u63a5\u6536\u5230 FIN \u540e\u53d1\u9001 ACK \u5f00\u59cb\u8ba1\u65f6\u7684\u3002\u5982\u679c\u5728 TIME-WAIT \u65f6\u95f4\u5185\uff0c\u56e0\u4e3a\u5ba2\u6237\u7aef\u7684 ACK \u6ca1\u6709\u4f20\u8f93\u5230\u670d\u52a1\u7aef\uff0c\u5ba2\u6237\u7aef\u53c8\u63a5\u6536\u5230\u4e86\u670d\u52a1\u7aef\u91cd\u53d1\u7684 FIN \u62a5\u6587\uff0c\u90a3\u4e48 2MSL \u65f6\u95f4\u5c06\u91cd\u65b0\u8ba1\u65f6\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#close_wait_1","title":"CLOSE_WAIT \u72b6\u6001\u8fc7\u591a\u5982\u4f55\u89e3\u51b3\uff1f","text":"<p>\u5982\u679c\u4e00\u76f4\u4fdd\u6301\u5728  CLOSE_WAIT  \u72b6\u6001\uff0c\u539f\u56e0\u662f\u5728\u5bf9\u65b9\u5173\u95ed\u8fde\u63a5\u4e4b\u540e\u670d\u52a1\u5668\u7a0b\u5e8f\u81ea\u5df1\u6ca1\u6709\u8fdb\u4e00\u6b65\u53d1\u51fa ACK \u4fe1\u53f7\u3002</p> <p>CLOSE_WAIT  \u7684\u89e3\u51b3\u529e\u6cd5\u662f\uff1a\u67e5\u4ee3\u7801\u3002\u56e0\u4e3a\u95ee\u9898\u51fa\u5728\u670d\u52a1\u5668\u7a0b\u5e8f</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp-udp_1","title":"TCP \u548c UDP \u7684\u533a\u522b\uff1f","text":"<ul> <li>TCP \u662f\u9762\u5411\u8fde\u63a5\u7684\u3002\u5728\u901a\u4fe1\u4e4b\u524d\u9700\u8981\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0c\u901a\u4fe1\u4e4b\u540e\u65ad\u5f00\u8fde\u63a5\u65f6\u9700\u8981\u56db\u6b21\u6325\u624b\uff1bUDP \u4e0d\u9700\u8981\u8fdb\u884c\u8fde\u63a5\u5efa\u7acb</li> <li>TCP \u662f\u53ef\u9760\u4f20\u8f93\u670d\u52a1\u3002\u901a\u8fc7 TCP \u4f20\u8f93\u6570\u636e\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u65e0\u5dee\u9519\u3001\u4e0d\u4e22\u5931\u3001\u4e0d\u91cd\u590d\uff1bUDP \u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u4e0d\u4fdd\u8bc1\u53ef\u9760\u4ea4\u4ed8</li> <li>\u6bcf\u4e2a TCP \u5bf9\u5e94\u7684\u662f\u70b9\u5bf9\u70b9\u7684\u8fde\u63a5\uff1b UDP \u652f\u6301\u4e00\u5bf9\u4e00\u3001\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u4e00\u3001\u591a\u5bf9\u591a\u7b49\u591a\u79cd\u65b9\u5f0f\u7684\u901a\u8baf </li> <li>UDP \u5bf9\u7cfb\u7edf\u8d44\u6e90\u8981\u6c42\u8f83\u5c11\uff0c\u901a\u8baf\u6548\u7387\u9ad8\uff0c\u5b9e\u65f6\u6027\u597d\uff0c\u5e94\u7528\u4e8e\u9ad8\u901f\u4f20\u8f93\u5e76\u4e14\u5bf9\u5b9e\u65f6\u6027\u6709\u8981\u6c42\u7684\u901a\u4fe1\uff1b TCP \u9002\u5408\u9700\u8981\u53ef\u9760\u8fde\u63a5\uff0c\u6bd4\u5982\u4ed8\u8d39\u3001\u52a0\u5bc6\u6570\u636e\u7b49\u7b49\u65b9\u5411\u90fd\u9700\u8981\u4f9d\u9760 TCP</li> <li>TCP \u9996\u90e8\u957f\u5ea6\u8f83\u957f\uff0c\u4f1a\u6709\u4e00\u5b9a\u7684\u5f00\u9500\uff0c\u9996\u90e8\u5728\u6ca1\u6709\u4f7f\u7528\u300c\u9009\u9879\u300d\u5b57\u6bb5\u65f6\u662f 20 \u4e2a\u5b57\u8282\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u300c\u9009\u9879\u300d\u5b57\u6bb5\u5219\u4f1a\u53d8\u957f\u7684\uff1b UDP \u9996\u90e8\u53ea\u6709 8 \u4e2a\u5b57\u8282\uff0c\u5e76\u4e14\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684</li> <li>TCP \u662f\u6d41\u5f0f\u4f20\u8f93\uff0c\u6ca1\u6709\u8fb9\u754c\uff0c\u4f46\u4fdd\u8bc1\u987a\u5e8f\u548c\u53ef\u9760\u3002 UDP \u662f\u4e00\u4e2a\u5305\u4e00\u4e2a\u5305\u7684\u53d1\u9001\uff0c\u662f\u6709\u8fb9\u754c\u7684\uff0c\u53ef\u80fd\u4f1a\u4e22\u5305\u548c\u4e71\u5e8f</li> <li>TCP \u7684\u6570\u636e\u5927\u5c0f\u5982\u679c\u5927\u4e8e MSS \u5927\u5c0f\uff0c\u5219\u4f1a\u5728\u4f20\u8f93\u5c42\u8fdb\u884c\u5206\u7247\uff0c\u76ee\u6807\u4e3b\u673a\u6536\u5230\u540e\uff0c\u4e5f\u540c\u6837\u5728\u4f20\u8f93\u5c42\u7ec4\u88c5 TCP \u6570\u636e\u5305\uff0c\u5982\u679c\u4e2d\u9014\u4e22\u5931\u4e86\u4e00\u4e2a\u5206\u7247\uff0c\u53ea\u9700\u8981\u4f20\u8f93\u4e22\u5931\u7684\u8fd9\u4e2a\u5206\u7247\u3002 UDP \u7684\u6570\u636e\u5927\u5c0f\u5982\u679c\u5927\u4e8e MTU \u5927\u5c0f\uff0c\u5219\u4f1a\u5728 IP \u5c42\u8fdb\u884c\u5206\u7247\uff0c\u76ee\u6807\u4e3b\u673a\u6536\u5230\u540e\uff0c\u5728 IP \u5c42\u7ec4\u88c5\u5b8c\u6570\u636e\uff0c\u63a5\u7740\u518d\u4f20\u7ed9\u4f20\u8f93\u5c42</li> <li>\u5e94\u7528\u573a\u666f\uff1aTCP \u7528\u4e8e FTP \u6587\u4ef6\u4f20\u8f93\u3001HTTP / HTTPs\uff1bUDP \u7528\u4e8e\u5305\u603b\u91cf\u8f83\u5c11\u7684\u901a\u4fe1\uff0c\u5982 DNS\u3001SNMP \u7b49\u3001\u89c6\u9891\u3001\u97f3\u9891\u7b49\u591a\u5a92\u4f53\u901a\u4fe1\u3001\u5e7f\u64ad\u901a\u4fe1</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#udp","title":"UDP \u7684\u5934\u90e8\u7ed3\u6784","text":"<ul> <li>\u76ee\u6807\u548c\u6e90\u7aef\u53e3\uff1a\u4e3b\u8981\u662f\u544a\u8bc9 UDP \u534f\u8bae\u5e94\u8be5\u628a\u62a5\u6587\u53d1\u7ed9\u54ea\u4e2a\u8fdb\u7a0b</li> <li>\u957f\u5ea6\uff1a\u8be5\u5b57\u6bb5\u4fdd\u5b58\u4e86 UDP \u9996\u90e8\u7684\u957f\u5ea6\u8ddf\u6570\u636e\u7684\u957f\u5ea6\u4e4b\u548c</li> <li>\u68c0\u9a8c\u548c\uff1a\u6821\u9a8c\u548c\u662f\u4e3a\u4e86\u63d0\u4f9b\u53ef\u9760\u7684 UDP \u9996\u90e8\u548c\u6570\u636e\u800c\u8bbe\u8ba1\uff0c\u9632\u6b62\u6536\u5230\u5728\u7f51\u7edc\u4f20\u8f93\u4e2d\u53d7\u635f\u7684 UDP \u5305</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp-udp_2","title":"TCP \u548c UDP \u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u4e2a\u7aef\u53e3\u5417\uff1f","text":"<p>\u53ef\u4ee5</p> <p>\u5728\u6570\u636e\u94fe\u8def\u5c42\u4e2d\uff0c\u901a\u8fc7 MAC \u5730\u5740\u6765\u5bfb\u627e\u5c40\u57df\u7f51\u4e2d\u7684\u4e3b\u673a\u3002\u5728\u7f51\u9645\u5c42\u4e2d\uff0c\u901a\u8fc7 IP \u5730\u5740\u6765\u5bfb\u627e\u7f51\u7edc\u4e2d\u4e92\u8fde\u7684\u4e3b\u673a\u6216\u8def\u7531\u5668\u3002\u5728\u4f20\u8f93\u5c42\u4e2d\uff0c\u9700\u8981\u901a\u8fc7\u7aef\u53e3\u8fdb\u884c\u5bfb\u5740\uff0c\u6765\u8bc6\u522b\u540c\u4e00\u8ba1\u7b97\u673a\u4e2d\u540c\u65f6\u901a\u4fe1\u7684\u4e0d\u540c\u5e94\u7528\u7a0b\u5e8f\u3002\u6240\u4ee5\uff0c\u4f20\u8f93\u5c42\u7684\u300c\u7aef\u53e3\u53f7\u300d\u7684\u4f5c\u7528\uff0c\u662f\u4e3a\u4e86\u533a\u5206\u540c\u4e00\u4e2a\u4e3b\u673a\u4e0a\u4e0d\u540c\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u5305\u3002</p> <p>\u4f20\u8f93\u5c42\u7684\u4e24\u4e2a\u4f20\u8f93\u534f\u8bae\u5206\u522b\u662f TCP \u548c UDP\uff0c\u5728\u5185\u6838\u4e2d\u662f\u4e24\u4e2a\u5b8c\u5168\u72ec\u7acb\u7684\u8f6f\u4ef6\u6a21\u5757\u3002\u5f53\u4e3b\u673a\u6536\u5230\u6570\u636e\u5305\u540e\uff0c\u53ef\u4ee5\u5728 IP \u5305\u5934\u7684\u300c\u534f\u8bae\u53f7\u300d\u5b57\u6bb5\u77e5\u9053\u8be5\u6570\u636e\u5305\u662f TCP/UDP\uff0c\u6240\u4ee5\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u4fe1\u606f\u786e\u5b9a\u9001\u7ed9\u54ea\u4e2a\u6a21\u5757(TCP/UDP)\u5904\u7406\uff0c\u9001\u7ed9 TCP/UDP \u6a21\u5757\u7684\u62a5\u6587\u6839\u636e\u300c\u7aef\u53e3\u53f7\u300d\u786e\u5b9a\u9001\u7ed9\u54ea\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5904\u7406\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_12","title":"\u7c98\u5305\u548c\u62c6\u5305\u95ee\u9898\u7684\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Computer%20Network/TCP%20%26%20UDP/#_13","title":"\u6982\u5ff5","text":"<ul> <li>TCP \u7684\u7279\u70b9\u4e4b\u4e00\u5c31\u662f\u9762\u5411\u5b57\u8282\u6d41\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f20\u8f93\u65f6\u5019\u6570\u636e\u50cf\u201c\u6c34\u6d41\u4e00\u6837\u201d\uff0c\u662f\u6ca1\u6709\u8fb9\u754c\u7684\uff0c\u56e0\u6b64 \u62c6\u5305\u8fd9\u4e2a\u529f\u80fd\u672c\u8eab\u5c31\u4e0d\u5728 TCP \u6765\u5b8c\u6210 </li> <li>\u6240\u8c13\u7684\u7c98\u5305\u62c6\u5305\u5c31\u662f TCP \u6d41\u7684\u7279\u6027\u5bfc\u81f4\u7684\uff0c\u800c\u4e14\u6839\u672c\u4e0d\u80fd\u8bf4\u662f\u95ee\u9898\uff0c\u62c6\u5305\u672c\u8eab\u5c31\u5e94\u8be5\u5728\u5e94\u7528\u5c42\u6765\u5b8c\u6210</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#_14","title":"\u89e3\u51b3\u529e\u6cd5","text":"<ul> <li>\u9047\u5230\u8fd9\u4e2a\u9762\u8bd5\u9898\uff0c\u4f5c\u8005\u4e2a\u4eba\u8ba4\u4e3a\u662f\u9762\u8bd5\u5b98\u57fa\u7840\u4e0d\u624e\u5b9e\u624d\u4f1a\u95ee\u51fa\u6765\uff0c\u5c31\u76f4\u63a5\u603c\u5b83</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp-keepalive-http-keepalive","title":"TCP \u7684 keepalive \u548c HTTP \u7684 keepalive \u7684\u533a\u522b\uff1f","text":"<ul> <li>HTTP \u7684 Keep-Alive \u662f\u7531\u5e94\u7528\u5c42(\u7528\u6237\u6001)\u5b9e\u73b0\u7684\uff0c\u79f0\u4e3a HTTP \u957f\u8fde\u63a5\uff1b TCP \u7684 Keepalive\uff0c\u662f\u7531 TCP \u5c42(\u5185\u6838\u6001)\u5b9e\u73b0\u7684\uff0c\u79f0\u4e3a TCP \u4fdd\u6d3b\u673a\u5236</li> <li>HTTP Keep-Alive \u662f\u6307\u4f7f\u7528\u540c\u4e00\u4e2a TCP \u8fde\u63a5\u6765\u53d1\u9001\u548c\u63a5\u6536\u591a\u4e2a HTTP \u8bf7\u6c42/\u5e94\u7b54\uff0c\u597d\u5904\u662f\u907f\u514d\u4e86\u8fde\u63a5\u5efa\u7acb\u548c\u91ca\u653e\u7684\u5f00\u9500\uff0c\u53ea\u8981\u4efb\u610f\u4e00\u7aef\u6ca1\u6709\u660e\u786e\u63d0\u51fa\u65ad\u5f00\u8fde\u63a5\uff0c\u5c31\u4fdd\u6301 TCP \u8fde\u63a5\u72b6\u6001\uff1b TCP Keepalive \u662f\u6307\u5efa\u7acb TCP \u8fde\u63a5\u7684\u4e24\u7aef\u4e00\u76f4\u6ca1\u6709\u6570\u636e\u4ea4\u4e92\u8fbe\u5230\u89e6\u53d1 TCP \u4fdd\u6d3b\u673a\u5236\u7684\u6761\u4ef6\uff0c\u5185\u6838\u91cc\u7684 TCP \u534f\u8bae\u6808\u5c31\u4f1a\u53d1\u9001\u63a2\u6d4b\u62a5\u6587\uff0c\u5982\u679c\u5bf9\u7aef\u7a0b\u5e8f\u6b63\u5e38\u5de5\u4f5c\uff0c\u6536\u5230\u63a2\u6d4b\u62a5\u6587\u4e4b\u540e\u5c31\u4f1a\u56de\u590d\u54cd\u5e94\uff0c\u540c\u65f6\u4fdd\u6d3b\u65f6\u95f4\u91cd\u7f6e\uff0c\u5982\u679c\u5bf9\u7aef\u4e3b\u673a\u5d29\u6e83\u6ca1\u6709\u54cd\u5e94\u6216\u8005\u7f51\u7edc\u539f\u56e0\u62a5\u6587\u4e0d\u53ef\u8fbe\uff0c\u8fde\u7eed\u51e0\u6b21\u63a2\u6d4b\u62a5\u6587\u4e4b\u540e TCP \u4f1a\u62a5\u544a\u8be5 TCP \u8fde\u63a5\u5df2\u7ecf\u6b7b\u4ea1 </li> <li>web \u670d\u52a1\u8f6f\u4ef6\u4e00\u822c\u90fd\u4f1a\u63d0\u4f9b keepalive_timeout \u53c2\u6570\u6765\u6307\u5b9a HTTP \u957f\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\uff1a\u4f8b\u5982\u8bbe\u7f6e\u4e86 HTTP \u957f\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\u662f 60 \u79d2\uff0cweb \u670d\u52a1\u8f6f\u4ef6\u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5728\u5b8c\u6210\u4e00\u4e2a HTTP \u8bf7\u6c42\u540e\uff0c\u5728 60 \u79d2\u5185\u90fd\u6ca1\u6709\u518d\u53d1\u8d77\u65b0\u7684\u8bf7\u6c42\uff0c\u5b9a\u65f6\u5668\u7684\u65f6\u95f4\u4e00\u5230\uff0c\u5c31\u4f1a\u89e6\u53d1\u56de\u8c03\u51fd\u6570\u6765\u91ca\u653e\u8be5\u8fde\u63a5</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#ip-tcp-mss","title":"IP \u5c42\u4f1a\u5206\u7247\uff0c\u4e3a\u4ec0\u4e48 TCP \u5c42\u8fd8\u9700\u8981 MSS \u5462\uff1f","text":"<ul> <li>MTU\uff1a\u4e00\u4e2a\u7f51\u7edc\u5305\u7684\u6700\u5927\u957f\u5ea6\uff0c\u4ee5\u592a\u7f51\u4e2d\u4e00\u822c\u4e3a 1500 \u5b57\u8282</li> <li>MSS\uff1a\u9664\u53bb IP \u548c TCP \u5934\u90e8\u4e4b\u540e\uff0c\u4e00\u4e2a\u7f51\u7edc\u5305\u6240\u80fd\u5bb9\u7eb3\u7684 TCP \u6570\u636e\u7684\u6700\u5927\u957f\u5ea6</li> </ul> <p>\u5982\u679c\u4ea4\u7ed9 IP \u6765\u8fdb\u884c\u5206\u7247\uff0c\u4e00\u4e2a IP \u5206\u7247\u4e22\u5931\uff0c\u6574\u4e2a IP \u62a5\u6587\u7684\u6240\u6709\u5206\u7247\u90fd\u5f97\u91cd\u4f20\u3002\u56e0\u4e3a IP \u5c42\u672c\u8eab\u6ca1\u6709\u8d85\u65f6\u91cd\u4f20\u673a\u5236\uff0c\u5b83\u7531\u4f20\u8f93\u5c42\u7684 TCP \u6765\u8d1f\u8d23\u8d85\u65f6\u548c\u91cd\u4f20\u3002\u5f53\u67d0\u4e00\u4e2a IP \u5206\u7247\u4e22\u5931\u540e\uff0c\u63a5\u6536\u65b9\u7684 IP \u5c42\u5c31\u65e0\u6cd5\u7ec4\u88c5\u6210\u4e00\u4e2a\u5b8c\u6574\u7684 TCP \u62a5\u6587(\u5934\u90e8 + \u6570\u636e)\uff0c\u4e5f\u5c31\u65e0\u6cd5\u5c06\u6570\u636e\u62a5\u6587\u9001\u5230 TCP \u5c42\uff0c\u6240\u4ee5\u63a5\u6536\u65b9\u4e0d\u4f1a\u54cd\u5e94 ACK \u7ed9\u53d1\u9001\u65b9\uff0c\u56e0\u4e3a\u53d1\u9001\u65b9\u8fdf\u8fdf\u6536\u4e0d\u5230 ACK \u786e\u8ba4\u62a5\u6587\uff0c\u6240\u4ee5\u4f1a\u89e6\u53d1\u8d85\u65f6\u91cd\u4f20\uff0c\u5c31\u4f1a\u91cd\u53d1\u6574\u4e2a TCP \u62a5\u6587(\u5934\u90e8 + \u6570\u636e)\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#tcp-socket","title":"\u9488\u5bf9 TCP \u5e94\u8be5\u5982\u4f55 Socket \u7f16\u7a0b\uff1f","text":"<ul> <li>\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u521d\u59cb\u5316 <code>socket</code>\uff0c\u5f97\u5230\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>\u670d\u52a1\u7aef\u8c03\u7528 <code>bind</code>\uff0c\u5c06 socket \u7ed1\u5b9a\u5728\u6307\u5b9a\u7684 IP \u5730\u5740\u548c\u7aef\u53e3</li> <li>\u670d\u52a1\u7aef\u8c03\u7528 <code>listen</code>\uff0c\u8fdb\u884c\u76d1\u542c</li> <li>\u670d\u52a1\u7aef\u8c03\u7528 <code>accept</code>\uff0c\u7b49\u5f85\u5ba2\u6237\u7aef\u8fde\u63a5</li> <li>\u5ba2\u6237\u7aef\u8c03\u7528 <code>connect</code>\uff0c\u5411\u670d\u52a1\u7aef\u7684\u5730\u5740\u548c\u7aef\u53e3\u53d1\u8d77\u8fde\u63a5\u8bf7\u6c42</li> <li>\u670d\u52a1\u7aef <code>accept</code> \u8fd4\u56de\u7528\u4e8e\u4f20\u8f93\u7684 <code>socket</code> \u7684\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>\u5ba2\u6237\u7aef\u8c03\u7528 <code>write</code> \u5199\u5165\u6570\u636e\uff1b\u670d\u52a1\u7aef\u8c03\u7528 <code>read</code> \u8bfb\u53d6\u6570\u636e</li> <li>\u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\u65f6\uff0c\u4f1a\u8c03\u7528 <code>close</code>\uff0c\u90a3\u4e48\u670d\u52a1\u7aef <code>read</code> \u8bfb\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u8bfb\u53d6\u5230\u4e86 <code>EOF</code>\uff0c\u5f85\u5904\u7406\u5b8c\u6570\u636e\u540e\uff0c\u670d\u52a1\u7aef\u8c03\u7528 <code>close</code>\uff0c\u8868\u793a\u8fde\u63a5\u5173\u95ed</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#listen-backlog","title":"listen \u65f6\u5019\u53c2\u6570 backlog \u7684\u610f\u4e49\uff1f","text":"<p><code>listen()</code> \u51fd\u6570\u662f\u7f51\u7edc\u7f16\u7a0b\u4e2d\u7528\u6765\u4f7f\u670d\u52a1\u5668\u7aef\u5f00\u59cb\u76d1\u542c\u7aef\u53e3\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u5176\u5b9a\u4e49\u4e3a\uff1a</p> C<pre><code>int listen(int socket, int backlog)\n</code></pre> <p>\u5f53\u4e00\u4e2a\u5e94\u7528\u4f7f\u7528 <code>listen</code> \u7cfb\u7edf\u8c03\u7528\u8ba9 <code>socket</code> \u8fdb\u5165 <code>LISTEN</code> \u72b6\u6001\u65f6\uff0c\u5b83\u9700\u8981\u4e3a\u8be5\u5957\u63a5\u5b57\u6307\u5b9a\u4e00\u4e2a <code>backlog</code>\u3002<code>backlog</code> \u901a\u5e38\u88ab\u63cf\u8ff0\u4e3a\u8fde\u63a5\u961f\u5217\u7684\u9650\u5236\u3002\u7531\u4e8e TCP \u4f7f\u7528 3 \u6b21\u63e1\u624b\uff0c\u8fde\u63a5\u5728\u5230\u8fbe <code>ESTABLISHED</code> \u72b6\u6001\u4e4b\u524d\u7ecf\u5386\u4e2d\u95f4\u72b6\u6001 <code>SYN RCVD</code>\uff0c\u5e76\u4e14\u53ef\u4ee5\u7531 <code>accept</code> \u7cfb\u7edf\u8c03\u7528\u8fd4\u56de\u5230\u5e94\u7528\u7a0b\u5e8f\u3002\u8fd9\u610f\u5473\u7740 <code>TCP/IP</code> \u5806\u6808\u6709\u4e24\u4e2a\u9009\u62e9\u6765\u4e3a <code>LISTEN</code> \u72b6\u6001\u7684\u5957\u63a5\u5b57\u5b9e\u73b0 <code>backlog</code> \u961f\u5217\uff1a</p> <ol> <li>\u4f7f\u7528\u5355\u4e2a\u961f\u5217\u5b9e\u73b0\uff1a\u5176\u5927\u5c0f\u7531 <code>listen syscall</code> \u7684 <code>backlog</code> \u53c2\u6570\u786e\u5b9a\u3002 \u5f53\u6536\u5230 <code>SYN</code> \u6570\u636e\u5305\u65f6\uff0c\u5b83\u53d1\u9001\u56de <code>SYN/ACK</code> \u6570\u636e\u5305\uff0c\u5e76\u5c06\u8fde\u63a5\u6dfb\u52a0\u5230\u961f\u5217\u3002 \u5f53\u63a5\u6536\u5230\u76f8\u5e94\u7684 <code>ACK</code> \u65f6\uff0c\u8fde\u63a5\u5c06\u5176\u72b6\u6001\u6539\u53d8\u4e3a\u5df2\u5efa\u7acb\u3002 \u8fd9\u610f\u5473\u7740\u961f\u5217\u53ef\u4ee5\u5305\u542b\u4e24\u79cd\u4e0d\u540c\u72b6\u6001\u7684\u8fde\u63a5\uff1a<code>SYN RCVD</code> \u548c <code>ESTABLISHED</code>\u3002 \u53ea\u6709\u5904\u4e8e\u540e\u4e00\u72b6\u6001\u7684\u8fde\u63a5\u624d\u80fd\u901a\u8fc7 <code>accept syscall</code> \u8fd4\u56de\u7ed9\u5e94\u7528\u7a0b\u5e8f</li> <li>\u4f7f\u7528\u4e24\u4e2a\u961f\u5217\u5b9e\u73b0\uff1a\u4e00\u4e2a <code>SYN</code> \u961f\u5217(\u6216\u534a\u8fde\u63a5\u961f\u5217)\u548c\u4e00\u4e2a <code>accept</code> \u961f\u5217(\u6216\u5b8c\u6574\u7684\u8fde\u63a5\u961f\u5217)\u3002 \u5904\u4e8e <code>SYN RCVD</code> \u663e\u800c\u6613\u89c1\uff0c<code>accept</code> \u7cfb\u7edf\u8c03\u7528\u53ea\u662f\u7b80\u5355\u5730\u4ece\u5b8c\u6210\u961f\u5217\u4e2d\u53d6\u51fa\u8fde\u63a5\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c<code>listen syscall</code> \u7684 <code>backlog</code> \u53c2\u6570\u8868\u793a\u5b8c\u6210\u961f\u5217\u7684\u5927\u5c0f</li> </ol> <p>\u5386\u53f2\u4e0a\uff0c<code>BSD</code> \u6d3e\u751f\u7cfb\u7edf\u5b9e\u73b0\u7684 <code>TCP</code> \u4f7f\u7528\u7b2c\u4e00\u79cd\u65b9\u6cd5\u3002\u8be5\u9009\u62e9\u610f\u5473\u7740\u5f53\u8fbe\u5230\u6700\u5927 <code>backlog</code> \u65f6\uff0c\u7cfb\u7edf\u5c06\u4e0d\u518d\u54cd\u5e94\u4e8e <code>SYN</code> \u5206\u7ec4\u53d1\u9001\u56de <code>SYN/ACK</code> \u5206\u7ec4\u3002\u901a\u5e38\uff0c<code>TCP</code> \u7684\u5b9e\u73b0\u5c06\u7b80\u5355\u5730\u4e22\u5f03 <code>SYN</code> \u5206\u7ec4\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u91cd\u8bd5\u3002</p> <p>\u5728 Linux \u4e0a\u662f\u548c\u4e0a\u9762\u4e0d\u540c\u7684\u3002\u5982\u5728 <code>listen</code> \u7cfb\u7edf\u8c03\u7528\u7684\u624b\u518c\u4e2d\u6240\u63d0\u5230\u7684\uff1a</p> <p>Note</p> <p>\u5728 Linux \u5185\u6838 2.2 \u4e4b\u540e\uff0c<code>socket backlog</code> \u53c2\u6570\u7684\u884c\u4e3a\u6539\u53d8\u4e86\uff0c\u73b0\u5728\u5b83\u6307\u7b49\u5f85 <code>accept</code> \u7684\u5b8c\u5168\u5efa\u7acb\u7684\u5957\u63a5\u5b57\u7684\u961f\u5217\u957f\u5ea6\u800c\u4e0d\u662f\u4e0d\u5b8c\u5168\u8fde\u63a5\u8bf7\u6c42\u7684\u6570\u91cf\u3002\u4e0d\u5b8c\u5168\u8fde\u63a5\u7684\u957f\u5ea6\u53ef\u4ee5\u4f7f\u7528 <code>/proc/sys/net/ipv4/tcp_max_syn_backlog</code> \u8bbe\u7f6e\u3002</p> <p>\u8fd9\u610f\u5473\u7740\u5f53\u524d Linux \u7248\u672c\u4f7f\u7528\u4e0a\u9762\u7b2c\u4e8c\u79cd\u8bf4\u6cd5\uff0c\u6709\u4e24\u4e2a\u961f\u5217\uff1a\u5177\u6709\u7531\u7cfb\u7edf\u8303\u56f4\u8bbe\u7f6e\u6307\u5b9a\u7684\u5927\u5c0f\u7684 SYN \u961f\u5217 \u548c \u5e94\u7528\u7a0b\u5e8f(\u4e5f\u5c31\u662f backlog \u53c2\u6570)\u6307\u5b9a\u7684 accept \u961f\u5217\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#accept","title":"accept \u53d1\u751f\u5728\u4e09\u6b21\u63e1\u624b\u7684\u54ea\u4e00\u6b65\uff1f","text":"<p>\u670d\u52a1\u7aef accept \u6210\u529f\u8fd4\u56de\u662f\u5728**\u4e09\u6b21\u63e1\u624b\u6210\u529f\u4e4b\u540e**</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#close","title":"\u5ba2\u6237\u7aef\u8c03\u7528 close \u540e\u8fde\u63a5\u65ad\u5f00\u7684\u6d41\u7a0b\uff1f","text":"<ul> <li>\u5ba2\u6237\u7aef\u8c03\u7528 <code>close</code> \u8868\u660e\u5ba2\u6237\u7aef\u6ca1\u6709\u6570\u636e\u9700\u8981\u53d1\u9001\u4e86\uff0c\u6b64\u65f6\u4f1a\u5411\u670d\u52a1\u7aef\u53d1\u9001 FIN \u62a5\u6587\uff0c\u8fdb\u5165 FIN_WAIT_1 \u72b6\u6001</li> <li>\u670d\u52a1\u7aef\u63a5\u6536\u5230\u4e86 FIN \u62a5\u6587\uff0cTCP \u534f\u8bae\u6808\u4f1a\u4e3a FIN \u5305\u63d2\u5165\u4e00\u4e2a\u6587\u4ef6\u7ed3\u675f\u7b26 <code>EOF</code> \u5230\u63a5\u6536\u7f13\u51b2\u533a\u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7 <code>read</code> \u8c03\u7528\u6765\u611f\u77e5\u8fd9\u4e2a FIN \u5305\u3002\u8fd9\u4e2a <code>EOF</code> \u4f1a\u88ab \u653e\u5728\u5df2\u6392\u961f\u7b49\u5019\u7684\u5176\u4ed6\u5df2\u63a5\u6536\u7684\u6570\u636e\u4e4b\u540e\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u670d\u52a1\u7aef\u9700\u8981\u5904\u7406\u8fd9\u79cd\u5f02\u5e38\u60c5\u51b5\uff0c\u56e0\u4e3a EOF \u8868\u793a\u5728\u8be5\u8fde\u63a5\u4e0a\u518d\u65e0\u989d\u5916\u6570\u636e\u5230\u8fbe\u3002\u6b64\u65f6\uff0c\u670d\u52a1\u7aef\u8fdb\u5165 CLOSE_WAIT \u72b6\u6001</li> <li>\u63a5\u7740\uff0c\u5f53\u5904\u7406\u5b8c\u6570\u636e\u540e\uff0c\u81ea\u7136\u5c31\u4f1a\u8bfb\u5230 <code>EOF</code>\uff0c\u4e8e\u662f\u4e5f\u8c03\u7528 <code>close</code> \u5173\u95ed\u5b83\u7684\u5957\u63a5\u5b57\uff0c\u8fd9\u4f1a\u4f7f\u5f97\u670d\u52a1\u7aef\u53d1\u51fa\u4e00\u4e2a FIN \u5305\uff0c\u4e4b\u540e\u5904\u4e8e LAST_ACK \u72b6\u6001</li> <li>\u5ba2\u6237\u7aef\u63a5\u6536\u5230\u670d\u52a1\u7aef\u7684 FIN \u5305\uff0c\u5e76\u53d1\u9001 ACK \u786e\u8ba4\u5305\u7ed9\u670d\u52a1\u7aef\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u5c06\u8fdb\u5165 TIME_WAIT \u72b6\u6001</li> <li>\u670d\u52a1\u7aef\u6536\u5230 ACK \u786e\u8ba4\u5305\u540e\uff0c\u5c31\u8fdb\u5165\u4e86\u6700\u540e\u7684 CLOSE \u72b6\u6001</li> <li>\u5ba2\u6237\u7aef\u7ecf\u8fc7 <code>2MSL</code> \u65f6\u95f4\u4e4b\u540e\uff0c\u4e5f\u8fdb\u5165 CLOSE \u72b6\u6001</li> </ul>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#accept-tcp","title":"\u6ca1\u6709 accept \u80fd\u5efa\u7acb TCP \u8fde\u63a5\u5417\uff1f","text":"<p>\u53ef\u4ee5</p> <p>accept \u7cfb\u7edf\u8c03\u7528\u5e76\u4e0d\u53c2\u4e0e TCP \u4e09\u6b21\u63e1\u624b\u8fc7\u7a0b\uff0c\u5b83\u53ea\u662f\u8d1f\u8d23\u4ece TCP \u5168\u8fde\u63a5\u961f\u5217\u53d6\u51fa\u4e00\u4e2a\u5df2\u7ecf\u5efa\u7acb\u8fde\u63a5\u7684 socket\uff0c\u7528\u6237\u5c42\u901a\u8fc7 accept \u7cfb\u7edf\u8c03\u7528\u62ff\u5230\u4e86\u5df2\u7ecf\u5efa\u7acb\u8fde\u63a5\u7684 socket \u5c31\u53ef\u4ee5\u5bf9\u8be5 socket \u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u4e86\u3002</p>"},{"location":"Computer%20Network/TCP%20%26%20UDP/#listen-tcp","title":"\u6ca1\u6709 listen \u80fd\u5efa\u7acb TCP \u8fde\u63a5\u5417\uff1f","text":"<p>\u53ef\u4ee5</p> <p>\u5ba2\u6237\u7aef\u662f\u53ef\u4ee5\u81ea\u5df1\u8fde\u63a5\u81ea\u5df1(TCP \u81ea\u8fde\u63a5)\uff0c\u4e5f\u53ef\u4ee5\u4e24\u4e2a\u5ba2\u6237\u7aef\u540c\u65f6\u5411\u5bf9\u65b9\u53d1\u51fa\u8bf7\u6c42\u5efa\u7acb\u8fde\u63a5(TCP \u540c\u65f6\u6253\u5f00)\u3002</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Database/MySQL/MySQL/","title":"MySQL","text":"MySQL"},{"location":"Database/MySQL/MySQL/#contents","title":"Contents","text":"<p> \u7ea6 16476 \u4e2a\u5b57  17 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 83 \u5206\u949f</p> <ul> <li>Contents</li> <li>\ud83d\udd34 \u6982\u8ff0</li> <li>\u5173\u7cfb\u7684\u4e09\u4e2a\u8303\u5f0f\u662f\u4ec0\u4e48\uff1f</li> <li>MySQL \u4e2d varchar \u548c char \u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f</li> <li>join \u548c left join \u7684\u533a\u522b\uff1f</li> <li>SQL \u600e\u4e48\u5b9e\u73b0\u6a21\u7cca\u67e5\u8be2\uff1f</li> <li>select \u7684\u6267\u884c\u8fc7\u7a0b\uff1f</li> <li>update \u7684\u6267\u884c\u8fc7\u7a0b\uff1f</li> <li>count \u6027\u80fd\u6bd4\u8f83\uff1f</li> <li>drop\u3001truncate \u548c delete \u7684\u533a\u522b\uff1f</li> <li>MySQL \u4f1a\u51fa\u73b0\u6b7b\u9501\u5417\uff0c\u5982\u4f55\u907f\u514d\u6b7b\u9501\uff1f<ul> <li>\u4ec0\u4e48\u60c5\u51b5\u53d1\u751f\u6b7b\u9501</li> <li>\u89e3\u51b3\u529e\u6cd5\uff1a</li> </ul> </li> <li>\ud83d\udfe4 \u4e8b\u52a1</li> <li>MySQL \u4e4b\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027(ACID)\uff1f</li> <li>\u5e76\u53d1\u4e8b\u52a1\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\uff1f</li> <li>MySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1f</li> <li>\u5728\u4e0d\u540c\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e0b\u4f1a\u53d1\u751f\u4ec0\u4e48\u73b0\u8c61\uff1f</li> <li>MVCC \u5b9e\u73b0\u539f\u7406\uff1f</li> <li>\u5e7b\u8bfb\u662f\u5982\u4f55\u89e3\u51b3\u7684\uff1f</li> <li>\u8bfb\u63d0\u4ea4\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f</li> <li>\u53ef\u91cd\u590d\u8bfb\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f</li> <li>\ud83d\udd35 \u7d22\u5f15</li> <li>MySQL \u4e3a\u4ec0\u4e48\u4f7f\u7528 B+ \u6811\u6765\u4f5c\u7d22\u5f15\uff0c\u5b83\u7684\u4f18\u52bf\u4ec0\u4e48\uff1f<ul> <li>\u7279\u6027\u548c\u5b9a\u4e49</li> <li>B+ \u6811\u548c B \u6811\u76f8\u6bd4\uff1a</li> <li>\u4f18\u52bf</li> <li>\u5bf9\u6bd4</li> </ul> </li> <li>\u7d22\u5f15\u6709\u54ea\u4e9b\u79cd\u7c7b\uff1f</li> <li>\u4ec0\u4e48\u662f\u6700\u5de6\u5339\u914d\u539f\u5219\uff1f</li> <li>\u7d22\u5f15\u533a\u5206\u5ea6\uff1f</li> <li>\u8054\u5408\u7d22\u5f15\u5982\u4f55\u8fdb\u884c\u6392\u5e8f\uff1f</li> <li>\u4f7f\u7528\u7d22\u5f15\u4f1a\u6709\u54ea\u4e9b\u7f3a\u9677\uff1f</li> <li>\u4ec0\u4e48\u65f6\u5019\u9700\u8981/\u4e0d\u9700\u8981\u521b\u5efa\u7d22\u5f15\uff1f<ul> <li>\u9700\u8981\u521b\u5efa\u7d22\u5f15</li> <li>\u4e0d\u9700\u8981\u521b\u5efa\u7d22\u5f15</li> </ul> </li> <li>\u7d22\u5f15\u7684\u4f18\u5316(\u4f7f\u7528\u7d22\u5f15\u7684\u6ce8\u610f\u4e8b\u9879)\uff1f</li> <li>WHERE \u8bed\u53e5\u7d22\u5f15\u4f7f\u7528\u7684\u6ce8\u610f\u4e8b\u9879\uff1f</li> <li>\u7d22\u5f15\u4ec0\u4e48\u65f6\u5019\u4f1a\u5931\u6548\uff1f</li> <li>\ud83d\udfe2 \u9501</li> <li>MySQL \u7684\u5168\u5c40\u9501\u6709\u4ec0\u4e48\u4f5c\u7528\uff1f</li> <li>MySQL \u7684\u8868\u7ea7\u9501\u6709\u54ea\u4e9b\uff1f\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f<ul> <li>\u5143\u6570\u636e\u9501</li> <li>\u610f\u5411\u9501</li> <li>AUTO-INC \u9501</li> </ul> </li> <li>MySQL \u7684\u884c\u7ea7\u9501\u6709\u54ea\u4e9b\uff1f\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f<ul> <li>\u8bb0\u5f55\u9501(Record Lock)</li> <li>\u95f4\u9699\u9501(Gap Lock)</li> <li>\u4e34\u952e\u9501(Next-Key Lock)</li> <li>\u63d2\u5165\u610f\u5411\u9501</li> </ul> </li> <li>MySQL \u5982\u4f55\u52a0\u9501<ul> <li>\u552f\u4e00\u7d22\u5f15\u7b49\u503c\u67e5\u8be2</li> <li>\u975e\u552f\u4e00\u7d22\u5f15\u7b49\u503c\u67e5\u8be2</li> <li>\u552f\u4e00\u7d22\u5f15\u8303\u56f4\u67e5\u8be2</li> <li>\u975e\u552f\u4e00\u7d22\u5f15\u8303\u56f4\u67e5\u8be2</li> </ul> </li> <li>\ud83d\udfe3 \u5b58\u50a8\u5f15\u64ce</li> <li>MySQL \u7684\u6267\u884c\u5f15\u64ce\u6709\u54ea\u4e9b\uff1f</li> <li>MyISAM \u548c InnoDB \u5b58\u50a8\u5f15\u64ce\u7684\u533a\u522b\uff1f</li> <li>\u5b58\u50a8\u5f15\u64ce\u5982\u4f55\u9009\u62e9\uff1f</li> <li>MyISAM \u7d22\u5f15\u4e0e InnoDB \u7d22\u5f15\u7684\u533a\u522b\uff1f</li> <li>\ud83d\udfe0 \u65e5\u5fd7</li> <li>MySQL \u4e09\u79cd\u65e5\u5fd7\uff1f<ul> <li>UNDO LOG(\u56de\u6eda\u65e5\u5fd7)</li> <li>REDO LOG(\u91cd\u505a\u65e5\u5fd7)</li> <li>BINLOG(\u5f52\u6863\u65e5\u5fd7)</li> </ul> </li> <li>redo log \u4e0e bin log \u7684\u533a\u522b\uff1f</li> <li>redo log \u548c undo log \u533a\u522b\uff1f</li> <li>undo log \u662f\u5982\u4f55\u5b9e\u73b0 MVCC \u7684\uff1f</li> <li>\u4e3a\u4ec0\u4e48\u6709\u4e86 binlog\uff0c\u8fd8\u8981\u6709 redo log\uff1f</li> <li>\u88ab\u4fee\u6539 Undo \u9875\u9762\uff0c\u9700\u8981\u8bb0\u5f55\u5bf9\u5e94 redo log \u5417\uff1f</li> <li>binlog \u7684\u4e09\u79cd\u683c\u5f0f\uff1f</li> <li>redo log \u5bb9\u707e\u6062\u590d\u8fc7\u7a0b\uff1f</li> <li>redo log \u662f\u76f4\u63a5\u5199\u5165\u786c\u76d8\u7684\u5417\uff1f</li> <li>redo log \u6bd4\u76f4\u63a5\u843d\u76d8\u7684\u4f18\u70b9\uff1f</li> <li>redo log buffer \u4ec0\u4e48\u65f6\u5019\u5237\u76d8\uff1f</li> <li>redo log \u6587\u4ef6\u6587\u4ef6\u683c\u5f0f\u548c\u5199\u5165\u8fc7\u7a0b\uff1f</li> <li>binlog \u4ec0\u4e48\u65f6\u5019\u5237\u76d8\uff1f</li> <li>binlog \u4ec0\u4e48\u65f6\u5019\u5237\u76d8\u9891\u7387\uff1f</li> <li>\u4e3b\u4ece\u590d\u5236\u662f\u600e\u4e48\u5b9e\u73b0\uff1f</li> <li>MySQL \u4e3b\u4ece\u590d\u5236\u6a21\u578b\uff1f</li> <li>\u4e3a\u4ec0\u4e48\u9700\u8981\u4e24\u9636\u6bb5\u63d0\u4ea4\uff1f</li> <li>\u4e24\u9636\u6bb5\u63d0\u4ea4\u7684\u8fc7\u7a0b\u662f\u600e\u6837\u7684\uff1f</li> <li>\u5f02\u5e38\u91cd\u542f\u4f1a\u51fa\u73b0\u4ec0\u4e48\u73b0\u8c61\uff1f</li> <li>\u4e8b\u52a1\u6ca1\u63d0\u4ea4 redo log \u4f1a\u88ab\u6301\u4e45\u5316\u5230\u786c\u76d8\u5417\uff1f</li> <li>\u4e24\u9636\u6bb5\u63d0\u4ea4\u6709\u4ec0\u4e48\u95ee\u9898\uff1f</li> <li>\u7ec4\u63d0\u4ea4\u662f\u4ec0\u4e48\u610f\u601d\uff1f</li> <li>Buffer Pool \u6709\u4ec0\u4e48\u4f5c\u7528\uff1f</li> <li>Buffer Pool \u7f13\u5b58\u5185\u5bb9\uff1f</li> <li>\ud83d\udfe1 \u4f18\u5316</li> <li>\u6162\u67e5\u8be2\u7684\u539f\u56e0\uff1f</li> <li>MySQL \u786c\u76d8 I/O \u5f88\u9ad8\u6709\u4ec0\u4e48\u4f18\u5316\u7684\u65b9</li> </ul>"},{"location":"Database/MySQL/MySQL/#_1","title":"\ud83d\udd34 \u6982\u8ff0","text":""},{"location":"Database/MySQL/MySQL/#_2","title":"\u5173\u7cfb\u7684\u4e09\u4e2a\u8303\u5f0f\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li> <p>\u7b2c\u4e00\u8303\u5f0f(1NF)\uff1a\u7528\u6765\u786e\u4fdd\u6bcf\u5217\u7684\u539f\u5b50\u6027\uff0c\u8981\u6c42\u6bcf\u5217(\u6216\u8005\u6bcf\u4e2a\u5c5e\u6027\u503c)\u90fd\u662f\u4e0d\u53ef\u518d\u5206\u7684\u6700\u5c0f\u6570\u636e\u5355\u5143(\u4e5f\u79f0\u4e3a\u6700\u5c0f\u7684\u539f\u5b50\u5355\u5143)</p> </li> <li> <p>\u7b2c\u4e8c\u8303\u5f0f(2NF)\uff1a\u5728\u7b2c\u4e00\u8303\u5f0f\u7684\u57fa\u7840\u4e0a\u66f4\u8fdb\u4e00\u5c42\uff0c\u8981\u6c42\u8868\u4e2d\u7684\u6bcf\u5217\u90fd\u548c\u4e3b\u952e\u76f8\u5173\uff0c\u5373\u8981\u6c42\u5b9e\u4f53\u7684\u552f\u4e00\u6027\u3002\u5982\u679c\u4e00\u4e2a\u8868\u6ee1\u8db3\u7b2c\u4e00\u8303\u5f0f\uff0c\u5e76\u4e14\u9664\u4e86\u4e3b\u952e\u4ee5\u5916\u7684\u5176\u4ed6\u5217\u5168\u90e8\u90fd\u4f9d\u8d56\u4e8e\u8be5\u4e3b\u952e\uff0c\u90a3\u4e48\u8be5\u8868\u6ee1\u8db3\u7b2c\u4e8c\u8303\u5f0f</p> </li> <li> <p>\u7b2c\u4e09\u8303\u5f0f(3NF)\uff1a\u5728\u7b2c\u4e8c\u8303\u5f0f\u7684\u57fa\u7840\u4e0a\u66f4\u8fdb\u4e00\u5c42\uff0c\u7b2c\u4e09\u8303\u5f0f\u662f\u786e\u4fdd\u6bcf\u5217\u90fd\u548c\u4e3b\u952e\u5217\u76f4\u63a5\u76f8\u5173\uff0c\u800c\u4e0d\u662f\u95f4\u63a5\u76f8\u5173\uff0c\u5373\u9650\u5236\u5217\u7684\u5197\u4f59\u6027\u3002\u5982\u679c\u4e00\u4e2a\u5173\u7cfb\u6ee1\u8db3\u7b2c\u4e8c\u8303\u5f0f\uff0c\u5e76\u4e14\u9664\u4e86\u4e3b\u952e\u4ee5\u5916\u7684\u5176\u4ed6\u5217\u90fd\u4f9d\u8d56\u4e8e\u4e3b\u952e\u5217\uff0c\u5217\u548c\u5217\u4e4b\u95f4\u4e0d\u5b58\u5728\u76f8\u4e92\u4f9d\u8d56\u5173\u7cfb\uff0c\u5219\u6ee1\u8db3\u7b2c\u4e09\u8303\u5f0f</p> </li> </ul>"},{"location":"Database/MySQL/MySQL/#mysql-varchar-char","title":"MySQL \u4e2d varchar \u548c char \u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>char \u5b57\u6bb5\u7684\u6700\u5927\u957f\u5ea6\u4e3a 255 \u5b57\u7b26\uff0cvarchar \u5b57\u6bb5\u7684\u6700\u5927\u957f\u5ea6\u4e3a 65535 \u4e2a\u5b57\u7b26</li> <li>char \u7c7b\u578b\u5982\u679c\u5b58\u7684\u6570\u636e\u91cf\u5c0f\u4e8e\u6700\u5927\u957f\u5ea6\uff0c\u5269\u4f59\u7684\u7a7a\u95f4\u4f1a\u4f7f\u7528\u7a7a\u683c\u586b\u5145\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u6d6a\u8d39\u7a7a\u95f4\uff0c\u6240\u4ee5 char \u7c7b\u578b\u9002\u5408\u5b58\u50a8\u957f\u5ea6\u56fa\u5b9a\u7684\u6570\u636e\uff0c\u8fd9\u6837\u4e0d\u4f1a\u6d6a\u8d39\u7a7a\u95f4\uff0c\u6548\u7387\u8fd8\u6bd4 varchar \u7565\u9ad8\uff1bvarchar \u7c7b\u578b\u5982\u679c\u5b58\u5230\u6570\u636e\u91cf\u5c0f\u4e8e\u6700\u5927\u957f\u5ea6\uff0c\u5269\u4f59\u7684\u7a7a\u95f4\u4f1a\u7559\u7ed9\u522b\u7684\u6570\u636e\u4f7f\u7528\uff0c\u6240\u4ee5 varchar \u7c7b\u578b\u9002\u5408\u5b58\u50a8\u957f\u5ea6\u4e0d\u56fa\u5b9a\u7684\u6570\u636e\uff0c\u8fd9\u6837\u867d\u7136\u6ca1\u6709 char \u5b58\u50a8\u6548\u7387\u9ad8\uff0c\u4f46\u81f3\u5c11\u4e0d\u4f1a\u6d6a\u8d39\u7a7a\u95f4</li> <li>char \u7c7b\u578b\u7684\u67e5\u627e\u6548\u7387\u9ad8\uff0cvarchar \u7c7b\u578b\u7684\u67e5\u627e\u6548\u7387\u8f83\u4f4e</li> </ul>"},{"location":"Database/MySQL/MySQL/#join-left-join","title":"join \u548c left join \u7684\u533a\u522b\uff1f","text":"<ul> <li> <p>join \u7b49\u4ef7\u4e8e inner join \u5185\u8fde\u63a5\uff0c\u662f\u8fd4\u56de\u4e24\u4e2a\u8868\u4e2d\u90fd\u6709\u7684\u7b26\u5408\u6761\u4ef6\u7684\u884c</p> </li> <li> <p>left join \u5de6\u8fde\u63a5\uff0c\u662f\u8fd4\u56de\u5de6\u8868\u4e2d\u6240\u6709\u7684\u884c\u53ca\u53f3\u8868\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u884c</p> </li> <li> <p>right join \u53f3\u8fde\u63a5\uff0c\u662f\u8fd4\u56de\u53f3\u8868\u4e2d\u6240\u6709\u7684\u884c\u53ca\u5de6\u8868\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u884c</p> </li> </ul>"},{"location":"Database/MySQL/MySQL/#sql","title":"SQL \u600e\u4e48\u5b9e\u73b0\u6a21\u7cca\u67e5\u8be2\uff1f","text":"<p>\u7d22\u5f15 B+ \u6811\u662f\u6309\u7167\u7d22\u5f15\u503c\u6709\u5e8f\u6392\u5217\u5b58\u50a8\u7684\uff0c\u53ea\u80fd\u6839\u636e\u524d\u7f00\u8fdb\u884c\u6bd4\u8f83\u3002\u6bcf\u4e00\u6b21\u6309\u7167\u6a21\u7cca\u5339\u914d\u7684\u524d\u7f00\u5b57\u5178\u5e8f\u6765\u8fdb\u884c\u6bd4\u8f83\u3002</p>"},{"location":"Database/MySQL/MySQL/#select","title":"select \u7684\u6267\u884c\u8fc7\u7a0b\uff1f","text":"<ul> <li>\u8fde\u63a5\uff1a\u9996\u5148\u5ba2\u6237\u7aef\u548c MySQL \u901a\u8fc7\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0cMySQL \u662f\u57fa\u4e8e TCP \u8fdb\u884c\u4f20\u8f93\u7684\u3002MySQL \u670d\u52a1\u5982\u679c\u6ca1\u6709\u542f\u52a8\u5c31\u4f1a\u62a5\u9519\u3002MySQL \u6b63\u5e38\u8fd0\u884c\u7684\u8bdd\u5c31\u53bb\u6821\u9a8c\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u8ba4\u8bc1\u4fe1\u606f\u9519\u8bef\u4e5f\u4f1a\u62a5\u9519\u3002\u68c0\u9a8c\u901a\u8fc7\u4e4b\u540e\u8fde\u63a5\u5668\u4f1a\u83b7\u53d6\u7528\u6237\u6743\u9650\u5e76\u4e14\u4fdd\u5b58\u8d77\u6765\uff0c\u540e\u7eed\u7684\u4efb\u4f55\u64cd\u4f5c\u90fd\u4f1a\u57fa\u4e8e\u5f00\u59cb\u7684\u8bfb\u5230\u6743\u9650\u8fdb\u884c\u5224\u65ad\uff0c\u5373\u4fbf\u521b\u5efa\u8fde\u63a5\u4e4b\u540e\u66f4\u6539\u4e86\u6743\u9650\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5df2\u8fde\u63a5\u7684\u6743\u9650 <p>\u5982\u4f55\u65ad\u5f00\u957f\u8fde\u63a5 </p> <ul> <li>\u5b9a\u671f\u65ad\u5f00\u957f\u8fde\u63a5 </li> <li>\u5ba2\u6237\u7aef\u4e3b\u52a8\u91cd\u7f6e\u8fde\u63a5\uff1a\u5f53\u5ba2\u6237\u7aef\u6267\u884c\u4e86\u4e00\u4e2a\u5f88\u5927\u7684\u64cd\u4f5c\u540e\uff0c\u5728\u4ee3\u7801\u91cc\u8c03\u7528 mysql_reset_connection \u51fd\u6570\u6765\u91cd\u7f6e\u8fde\u63a5\uff0c\u8fbe\u5230\u91ca\u653e\u5185\u5b58\u7684\u6548\u679c\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e0d\u9700\u8981\u91cd\u8fde\u548c\u91cd\u65b0\u505a\u6743\u9650\u9a8c\u8bc1\uff0c\u4f46\u662f\u4f1a\u5c06\u8fde\u63a5\u6062\u590d\u5230\u521a\u521a\u521b\u5efa\u5b8c\u65f6\u7684\u72b6\u6001</li> </ul> </li> <li>\u67e5\u8be2\u7f13\u5b58\uff1a\u8fde\u63a5\u6210\u529f\u540e\u4f1a\u5411 MySQL \u670d\u52a1\u53d1\u9001 SQL \u8bed\u53e5\uff0cMySQL \u670d\u52a1\u6536\u5230\u8bed\u53e5\u4e4b\u540e\u4f1a\u8fdb\u884c\u89e3\u6790\u5224\u65ad SQL \u8bed\u53e5\u7684\u7c7b\u578b\u3002\u5982\u679c\u662f select \u8bed\u53e5\u7684\u8bdd\u5c31\u53bb\u7f13\u5b58\u4e2d\u67e5\u8be2\uff0c\u770b\u770b\u4e4b\u524d\u6709\u6ca1\u6709\u6267\u884c\u8fc7\u8fd9\u6761 select \u8bed\u53e5\u3002\u7f13\u5b58\u662f\u4ee5 k-v \u5f62\u5f0f\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\u7684\uff0ckey \u662f SQL \u8bed\u53e5\uff0cvalue \u662f SQL \u67e5\u8be2\u7ed3\u679c\u3002\u5982\u679c\u7f13\u5b58\u4e2d\u6709\u7ed3\u679c\u5c31\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u5982\u679c\u6ca1\u6709\u547d\u4e2d\u5c31\u7ee7\u7eed\u5411\u4e0b\u6267\u884c\u3002\u6267\u884c\u5b8c\u6210\u540e\u7684\u7ed3\u679c\u4f1a\u88ab\u653e\u5165\u7f13\u5b58\u4e2d <p>\u7f13\u5b58\u7f3a\u70b9 </p> <p>\u5bf9\u4e8e\u66f4\u65b0\u6bd4\u8f83\u9891\u7e41\u7684\u8868\uff0c\u67e5\u8be2\u7f13\u5b58\u7684\u547d\u4e2d\u7387\u5f88\u4f4e\uff0c\u53ea\u8981\u4e00\u4e2a\u8868\u6709\u66f4\u65b0\u64cd\u4f5c\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8868\u7684\u67e5\u8be2\u7f13\u5b58\u5c31\u4f1a\u88ab\u6e05\u7a7a\u3002\u5982\u679c\u521a\u7f13\u5b58\u4e86\u4e00\u4e2a\u67e5\u8be2\u7ed3\u679c\u5f88\u5927\u7684\u6570\u636e\uff0c\u8fd8\u6ca1\u88ab\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u521a\u597d\u8fd9\u4e2a\u8868\u6709\u66f4\u65b0\u64cd\u4f5c\uff0c\u67e5\u8be2\u7f13\u51b2\u5c31\u88ab\u6e05\u7a7a\u4e86\u3002  MySQL 8.0 \u7248\u672c\u76f4\u63a5\u5c06\u67e5\u8be2\u7f13\u5b58\u5220\u6389\u4e86\uff0c\u6267\u884c\u4e00\u6761 SQL \u67e5\u8be2\u8bed\u53e5\uff0c\u4e0d\u4f1a\u6709\u67e5\u8be2\u7f13\u5b58\u8fd9\u4e2a\u9636\u6bb5\u4e86</p> </li> <li>SQL \u89e3\u6790\uff1a\u8bcd\u6cd5\u5206\u6790\u548c\u8bed\u6cd5\u5206\u6790\uff0c\u8bcd\u6cd5\u5206\u6790\u662f\u628a SQL \u8bed\u53e5\u7684\u5b57\u7b26\u4e32\u8bc6\u522b\u51fa\u5173\u952e\u5b57\uff0c\u65b9\u4fbf\u540e\u7eed\u4f18\u5316\uff0c\u8bed\u6cd5\u5206\u6790\u6839\u636e\u8bed\u6cd5\u89c4\u5219\u5224\u65ad SQL \u8bed\u53e5\u662f\u5426\u6ee1\u8db3\u8981\u6c42\u3002\u5982\u679c SQL \u8bed\u6cd5\u4e0d\u6b63\u786e\u5c31\u4f1a\u62a5\u9519</li> <li>SQL \u6267\u884c\uff1a\u4e3b\u8981\u662f prepare \u9884\u5904\u7406\u3001optimize \u4f18\u5316\u548c execute \u6267\u884c\u9636\u6bb5</li> <li>\u9884\u5904\u7406\u5668\u68c0\u67e5 SQL \u67e5\u8be2\u7684\u8868\u6216\u8005\u5b57\u6bb5\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u6709\u5c31\u5c06\u5b83\u6269\u5c55\u4e3a SQL \u7684\u6240\u6709\u7684\u5217</li> <li>\u4f18\u5316\u5668\u662f\u786e\u5b9a SQL \u8bed\u53e5\u7684\u6267\u884c\u65b9\u6848\uff0c\u6bd4\u65b9\u8bf4\u6709\u7d22\u5f15\u4f1a\u9009\u62e9\u8d70\u4e86\u54ea\u4e2a\u7d22\u5f15</li> <li>\u6267\u884c\u5668\u4f1a\u4e0e\u5b58\u50a8\u5f15\u64ce\u4ea4\u4e92\uff0c\u5982\u679c\u8d70\u7d22\u5f15\u4e86\u5c31\u5c06\u76f8\u5e94\u7d22\u5f15\u6761\u4ef6\u4ea4\u7ed9\u5b58\u50a8\u5f15\u64ce<ul> <li>\u5b58\u50a8\u5f15\u64ce\u901a\u8fc7 B+ \u6811\u5b9a\u4f4d\u6570\u636e\uff0c\u5982\u679c\u6570\u636e\u4e0d\u5b58\u5728\u5c31\u50cf\u6267\u884c\u5668\u8fd4\u56de\u9519\u8bef\uff0c\u7136\u540e\u67e5\u8be2\u7ed3\u675f\uff1b\u627e\u5230\u4e86\u5c31\u5c06\u8bb0\u5f55\u8fd4\u56de\u7ed9\u6267\u884c\u6570\uff0c\u6267\u884c\u5668\u8bfb\u5230\u6570\u636e\u4e4b\u540e\u5224\u65ad\u8bb0\u5f55\u662f\u5426\u6ee1\u8db3\u8981\u6c42\uff0c\u5982\u679c\u6ee1\u8db3\u8981\u6c42\u5c31\u5c06\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u5426\u5219\u8df3\u8fc7\u8be5\u6570\u636e</li> <li>\u5168\u8868\u626b\u63cf\u4f18\u5316\u5668 \u548c\u5b58\u50a8\u5f15\u64ce\u4ea4\u4e92\u4e4b\u540e\u5b58\u50a8\u5f15\u64ce\u4f1a\u8bbf\u95ee\u7b2c\u4e00\u6761\u8868\u4e2d\u6570\u636e\uff0c\u6267\u884c\u5668\u4f1a\u5224\u65ad\u8fd9\u6761\u6570\u636e\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\uff0c\u6ee1\u8db3\u5c31\u53d1\u7ed9\u5ba2\u6237\u7aef\u3002</li> </ul> </li> <li>\u6267\u884c\u5668\u67e5\u8be2\u662f\u4e00\u4e2a while \u5faa\u73af\uff0c\u7ee7\u7eed\u53d6\u4e0b\u4e00\u6761\u8bb0\u5f55\u91cd\u590d\u5224\u65ad\uff0c\u76f4\u5230\u8bfb\u5b8c\u8868\u4e2d\u6240\u6709\u8bb0\u5f55\u9000\u51fa\u5faa\u73af\u3002\u5982\u679c\u4f7f\u7528\u8054\u5408\u7d22\u5f15\uff0c\u4f1a\u5728\u5b58\u50a8\u5f15\u64ce\u5c42\u5206\u522b\u5224\u65ad\u6bcf\u4e2a\u7d22\u5f15\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\uff0c\u800c\u4e0d\u5148\u6267\u884c\u56de\u8868\uff0c\u6240\u6709\u7d22\u5f15\u6709\u4e00\u4e2a\u4e0d\u6210\u7acb\u5c31\u8df3\u8fc7\uff1b\u5426\u5219\u5c31\u8fd4\u56de\u7ed9 Server \u5c42\u56de\u8868\uff0c\u8fd9\u662f\u4e00\u4e2a \u7d22\u5f15\u4e0b\u63a8 \u7684\u8fc7\u7a0b</li> </ul>"},{"location":"Database/MySQL/MySQL/#update","title":"update \u7684\u6267\u884c\u8fc7\u7a0b\uff1f","text":"<p>\u6267\u884c\u5668\u8d1f\u8d23\u5177\u4f53\u6267\u884c\uff0c\u4f1a\u8c03\u7528\u5b58\u50a8\u5f15\u64ce\u7684\u63a5\u53e3\uff0c\u901a\u8fc7\u4e3b\u952e\u7d22\u5f15\u6811\u641c\u7d22\u83b7\u53d6\u4e00\u884c\u8bb0\u5f55\uff1a</p> <ul> <li>\u5982\u679c\u8bb0\u5f55\u6240\u5728\u7684\u6570\u636e\u9875\u672c\u6765\u5c31\u5728 buffer pool \u4e2d\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\u7ed9\u6267\u884c\u5668\u66f4\u65b0</li> <li>\u5982\u679c\u8bb0\u5f55\u4e0d\u5728 buffer pool\uff0c\u5c06\u6570\u636e\u9875\u4ece\u786c\u76d8\u8bfb\u5165\u5230 buffer pool\uff0c\u8fd4\u56de\u8bb0\u5f55\u7ed9\u6267\u884c\u5668</li> </ul> <p>\u6267\u884c\u5668\u5f97\u5230\u805a\u7c07\u7d22\u5f15\u8bb0\u5f55\u540e\uff0c\u4f1a \u6bd4\u8f83\u66f4\u65b0\u524d\u7684\u8bb0\u5f55\u548c\u66f4\u65b0\u540e\u7684\u8bb0\u5f55\u662f\u5426\u76f8\u540c\uff1a</p> <ul> <li>\u5982\u679c\u4e00\u6837\u5c31\u4e0d\u8fdb\u884c\u540e\u7eed\u66f4\u65b0\u6d41\u7a0b</li> <li>\u5982\u679c\u4e0d\u4e00\u6837\u5c31\u628a\u66f4\u65b0\u524d\u7684\u8bb0\u5f55\u548c\u66f4\u65b0\u540e\u7684\u8bb0\u5f55\u90fd\u5f53\u4f5c\u53c2\u6570\u4f20\u7ed9 InnoDB \u5c42\uff0c\u8ba9 InnoDB \u771f\u6b63\u7684\u6267\u884c\u66f4\u65b0\u8bb0\u5f55\u7684\u64cd\u4f5c</li> <li>\u5f00\u542f\u4e8b\u52a1\uff1a\u9996\u5148\u8981\u8bb0\u5f55\u76f8\u5e94\u7684 undo log\uff0c\u9700\u8981\u628a\u88ab\u66f4\u65b0\u7684\u5217\u7684\u65e7\u503c\u8bb0\u4e0b\u6765\uff0c\u4e5f\u5c31\u662f\u8981\u751f\u6210\u4e00\u6761 undo log\uff0cundo log \u4f1a\u5199\u5165 Buffer Pool \u4e2d\u7684 Undo \u9875\u9762\uff0c\u4e0d\u8fc7\u5728\u5185\u5b58\u4fee\u6539\u8be5 Undo \u9875\u9762\u540e\uff0c\u9700\u8981\u8bb0\u5f55\u5bf9\u5e94\u7684 redo log</li> </ul> <p>InnoDB \u5c42\u5f00\u59cb\u66f4\u65b0\u8bb0\u5f55\uff0c\u4f1a\u5148\u66f4\u65b0\u5185\u5b58(\u540c\u65f6\u6807\u8bb0\u4e3a\u810f\u9875)\uff0c\u7136\u540e\u5c06\u8bb0\u5f55\u5199\u5230 redo log \u91cc\u9762\uff0c\u8fd9\u4e2a\u65f6\u5019\u66f4\u65b0\u5c31\u7b97\u5b8c\u6210\u4e86\u3002\u4e3a\u4e86\u51cf\u5c11\u786c\u76d8 I/O\uff0c\u4e0d\u4f1a\u7acb\u5373\u5c06\u810f\u9875\u5199\u5165\u786c\u76d8\uff0c\u540e\u7eed\u7531\u540e\u53f0\u7ebf\u7a0b\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u65f6\u673a\u5c06\u810f\u9875\u5199\u5165\u5230\u786c\u76d8\u3002</p> <p>\u5728\u4e00\u6761\u66f4\u65b0\u8bed\u53e5\u6267\u884c\u5b8c\u6210\u540e\uff0c\u7136\u540e\u5f00\u59cb\u8bb0\u5f55\u8be5\u8bed\u53e5\u5bf9\u5e94\u7684 binlog\uff0c\u6b64\u65f6\u8bb0\u5f55\u7684 binlog \u4f1a\u88ab\u4fdd\u5b58\u5230 binlog cache\uff0c\u5728\u4e8b\u52a1\u63d0\u4ea4\u65f6\u624d\u4f1a\u7edf\u4e00\u5c06\u8be5\u4e8b\u52a1\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7684\u6240\u6709 binlog \u5237\u65b0\u5230\u786c\u76d8\u3002</p> <p>\u4e24\u9636\u6bb5\u63d0\u4ea4\uff1a</p> <ul> <li>prepare \u9636\u6bb5\uff1a\u5c06 redo log \u5bf9\u5e94\u7684\u4e8b\u52a1\u72b6\u6001\u8bbe\u7f6e\u4e3a prepare\uff0c\u7136\u540e\u5c06 redo log \u5237\u65b0\u5230\u786c\u76d8\uff1b</li> <li>commit \u9636\u6bb5\uff1a\u5c06 binlog \u5237\u65b0\u5230\u786c\u76d8\uff0c\u63a5\u7740\u8c03\u7528\u5f15\u64ce\u7684\u63d0\u4ea4\u4e8b\u52a1\u63a5\u53e3\uff0c\u5c06 redo log \u72b6\u6001\u8bbe\u7f6e\u4e3a commit(\u5c06\u4e8b\u52a1\u8bbe\u7f6e\u4e3a commit \u72b6\u6001\u540e\uff0c\u5237\u5165\u5230\u786c\u76d8 redo log \u6587\u4ef6)</li> </ul>"},{"location":"Database/MySQL/MySQL/#count","title":"count \u6027\u80fd\u6bd4\u8f83\uff1f","text":"<p>count(*) = count(1) &gt; count(\u4e3b\u952e) &gt; count(\u5b57\u6bb5) </p> <p>MySQL \u4f1a\u5c06\u661f\u53f7\u53c2\u6570\u8f6c\u5316\u4e3a\u53c2\u6570 0 \u6765\u5904\u7406\uff0c\u6240\u4ee5 count(*) \u548c count(1)\u76f8\u7b49\u3002count(\u4e3b\u952e)\u9700\u8981\u5224\u65ad\u4e3b\u952e\u662f\u5426\u4e3a\u7a7a\u503c\uff1bcount(\u5b57\u6bb5)\u4f1a\u8fdb\u884c\u5168\u8868\u626b\u63cf\uff0c\u6548\u7387\u6700\u5dee\u3002</p>"},{"location":"Database/MySQL/MySQL/#droptruncate-delete","title":"drop\u3001truncate \u548c delete \u7684\u533a\u522b\uff1f","text":"<p>drop \u5220\u9664\u6574\u5f20\u8868\u548c\u8868\u7ed3\u6784\uff0c\u4ee5\u53ca\u8868\u7684\u7d22\u5f15\u3001\u7ea6\u675f\u548c\u89e6\u53d1\u5668\uff1btruncate \u53ea\u5220\u9664\u8868\u6570\u636e\uff0c\u8868\u7684\u7ed3\u6784\u3001\u7d22\u5f15\u3001\u7ea6\u675f\u7b49\u4f1a\u88ab\u4fdd\u7559\uff1b delete \u53ea\u5220\u9664\u8868\u7684\u5168\u90e8\u6216\u90e8\u5206\u6570\u636e\uff0c\u8868\u7ed3\u6784\u3001\u7d22\u5f15\u3001\u7ea6\u675f\u7b49\u4f1a\u88ab\u4fdd\u7559\u3002</p> <ul> <li>delete \u8bed\u53e5\u4e3a DML(data maintain Language)\uff0c\u6267\u884c\u5220\u9664\u64cd\u4f5c\u7684\u8fc7\u7a0b\u662f\u6bcf\u6b21\u4ece\u8868\u4e2d\u5220\u9664\u4e00\u884c\uff0c\u5e76\u4e14\u540c\u65f6\u5c06\u8be5\u884c\u7684\u5220\u9664\u64cd\u4f5c\u4f5c\u4e3a\u4e8b\u52a1\u8bb0\u5f55\u5728\u65e5\u5fd7\u4e2d\u4fdd\u5b58\u4ee5\u4fbf\u8fdb\u884c\u8fdb\u884c\u56de\u6eda\u64cd\u4f5c</li> <li>truncate\u3001drop \u662f DDL(data define language)\uff0c\u5220\u9664\u884c\u662f\u4e0d\u80fd\u6062\u590d\u7684\uff0c\u5e76\u4e14\u5728\u5220\u9664\u7684\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u6fc0\u6d3b\u4e0e\u8868\u6709\u5173\u7684\u5220\u9664\u89e6\u53d1\u5668\uff0c\u6267\u884c\u901f\u5ea6\u5feb\uff0c\u539f\u6570\u636e\u4e0d\u653e\u5230 rollback segment \u4e2d\uff0c\u4e0d\u80fd\u56de\u6eda\u3002</li> <li>truncate \u548c drop \u4e0d\u652f\u6301\u6dfb\u52a0 where \u6761\u4ef6\uff0c\u800c delete \u652f\u6301 where \u6761\u4ef6 </li> <li>\u6267\u884c\u901f\u5ea6  drop &gt; truncate &gt; delete\uff0cdelete \u662f\u9010\u884c\u6267\u884c\u7684\uff0c\u5e76\u4e14\u5728\u6267\u884c\u65f6\u4f1a\u628a\u64cd\u4f5c\u65e5\u5fd7\u8bb0\u5f55\u4e0b\u6765\uff0c\u4ee5\u5907\u65e5\u540e\u56de\u6eda\u4f7f\u7528\uff0c\u6240\u4ee5 delete \u7684\u6267\u884c\u901f\u5ea6\u662f\u6bd4\u8f83\u6162\u7684\uff1b\u800c truncate \u7684\u64cd\u4f5c\u662f\u5148\u590d\u5236\u4e00\u4e2a\u65b0\u7684\u8868\u7ed3\u6784\uff0c\u518d\u628a\u539f\u5148\u7684\u8868\u6574\u4f53\u5220\u9664\uff0c\u6240\u4ee5\u5b83\u7684\u6267\u884c\u901f\u5ea6\u5c45\u4e2d\uff0c\u800c drop \u7684\u6267\u884c\u901f\u5ea6\u6700\u5feb\u3002</li> <li>truncate \u53ea\u80fd\u5bf9 TABLE\uff1bdelete \u53ef\u4ee5\u662f TABLE \u548c VIEW</li> </ul> <p>\u4f7f\u7528\u573a\u666f </p> <ul> <li>\u5982\u679c \u60f3\u5220\u9664\u8868\u7528 drop </li> <li>\u5982\u679c \u60f3\u4fdd\u7559\u8868\u800c\u5c06\u6240\u6709\u6570\u636e\u5220\u9664\uff0c\u548c\u4e8b\u52a1\u65e0\u5173\uff0c\u7528 truncate  \u5373\u53ef</li> <li>\u5982\u679c \u548c\u4e8b\u52a1\u6709\u5173\uff0c\u6216\u8005\u60f3\u89e6\u53d1 trigger\uff0c\u7528 delete </li> <li>\u5982\u679c\u662f\u6574\u7406\u8868\u5185\u90e8\u7684\u788e\u7247\uff0c\u53ef\u4ee5\u7528 truncate \u8ddf\u4e0a reuse stroage\uff0c\u518d\u91cd\u65b0\u5bfc\u5165/\u63d2\u5165\u6570\u636e</li> </ul>"},{"location":"Database/MySQL/MySQL/#mysql","title":"MySQL \u4f1a\u51fa\u73b0\u6b7b\u9501\u5417\uff0c\u5982\u4f55\u907f\u514d\u6b7b\u9501\uff1f","text":""},{"location":"Database/MySQL/MySQL/#_3","title":"\u4ec0\u4e48\u60c5\u51b5\u53d1\u751f\u6b7b\u9501","text":"<p>\u5982\u679c update \u8bed\u53e5\u7684 where \u6761\u4ef6\u6ca1\u6709\u7528\u5230\u7d22\u5f15\u5217\uff0c\u90a3\u4e48\u5c31\u4f1a\u5168\u8868\u626b\u63cf\uff0c\u5728\u4e00\u884c\u884c\u626b\u63cf\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u4ec5\u7ed9\u884c\u8bb0\u5f55\u52a0\u4e0a\u4e86\u884c\u9501\uff0c\u8fd8\u7ed9\u884c\u8bb0\u5f55\u4e24\u8fb9\u7684\u7a7a\u9699\u4e5f\u52a0\u4e0a\u4e86\u95f4\u9699\u9501\uff0c\u76f8\u5f53\u4e8e\u9501\u4f4f\u6574\u4e2a\u8868\uff0c\u7136\u540e\u76f4\u5230\u4e8b\u52a1\u7ed3\u675f\u624d\u4f1a\u91ca\u653e\u9501\u3002</p> <p>\u884c\u9501\u4f1a\u53d1\u751f\u6b7b\u9501\uff0c\u8868\u9501\u4e0d\u4f1a\u3002\u6b7b\u9501\u7684\u56db\u4e2a\u5fc5\u8981\u6761\u4ef6\uff1a \u4e92\u65a5\u3001\u5360\u6709\u4e14\u7b49\u5f85\u3001\u4e0d\u53ef\u5f3a\u5360\u7528\u3001\u5faa\u73af\u7b49\u5f85\u3002\u53ea\u8981\u7cfb\u7edf\u53d1\u751f\u6b7b\u9501\uff0c\u8fd9\u4e9b\u6761\u4ef6\u5fc5\u7136\u6210\u7acb\uff0c\u4f46\u662f\u53ea\u8981\u7834\u574f\u4efb\u610f\u4e00\u4e2a\u6761\u4ef6\u5c31\u6b7b\u9501\u5c31\u4e0d\u4f1a\u6210\u7acb\u3002</p>"},{"location":"Database/MySQL/MySQL/#_4","title":"\u89e3\u51b3\u529e\u6cd5\uff1a","text":"<ul> <li>\u8bbe\u7f6e\u4e8b\u52a1\u7b49\u5f85\u9501\u7684\u8d85\u65f6\u65f6\u95f4\uff1a\u5f53\u4e00\u4e2a\u4e8b\u52a1\u7684\u7b49\u5f85\u65f6\u95f4\u8d85\u8fc7\u8be5\u503c\u540e\uff0c\u5c31\u5bf9\u8fd9\u4e2a\u4e8b\u52a1\u8fdb\u884c\u56de\u6eda\uff0c\u4e8e\u662f\u9501\u5c31\u91ca\u653e\u4e86\uff0c\u53e6\u4e00\u4e2a\u4e8b\u52a1\u5c31\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u4e86\u3002\u5728 InnoDB \u4e2d\uff0c\u53c2\u6570  innodb_lock_wait_timeout  \u662f\u7528\u6765\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\u7684\uff0c\u9ed8\u8ba4\u503c\u65f6 50 \u79d2</li> <li>\u5e94\u7528\u4e50\u89c2\u9501\uff1a\u5728\u5e94\u7528\u5c42\u63a7\u5236\u5e76\u53d1\u64cd\u4f5c</li> <li>\u907f\u514d\u957f\u67e5\u8be2\uff1a\u7b80\u5316\u4e8b\u52a1\uff0c\u51cf\u5c11\u590d\u6742\u67e5\u8be2</li> <li>\u4f18\u5316\u4e8b\u52a1\u8bbe\u8ba1\uff1a\u5408\u7406\u987a\u5e8f\u83b7\u53d6\u9501\uff0c\u51cf\u5c11\u9501\u6301\u6709\u65f6\u95f4</li> <li>\u5f00\u542f\u4e3b\u52a8\u6b7b\u9501\u68c0\u6d4b\uff1a\u4e3b\u52a8\u6b7b\u9501\u68c0\u6d4b\u5728\u53d1\u73b0\u6b7b\u9501\u540e\uff0c\u4e3b\u52a8\u56de\u6eda\u6b7b\u9501\u94fe\u6761\u4e2d\u7684\u67d0\u4e00\u4e2a\u4e8b\u52a1\uff0c\u8ba9\u5176\u4ed6\u4e8b\u52a1\u5f97\u4ee5\u7ee7\u7eed\u6267\u884c\u3002\u5c06\u53c2\u6570  innodb_deadlock_detect  \u8bbe\u7f6e\u4e3a on\uff0c\u8868\u793a\u5f00\u542f\u8fd9\u4e2a\u903b\u8f91\uff0c\u9ed8\u8ba4\u5c31\u5f00\u542f\u3002\u5f53\u68c0\u6d4b\u5230\u6b7b\u9501\u540e\uff0c\u5c31\u4f1a\u51fa\u73b0\u63d0\u793a</li> </ul>"},{"location":"Database/MySQL/MySQL/#_5","title":"\ud83d\udfe4 \u4e8b\u52a1","text":""},{"location":"Database/MySQL/MySQL/#mysql-acid","title":"MySQL \u4e4b\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027(ACID)\uff1f","text":"<ul> <li>\u539f\u5b50\u6027(atomicity)\uff1a\u4e00\u4e2a\u4e8b\u52a1\u5fc5\u987b\u89c6\u4e3a\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u6700\u5c0f\u5de5\u4f5c\u5355\u5143\uff0c\u6574\u4e2a\u4e8b\u52a1\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u63d0\u4ea4\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u56de\u6eda\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u4e8b\u52a1\u6765\u8bf4\uff0c\u4e0d\u53ef\u80fd\u53ea\u6267\u884c\u5176\u4e2d\u7684\u4e00\u90e8\u5206\u64cd\u4f5c\uff0c\u8fd9\u5c31\u662f\u4e8b\u52a1\u7684\u539f\u5b50\u6027</li> <li>\u4e00\u81f4\u6027(consistency)\uff1a\u6570\u636e\u5e93\u603b\u662f\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u7684\u72b6\u6001\u8f6c\u6362\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u7684\u72b6\u6001</li> <li>\u9694\u79bb\u6027(isolation)\uff1a\u4e00\u4e2a\u4e8b\u52a1\u6240\u505a\u7684\u4fee\u6539\u5728\u6700\u7ec8\u63d0\u4ea4\u4ee5\u524d\uff0c\u5bf9\u5176\u4ed6\u4e8b\u52a1\u662f\u4e0d\u53ef\u89c1\u7684</li> <li>\u6301\u4e45\u6027(durability)\uff1a\u4e00\u65e6\u4e8b\u52a1\u63d0\u4ea4\uff0c\u5219\u5176\u6240\u505a\u7684\u4fee\u6539\u5c31\u4f1a\u6c38\u4e45\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u4e2d\u3002\u6b64\u65f6\u5373\u4f7f\u7cfb\u7edf\u5d29\u6e83\uff0c\u4fee\u6539\u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u4e22\u5931</li> </ul> <p>\u5b9e\u73b0 </p> <ul> <li>\u539f\u5b50\u6027\uff1a\u901a\u8fc7 undo log \u6765\u4fdd\u8bc1</li> <li>\u4e00\u81f4\u6027\uff1a\u901a\u8fc7\u6301\u4e45\u6027 + \u539f\u5b50\u6027 + \u9694\u79bb\u6027\u6765\u4fdd\u8bc1</li> <li>\u9694\u79bb\u6027\uff1a\u901a\u8fc7 MVCC \u6216\u9501\u673a\u5236\u6765\u4fdd\u8bc1</li> <li>\u6301\u4e45\u6027\uff1a\u901a\u8fc7 redo log \u6765\u4fdd\u8bc1</li> </ul>"},{"location":"Database/MySQL/MySQL/#_6","title":"\u5e76\u53d1\u4e8b\u52a1\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\uff1f","text":"<ul> <li>\u810f\u8bfb\uff1a \u8bfb\u5230\u4e86\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\u3002\u672a\u63d0\u4ea4\u610f\u5473\u7740\u8fd9\u4e9b\u6570\u636e\u53ef\u80fd\u4f1a\u56de\u6eda\uff0c\u4e5f\u5c31\u662f\u53ef\u80fd\u6700\u7ec8\u4e0d\u4f1a\u5b58\u5230\u6570\u636e\u5e93\u4e2d\uff0c\u4e5f\u5c31\u662f\u4e0d\u5b58\u5728\u7684\u6570\u636e\u3002\u8bfb\u5230\u4e86\u4e0d\u4e00\u5b9a\u6700\u7ec8\u5b58\u5728\u7684\u6570\u636e\uff0c\u8fd9\u5c31\u662f\u810f\u8bfb</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a \u4e0d\u53ef\u91cd\u590d\u8bfb\u6307\u7684\u662f\u5728\u540c\u4e00\u4e8b\u52a1\u5185\uff0c\u4e0d\u540c\u7684\u65f6\u523b\u8bfb\u5230\u7684\u540c\u4e00\u6279\u6570\u636e\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u53ef\u80fd\u4f1a\u53d7\u5230\u5176\u4ed6\u4e8b\u52a1\u7684\u5f71\u54cd\u3002\u6bd4\u5982\u5176\u4ed6\u4e8b\u52a1\u6539\u4e86\u8fd9\u6279\u6570\u636e\u5e76\u63d0\u4ea4\u4e86\u3002\u901a\u5e38\u9488\u5bf9\u6570\u636e\u66f4\u65b0\u64cd\u4f5c</li> <li>\u5e7b\u8bfb\uff1a\u5e7b\u8bfb\u662f\u9488\u5bf9\u6570\u636e\u63d2\u5165\u64cd\u4f5c\u6765\u8bf4\u7684\u3002\u5047\u8bbe\u4e8b\u52a1 A \u5bf9\u67d0\u4e9b\u884c\u7684\u5185\u5bb9\u4f5c\u4e86\u66f4\u6539\uff0c\u4f46\u662f\u8fd8\u672a\u63d0\u4ea4\uff0c\u6b64\u65f6\u4e8b\u52a1 B \u63d2\u5165\u4e86\u4e0e\u4e8b\u52a1 A \u66f4\u6539\u524d\u7684\u8bb0\u5f55\u76f8\u540c\u7684\u8bb0\u5f55\u884c\uff0c\u5e76\u4e14\u5728\u4e8b\u52a1 A \u63d0\u4ea4\u4e4b\u524d\u5148\u63d0\u4ea4\u4e86\uff0c\u800c\u8fd9\u65f6\u5728\u4e8b\u52a1 A \u4e2d\u67e5\u8be2\u4f1a\u53d1\u73b0\u597d\u50cf\u521a\u521a\u7684\u66f4\u6539\u5bf9\u4e8e\u67d0\u4e9b\u6570\u636e\u672a\u8d77\u4f5c\u7528\uff0c\u8ba9\u7528\u6237\u611f\u89c9\u51fa\u73b0\u4e86\u5e7b\u89c9\uff0c\u8fd9\u5c31\u53eb\u5e7b\u8bfb\u3002\u7b80\u800c\u8a00\u4e4b\uff0c \u5f53\u4e00\u4e2a\u4e8b\u52a1\u524d\u540e\u4e24\u6b21\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u4e0d\u76f8\u540c\u65f6\uff0c\u5c31\u8ba4\u4e3a\u53d1\u751f\u5e7b\u8bfb </li> </ul>"},{"location":"Database/MySQL/MySQL/#mysql_1","title":"MySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1f","text":"<ul> <li>\u8bfb\u672a\u63d0\u4ea4(read uncommitted)\uff1a\u6307\u4e00\u4e2a\u4e8b\u52a1\u8fd8\u6ca1\u63d0\u4ea4\u65f6\uff0c\u5b83\u505a\u7684\u53d8\u66f4\u5c31\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u770b\u5230</li> <li>\u8bfb\u63d0\u4ea4(read committed)\uff1a\u6307\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\uff0c\u5b83\u505a\u7684\u53d8\u66f4\u624d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u770b\u5230</li> <li>\u53ef\u91cd\u590d\u8bfb(repeatable read)\uff1a\u6307\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u770b\u5230\u7684\u6570\u636e\uff0c\u4e00\u76f4\u8ddf\u8fd9\u4e2a\u4e8b\u52a1\u542f\u52a8\u65f6\u770b\u5230\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\uff0c MySQL InnoDB \u5f15\u64ce\u7684\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b </li> <li>\u4e32\u884c\u5316(serializable)\uff1a\u4f1a \u5bf9\u8bb0\u5f55\u52a0\u4e0a\u8bfb\u5199\u9501\uff0c\u5728\u591a\u4e2a\u4e8b\u52a1\u5bf9\u8fd9\u6761\u8bb0\u5f55\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u53d1\u751f\u4e86\u8bfb\u5199\u51b2\u7a81\u7684\u65f6\u5019\uff0c\u540e\u8bbf\u95ee\u7684\u4e8b\u52a1\u5fc5\u987b\u7b49\u524d\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u5b8c\u6210\uff0c\u624d\u80fd\u7ee7\u7eed\u6267\u884c</li> </ul>"},{"location":"Database/MySQL/MySQL/#_7","title":"\u5728\u4e0d\u540c\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e0b\u4f1a\u53d1\u751f\u4ec0\u4e48\u73b0\u8c61\uff1f","text":"<ul> <li>\u8bfb\u672a\u63d0\u4ea4\uff1a \u53ef\u80fd\u53d1\u751f\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u73b0\u8c61 </li> <li>\u8bfb\u63d0\u4ea4\uff1a \u53ef\u80fd\u53d1\u751f\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u73b0\u8c61\uff0c\u4f46\u662f\u4e0d\u53ef\u80fd\u53d1\u751f\u810f\u8bfb\u73b0\u8c61</li> <li>\u53ef\u91cd\u590d\u8bfb\uff1a \u53ef\u80fd\u53d1\u751f\u5e7b\u8bfb\u73b0\u8c61\uff0c\u4f46\u662f\u4e0d\u53ef\u80fd\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\u73b0\u8c61</li> <li>\u4e32\u884c\u5316\uff1a\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u73b0\u8c61 \u90fd\u4e0d\u53ef\u80fd\u53d1\u751f </li> </ul> <p>\ud83d\udca1 \u63d0\u793a  - \u89e3\u51b3\u810f\u8bfb\u73b0\u8c61\uff1a\u5347\u7ea7\u5230\u8bfb\u63d0\u4ea4\u4ee5\u4e0a\u7684\u9694\u79bb\u7ea7\u522b - \u89e3\u51b3\u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a\u5347\u7ea7\u5230\u53ef\u91cd\u590d\u8bfb\u7684\u9694\u79bb\u7ea7\u522b - \u89e3\u51b3\u5e7b\u8bfb\uff1a \u4e0d\u5efa\u8bae \u5c06\u9694\u79bb\u7ea7\u522b\u5347\u7ea7\u5230\u4e32\u884c\u5316\uff0c\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5bfc\u81f4\u6570\u636e\u5e93\u5728 \u5e76\u53d1\u4e8b\u52a1\u65f6\u6027\u80fd\u5f88\u5dee </p>"},{"location":"Database/MySQL/MySQL/#mvcc","title":"MVCC \u5b9e\u73b0\u539f\u7406\uff1f","text":"<p>Read View  \u6709\u56db\u4e2a\u91cd\u8981\u7684\u5b57\u6bb5\uff1a</p> <ul> <li>m_ids \uff1a\u6307\u7684\u662f\u5728\u521b\u5efa Read View \u65f6\uff0c\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u6d3b\u8dc3\u4e8b\u52a1\u7684\u4e8b\u52a1 id \u5217\u8868\uff0c\u6d3b\u8dc3\u4e8b\u52a1\u6307\u7684\u5c31\u662f\uff0c\u542f\u52a8\u4e86\u4f46\u8fd8\u6ca1\u63d0\u4ea4\u7684\u4e8b\u52a1</li> <li>min_trx_id \uff1a\u6307\u7684\u662f\u5728\u521b\u5efa Read View \u65f6\uff0c\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u6d3b\u8dc3\u4e8b\u52a1\u4e2d\u4e8b\u52a1 id \u6700\u5c0f\u7684\u4e8b\u52a1\uff0c\u4e5f\u5c31\u662f m_ids \u7684\u6700\u5c0f\u503c</li> <li>max_trx_id \uff1a\u521b\u5efa Read View \u65f6\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u5e94\u8be5\u7ed9\u4e0b\u4e00\u4e2a\u4e8b\u52a1\u7684 id \u503c\uff0c\u4e5f\u5c31\u662f\u5168\u5c40\u4e8b\u52a1\u4e2d\u6700\u5927\u7684\u4e8b\u52a1 id \u503c + 1</li> <li>creator_trx_id \uff1a\u6307\u7684\u662f\u521b\u5efa\u8be5 Read View \u7684\u4e8b\u52a1\u7684\u4e8b\u52a1 id</li> </ul> <p>\u5bf9\u4e8e\u4f7f\u7528 InnoDB \u5b58\u50a8\u5f15\u64ce\u7684\u6570\u636e\u5e93\u8868\uff0c\u5b83\u7684\u805a\u7c07\u7d22\u5f15\u8bb0\u5f55\u4e2d\u90fd\u5305\u542b\u4e0b\u9762\u4e24\u4e2a\u9690\u85cf\u5217\uff1a</p> <ul> <li>trx_id\uff1a\u5f53\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u67d0\u6761\u805a\u7c07\u7d22\u5f15\u8bb0\u5f55\u8fdb\u884c\u6539\u52a8\u65f6\uff0c\u5c31\u4f1a\u628a\u8be5\u4e8b\u52a1\u7684\u4e8b\u52a1 id \u8bb0\u5f55\u5728 trx_id \u9690\u85cf\u5217\u91cc\u3002</li> <li>roll_pointer\uff1a\u6bcf\u6b21\u5bf9\u67d0\u6761\u805a\u7c07\u7d22\u5f15\u8bb0\u5f55\u8fdb\u884c\u6539\u52a8\u65f6\uff0c\u90fd\u4f1a\u628a\u65e7\u7248\u672c\u7684\u8bb0\u5f55\u5199\u5165\u5230 undo \u65e5\u5fd7\u4e2d\uff0c\u7136\u540e\u8fd9\u4e2a\u9690\u85cf\u5217\u662f\u4e2a\u6307\u9488\uff0c\u6307\u5411\u6bcf\u4e00\u4e2a\u65e7\u7248\u672c\u8bb0\u5f55\uff0c\u4e8e\u662f\u5c31\u53ef\u4ee5\u901a\u8fc7\u5b83\u627e\u5230\u4fee\u6539\u524d\u7684\u8bb0\u5f55</li> </ul> <p>\u4e00\u4e2a\u4e8b\u52a1\u53bb\u8bbf\u95ee\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u9664\u4e86\u81ea\u5df1\u7684\u66f4\u65b0\u8bb0\u5f55\u603b\u662f\u53ef\u89c1\u4e4b\u5916\uff0c\u8fd8\u6709\u8fd9\u51e0\u79cd\u60c5\u51b5\uff1a</p> <ul> <li>\u5982\u679c\u8bb0\u5f55\u7684 trx_id \u503c\u5c0f\u4e8e Read View \u4e2d\u7684 min_trx_id \u503c\uff1a\u8868\u793a\u8fd9\u4e2a\u7248\u672c\u7684\u8bb0\u5f55\u662f\u5728\u521b\u5efa Read View \u524d\u5df2\u7ecf\u63d0\u4ea4\u7684\u4e8b\u52a1\u751f\u6210\u7684\uff0c\u6240\u4ee5\u8be5\u7248\u672c\u7684\u8bb0\u5f55 \u5bf9\u5f53\u524d\u4e8b\u52a1\u53ef\u89c1 </li> <li>\u5982\u679c\u8bb0\u5f55\u7684 trx_id \u503c\u5927\u4e8e\u7b49\u4e8e Read View \u4e2d\u7684 max_trx_id \u503c\uff1a\u8868\u793a\u8fd9\u4e2a\u7248\u672c\u7684\u8bb0\u5f55\u662f\u5728\u521b\u5efa Read View \u540e\u624d\u542f\u52a8\u7684\u4e8b\u52a1\u751f\u6210\u7684\uff0c\u6240\u4ee5\u8be5\u7248\u672c\u7684\u8bb0\u5f55 \u5bf9\u5f53\u524d\u4e8b\u52a1\u4e0d\u53ef\u89c1 </li> <li>\u5982\u679c\u8bb0\u5f55\u7684 trx_id \u503c\u5728 Read View \u7684 min trx id \u548c max trx id \u4e4b\u95f4\uff0c\u9700\u8981\u5224\u65ad trx_id \u662f\u5426\u5728 m_ids \u5217\u8868\u4e2d\uff1a</li> <li>\u5982\u679c\u8bb0\u5f55\u7684 trx_id \u5728 m_ids \u5217\u8868\u4e2d\uff1a\u8868\u793a\u751f\u6210\u8be5\u7248\u672c\u8bb0\u5f55\u7684\u6d3b\u8dc3\u4e8b\u52a1\u4f9d\u7136\u6d3b\u8dc3\u7740(\u8fd8\u6ca1\u63d0\u4ea4\u4e8b\u52a1)\uff0c\u6240\u4ee5\u8be5\u7248\u672c\u7684\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1\u4e0d\u53ef\u89c1</li> <li>\u5982\u679c\u8bb0\u5f55\u7684 trx_id \u4e0d\u5728 m_ids \u5217\u8868\u4e2d\uff1a\u8868\u793a\u751f\u6210\u8be5\u7248\u672c\u8bb0\u5f55\u7684\u6d3b\u8dc3\u4e8b\u52a1\u5df2\u7ecf\u88ab\u63d0\u4ea4\uff0c\u6240\u4ee5\u8be5\u7248\u672c\u7684\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1\u53ef\u89c1</li> </ul>"},{"location":"Database/MySQL/MySQL/#_8","title":"\u5e7b\u8bfb\u662f\u5982\u4f55\u89e3\u51b3\u7684\uff1f","text":"<ul> <li>\u5feb\u7167\u8bfb(\u666e\u901a select \u8bed\u53e5)\uff1a\u662f \u901a\u8fc7 MVCC \u65b9\u5f0f \u89e3\u51b3\u4e86\u5e7b\u8bfb\uff0c\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u770b\u5230\u7684\u6570\u636e\uff0c\u4e00\u76f4\u8ddf\u8fd9\u4e2a\u4e8b\u52a1\u542f\u52a8\u65f6\u770b\u5230\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\uff0c\u5373\u4f7f\u4e2d\u9014\u6709\u5176\u4ed6\u4e8b\u52a1\u63d2\u5165\u4e86\u4e00\u6761\u6570\u636e\uff0c\u67e5\u8be2\u4e0d\u51fa\u6765\u8fd9\u6761\u6570\u636e\u7684</li> <li>\u5f53\u524d\u8bfb(select ... for update \u7b49\u8bed\u53e5)\uff1a\u662f \u901a\u8fc7 next-key lock(\u8bb0\u5f55\u9501 + \u95f4\u9699\u9501)\u65b9\u5f0f \u89e3\u51b3\u4e86\u5e7b\u8bfb\uff0c\u56e0\u4e3a\u5f53\u6267\u884c select ... for update \u8bed\u53e5\u7684\u65f6\u5019\u4f1a\u52a0\u4e0a next-key lock\uff0c\u5982\u679c\u6709\u5176\u4ed6\u4e8b\u52a1\u5728 next-key lock \u9501\u8303\u56f4\u5185\u63d2\u5165\u4e86\u4e00\u6761\u8bb0\u5f55\uff0c\u90a3\u4e48\u8fd9\u4e2a\u63d2\u5165\u8bed\u53e5\u5c31\u4f1a\u88ab\u963b\u585e\uff0c\u65e0\u6cd5\u6210\u529f\u63d2\u5165</li> </ul> <p>\u5931\u8d25\u7684\u60c5\u51b5 </p> <ul> <li>\u5bf9\u4e8e\u5feb\u7167\u8bfb\uff1aMVCC \u5e76\u4e0d\u80fd\u5b8c\u5168\u907f\u514d\u5e7b\u8bfb\u73b0\u8c61\u3002\u5f53\u4e8b\u52a1 A \u66f4\u65b0\u4e86\u4e00\u6761\u4e8b\u52a1 B \u63d2\u5165\u7684\u8bb0\u5f55\uff0c\u90a3\u4e48\u4e8b\u52a1 A \u524d\u540e\u4e24\u6b21\u67e5\u8be2\u7684\u8bb0\u5f55\u6761\u76ee\u5c31\u4e0d\u4e00\u6837\u4e86\uff0c\u6240\u4ee5\u5c31\u53d1\u751f\u5e7b\u8bfb</li> <li>\u5bf9\u4e8e\u5f53\u524d\u8bfb\uff1a\u5982\u679c\u4e8b\u52a1\u5f00\u542f\u540e\uff0c\u5e76\u6ca1\u6709\u6267\u884c\u5f53\u524d\u8bfb\uff0c\u800c\u662f\u5148\u5feb\u7167\u8bfb\uff0c\u7136\u540e\u8fd9\u671f\u95f4\u5982\u679c\u5176\u4ed6\u4e8b\u52a1\u63d2\u5165\u4e86\u4e00\u6761\u8bb0\u5f55\uff0c\u90a3\u4e48\u4e8b\u52a1\u540e\u7eed\u4f7f\u7528\u5f53\u524d\u8bfb\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u53d1\u73b0\u4e24\u6b21\u67e5\u8be2\u7684\u8bb0\u5f55\u6761\u76ee\u5c31\u4e0d\u4e00\u6837\u4e86\uff0c\u6240\u4ee5\u5c31\u53d1\u751f\u5e7b\u8bfb</li> <li>MySQL \u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u5e76\u6ca1\u6709\u5f7b\u5e95\u89e3\u51b3\u5e7b\u8bfb\uff0c\u53ea\u662f\u5f88\u5927\u7a0b\u5ea6\u4e0a\u907f\u514d\u4e86\u5e7b\u8bfb\u73b0\u8c61\u7684\u53d1\u751f </li> <li>\u5c3d\u91cf\u5728\u5f00\u542f\u4e8b\u52a1\u4e4b\u540e\uff0c\u9a6c\u4e0a\u6267\u884c select ... for update \u8fd9\u7c7b\u5f53\u524d\u8bfb\u7684\u8bed\u53e5\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5bf9\u8bb0\u5f55\u52a0 next-key lock\uff0c\u4ece\u800c\u907f\u514d\u5176\u4ed6\u4e8b\u52a1\u63d2\u5165\u4e00\u6761\u65b0\u8bb0\u5f55</li> </ul>"},{"location":"Database/MySQL/MySQL/#_9","title":"\u8bfb\u63d0\u4ea4\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f","text":"<p>\u8bfb\u63d0\u4ea4\u9694\u79bb\u7ea7\u522b\u662f\u5728 \u6bcf\u6b21\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684 Read View\u3002\u4e8b\u52a1\u671f\u95f4\u7684\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u6761\u6570\u636e\uff0c\u524d\u540e\u4e24\u6b21\u8bfb\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e0d\u4e00\u81f4\uff0c\u56e0\u4e3a\u53ef\u80fd\u8fd9\u671f\u95f4 \u53e6\u5916\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u4e86\u8be5\u8bb0\u5f55\uff0c\u5e76\u63d0\u4ea4\u4e86\u4e8b\u52a1\u3002</p>"},{"location":"Database/MySQL/MySQL/#_10","title":"\u53ef\u91cd\u590d\u8bfb\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f","text":"<p>\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u662f\u5728 \u542f\u52a8\u4e8b\u52a1\u65f6\u751f\u6210\u4e00\u4e2a Read View\uff0c\u7136\u540e\u6574\u4e2a\u4e8b\u52a1\u671f\u95f4\u90fd\u5728\u7528\u8fd9\u4e2a Read View\u3002\u4e8b\u52a1\u671f\u95f4\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u6761\u6570\u636e\uff0c\u524d\u540e\u4e24\u6b21\u8bfb\u7684\u6570\u636e\u82e5\u88ab\u4fee\u6539\u8fc7\uff0c\u5219\u4f1a\u56e0\u4e3a\u8bb0\u5f55\u4e2d\u7684  trx_id  \u4ecd\u7136\u5728  m_ids  \u8303\u56f4\u5185\uff0c\u5bfc\u81f4\u7a0b\u5e8f\u901a\u8fc7  roll_pointer  \u83b7\u53d6\u6240\u6307\u5411\u7684\u524d\u4e00\u4e2a\u7248\u672c\u5bf9\u5e94\u7684\u8bb0\u5f55\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6700\u7ec8\u627e\u5230\u4e0d\u5728 m_ids \u961f\u5217\u4e2d\u7684\u4e8b\u52a1\u5bf9\u5e94\u7684\u8bb0\u5f55\u3002\u4e0d\u4f1a\u5bfc\u81f4\u6b63\u5728\u6267\u884c\u4e8b\u52a1\u5728\u540c\u4e00\u4f4d\u7f6e\u8bfb\u5230\u4e0d\u540c\u7684\u8bb0\u5f55\u3002</p>"},{"location":"Database/MySQL/MySQL/#_11","title":"\ud83d\udd35 \u7d22\u5f15","text":""},{"location":"Database/MySQL/MySQL/#mysql-b","title":"MySQL \u4e3a\u4ec0\u4e48\u4f7f\u7528 B+ \u6811\u6765\u4f5c\u7d22\u5f15\uff0c\u5b83\u7684\u4f18\u52bf\u4ec0\u4e48\uff1f","text":""},{"location":"Database/MySQL/MySQL/#_12","title":"\u7279\u6027\u548c\u5b9a\u4e49","text":"<p>B+ Tree \u662f\u4e00\u79cd\u591a\u53c9\u6811\uff0c \u53f6\u5b50\u8282\u70b9\u624d\u5b58\u653e\u6570\u636e\uff0c\u975e\u53f6\u5b50\u8282\u70b9\u53ea\u5b58\u653e\u7d22\u5f15\uff0c\u6bcf\u4e2a\u8282\u70b9\u91cc\u7684\u6570\u636e\u662f\u6309\u4e3b\u952e\u987a\u5e8f\u5b58\u653e\u7684\u3002\u5728\u53f6\u5b50\u8282\u70b9\u4e2d\uff0c\u5305\u62ec\u4e86\u6240\u6709\u7684\u7d22\u5f15\u503c\u4fe1\u606f\uff0c\u5e76\u4e14\u6bcf\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\u90fd\u6307\u5411\u4e0b\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\uff0c\u5f62\u6210\u4e00\u4e2a\u94fe\u8868\u3002B+ Tree \u5b58\u50a8\u5343\u4e07\u7ea7\u7684\u6570\u636e\u53ea\u9700\u8981 3-4 \u5c42\u9ad8\u5ea6\u5c31\u53ef\u4ee5\u6ee1\u8db3\uff0c\u5343\u4e07\u7ea7\u7684\u8868\u67e5\u8be2\u76ee\u6807\u6570\u636e\u6700\u591a\u9700\u8981 3-4 \u6b21\u786c\u76d8 I/O\u3002</p>"},{"location":"Database/MySQL/MySQL/#b-b","title":"B+ \u6811\u548c B \u6811\u76f8\u6bd4\uff1a","text":"<ul> <li>B+ \u6811\u6240\u6709\u5173\u952e\u7801\u90fd\u5b58\u653e\u5728\u53f6\u8282\u70b9\u4e2d\uff0c\u4e0a\u5c42\u7684\u975e\u53f6\u8282\u70b9\u7684\u5173\u952e\u7801\u662f\u5176\u5b50\u6811\u4e2d\u6700\u5c0f\u5173\u952e\u7801\u7684\u590d\u5199</li> <li>B+ \u6811\u53f6\u8282\u70b9\u5305\u542b\u4e86\u5168\u90e8\u5173\u952e\u7801\u53ca\u6307\u5411\u76f8\u5e94\u6570\u636e\u8bb0\u5f55\u5b58\u653e\u5730\u5740\u7684\u6307\u9488\uff0c\u4e14\u53f6\u8282\u70b9\u672c\u8eab\u6309\u5173\u952e\u7801\u4ece\u5c0f\u5230\u5927\u987a\u5e8f\u8fde\u63a5</li> <li>B+ \u6811\u5728\u641c\u7d22\u8fc7\u7a0b\u4e2d\uff0c \u5982\u679c\u67e5\u8be2\u548c\u5185\u90e8\u8282\u70b9\u7684\u5173\u952e\u5b57\u4e00\u81f4\uff0c\u90a3\u4e48\u641c\u7d22\u8fc7\u7a0b\u4e0d\u505c\u6b62\uff0c\u800c\u662f\u7ee7\u7eed\u5411\u4e0b\u641c\u7d22\u8fd9\u4e2a\u5206\u652f </li> </ul>"},{"location":"Database/MySQL/MySQL/#_13","title":"\u4f18\u52bf","text":"<ul> <li>\u5355\u70b9\u67e5\u8be2\uff1aB \u6811\u8fdb\u884c\u5355\u4e2a\u7d22\u5f15\u67e5\u8be2\u65f6\uff0c\u6700\u5feb\u53ef\u4ee5\u5728 O(1) \u7684\u65f6\u95f4\u4ee3\u4ef7\u5185\u5c31\u67e5\u5230\u3002\u4ece\u5e73\u5747\u65f6\u95f4\u4ee3\u4ef7\u6765\u770b\uff0c \u4f1a\u6bd4 B+ \u6811\u7a0d\u5feb\u4e00\u4e9b\u3002\u4f46\u662f  B \u6811\u7684\u67e5\u8be2\u6ce2\u52a8\u4f1a\u6bd4\u8f83\u5927\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u8282\u70b9\u5373\u5b58\u7d22\u5f15\u53c8\u5b58\u8bb0\u5f55\uff0c\u6240\u4ee5\u6709\u65f6\u5019\u8bbf\u95ee\u5230\u4e86\u975e\u53f6\u5b50\u8282\u70b9\u5c31\u53ef\u4ee5\u627e\u5230\u7d22\u5f15\uff0c\u800c\u6709\u65f6\u9700\u8981\u8bbf\u95ee\u5230\u53f6\u5b50\u8282\u70b9\u624d\u80fd\u627e\u5230\u7d22\u5f15\u3002B+ \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u4e0d\u5b58\u653e\u5b9e\u9645\u7684\u8bb0\u5f55\u6570\u636e\uff0c\u4ec5\u5b58\u653e\u7d22\u5f15\uff0c\u6570\u636e\u91cf\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0cB+ \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ef\u4ee5\u5b58\u653e\u66f4\u591a\u7684\u7d22\u5f15\uff0c\u67e5\u8be2\u5e95\u5c42\u8282\u70b9\u7684 \u786c\u76d8 I/O \u6b21\u6570\u4f1a\u66f4\u5c11 </li> <li>\u63d2\u5165\u548c\u5220\u9664\u6548\u7387\uff1aB+ \u6811\u6709\u5927\u91cf\u7684\u5197\u4f59\u8282\u70b9\uff0c\u5220\u9664\u4e00\u4e2a\u8282\u70b9\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u76f4\u63a5\u4ece\u53f6\u5b50\u8282\u70b9\u4e2d\u5220\u9664\uff0c\u751a\u81f3\u53ef\u4ee5\u4e0d\u52a8\u975e\u53f6\u5b50\u8282\u70b9\uff0c\u5220\u9664\u975e\u5e38\u5feb\u3002B+ \u6811\u7684\u63d2\u5165\u4e5f\u662f\u4e00\u6837\uff0c\u6709\u5197\u4f59\u8282\u70b9\uff0c\u63d2\u5165\u53ef\u80fd\u5b58\u5728\u8282\u70b9\u7684\u5206\u88c2(\u5982\u679c\u8282\u70b9\u9971\u548c)\uff0c\u4f46\u662f\u6700\u591a\u53ea\u6d89\u53ca\u6811\u7684\u4e00\u6761\u8def\u5f84\u3002B \u6811\u6ca1\u6709\u5197\u4f59\u8282\u70b9\uff0c\u63d2\u5165\u6216\u5220\u9664\u8282\u70b9\u7684\u65f6\u5019\u975e\u5e38\u590d\u6742\uff0c\u53ef\u80fd\u6d89\u53ca\u590d\u6742\u7684\u6811\u7684\u53d8\u5f62</li> <li>\u8303\u56f4\u67e5\u8be2\uff1aB+ \u6811\u6240\u6709\u53f6\u5b50\u8282\u70b9\u95f4\u6709\u4e00\u4e2a\u94fe\u8868\u8fdb\u884c\u8fde\u63a5\uff0c\u800c B \u6811\u6ca1\u6709\u5c06\u6240\u6709\u53f6\u5b50\u8282\u70b9\u7528\u94fe\u8868\u4e32\u8054\u8d77\u6765\u7684\u7ed3\u6784\uff0c\u56e0\u6b64\u53ea\u80fd\u901a\u8fc7\u6811\u7684\u904d\u5386\u6765\u5b8c\u6210\u8303\u56f4\u67e5\u8be2\uff0c \u8303\u56f4\u67e5\u8be2\u6548\u7387\u4e0d\u5982 B+ \u6811\u3002B+ \u6811\u7684\u63d2\u5165\u548c\u5220\u9664\u8303\u56f4\u67e5\u8be2\u6548\u7387\u66f4\u9ad8\u3002\u5b58\u5728\u5927\u91cf\u8303\u56f4\u68c0\u7d22\u7684\u573a\u666f\u9002\u5408\u4f7f\u7528 B+ \u6811\uff0c\u6bd4\u5982\u6570\u636e\u5e93\u3002\u800c\u5bf9\u4e8e\u5927\u91cf\u7684\u5355\u4e2a\u7d22\u5f15\u67e5\u8be2\u7684\u573a\u666f\u53ef\u4ee5\u8003\u8651 B \u6811\uff0c\u6bd4\u5982 nosql \u7684 MongoDB</li> </ul>"},{"location":"Database/MySQL/MySQL/#_14","title":"\u5bf9\u6bd4","text":"<ul> <li>B+ Tree \u5bf9\u6bd4 B Tree\uff1aB+Tree \u53ea\u5728\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u6570\u636e\uff0c\u800c B \u6811 \u7684\u975e\u53f6\u5b50\u8282\u70b9\u4e5f\u8981\u5b58\u50a8\u6570\u636e\uff0c\u6240\u4ee5 B+Tree \u7684\u5355\u4e2a\u8282\u70b9\u7684\u6570\u636e\u91cf\u66f4\u5c0f\uff0c\u5728\u76f8\u540c\u7684\u786c\u76d8 I/O \u6b21\u6570\u4e0b\uff0c\u5c31\u80fd\u67e5\u8be2\u66f4\u591a\u7684\u8282\u70b9\u3002B+ Tree \u53f6\u5b50\u8282\u70b9\u91c7\u7528\u7684\u662f\u53cc\u94fe\u8868\u8fde\u63a5\uff0c\u9002\u5408 MySQL \u4e2d\u5e38\u89c1\u7684\u57fa\u4e8e\u8303\u56f4\u7684\u987a\u5e8f\u67e5\u627e\uff0c\u800c B \u6811\u65e0\u6cd5\u505a\u5230\u8fd9\u4e00\u70b9</li> <li>B+ Tree \u5bf9\u6bd4 \u4e8c\u53c9\u6811\uff1a\u5bf9\u4e8e\u6709 N \u4e2a\u53f6\u5b50\u8282\u70b9\u7684 B+ Tree\uff0c \u5176\u641c\u7d22\u590d\u6742\u5ea6\u4e3a \\(O(log_dN)\\)\uff0c\u5176\u4e2d d \u8868\u793a\u8282\u70b9\u5141\u8bb8\u7684\u6700\u5927\u5b50\u8282\u70b9\u4e2a\u6570\u3002\u5728\u5b9e\u9645\u7684\u5e94\u7528\u5f53\u4e2d\uff0c d \u503c\u662f\u5927\u4e8e 100 \u7684\uff0c\u5373\u4f7f\u6570\u636e\u8fbe\u5230\u5343\u4e07\u7ea7\u522b\u65f6\uff0cB+ Tree \u7684\u9ad8\u5ea6\u4f9d\u7136\u7ef4\u6301\u5728 3~4 \u5c42\u5de6\u53f3\uff0c\u4e00\u6b21\u6570\u636e\u67e5\u8be2\u64cd\u4f5c\u53ea\u9700\u8981\u505a 3~4 \u6b21\u7684\u786c\u76d8 I/O \u64cd\u4f5c\u5c31\u80fd\u67e5\u8be2\u5230\u3002\u4e8c\u53c9\u6811\u7684\u6bcf\u4e2a\u7236\u8282\u70b9\u7684\u513f\u5b50\u8282\u70b9\u4e2a\u6570\u662f 2 \u4e2a\uff0c\u610f\u5473\u7740 \u5176\u641c\u7d22\u590d\u6742\u5ea6\u4e3a \\(O(log_2N)\\)\uff0c\u4e8c\u53c9\u6811\u68c0\u7d22\u5230\u76ee\u6807\u6570\u636e\u6240\u7ecf\u5386\u7684 \u786c\u76d8 I/O \u6b21\u6570\u8981\u66f4\u591a </li> <li>B+ Tree \u5bf9\u6bd4 Hash\uff1aHash \u5728\u505a\u7b49\u503c\u67e5\u8be2\u7684\u65f6\u5019\u6548\u7387\u9ad8\uff0c\u641c\u7d22\u590d\u6742\u5ea6\u4e3a O(1)\u3002\u4f46\u662f  Hash \u8868\u4e0d\u9002\u5408\u505a\u8303\u56f4\u67e5\u8be2 </li> </ul>"},{"location":"Database/MySQL/MySQL/#_15","title":"\u7d22\u5f15\u6709\u54ea\u4e9b\u79cd\u7c7b\uff1f","text":"<ul> <li>\u5355\u503c\u7d22\u5f15\uff1a\u5373\u4e00\u4e2a\u7d22\u5f15\u53ea\u5305\u542b\u5355\u4e2a\u5217\uff0c\u4e00\u4e2a\u8868\u53ef\u4ee5\u6709\u591a\u4e2a\u5355\u5217\u7d22\u5f15</li> <li>\u5efa\u8868\u65f6\u52a0\u4e0a  key(\u5217\u540d)  \u6307\u5b9a</li> <li>\u5355\u72ec\u521b\u5efa\uff1a create index \u7d22\u5f15\u540d on \u8868\u540d(\u5217\u540d) </li> <li>\u5355\u72ec\u521b\u5efa\uff1a alter table \u8868\u540d add index \u7d22\u5f15\u540d(\u5217\u540d) </li> <li>\u552f\u4e00\u7d22\u5f15\uff1a\u7d22\u5f15\u5217\u7684\u503c\u5fc5\u987b\u552f\u4e00\uff0c\u4f46 \u5141\u8bb8\u6709 null \u4e14 null \u53ef\u4ee5\u51fa\u73b0\u591a\u6b21 </li> <li>\u5efa\u8868\u65f6\u52a0\u4e0a  unique(\u5217\u540d)  \u6307\u5b9a</li> <li>\u5355\u72ec\u521b\u5efa\uff1a create unique index idx \u8868\u540d(\u5217\u540d) on \u8868\u540d(\u5217\u540d) </li> <li>\u5355\u72ec\u521b\u5efa\uff1a alter table \u8868\u540d add unique \u7d22\u5f15\u540d(\u5217\u540d) </li> <li>\u4e3b\u952e\u7d22\u5f15\uff1a\u8bbe\u5b9a\u4e3a\u4e3b\u952e\u540e\u6570\u636e\u5e93\u4f1a\u81ea\u52a8\u5efa\u7acb\u7d22\u5f15\uff0cinnodb \u4e3a\u805a\u7c07\u7d22\u5f15\uff0c\u503c \u5fc5\u987b\u552f\u4e00\u4e14\u4e0d\u80fd\u4e3a null </li> <li>\u5efa\u8868\u65f6\u52a0\u4e0a  primary key(\u5217\u540d)  \u6307\u5b9a</li> <li>\u590d\u5408\u7d22\u5f15\uff1a\u5373\u4e00\u4e2a\u7d22\u5f15\u5305\u542b\u591a\u4e2a\u5217</li> <li>\u5efa\u8868\u65f6\u52a0\u4e0a  key(\u5217\u540d\u5217\u8868)  \u6307\u5b9a</li> <li>\u5355\u72ec\u521b\u5efa\uff1a create index \u7d22\u5f15\u540d on \u8868\u540d(\u5217\u540d\u5217\u8868) </li> <li>\u5355\u72ec\u521b\u5efa\uff1a alter table \u8868\u540d add index \u7d22\u5f15\u540d(\u5217\u540d\u5217\u8868) </li> <li>\u524d\u7f00\u7d22\u5f15\uff1a\u5bf9\u5b57\u7b26\u7c7b\u578b\u5b57\u6bb5\u7684\u524d\u51e0\u4e2a\u5b57\u7b26\u5efa\u7acb\u7684\u7d22\u5f15\uff0c\u800c\u4e0d\u662f\u5728\u6574\u4e2a\u5b57\u6bb5\u4e0a\u5efa\u7acb\u7684\u7d22\u5f15\uff0c\u524d\u7f00\u7d22\u5f15\u53ef\u4ee5\u5efa\u7acb\u5728\u5b57\u6bb5\u7c7b\u578b\u4e3a  char\u3001 varchar\u3001binary\u3001varbinary  \u7684\u5217\u4e0a\u3002\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u51cf\u5c11\u7d22\u5f15\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u63d0\u5347\u67e5\u8be2\u6548\u7387</li> <li>\u5355\u72ec\u521b\u5efa\uff1a alter table \u8868\u540d add index \u7d22\u5f15\u540d(\u5217\u540d(\u7d22\u5f15\u957f\u5ea6)) </li> </ul>"},{"location":"Database/MySQL/MySQL/#_16","title":"\u4ec0\u4e48\u662f\u6700\u5de6\u5339\u914d\u539f\u5219\uff1f","text":"<p>\u4f7f\u7528\u8054\u5408\u7d22\u5f15\u65f6\uff0c\u5b58\u5728\u6700\u5de6\u5339\u914d\u539f\u5219\uff0c\u4e5f\u5c31\u662f\u6309\u7167\u6700\u5de6\u4f18\u5148\u7684\u65b9\u5f0f\u8fdb\u884c\u7d22\u5f15\u7684\u5339\u914d\u3002\u4f7f\u7528\u8054\u5408\u7d22\u5f15\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019\uff0c\u5982\u679c\u4e0d\u9075\u5faa\u6700\u5de6\u5339\u914d\u539f\u5219\uff0c\u8054\u5408\u7d22\u5f15\u4f1a\u5931\u6548\u3002</p> <p>\u4ee5\u8054\u5408\u7d22\u5f15(a, b, c)\u4e3a\u4f8b </p> <p>\u56e0\u4e3a (a, b, c) \u8054\u5408\u7d22\u5f15\u662f\u5148\u6309 a \u6392\u5e8f\uff1b\u5728 a \u76f8\u540c\u7684\u60c5\u51b5\u518d\u6309 b \u6392\u5e8f\uff1b\u5728 b \u76f8\u540c\u7684\u60c5\u51b5\u518d\u6309 c \u6392\u5e8f\u3002\u6240\u4ee5  b \u548c c \u662f\u5168\u5c40\u65e0\u5e8f\uff0c\u5c40\u90e8\u76f8\u5bf9\u6709\u5e8f\u7684\uff0c\u8fd9\u6837\u5728\u6ca1\u6709\u9075\u5faa\u6700\u5de6\u5339\u914d\u539f\u5219\u7684\u60c5\u51b5\u4e0b\uff0c\u662f\u65e0\u6cd5\u5229\u7528\u5230\u7d22\u5f15\u7684\u3002 \u5229\u7528\u7d22\u5f15\u7684\u524d\u63d0\u662f\u7d22\u5f15\u91cc\u7684 key \u662f\u6709\u5e8f\u7684 </p> <p>\u8054\u5408\u7d22\u5f15\u7684\u6700\u5de6\u5339\u914d\u539f\u5219\u5728\u9047\u5230\u8303\u56f4\u67e5\u8be2(\u5982 &gt;\u3001&lt;)\u7684\u65f6\u5019\u505c\u6b62\u5339\u914d\uff0c\u8303\u56f4\u67e5\u8be2\u7684\u5b57\u6bb5\u53ef\u4ee5\u7528\u5230\u8054\u5408\u7d22\u5f15\uff0c\u5728\u8303\u56f4\u67e5\u8be2\u5b57\u6bb5\u7684\u540e\u9762\u7684\u5b57\u6bb5\u65e0\u6cd5\u7528\u5230\u8054\u5408\u7d22\u5f15\u3002</p> <p>\u6ce8\u610f\uff1a\u5bf9\u4e8e  &gt;=\u3001&lt;=\u3001BETWEEN\u3001like  \u524d\u7f00\u5339\u914d\u7684\u8303\u56f4\u67e5\u8be2\u5e76\u4e0d\u4f1a\u505c\u6b62\u5339\u914d</p>"},{"location":"Database/MySQL/MySQL/#_17","title":"\u7d22\u5f15\u533a\u5206\u5ea6\uff1f","text":"<p>\u67e5\u8be2\u4f18\u5316\u5668\u53d1\u73b0\u67d0\u4e2a\u503c\u51fa\u73b0\u5728\u8868\u7684\u6570\u636e\u884c\u4e2d\u7684\u767e\u5206\u6bd4(\u60ef\u7528\u7684\u767e\u5206\u6bd4\u754c\u7ebf\u662f\"30%\")\u5f88\u9ad8\u7684\u65f6\u5019\u4f1a\u5ffd\u7565\u7d22\u5f15\uff0c\u8fdb\u884c\u5168\u8868\u626b\u63cf\u3002</p>"},{"location":"Database/MySQL/MySQL/#_18","title":"\u8054\u5408\u7d22\u5f15\u5982\u4f55\u8fdb\u884c\u6392\u5e8f\uff1f","text":"<p>\u7ed9\u7d22\u5f15\u5217\u548c\u6392\u5e8f\u5217\u5efa\u7acb\u4e00\u4e2a\u8054\u5408\u7d22\u5f15\uff0c\u5728\u67e5\u8be2\u65f6\u67e5\u5230\u4e00\u4e2a\u7d22\u5f15\u4e4b\u540e\uff0c\u8fd8\u8981\u5bf9 create_time \u6392\u5e8f\uff0c\u7528\u5230\u6587\u4ef6\u6392\u5e8f filesort\u3002\u5728 SQL \u6267\u884c\u8ba1\u5212\u4e2d\uff0cExtra \u5217\u4f1a\u51fa\u73b0 Using filesort\u3002</p> <p>\u53ef\u4ee5\u5229\u7528\u7d22\u5f15\u7684\u6709\u5e8f\u6027\uff0c\u5728\u6392\u5e8f\u5217\u5efa\u7acb\u8054\u5408\u7d22\u5f15\uff0c\u8fd9\u6837\u6839\u636e status \u7b5b\u9009\u540e\u7684\u6570\u636e\u5c31\u662f\u6309\u7167 create_time \u6392\u597d\u5e8f\u7684\uff0c\u907f\u514d\u5728\u6587\u4ef6\u6392\u5e8f\uff0c\u63d0\u9ad8\u4e86\u67e5\u8be2\u6548\u7387\u3002</p>"},{"location":"Database/MySQL/MySQL/#_19","title":"\u4f7f\u7528\u7d22\u5f15\u4f1a\u6709\u54ea\u4e9b\u7f3a\u9677\uff1f","text":"<p>\u867d\u7136\u7d22\u5f15\u5927\u5927\u63d0\u9ad8\u4e86\u67e5\u8be2\u901f\u5ea6\uff0c\u540c\u65f6\u5374\u4f1a \u964d\u4f4e\u66f4\u65b0\u8868\u7684\u901f\u5ea6\uff0c\u5982\u5bf9\u8868\u8fdb\u884c INSERT\u3001UPDATE \u548c DELETE\u3002</p> <p>\u56e0\u4e3a\u66f4\u65b0\u8868\u65f6\uff0cMySQL  \u4e0d\u4ec5\u8981\u4fdd\u5b58\u6570\u636e\uff0c\u8fd8\u8981\u4fdd\u5b58\u7d22\u5f15\u6587\u4ef6\u6bcf\u6b21\u66f4\u65b0\u6dfb\u52a0\u4e86\u7d22\u5f15\u5217\u7684\u5b57\u6bb5\uff0c\u90fd\u4f1a\u8c03\u6574\u56e0\u4e3a\u66f4\u65b0\u6240\u5e26\u6765\u7684\u952e\u503c\u53d8\u5316\u540e\u7684\u7d22\u5f15\u4fe1\u606f\u3002</p> <p>\u5b9e\u9645\u4e0a\u7d22\u5f15\u4e5f\u662f\u4e00\u5f20\u8868\uff0c\u8be5\u8868\u4fdd\u5b58\u4e86\u4e3b\u952e\u4e0e\u7d22\u5f15\u5b57\u6bb5\uff0c\u5e76\u6307\u5411\u5b9e\u4f53\u8868\u7684\u8bb0\u5f55\uff0c\u6240\u4ee5\u7d22\u5f15\u5217\u4e5f\u662f\u8981\u5360\u7528\u7a7a\u95f4\u7684\u3002</p>"},{"location":"Database/MySQL/MySQL/#_20","title":"\u4ec0\u4e48\u65f6\u5019\u9700\u8981/\u4e0d\u9700\u8981\u521b\u5efa\u7d22\u5f15\uff1f","text":""},{"location":"Database/MySQL/MySQL/#_21","title":"\u9700\u8981\u521b\u5efa\u7d22\u5f15","text":"<ul> <li>\u8868\u7684\u4e3b\u5173\u952e\u5b57\uff1a\u81ea\u52a8\u5efa\u7acb\u552f\u4e00\u7d22\u5f15</li> <li>\u8868\u7684\u5b57\u6bb5\u552f\u4e00\u7ea6\u675f\uff1a\u5229\u7528\u7d22\u5f15\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574</li> <li>\u76f4\u63a5\u6761\u4ef6\u67e5\u8be2\u7684\u5b57\u6bb5\uff1a\u7ecf\u5e38\u7528\u4e8e WHERE \u67e5\u8be2\u6761\u4ef6\u7684\u5b57\u6bb5\uff0c\u8fd9\u6837\u80fd\u591f\u63d0\u9ad8\u6574\u4e2a\u8868\u7684\u67e5\u8be2\u901f\u5ea6</li> <li>\u67e5\u8be2\u4e2d\u4e0e\u5176\u5b83\u8868\u5173\u8054\u7684\u5b57\u6bb5\uff1a\u4f8b\u5982\u5b57\u6bb5\u5efa\u7acb\u4e86\u5916\u952e\u5173\u7cfb</li> <li>\u67e5\u8be2\u4e2d\u6392\u5e8f\u7684\u5b57\u6bb5\uff1a\u6392\u5e8f\u7684\u5b57\u6bb5\u5982\u679c\u901a\u8fc7\u7d22\u5f15\u53bb\u8bbf\u95ee\u5c06\u5927\u5927\u63d0\u9ad8\u6392\u5e8f\u901f\u5ea6</li> <li>\u67e5\u8be2\u4e2d\u7edf\u8ba1\u6216\u5206\u7ec4\u7edf\u8ba1\u7684\u5b57\u6bb5\uff1a\u7ecf\u5e38\u7528\u4e8e GROUP BY \u548c ORDER BY \u7684\u5b57\u6bb5\uff0c\u53ef\u4ee5\u521b\u5efa\u8054\u5408\u7d22\u5f15</li> </ul>"},{"location":"Database/MySQL/MySQL/#_22","title":"\u4e0d\u9700\u8981\u521b\u5efa\u7d22\u5f15","text":"<ul> <li>\u8868\u8bb0\u5f55\u592a\u5c11\uff1a\u8868\u6570\u636e\u592a\u5c11\u7684\u65f6\u5019\uff0c\u4e0d\u9700\u8981\u521b\u5efa\u7d22\u5f15</li> <li>\u7ecf\u5e38\u63d2\u5165\u3001\u5220\u9664\u3001\u4fee\u6539\u7684\u5b57\u6bb5\uff1a\u7ecf\u5e38\u66f4\u65b0\u7684\u5b57\u6bb5\u4e0d\u7528\u521b\u5efa\u7d22\u5f15\uff0c\u7d22\u5f15\u5b57\u6bb5\u9891\u7e41\u4fee\u6539\uff0c\u7531\u4e8e\u8981\u7ef4\u62a4 B+ Tree \u7684\u6709\u5e8f\u6027\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u9891\u7e41\u7684\u91cd\u5efa\u7d22\u5f15\uff0c\u4f1a\u5f71\u54cd\u6570\u636e\u5e93\u6027\u80fd</li> <li>\u6570\u636e\u91cd\u590d\u4e14\u5206\u5e03\u5e73\u5747\u7684\u8868\u5b57\u6bb5\uff1a\u5047\u5982\u4e00\u4e2a\u8868\u670910\u4e07\u884c\u8bb0\u5f55\uff0c\u6027\u522b\u53ea\u6709\u7537\u548c\u5973\u4e24\u79cd\u503c\uff0c\u4e14\u6bcf\u4e2a\u503c\u7684\u5206\u5e03\u6982\u7387\u5927\u7ea6\u4e3a50%\uff0c\u90a3\u4e48\u5bf9\u8fd9\u79cd\u5b57\u6bb5\u5efa\u7d22\u5f15\u4e00\u822c\u4e0d\u4f1a\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u67e5\u8be2\u901f\u5ea6\u3002</li> <li>\u7ecf\u5e38\u548c\u4e3b\u5b57\u6bb5\u4e00\u5757\u67e5\u8be2\u4f46\u4e3b\u5b57\u6bb5\u7d22\u5f15\u503c\u6bd4\u8f83\u591a\u7684\u8868\u5b57\u6bb5 </li> </ul>"},{"location":"Database/MySQL/MySQL/#_23","title":"\u7d22\u5f15\u7684\u4f18\u5316(\u4f7f\u7528\u7d22\u5f15\u7684\u6ce8\u610f\u4e8b\u9879)\uff1f","text":"<ul> <li>like \u8bed\u53e5\u7684\u524d\u5bfc\u6a21\u7cca\u67e5\u8be2\u4e0d\u80fd\u4f7f\u7528\u7d22\u5f15 SQL<pre><code>  select * from doc where title like '%XX';   --\u4e0d\u80fd\u4f7f\u7528\u7d22\u5f15\n  select * from doc where title like 'XX%';   --\u975e\u524d\u5bfc\u6a21\u7cca\u67e5\u8be2\uff0c\u53ef\u4ee5\u4f7f\u7528\u7d22\u5f15\n</code></pre>   union\u3001in\u3001or \u90fd\u80fd\u591f\u547d\u4e2d\u7d22\u5f15\uff0c\u5efa\u8bae\u4f7f\u7528 in\uff0c\u56e0\u4e3a in \u7684\u7efc\u5408\u6548\u7387\u6700\u9ad8\u3002</li> <li>\u8d1f\u5411\u6761\u4ef6\u67e5\u8be2\u4e0d\u80fd\u4f7f\u7528\u7d22\u5f15    \u8d1f\u5411\u6761\u4ef6\u6709\uff1a!=\u3001&lt;&gt;\u3001not in\u3001not exists\u3001not like \u7b49\uff0c\u4f18\u5316\u6848\u4f8b\uff1a   SQL<pre><code>select * from doc where status != 1 and status != 2;  --\u4f18\u5316\u524d\nselect * from doc where status in (0,3,4);            --\u4f18\u5316\u540e\n</code></pre></li> <li>\u8054\u5408\u7d22\u5f15\u6700\u5de6\u524d\u7f00\u539f\u5219    \u5982\u679c\u5728 (a, b, c) \u4e09\u4e2a\u5b57\u6bb5\u4e0a\u5efa\u7acb\u8054\u5408\u7d22\u5f15\uff0c\u90a3\u4e48\u4ed6\u4f1a\u81ea\u52a8\u5efa\u7acb a| (a,b) | (a,b,c) \u7ec4\u7d22\u5f15\u3002</li> <li>\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u7684\u65f6\u5019\uff0c\u533a\u5206\u5ea6\u6700\u9ad8\u7684\u5b57\u6bb5\u5728\u6700\u5de6\u8fb9</li> <li>\u5b58\u5728\u975e\u7b49\u53f7\u548c\u7b49\u53f7\u6df7\u5408\u5224\u65ad\u6761\u4ef6\u65f6\uff0c\u5728\u5efa\u7acb\u7d22\u5f15\u65f6\uff0c\u628a\u7b49\u53f7\u6761\u4ef6\u7684\u5217\u524d\u7f6e\u3002\u5982 where a&gt;? and b=?\uff0c\u90a3\u4e48\u5373\u4f7f a  \u7684\u533a\u5206\u5ea6\u66f4\u9ad8\uff0c\u4e5f\u5fc5\u987b\u628a b \u653e\u5728\u7d22\u5f15\u7684\u6700\u524d\u5217</li> <li>\u6700\u5de6\u524d\u7f00\u67e5\u8be2\u65f6\uff0c\u5e76\u4e0d\u662f\u6307 SQL \u8bed\u53e5\u7684 where \u987a\u5e8f\u8981\u548c\u8054\u5408\u7d22\u5f15\u4e00\u81f4</li> <li>\u4e0d\u80fd\u4f7f\u7528\u7d22\u5f15\u4e2d\u8303\u56f4\u6761\u4ef6\u53f3\u8fb9\u7684\u5217(\u8303\u56f4\u5217\u53ef\u4ee5\u7528\u5230\u7d22\u5f15)\uff0c\u8303\u56f4\u5217\u4e4b\u540e\u5217\u7684\u7d22\u5f15\u5168\u5931\u6548 </li> <li>\u8303\u56f4\u6761\u4ef6\u6709\uff1a&lt;\u3001&lt;=\u3001&gt;\u3001&gt;=\u3001between \u7b49</li> <li>\u7d22\u5f15\u6700\u591a\u7528\u4e8e\u4e00\u4e2a\u8303\u56f4\u5217\uff0c\u5982\u679c\u67e5\u8be2\u6761\u4ef6\u4e2d\u6709\u4e24\u4e2a\u8303\u56f4\u5217\u5219\u65e0\u6cd5\u5168\u7528\u5230\u7d22\u5f15</li> <li>\u5047\u5982\u6709\u8054\u5408\u7d22\u5f15 (emp_no\u3001title\u3001fromdate)\uff0c\u90a3\u4e48\u4e0b\u9762\u7684 SQL \u4e2d emp_no \u53ef\u4ee5\u7528\u5230\u7d22\u5f15\uff0c\u800c title  \u548c from_date \u5219\u4f7f\u7528\u4e0d\u5230\u7d22\u5f15   SQL<pre><code>  select * from employees.titles \n  where emp_no &lt; 10010' and title='Senior Engineer' and \n  from_date between '1986-01-01' and '1986-12-31';\n</code></pre></li> <li>\u4e0d\u8981\u5728\u7d22\u5f15\u5217\u4e0a\u9762\u505a\u4efb\u4f55\u64cd\u4f5c(\u8ba1\u7b97\u3001\u51fd\u6570)\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\u800c\u8f6c\u5411\u5168\u8868\u626b\u63cf SQL<pre><code>  select * from doc where YEAR(create_time) &lt;= '2016'; --\u4f18\u5316\u524d`\n  select * from doc where create_time &lt;= '2016-01-01'; --\u4f18\u5316\u540e\n</code></pre></li> <li>\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u4f1a\u5168\u8868\u626b\u63cf SQL<pre><code>  select * from doc where YEAR(create_time) &lt;= '2016'; --\u4f18\u5316\u524d\n  select * from doc where create_time &lt;= '2016-01-01'; --\u4f18\u5316\u540e\n</code></pre></li> <li>\u66f4\u65b0\u5341\u5206\u9891\u7e41\u3001\u6570\u636e\u533a\u5206\u5ea6\u4e0d\u9ad8\u7684\u5217\u4e0d\u5b9c\u5efa\u7acb\u7d22\u5f15 </li> <li>\u66f4\u65b0\u4f1a\u53d8\u66f4 B+ \u6811\uff0c\u66f4\u65b0\u9891\u7e41\u7684\u5b57\u6bb5\u5efa\u7acb\u7d22\u5f15\u4f1a\u5927\u5927\u964d\u4f4e\u6570\u636e\u5e93\u6027\u80fd</li> <li>\"\u6027\u522b\"\u8fd9\u79cd\u533a\u5206\u5ea6\u4e0d\u5927\u7684\u5c5e\u6027\uff0c\u5efa\u7acb\u7d22\u5f15\u662f\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\u7684\uff0c\u4e0d\u80fd\u6709\u6548\u8fc7\u6ee4\u6570\u636e\uff0c\u6027\u80fd\u4e0e\u5168\u8868\u626b\u63cf\u7c7b\u4f3c</li> <li>\u4e00\u822c\u533a\u5206\u5ea6\u5728 80% \u4ee5\u4e0a\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u5efa\u7acb\u7d22\u5f15\uff0c\u533a\u5206\u5ea6\u53ef\u4ee5\u4f7f\u7528  count(distinct(\u5217\u540d)) / count(*)  \u6765\u8ba1\u7b97</li> <li>\u5229\u7528\u8986\u76d6\u7d22\u5f15\u6765\u8fdb\u884c\u67e5\u8be2\u64cd\u4f5c\uff0c\u907f\u514d\u56de\u8868\uff0c\u51cf\u5c11 select * \u7684\u4f7f\u7528 </li> <li>\u8986\u76d6\u7d22\u5f15\uff1a\u67e5\u8be2\u7684\u5217\u548c\u6240\u5efa\u7acb\u7684\u7d22\u5f15\u7684\u5217\u4e2a\u6570\u76f8\u540c\uff0c\u5b57\u6bb5\u76f8\u540c</li> <li>\u88ab\u67e5\u8be2\u7684\u5217\uff1a\u6570\u636e\u80fd\u4ece\u7d22\u5f15\u4e2d\u53d6\u5f97\uff0c\u800c\u4e0d\u7528\u901a\u8fc7\u884c\u5b9a\u4f4d\u7b26 row-locator \u518d\u5230 row \u4e0a\u83b7\u53d6\uff0c\u5373\u201c\u88ab\u67e5\u8be2\u5217\u8981\u88ab\u6240\u5efa\u7684\u7d22\u5f15\u8986\u76d6\u201d\uff0c\u8fd9\u80fd\u591f\u52a0\u901f\u67e5\u8be2\u901f\u5ea6</li> <li>\u53ef\u4ee5\u5efa\u7acb (login_name, passwd, login_time) \u7684\u8054\u5408\u7d22\u5f15\uff0c\u7531\u4e8e login_time \u5df2\u7ecf\u5efa\u7acb\u5728\u7d22\u5f15\u4e2d\u4e86\uff0c\u88ab\u67e5\u8be2\u7684 uid \u548c login_time \u5c31\u4e0d\u7528\u53bb row \u4e0a\u83b7\u53d6\u6570\u636e\u4e86\uff0c\u4ece\u800c\u52a0\u901f\u67e5\u8be2   SQL<pre><code>  select uid, login_time \n  from user \n  where login_name=? and passwd=?;\n</code></pre></li> <li>\u7d22\u5f15\u4e0d\u4f1a\u5305\u542b\u6709 NULL \u503c\u7684\u5217\uff0cIS NULL\uff0cIS NOT  NULL \u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15 </li> <li>\u53ea\u8981\u5217\u4e2d\u5305\u542b\u6709 NULL \u503c\u90fd\u5c06\u4e0d\u4f1a\u88ab\u5305\u542b\u5728\u7d22\u5f15\u4e2d\uff0c\u590d\u5408\u7d22\u5f15\u4e2d\u53ea\u8981\u6709\u4e00\u5217\u542b\u6709 NULL \u503c\uff0c\u90a3\u4e48\u8fd9\u4e00\u5217\u5bf9\u4e8e\u6b64\u590d\u5408\u7d22\u5f15\u5c31\u662f\u65e0\u6548\u7684\u3002\u6240\u4ee5\u5728\u6570\u636e\u5e93\u8bbe\u8ba1\u65f6\uff0c\u5c3d\u91cf\u4f7f\u7528 NOT NULL \u7ea6\u675f\u4ee5\u53ca\u9ed8\u8ba4\u503c</li> <li>\u5982\u679c\u6709 order by\u3001group by \u7684\u573a\u666f\uff0c\u5229\u7528\u7d22\u5f15\u7684\u6709\u5e8f\u6027 </li> <li>order by \u6700\u540e\u7684\u5b57\u6bb5\u662f\u7ec4\u5408\u7d22\u5f15\u7684\u4e00\u90e8\u5206\uff0c\u5e76\u4e14\u653e\u5728\u7d22\u5f15\u7ec4\u5408\u987a\u5e8f\u7684\u6700\u540e\uff0c\u907f\u514d\u51fa\u73b0 file_sort \u7684\u60c5\u51b5\uff0c\u5f71\u54cd\u67e5\u8be2\u6027\u80fd</li> <li>\u4f7f\u7528\u77ed\u7d22\u5f15(\u524d\u7f00\u7d22\u5f15) </li> <li>\u5bf9\u5217\u8fdb\u884c\u7d22\u5f15\uff0c\u5982\u679c\u53ef\u80fd\u5e94\u8be5 \u6307\u5b9a\u4e00\u4e2a\u524d\u7f00\u957f\u5ea6\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6709\u4e00\u4e2a CHAR(255) \u7684\u5217\uff0c\u5982\u679c\u8be5\u5217\u5728\u524d 10 \u4e2a\u6216 20 \u4e2a\u5b57\u7b26\u5185\uff0c\u53ef\u4ee5\u505a\u5230\u65e2\u4f7f\u5f97\u524d\u7f00\u7d22\u5f15\u7684\u533a\u5206\u5ea6\u63a5\u8fd1\u5168\u5217\u7d22\u5f15\uff0c\u90a3\u4e48\u5c31 \u4e0d\u8981\u5bf9\u6574\u4e2a\u5217\u8fdb\u884c\u7d22\u5f15\u3002\u56e0\u4e3a\u77ed\u7d22\u5f15\u4e0d\u4ec5\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\u800c\u4e14\u53ef\u4ee5\u8282\u7701\u786c\u76d8\u7a7a\u95f4\u548c I/O \u64cd\u4f5c\uff0c\u51cf\u5c11\u7d22\u5f15\u6587\u4ef6\u7684\u7ef4\u62a4\u5f00\u9500\u3002\u53ef\u4ee5\u4f7f\u7528  count(distinct leftIndex(\u5217\u540d, \u7d22\u5f15\u957f\u5ea6)) / count(*)  \u6765\u8ba1\u7b97\u524d\u7f00\u7d22\u5f15\u7684\u533a\u5206\u5ea6</li> <li>\u7f3a\u70b9\u662f\u4e0d\u80fd\u7528\u4e8e ORDER BY \u548c GROUP BY \u64cd\u4f5c\uff0c\u4e5f\u4e0d\u80fd\u7528\u4e8e\u8986\u76d6\u7d22\u5f15</li> <li>\u5f88\u591a\u65f6\u5019\u6ca1\u5fc5\u8981\u5bf9\u5168\u5b57\u6bb5\u5efa\u7acb\u7d22\u5f15\uff0c\u6839\u636e\u5b9e\u9645\u6587\u672c\u533a\u5206\u5ea6\u51b3\u5b9a\u7d22\u5f15\u957f\u5ea6\u5373\u53ef</li> <li>\u5229\u7528\u5ef6\u8fdf\u5173\u8054\u6216\u8005\u5b50\u67e5\u8be2\u4f18\u5316\u8d85\u591a\u5206\u9875\u573a\u666f </li> <li>MySQL \u5e76\u4e0d\u662f\u8df3\u8fc7 offset \u884c\uff0c\u800c\u662f\u53d6  offset + N  \u884c\uff0c\u7136\u540e\u8fd4\u56de\u653e\u5f03\u524d offset \u884c\uff0c\u8fd4\u56de N \u884c\uff0c\u90a3\u5f53 offset \u7279\u522b\u5927\u7684\u65f6\u5019\uff0c\u6548\u7387\u5c31\u975e\u5e38\u7684\u4f4e\u4e0b\uff0c\u8981\u4e48\u63a7\u5236\u8fd4\u56de\u7684\u603b\u9875\u6570\uff0c\u8981\u4e48\u5bf9\u8d85\u8fc7\u7279\u5b9a\u9608\u503c\u7684\u9875\u6570\u8fdb\u884c SQL \u6539\u5199</li> <li>\u5982\u679c\u660e\u786e\u77e5\u9053\u53ea\u6709\u4e00\u6761\u7ed3\u679c\u8fd4\u56de\uff0climit 1 \u80fd\u591f\u63d0\u9ad8\u6548\u7387 SQL<pre><code>  select * from user where login_name=?;\n  // \u53ef\u4ee5\u4f18\u5316\u4e3a\n  select * from user where login_name=? limit 1\n</code></pre></li> <li>\u8d85\u8fc7\u4e09\u4e2a\u8868\u6700\u597d\u4e0d\u8981 join </li> <li>\u9700\u8981 join \u7684\u5b57\u6bb5\uff0c\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u4e00\u81f4\uff0c\u591a\u8868\u5173\u8054\u67e5\u8be2\u65f6\uff0c\u4fdd\u8bc1\u88ab\u5173\u8054\u7684\u5b57\u6bb5\u9700\u8981\u6709\u7d22\u5f15</li> <li>\u4f8b\u5982\uff1aleft join \u662f\u7531\u5de6\u8fb9\u51b3\u5b9a\u7684\uff0c\u5de6\u8fb9\u7684\u6570\u636e\u4e00\u5b9a\u90fd\u6709\uff0c\u6240\u4ee5\u53f3\u8fb9\u662f\u6211\u4eec\u7684\u5173\u952e\u70b9\uff0c\u5efa\u7acb\u7d22\u5f15\u8981\u5efa\u53f3\u8fb9\u7684\u3002\u5f53\u7136\u5982\u679c\u7d22\u5f15\u5728\u5de6\u8fb9\uff0c\u53ef\u4ee5\u7528 right join</li> <li>\u5355\u8868\u7d22\u5f15\u5efa\u8bae\u63a7\u5236\u5728 5 \u4e2a\u4ee5\u5185 </li> <li>SQL \u6027\u80fd\u4f18\u5316 explain \u4e2d\u7684 type\uff1a\u81f3\u5c11\u8981\u8fbe\u5230 range \u7ea7\u522b\uff0c\u8981\u6c42\u662f ref \u7ea7\u522b\uff0c\u5982\u679c\u53ef\u4ee5\u662f consts \u6700\u597d </li> <li>consts\uff1a\u5355\u8868\u4e2d\u6700\u591a\u53ea\u6709\u4e00\u4e2a\u5339\u914d\u884c(\u4e3b\u952e\u6216\u8005\u552f\u4e00\u7d22\u5f15)\uff0c\u5728\u4f18\u5316\u9636\u6bb5\u5373\u53ef\u8bfb\u53d6\u5230\u6570\u636e</li> <li>ref\uff1a\u4f7f\u7528\u666e\u901a\u7684\u7d22\u5f15(Normal Index)</li> <li>range\uff1a\u5bf9\u7d22\u5f15\u8fdb\u884c\u8303\u56f4\u68c0\u7d22</li> <li>\u5f53 type = index \u65f6\uff1a\u7d22\u5f15\u7269\u7406\u6587\u4ef6\u5168\u626b\uff0c\u901f\u5ea6\u975e\u5e38\u6162</li> <li>\u4e1a\u52a1\u4e0a\u5177\u6709\u552f\u4e00\u7279\u6027\u7684\u5b57\u6bb5\uff0c\u5373\u4f7f\u662f\u591a\u4e2a\u5b57\u6bb5\u7684\u7ec4\u5408\uff0c\u4e5f\u5fc5\u987b\u5efa\u6210\u552f\u4e00\u7d22\u5f15 </li> <li>\u4e0d\u8981\u4ee5\u4e3a\u552f\u4e00\u7d22\u5f15\u5f71\u54cd\u4e86 insert \u901f\u5ea6\uff0c\u8fd9\u4e2a\u901f\u5ea6\u635f\u8017\u53ef\u4ee5\u5ffd\u7565\uff0c\u4f46\u63d0\u9ad8\u67e5\u627e\u901f\u5ea6\u662f\u660e\u663e\u7684</li> </ul>"},{"location":"Database/MySQL/MySQL/#where","title":"WHERE \u8bed\u53e5\u7d22\u5f15\u4f7f\u7528\u7684\u6ce8\u610f\u4e8b\u9879\uff1f","text":"<ul> <li>where \u5b50\u53e5\u4f7f\u7528\u7684\u6240\u6709\u5b57\u6bb5\uff0c\u90fd\u5fc5\u987b\u5efa\u7acb\u7d22\u5f15 </li> <li>\u786e\u4fdd  MySQL \u7248\u672c 5.0 \u4ee5\u4e0a\uff0c\u4e14\u67e5\u8be2\u4f18\u5316\u5668 \u5f00\u542f\u4e86 index_merge_union = on\uff0c\u4e5f\u5c31\u662f\u53d8\u91cf optimizer_switch \u91cc\u5b58\u5728 index_merge_union \u4e14\u4e3a on</li> </ul>"},{"location":"Database/MySQL/MySQL/#_24","title":"\u7d22\u5f15\u4ec0\u4e48\u65f6\u5019\u4f1a\u5931\u6548\uff1f","text":"<ul> <li>\u67e5\u8be2\u6761\u4ef6\u4e2d \u5e26\u6709 or\uff0c\u9664\u975e\u6240\u6709\u7684\u67e5\u8be2\u6761\u4ef6\u90fd\u5efa\u6709\u7d22\u5f15\uff0c</li> <li>like \u67e5\u8be2\u662f\u4ee5 % \u5f00\u5934\uff0c\u7d22\u5f15\u4f1a\u5931\u6548</li> <li>\u5982\u679c\u5217\u7c7b\u578b\u662f\u5b57\u7b26\u4e32\uff0c\u90a3\u5728\u67e5\u8be2\u6761\u4ef6\u4e2d\u9700\u8981\u5c06\u6570\u636e\u7528\u5f15\u53f7\u5f15\u7528\u8d77\u6765\uff0c\u5426\u5219\u7d22\u5f15\u5931\u6548</li> <li>\u7d22\u5f15\u5217\u4e0a\u53c2\u4e0e\u8ba1\u7b97\uff0c\u7d22\u5f15\u5931\u6548</li> <li>\u8fdd\u80cc\u6700\u5de6\u5339\u914d\u539f\u5219\uff0c\u7d22\u5f15\u5931\u6548</li> <li>\u5982\u679c  MySQL \u4f30\u8ba1\u5168\u8868\u626b\u63cf\u8981\u6bd4\u4f7f\u7528\u7d22\u5f15\u8981\u5feb\uff0c\u7d22\u5f15\u5931\u6548</li> </ul>"},{"location":"Database/MySQL/MySQL/#_25","title":"\ud83d\udfe2 \u9501","text":""},{"location":"Database/MySQL/MySQL/#mysql_2","title":"MySQL \u7684\u5168\u5c40\u9501\u6709\u4ec0\u4e48\u4f5c\u7528\uff1f","text":"<ul> <li>\u4f5c\u7528\uff1a\u8ba9\u6574\u4e2a\u6570\u636e\u5e93\u5904\u4e8e \u53ea\u8bfb\u72b6\u6001\uff0c\u589e\u5220\u6539\u4f1a\u88ab\u963b\u585e</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u5168\u5c40\u9501 \u4e3b\u8981\u5e94\u7528\u4e8e\u505a\u5168\u5e93\u903b\u8f91\u5907\u4efd\uff0c\u4e0d\u4f1a\u56e0\u4e3a\u6570\u636e\u6216\u8868\u7ed3\u6784\u7684\u66f4\u65b0\u800c\u51fa\u73b0\u5907\u4efd\u6587\u4ef6\u7684\u6570\u636e\u4e0e\u9884\u671f\u7684\u4e0d\u4e00\u6837</li> <li>\u7f3a\u9677\uff1a\u6570\u636e\u5e93\u91cc\u6709\u5f88\u591a\u6570\u636e\uff0c\u5907\u4efd\u4f1a\u82b1\u8d39\u5f88\u591a\u7684\u65f6\u95f4\u3002\u5907\u4efd\u671f\u95f4\uff0c\u4e1a\u52a1 \u53ea\u80fd\u8bfb\u6570\u636e\u800c\u4e0d\u80fd\u66f4\u65b0\u6570\u636e\uff0c\u8fd9\u6837\u4f1a\u9020\u6210\u4e1a\u52a1\u505c\u6ede</li> <li>\u6539\u8fdb\uff1a\u53ef\u91cd\u590d\u8bfb\u7684\u9694\u79bb\u7ea7\u522b\u3002\u5728\u5907\u4efd\u6570\u636e\u5e93\u4e4b\u524d\u5148\u5f00\u542f\u4e8b\u52a1\uff0c\u4f1a\u5148\u521b\u5efa Read View\uff0c\u7136\u540e\u6574\u4e2a\u4e8b\u52a1\u6267\u884c\u671f\u95f4\u90fd\u5728\u7528\u8fd9\u4e2a Read View\uff0c\u800c\u4e14\u7531\u4e8e MVCC \u7684\u652f\u6301\uff0c\u5907\u4efd\u671f\u95f4\u4e1a\u52a1\u4f9d\u7136\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u66f4\u65b0\u64cd\u4f5c\u3002\u5373\u4f7f\u5176\u4ed6\u4e8b\u52a1\u66f4\u65b0\u4e86\u8868\u7684\u6570\u636e\uff0c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5907\u4efd\u6570\u636e\u5e93\u65f6\u7684 Read View\uff0c\u8fd9\u6837\u5907\u4efd\u671f\u95f4\u5907\u4efd\u7684\u6570\u636e\u4e00\u76f4\u662f\u5728\u5f00\u542f\u4e8b\u52a1\u65f6\u7684\u6570\u636e</li> </ul>"},{"location":"Database/MySQL/MySQL/#mysql_3","title":"MySQL \u7684\u8868\u7ea7\u9501\u6709\u54ea\u4e9b\uff1f\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"Database/MySQL/MySQL/#_26","title":"\u5143\u6570\u636e\u9501","text":"<ul> <li>\u4f5c\u7528\uff1a\u5bf9\u6570\u636e\u5e93\u8868\u8fdb\u884c\u64cd\u4f5c\u65f6 \u81ea\u52a8 \u7ed9\u8fd9\u4e2a\u8868\u52a0\u4e0a\u5143\u6570\u636e\u9501\u3002\u53ef\u4ee5\u4fdd\u8bc1\u5f53\u7528\u6237\u5bf9\u8868\u6267\u884c CRUD \u64cd\u4f5c\u65f6\u5176\u4ed6\u7ebf\u7a0b\u5bf9\u8fd9\u4e2a\u8868\u7ed3\u6784\u505a\u4e86\u53d8\u66f4\u3002\u5143\u6570\u636e\u9501\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u624d\u4f1a\u91ca\u653e</li> </ul>"},{"location":"Database/MySQL/MySQL/#_27","title":"\u610f\u5411\u9501","text":"<p>\u4f5c\u7528\uff1a\u5bf9\u67d0\u4e9b\u8bb0\u5f55\u52a0\u4e0a\u300c\u5171\u4eab\u9501\u300d\u4e4b\u524d\uff0c\u9700\u8981\u5148\u5728\u8868\u7ea7\u522b\u52a0\u4e0a\u4e00\u4e2a\u300c\u610f\u5411\u5171\u4eab\u9501\u300d\uff0c\u5bf9\u67d0\u4e9b\u8bb0\u5f55\u52a0\u4e0a\u300c\u72ec\u5360\u9501\u300d\u4e4b\u524d\uff0c\u9700\u8981\u5148\u5728\u8868\u7ea7\u522b\u52a0\u4e0a\u4e00\u4e2a\u300c\u610f\u5411\u72ec\u5360\u9501\u300d\u3002\u666e\u901a\u7684 select \u662f\u4e0d\u4f1a\u52a0\u884c\u7ea7\u9501\u7684\uff0c\u666e\u901a\u7684 select \u8bed\u53e5\u662f\u5229\u7528 MVCC \u5b9e\u73b0\u4e00\u81f4\u6027\u8bfb\uff0c\u662f\u65e0\u9501\u7684 - \u610f\u5411\u5171\u4eab\u9501\u548c\u610f\u5411\u72ec\u5360\u9501\u662f\u8868\u7ea7\u9501\uff0c\u4e0d\u4f1a\u548c\u884c\u7ea7\u7684\u5171\u4eab\u9501\u548c\u72ec\u5360\u9501\u53d1\u751f\u51b2\u7a81\uff0c\u610f\u5411\u9501\u4e4b\u95f4\u4e5f\u4e0d\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u53ea\u4f1a\u548c\u5171\u4eab\u8868\u9501\u548c\u72ec\u5360\u8868\u9501\u53d1\u751f\u51b2\u7a81\u3002\u610f\u5411\u9501\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5feb\u901f\u5224\u65ad\u8868\u91cc\u662f\u5426\u6709\u8bb0\u5f55\u88ab\u52a0\u9501</p> <p>Tips </p> <p>select \u4e5f\u662f\u53ef\u4ee5\u5bf9\u8bb0\u5f55\u52a0\u5171\u4eab\u9501\u548c\u72ec\u5360\u9501\u7684 </p>"},{"location":"Database/MySQL/MySQL/#auto-inc","title":"AUTO-INC \u9501","text":"<ul> <li>\u4f5c\u7528\uff1a\u8868\u91cc\u7684\u4e3b\u952e\u901a\u5e38\u5728\u8bbe\u7f6e\u6210\u81ea\u589e\u540e\u53ef\u4ee5\u5728\u63d2\u5165\u6570\u636e\u65f6\u4e0d\u6307\u5b9a\u4e3b\u952e\u7684\u503c\uff0c\u6570\u636e\u5e93\u4f1a\u81ea\u52a8\u7ed9\u4e3b\u952e\u9012\u589e\u8d4b\u503c\u3002 \u9012\u589e\u503c\u662f\u901a\u8fc7 AUTO-INC \u9501\u5b9e\u73b0\u7684\u3002\u5728\u63d2\u5165\u6570\u636e\u65f6\u4f1a\u52a0\u4e00\u4e2a\u8868\u7ea7\u522b\u7684 AUTO-INC \u9501\u5e76\u5c06 AUTO_INCREMENT \u4fee\u9970\u7684\u5b57\u6bb5\u9012\u589e\u8d4b\u503c\uff0c\u7b49\u63d2\u5165\u8bed\u53e5\u6267\u884c\u5b8c\u6210\u540e\u624d\u4f1a\u628a AUTO-INC \u9501\u91ca\u653e\u6389\u3002\u5728\u6b64\u671f\u95f4\u5176\u4ed6\u4e8b\u52a1\u5411\u8be5\u8868\u63d2\u5165\u8bed\u53e5\u90fd\u4f1a\u88ab\u963b\u585e\uff0c\u4ece\u800c\u4fdd\u8bc1\u63d2\u5165\u6570\u636e\u65f6\u5b57\u6bb5\u7684\u503c\u662f\u8fde\u7eed\u9012\u589e\u7684</li> <li>\u7f3a\u9677\uff1a\u5bf9\u5927\u91cf\u6570\u636e\u8fdb\u884c\u63d2\u5165\u7684\u65f6\u4f1a\u5f71\u54cd\u63d2\u5165\u6027\u80fd\uff0c\u56e0\u4e3a\u5176\u4ed6\u4e8b\u52a1\u4e2d\u7684\u63d2\u5165\u4f1a\u88ab\u963b\u585e</li> <li>\u6539\u8fdb\uff1aInnoDB \u5b58\u50a8\u5f15\u64ce\u63d0\u4f9b\u4e86\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u9501\u6765\u5b9e\u73b0\u81ea\u589e\u3002\u5728\u63d2\u5165\u6570\u636e\u7684\u65f6\u5019\uff0c\u4f1a\u4e3a\u88ab AUTO_INCREMENT \u4fee\u9970\u7684\u5b57\u6bb5\u52a0\u4e0a\u8f7b\u91cf\u7ea7\u9501\uff0c\u7136\u540e\u7ed9\u8be5\u5b57\u6bb5\u8d4b\u503c\u4e00\u4e2a\u81ea\u589e\u7684\u503c\uff0c\u5c31\u628a\u8fd9\u4e2a\u8f7b\u91cf\u7ea7\u9501\u91ca\u653e\u4e86\uff0c\u800c\u4e0d\u9700\u8981\u7b49\u5f85\u6574\u4e2a\u63d2\u5165\u8bed\u53e5\u6267\u884c\u5b8c\u540e\u624d\u91ca\u653e\u9501</li> </ul> <p>AUTO-INC \u9501\u63a7\u5236  \u8bbe\u7f6e innodb_autoinc_lock_mode \u7684\u7cfb\u7edf\u53d8\u91cf\uff0c\u662f\u7528\u6765\u63a7\u5236\u9009\u62e9\u7528 AUTO-INC \u9501 - \u5f53 innodb_autoinc_lock_mode = 0\uff0c\u91c7\u7528 AUTO-INC \u9501\uff0c\u8bed\u53e5\u6267\u884c\u7ed3\u675f\u540e\u624d\u91ca\u653e\u9501 - \u5f53 innodb_autoinc_lock_mode = 2\uff0c\u91c7\u7528\u8f7b\u91cf\u7ea7\u9501\uff0c\u7533\u8bf7\u81ea\u589e\u4e3b\u952e\u540e\u5c31\u91ca\u653e\u9501\uff0c\u5e76\u4e0d\u9700\u8981\u7b49\u8bed\u53e5\u6267\u884c\u540e\u624d\u91ca\u653e - \u5f53 innodb_autoinc_lock_mode = 1   - \u666e\u901a insert \u8bed\u53e5\uff0c\u81ea\u589e\u9501\u5728\u7533\u8bf7\u4e4b\u540e\u5c31\u9a6c\u4e0a\u91ca\u653e   - \u7c7b\u4f3c insert \u2026 select \u8fd9\u6837\u7684\u6279\u91cf\u63d2\u5165\u6570\u636e\u7684\u8bed\u53e5\uff0c\u81ea\u589e\u9501\u8981\u7b49\u8bed\u53e5\u7ed3\u675f\u540e\u624d\u88ab\u91ca\u653e</p> <p>innodb_autoinc_lock_mode = 2 \u662f\u6027\u80fd\u6700\u9ad8\u7684\u65b9\u5f0f\uff0c\u4f46\u662f\u5f53\u642d\u914d binlog \u7684\u65e5\u5fd7\u683c\u5f0f\u662f statement \u65f6\uff0c\u5728\u4e3b\u4ece\u590d\u5236\u7684\u573a\u666f\u4e2d\u4f1a\u53d1\u751f \u6570\u636e\u4e0d\u4e00\u81f4 \u7684\u95ee\u9898</p> <p>binlog \u65e5\u5fd7\u683c\u5f0f\u8981\u8bbe\u7f6e\u4e3a row\uff0c\u8fd9\u6837\u5728 binlog \u91cc\u9762\u8bb0\u5f55\u7684\u662f\u4e3b\u5e93\u5206\u914d\u7684\u81ea\u589e\u503c\u3002\u5230\u5907\u5e93\u6267\u884c\u7684\u65f6\u5019\uff0c\u4e3b\u5e93\u7684\u81ea\u589e\u503c\u662f\u4ec0\u4e48\uff0c\u4ece\u5e93\u7684\u81ea\u589e\u503c\u5c31\u662f\u4ec0\u4e48</p> <p>\u6240\u4ee5\uff0c\u5f53  innodb_autoinc_lock_mode = 2 \u5e76\u4e14 binlog_format = row  \u65f6\u65e2\u80fd\u63d0\u5347\u5e76\u53d1\u6027\uff0c\u53c8\u4e0d\u4f1a\u51fa\u73b0\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898</p>"},{"location":"Database/MySQL/MySQL/#mysql_4","title":"MySQL \u7684\u884c\u7ea7\u9501\u6709\u54ea\u4e9b\uff1f\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"Database/MySQL/MySQL/#record-lock","title":"\u8bb0\u5f55\u9501(Record Lock)","text":"<ul> <li>\u4f5c\u7528\uff1a\u9501\u4f4f\u7684\u662f\u4e00\u6761\u8bb0\u5f55\uff0c\u8bb0\u5f55\u9501\u5206\u4e3a \u5171\u4eab\u9501(S \u9501) \u548c \u6392\u4ed6\u9501(X \u9501)\u3002\u5176\u4e2d S \u9501\u4e4b\u95f4\u4e0d\u4e92\u65a5</li> </ul>"},{"location":"Database/MySQL/MySQL/#gap-lock","title":"\u95f4\u9699\u9501(Gap Lock)","text":"<ul> <li>\u4f5c\u7528\uff1a\u53ea\u5b58\u5728\u4e8e\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\uff0c\u76ee\u7684\u662f\u4e3a\u4e86 \u89e3\u51b3\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\u5e7b\u8bfb\u7684\u73b0\u8c61\u3002\u95f4\u9699\u9501\u4e4b\u95f4\u662f\u517c\u5bb9\u7684\uff0c\u4e24\u4e2a\u4e8b\u52a1\u53ef\u4ee5\u540c\u65f6\u6301\u6709\u5305\u542b\u5171\u540c\u95f4\u9699\u8303\u56f4\u7684\u95f4\u9699\u9501\uff0c\u5e76\u4e0d\u5b58\u5728\u4e92\u65a5\u5173\u7cfb</li> </ul>"},{"location":"Database/MySQL/MySQL/#next-key-lock","title":"\u4e34\u952e\u9501(Next-Key Lock)","text":"<p>Next-Key Lock  \u4e34\u952e\u9501\u662f  Record Lock + Gap Lock \u7684\u7ec4\u5408  - \u4f5c\u7528\uff1a\u9501\u5b9a\u4e00\u4e2a\u8303\u56f4\uff0c\u5e76\u4e14\u9501\u5b9a\u8bb0\u5f55\u672c\u8eab\u3002next-key lock \u65e2\u80fd\u4fdd\u62a4\u8be5\u8bb0\u5f55\uff0c\u53c8\u80fd\u963b\u6b62\u5176\u4ed6\u4e8b\u52a1\u5c06\u65b0\u7eaa\u5f55\u63d2\u5165\u5230\u88ab\u4fdd\u62a4\u8bb0\u5f55\u524d\u9762\u7684\u95f4\u9699\u4e2d\uff0c\u5f62\u6210 \u5de6\u5f00\u53f3\u95ed \u5f97\u63d2\u5165\u4fdd\u62a4\u533a\u95f4</p>"},{"location":"Database/MySQL/MySQL/#_28","title":"\u63d2\u5165\u610f\u5411\u9501","text":"<p>\u4e00\u4e2a\u4e8b\u52a1\u5728\u63d2\u5165\u4e00\u6761\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u9700\u8981\u5224\u65ad\u63d2\u5165\u4f4d\u7f6e\u662f\u5426\u5df2\u88ab\u5176\u4ed6\u4e8b\u52a1\u52a0\u4e86\u95f4\u9699\u9501(next-key lock \u4e5f\u5305\u542b\u95f4\u9699\u9501)\u3002\u5982\u679c\u6709\u7684\u8bdd\uff0c\u63d2\u5165\u64cd\u4f5c\u5c31\u4f1a\u53d1\u751f\u963b\u585e\uff0c\u76f4\u5230\u62e5\u6709\u95f4\u9699\u9501\u7684\u90a3\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u4e3a\u6b62\uff0c\u5728\u6b64\u671f\u95f4\u4f1a\u751f\u6210\u4e00\u4e2a\u63d2\u5165\u610f\u5411\u9501\uff0c\u8868\u660e\u6709\u4e8b\u52a1\u60f3\u5728\u67d0\u4e2a\u533a\u95f4\u63d2\u5165\u65b0\u8bb0\u5f55\uff0c\u4f46\u662f\u73b0\u5728\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002</p>"},{"location":"Database/MySQL/MySQL/#mysql_5","title":"MySQL \u5982\u4f55\u52a0\u9501","text":""},{"location":"Database/MySQL/MySQL/#_29","title":"\u552f\u4e00\u7d22\u5f15\u7b49\u503c\u67e5\u8be2","text":"<ul> <li>\u5f53\u67e5\u8be2\u7684\u8bb0\u5f55 \u5b58\u5728\uff0c\u5728\u7d22\u5f15\u6811\u4e0a\u5b9a\u4f4d\u5230\u5bf9\u5e94\u8bb0\u5f55\u540e\uff0c\u5c06\u8be5\u8bb0\u5f55\u7684  next-key lock  \u9000\u5316\u6210 \u8bb0\u5f55\u9501 </li> <li>\u5f53\u67e5\u8be2\u7684\u8bb0\u5f55 \u4e0d\u5b58\u5728\uff0c\u5728\u7d22\u5f15\u6811\u4e0a\u5b9a\u4f4d\u5230\u7b2c\u4e00\u6761\u5927\u4e8e\u8be5\u67e5\u8be2\u7684\u8bb0\u5f55\u540e\uff0c\u5c06\u8be5\u8bb0\u5f55\u7684  next-key lock  \u9000\u5316\u6210\u95f4\u9699\u9501</li> </ul>"},{"location":"Database/MySQL/MySQL/#_30","title":"\u975e\u552f\u4e00\u7d22\u5f15\u7b49\u503c\u67e5\u8be2","text":"<ul> <li>\u5f53\u67e5\u8be2\u7684\u8bb0\u5f55 \u5b58\u5728\uff0c\u7531\u4e8e\u4e0d\u662f\u552f\u4e00\u7d22\u5f15\uff0c\u6240\u4ee5\u6709\u53ef\u80fd\u5b58\u5728\u7d22\u5f15\u503c\u76f8\u540c\u7684\u8bb0\u5f55\u3002\u5728\u626b\u63cf\u7684\u8fc7\u7a0b\u4e2d\u5bf9\u626b\u63cf\u5230\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u52a0  next-key lock\uff1b\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u9000\u5316\u6210 \u95f4\u9699\u9501\uff1b\u7b26\u5408\u67e5\u8be2\u6761\u4ef6\u7684\u8bb0\u5f55\u7684\u4e3b\u952e\u7d22\u5f15\u52a0 \u8bb0\u5f55\u9501 </li> <li>\u5f53\u67e5\u8be2\u7684\u8bb0\u5f55 \u4e0d\u5b58\u5728\uff0c\u626b\u63cf\u7684\u7b2c\u4e00\u6761\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u9000\u5316\u6210 \u95f4\u9699\u9501\uff1b\u56e0\u4e3a\u4e0d\u5b58\u5728\u6ee1\u8db3\u6761\u4ef6\u7684\u67e5\u8be2\u8bb0\u5f55\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5bf9\u4e3b\u952e\u7d22\u5f15\u52a0\u9501</li> </ul>"},{"location":"Database/MySQL/MySQL/#_31","title":"\u552f\u4e00\u7d22\u5f15\u8303\u56f4\u67e5\u8be2","text":"<ul> <li>\u5f53\u67e5\u8be2\u6761\u4ef6\u4e3a &gt;\uff1a\u5bf9\u5927\u4e8e\u5f53\u524d\u6761\u4ef6\u7684\u6240\u6709\u7d22\u5f15\u52a0  next-key lock\uff1b\u5bf9\u6700\u5927\u7d22\u5f15\u540e\u9762\u7684\u4f2a\u8bb0\u5f55\u52a0  next-key lock\u3002\u76f8\u5f53\u4e8e \u5728\u533a\u95f4 (value, +\u221e) \u52a0\u9501 </li> <li>\u5f53\u67e5\u8be2\u6761\u4ef6\u4e3a \u2265\uff1a\u5bf9\u7b49\u4e8e\u5f53\u524d\u6761\u4ef6\u7684\u7d22\u5f15\u52a0 \u8bb0\u5f55\u9501\uff1b\u5bf9\u5927\u4e8e\u5f53\u524d\u6761\u4ef6\u7684\u6240\u6709\u7d22\u5f15\u52a0  next-key lock\uff1b\u5bf9\u6700\u5927\u7d22\u5f15\u540e\u9762\u7684\u4f2a\u8bb0\u5f55\u52a0  next-key lock\u3002\u76f8\u5f53\u4e8e \u5728\u533a\u95f4 (value, +\u221e) \u52a0\u9501 </li> <li>\u5f53\u67e5\u8be2\u6761\u4ef6\u4e3a &lt;\uff1a\u5bf9\u5c0f\u4e8e\u5f53\u524d\u6761\u4ef6\u7684\u6240\u6709\u7d22\u5f15\u52a0  next-key lock\uff1b\u5bf9\u7b2c\u4e00\u4e2a\u4e0d\u6ee1\u8db3\u5c0f\u4e8e\u6761\u4ef6\u7684\u8bb0\u5f55\u5de6\u7aef\u52a0  \u95f4\u9699\u9501\u3002\u76f8\u5f53\u4e8e \u5728\u533a\u95f4 (-\u221e, value) \u52a0 next-key lock\uff1b\u5728\u533a\u95f4 (pre-value, value] \u52a0\u95f4\u9699\u9501 </li> <li>\u5f53\u67e5\u8be2\u6761\u4ef6\u4e3a \u2264\uff1a</li> <li>\u5982\u679c\u9650\u5236\u6761\u4ef6\u5bf9\u5e94\u7684\u8bb0\u5f55\u5b58\u5728\uff1a \u5728\u533a\u95f4 (-\u221e, value] \u52a0 next-key lock </li> <li>\u5982\u679c\u9650\u5236\u6761\u4ef6\u5bf9\u5e94\u7684\u8bb0\u5f55\u4e0d\u5b58\u5728\uff1a\u5bf9\u5c0f\u4e8e\u5f53\u524d\u6761\u4ef6\u7684\u6240\u6709\u7d22\u5f15\u52a0  next-key lock\uff1b\u5bf9\u7b2c\u4e00\u4e2a\u4e0d\u6ee1\u8db3\u5c0f\u4e8e\u6761\u4ef6\u7684\u8bb0\u5f55\u5de6\u7aef\u52a0  \u95f4\u9699\u9501\u3002\u76f8\u5f53\u4e8e \u5728\u533a\u95f4 (-\u221e, value) \u52a0 next-key lock\uff1b\u5728\u533a\u95f4 (pre-value, next-value) \u52a0\u95f4\u9699\u9501 </li> </ul>"},{"location":"Database/MySQL/MySQL/#_32","title":"\u975e\u552f\u4e00\u7d22\u5f15\u8303\u56f4\u67e5\u8be2","text":"<ul> <li>\u7d22\u5f15\u7684 next-key lock  \u4e0d\u4f1a\u6709\u9000\u5316\u4e3a\u95f4\u9699\u9501\u548c\u8bb0\u5f55\u9501\u7684\u60c5\u51b5 </li> <li>\u975e\u552f\u4e00\u7d22\u5f15\u8fdb\u884c\u8303\u56f4\u67e5\u8be2\u65f6\uff0c\u5bf9\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u52a0\u9501 \u90fd\u662f\u52a0 next-key lock </li> </ul>"},{"location":"Database/MySQL/MySQL/#_33","title":"\ud83d\udfe3 \u5b58\u50a8\u5f15\u64ce","text":""},{"location":"Database/MySQL/MySQL/#mysql_6","title":"MySQL \u7684\u6267\u884c\u5f15\u64ce\u6709\u54ea\u4e9b\uff1f","text":"<p>\u4e3b\u8981\u6709  MyISAM\u3001InnoDB\u3001Memery  \u7b49\u5f15\u64ce\uff1a</p> <ul> <li>InnoDB \u5f15\u64ce\u63d0\u4f9b\u4e86\u5bf9\u4e8b\u52a1 ACID \u7684\u652f\u6301\uff0c\u8fd8\u63d0\u4f9b\u4e86\u884c\u7ea7\u9501\u548c\u5916\u952e\u7684\u7ea6\u675f</li> <li>MyISAM \u5f15\u64ce\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u4e5f\u4e0d\u652f\u6301\u884c\u7ea7\u9501\u548c\u5916\u952e\u7ea6\u675f</li> <li>Memery \u5c31\u662f\u5c06\u6570\u636e\u653e\u5728\u5185\u5b58\u4e2d\uff0c\u6570\u636e\u5904\u7406\u901f\u5ea6\u5f88\u5feb\uff0c\u4f46\u662f\u5b89\u5168\u6027\u4e0d\u9ad8</li> </ul>"},{"location":"Database/MySQL/MySQL/#myisam-innodb","title":"MyISAM \u548c InnoDB \u5b58\u50a8\u5f15\u64ce\u7684\u533a\u522b\uff1f","text":"<ul> <li>\u9501\u7684\u7ec6\u7c92\u5ea6\u4e0d\u540c\uff1aInnoDB \u6bd4 MyISAM \u66f4\u597d\u7684\u652f\u6301\u5e76\u53d1\uff0c\u56e0\u4e3a InnoDB \u7684\u652f\u6301\u884c\u9501\uff0c\u800c MyISAM \u652f\u6301\u8868\u9501\uff0c\u884c\u9501\u5bf9\u6bcf\u4e00\u6761\u8bb0\u5f55\u4e0a\u9501\uff0c\u6240\u4ee5\u5f00\u9500\u66f4\u5927\uff0c\u4f46\u662f\u53ef\u4ee5\u89e3\u51b3\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898\uff0c\u76f8\u5bf9\u6765\u8bf4\u4e5f\u66f4\u5bb9\u6613\u53d1\u751f\u6b7b\u9501</li> <li>\u53ef\u6062\u590d\u6027\uff1aInnoDB \u6709\u4e8b\u52a1\u65e5\u5fd7\uff0c\u6570\u636e\u5e93\u5d29\u6e83\u540e\u53ef\u4ee5\u901a\u8fc7\u65e5\u5fd7\u8fdb\u884c\u6062\u590d\uff0cMyISAM \u6ca1\u6709\u65e5\u5fd7\u652f\u6301</li> <li>\u67e5\u8be2\u6027\u80fd\uff1aMyISAM \u8981\u597d\u4e8e InnoDB\uff0c\u56e0\u4e3a InnoDB \u5728\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u662f\u5728\u7ef4\u62a4\u6570\u636e\u7f13\u5b58\u3002\u5e76\u4e14\u5148\u8981\u5b9a\u4f4d\u5230\u6240\u5728\u6570\u636e\u5757\uff0c\u7136\u540e\u4ece\u6570\u636e\u5757\u5b9a\u4f4d\u5230\u6570\u636e\u5185\u5b58\u5730\u5740\u6765\u67e5\u627e\u6570\u636e</li> <li>\u8868\u7ed3\u6784\u6587\u4ef6\uff1aMyISAM \u7684\u8868\u7ed3\u6784\u6587\u4ef6\u5305\u62ec .frm(\u8868\u7ed3\u6784\u5b9a\u4e49)\u3001.MYI(\u7d22\u5f15)\u3001.MYD(\u6570\u636e)\uff1b\u800c InnoDB \u7684\u8868\u6570\u636e\u6587\u4ef6\u4e3a .ibd(\u6570\u636e\u548c\u7d22\u5f15\u96c6\u4e2d\u5b58\u50a8)\u548c .frm(\u8868\u7ed3\u6784\u5b9a\u4e49)</li> <li>\u8bb0\u5f55\u5b58\u50a8\u987a\u5e8f\uff1aMyISAM \u6309\u7167\u8bb0\u5f55\u63d2\u5165\u987a\u5e8f\uff0cInnoDB \u6309\u7167\u4e3b\u952e\u5927\u5c0f\u987a\u5e8f\u6709\u5e8f\u63d2\u5165</li> <li>\u5916\u952e\u548c\u4e8b\u52a1\uff1aMyISAM \u5747\u4e0d\u652f\u6301\uff0cInnoDB \u652f\u6301\u3002\u5bf9\u4e8e InnoDB \u6bcf\u4e00\u6761 SQL \u8bed\u8a00\u90fd\u9ed8\u8ba4\u5c01\u88c5\u6210\u4e8b\u52a1\uff0c\u81ea\u52a8\u63d0\u4ea4\uff0c\u8fd9\u6837\u4f1a\u5f71\u54cd\u901f\u5ea6\uff0c\u6240\u4ee5\u6700\u597d\u628a\u591a\u6761 SQL \u8bed\u8a00\u653e\u5728 begin \u548c commit \u4e4b\u95f4\uff0c\u7ec4\u6210\u4e00\u4e2a\u4e8b\u52a1\u3002\u5bf9\u4e00\u4e2a\u5305\u542b\u5916\u952e\u7684 InnoDB \u8868\u8f6c\u4e3a MYISAM \u4f1a\u5931\u8d25</li> <li>\u64cd\u4f5c\u901f\u5ea6\uff1a\u5bf9\u4e8e SELECT \u524d\u8005\u66f4\u4f18\uff0cINSERT\u3001UPDATE\u3001DELETE \u540e\u8005\u66f4\u4f18\u3002select count(*)\u4f7f\u7528 MyISAM \u66f4\u5feb\uff0c\u56e0\u4e3a\u5185\u90e8\u7ef4\u62a4\u4e86\u4e00\u4e2a\u8ba1\u6570\u5668\uff0c\u53ef\u4ee5\u76f4\u63a5\u8c03\u5ea6</li> <li>\u5b58\u50a8\u7a7a\u95f4\uff1aMyISAM \u53ef\u88ab\u538b\u7f29\uff0c\u5b58\u50a8\u7a7a\u95f4\u8f83\u5c0f\uff0cInnoDB \u7684\u8868\u9700\u8981\u66f4\u591a\u7684\u5185\u5b58\u548c\u5b58\u50a8\uff0c\u4f1a\u5728\u4e3b\u5185\u5b58\u4e2d\u5efa\u7acb\u4e13\u7528\u7684\u7f13\u51b2\u6c60\u7528\u4e8e\u9ad8\u901f\u7f13\u5b58\u6570\u636e\u548c\u7d22\u5f15</li> <li>\u7d22\u5f15\u65b9\u5f0f\uff1a\u4e8c\u8005\u90fd\u662f B+ \u6811\u7d22\u5f15\uff0c\u524d\u8005\u662f\u5806\u8868\uff0c\u540e\u8005\u662f\u7d22\u5f15\u7ec4\u7ec7\u8868</li> </ul> <p>\u4e3a\u4ec0\u4e48 InnoDB \u6ca1\u6709\u8ba1\u6570\u5668\u53d8\u91cf\uff1f  - \u56e0\u4e3a InnoDB \u7684\u4e8b\u52a1\u7279\u6027\uff0c\u540c\u4e00\u65f6\u523b\u8868\u4e2d\u7684\u884c\u6570\u5bf9\u4e8e\u4e0d\u540c\u4e8b\u52a1\u800c\u8a00\u662f\u4e0d\u540c\u7684\uff0c\u56e0\u6b64\u8ba1\u6570\u5668\u7edf\u8ba1\u7684\u662f\u5f53\u524d\u4e8b\u52a1\u5bf9\u5e94\u7684\u884c\u6570\uff0c\u800c\u4e0d\u662f\u603b\u884c\u6570</p>"},{"location":"Database/MySQL/MySQL/#_34","title":"\u5b58\u50a8\u5f15\u64ce\u5982\u4f55\u9009\u62e9\uff1f","text":"<ul> <li>\u5982\u679c\u6ca1\u6709\u7279\u522b\u7684\u9700\u6c42\uff1a\u4f7f\u7528\u9ed8\u8ba4\u7684 InnoDB \u5373\u53ef</li> <li>\u8981\u652f\u6301\u4e8b\u52a1\u9009\u62e9 InnoDB\uff1a\u5982\u679c\u4e0d\u9700\u8981\u53ef\u4ee5\u8003\u8651 MyISAM\uff1b\u5982\u679c\u8868\u4e2d\u7edd\u5927\u591a\u6570\u90fd\u53ea\u662f\u8bfb\u67e5\u8be2\u8003\u8651 MyISAM\uff1b\u5982\u679c\u65e2\u6709\u8bfb\u4e5f\u6709\u5199\u4f7f\u7528 InnoDB \u5b58\u50a8\u5f15\u64ce</li> <li>\u7cfb\u7edf\u5d29\u6e83\u540e MyISAM \u6062\u590d\u8d77\u6765\u66f4\u56f0\u96be\uff0c\u8003\u8651\u4e1a\u52a1\u80fd\u5426\u63a5\u53d7\u7cfb\u7edf\u5d29\u6e83\u7684\u7a0b\u5ea6\uff1aMySQL5.5 \u7248\u672c\u5f00\u59cb Innodb \u5df2\u7ecf\u6210\u4e3a MySQL \u7684\u9ed8\u8ba4\u5f15\u64ce(\u4e4b\u524d\u662f MyISAM)\uff0c\u8bf4\u660e\u5176\u4f18\u52bf\u662f\u6709\u76ee\u5171\u7779\u7684</li> </ul>"},{"location":"Database/MySQL/MySQL/#myisam-innodb_1","title":"MyISAM \u7d22\u5f15\u4e0e InnoDB \u7d22\u5f15\u7684\u533a\u522b\uff1f","text":"<ul> <li>InnoDB \u662f\u805a\u7c07\u7d22\u5f15\uff0cMyISAM \u662f\u975e\u805a\u7c07\u7d22\u5f15</li> <li>InnoDB \u7684\u4e3b\u952e\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u7740\u884c\u6570\u636e\uff0c\u56e0\u6b64\u4e3b\u952e\u7d22\u5f15\u975e\u5e38\u9ad8\u6548\u3002MyISAM \u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u7684\u662f\u884c\u6570\u636e\u5730\u5740\uff0c\u9700\u8981\u518d\u5bfb\u5740\u4e00\u6b21\u624d\u80fd\u5f97\u5230\u6570\u636e</li> <li>InnoDB \u975e\u4e3b\u952e\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u7684\u662f\u4e3b\u952e\u548c\u5176\u4ed6\u5e26\u7d22\u5f15\u7684\u5217\u6570\u636e\uff0c\u56e0\u6b64\u67e5\u8be2\u65f6\u505a\u5230\u8986\u76d6\u7d22\u5f15\u4f1a\u975e\u5e38\u9ad8\u6548</li> </ul>"},{"location":"Database/MySQL/MySQL/#_35","title":"\ud83d\udfe0 \u65e5\u5fd7","text":""},{"location":"Database/MySQL/MySQL/#mysql_7","title":"MySQL \u4e09\u79cd\u65e5\u5fd7\uff1f","text":""},{"location":"Database/MySQL/MySQL/#undo-log","title":"UNDO LOG(\u56de\u6eda\u65e5\u5fd7)","text":"<p>undo log \u662f Innodb \u5b58\u50a8\u5f15\u64ce\u5c42\u751f\u6210\u7684\u65e5\u5fd7\uff0c\u5b9e\u73b0\u4e86\u4e8b\u52a1\u4e2d\u7684\u539f\u5b50\u6027\uff0c\u4e3b\u8981\u7528\u4e8e\u4e8b\u52a1\u56de\u6eda\u548c MVCC\u3002</p> <p>\u5728\u4e8b\u52a1\u6ca1\u63d0\u4ea4\u4e4b\u524d\uff0cInnodb \u4f1a\u5148\u8bb0\u5f55\u66f4\u65b0\u524d\u7684\u6570\u636e\u5230 undo log \u4e2d\uff0c\u56de\u6eda\u65f6\u5229\u7528 undo log \u6765\u8fdb\u884c\u56de\u6eda\u3002\u6bcf\u5f53\u8fdb\u884c\u4e00\u6761\u8bb0\u5f55\u8fdb\u884c\u64cd\u4f5c(\u4fee\u6539\u3001\u5220\u9664\u3001\u65b0\u589e)\u65f6\uff0c\u8981\u628a\u56de\u6eda\u65f6\u9700\u8981\u7684\u4fe1\u606f\u90fd\u8bb0\u5f55\u5230 undo log \u91cc\uff1a\u539f\u7406\u662f\u6267\u884c\u4e00\u6761\u76f8\u53cd\u7684\u64cd\u4f5c\u3002undo log \u6709\u4e24\u4e2a\u53c2\u6570\uff1aroll_pointer \u6307\u9488\u548c\u4e00\u4e2a trx_id \u4e8b\u52a1 id\uff0c\u901a\u8fc7 trx_id \u53ef\u4ee5\u77e5\u9053\u8be5\u8bb0\u5f55\u662f\u88ab\u54ea\u4e2a\u4e8b\u52a1\u4fee\u6539\u7684\uff1b\u901a\u8fc7 roll_pointer \u6307\u9488\u53ef\u4ee5\u5c06\u8fd9\u4e9b undo log \u4e32\u6210\u4e00\u4e2a\u94fe\u8868\uff0c\u5f62\u6210\u7248\u672c\u94fe\u3002</p> <p>Innodb \u5b58\u50a8\u5f15\u64ce\u4e5f\u901a\u8fc7 ReadView + undo log \u5b9e\u73b0 MVCC(\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236)\u3002</p> <p>UNDO LOG \u7684\u4f5c\u7528 \u5b9e\u73b0\u4e8b\u52a1\u56de\u6eda\uff0c\u4fdd\u969c\u4e8b\u52a1\u7684\u539f\u5b50\u6027\uff1a\u5982\u679c\u51fa\u73b0\u4e86\u9519\u8bef\u6216\u8005\u7528\u6237\u6267\u884c\u4e86 ROLLBACK \u8bed\u53e5\uff0c\u53ef\u4ee5\u5229\u7528 undo log \u4e2d\u7684\u5386\u53f2\u6570\u636e\u5c06\u6570\u636e\u6062\u590d\u5230\u4e8b\u52a1\u5f00\u59cb\u4e4b\u524d\u7684\u72b6\u6001  \u5b9e\u73b0  MVCC \u5173\u952e\u56e0\u7d20\u4e4b\u4e00\uff1aMVCC \u662f\u901a\u8fc7 ReadView + undo log \u5b9e\u73b0\u7684\u3002undo log \u4e3a\u6bcf\u6761\u8bb0\u5f55\u4fdd\u5b58\u591a\u4efd\u5386\u53f2\u6570\u636e\uff0c\u5728\u6267\u884c\u5feb\u7167\u8bfb\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e\u4e8b\u52a1\u7684 Read View \u91cc\u7684\u4fe1\u606f\uff0c\u987a\u7740 undo log \u7684\u7248\u672c\u94fe\u627e\u5230\u6ee1\u8db3\u5176\u53ef\u89c1\u6027\u7684\u8bb0\u5f55</p>"},{"location":"Database/MySQL/MySQL/#redo-log","title":"REDO LOG(\u91cd\u505a\u65e5\u5fd7)","text":"<p>edo log \u662f\u7269\u7406\u65e5\u5fd7\uff0c\u8bb0\u5f55\u4e86\u67d0\u4e2a\u6570\u636e\u9875\u505a\u4e86\u4ec0\u4e48\u4fee\u6539\uff0c\u6bcf\u5f53\u6267\u884c\u4e00\u4e2a\u4e8b\u52a1\u5c31\u4f1a\u4ea7\u751f\u4e00\u6761\u6216\u8005\u591a\u6761\u7269\u7406\u65e5\u5fd7\u3002\u5728\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0c\u5148\u5c06 redo log \u6301\u4e45\u5316\u5230\u786c\u76d8\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u7b49\u5230\u5c06\u7f13\u5b58\u5728 Buffer Pool \u91cc\u7684\u810f\u9875\u6570\u636e\u6301\u4e45\u5316\u5230\u786c\u76d8\u3002\u5f53\u7cfb\u7edf\u5d29\u6e83\u65f6\uff0c\u867d\u7136\u810f\u9875\u6570\u636e\u6ca1\u6709\u6301\u4e45\u5316\u4f46\u662f redo log \u5df2\u7ecf\u6301\u4e45\u5316\uff0c\u53ef\u4ee5\u6839\u636e redo log \u7684\u5185\u5bb9\uff0c\u5c06\u6240\u6709\u6570\u636e\u6062\u590d\u5230\u6700\u65b0\u7684\u72b6\u6001\u3002</p> <p>redo log \u5b9e\u73b0\u4e86\u4e8b\u52a1\u4e2d\u7684\u6301\u4e45\u6027\uff0c\u4e3b\u8981\u7528\u4e8e\u6389\u7535\u7b49\u6545\u969c\u6062\u590d\u3002\u53d1\u751f\u66f4\u65b0\u7684\u65f6\u5019\uff0cInnoDB \u4f1a\u5148\u66f4\u65b0\u5185\u5b58\uff0c\u540c\u65f6\u6807\u8bb0\u4e3a\u810f\u9875\uff0c\u7136\u540e\u5c06\u672c\u6b21\u5bf9\u8fd9\u4e2a\u9875\u7684\u4fee\u6539\u4ee5 redo log \u7684\u5f62\u5f0f\u8bb0\u5f55\u4e0b\u6765\u3002InnoDB \u5f15\u64ce\u4f1a\u5728\u9002\u5f53\u7684\u65f6\u5019\uff0c\u7531\u540e\u53f0\u7ebf\u7a0b\u5c06\u7f13\u5b58\u5728 Buffer Pool \u7684\u810f\u9875\u5237\u65b0\u5230\u786c\u76d8\u91cc\uff0c\u5b9e\u73b0 WAL \u6280\u672f\u3002</p> <p>\u4ec0\u4e48\u662f WAL \u6280\u672f\uff1f   WAL \u6280\u672f\u6307\u7684\u662f MySQL \u7684\u5199\u64cd\u4f5c\u5e76\u4e0d\u662f\u7acb\u523b\u5199\u5230\u786c\u76d8\u4e0a\uff0c\u800c\u662f\u5148\u5199\u65e5\u5fd7\uff0c\u7136\u540e\u5728\u5408\u9002\u7684\u65f6\u95f4\u518d\u5199\u5230\u786c\u76d8\u4e0a</p> <p>\u4ec0\u4e48\u662f crash-safe\uff1f  redo log + WAL \u6280\u672f\uff0cInnoDB \u5c31\u53ef\u4ee5\u4fdd\u8bc1\u5373\u4f7f\u6570\u636e\u5e93\u53d1\u751f\u5f02\u5e38\u91cd\u542f\uff0c\u4e4b\u524d\u5df2\u63d0\u4ea4\u7684\u8bb0\u5f55\u90fd\u4e0d\u4f1a\u4e22\u5931</p>"},{"location":"Database/MySQL/MySQL/#binlog","title":"BINLOG(\u5f52\u6863\u65e5\u5fd7)","text":"<p>Server \u5c42\u751f\u6210\u7684\u65e5\u5fd7\uff0c\u4e3b\u8981\u7528\u4e8e\u6570\u636e\u5907\u4efd\u548c\u4e3b\u4ece\u590d\u5236\u3002</p> <p>\u5728\u5b8c\u6210\u4e00\u6761\u66f4\u65b0\u64cd\u4f5c\u540e\uff0cServer \u5c42\u4f1a\u751f\u6210\u4e00\u6761 binlog\uff0c\u7b49\u4e4b\u540e\u4e8b\u52a1\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u8be5\u4e8b\u7269\u6267\u884c\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u6240\u6709 binlog \u7edf\u4e00\u5199\u5165 binlog \u6587\u4ef6\u3002binlog \u6587\u4ef6\u662f\u8bb0\u5f55\u4e86\u6240\u6709\u6570\u636e\u5e93\u8868\u7ed3\u6784\u53d8\u66f4\u548c\u8868\u6570\u636e\u4fee\u6539\u7684\u65e5\u5fd7\uff0c\u4e0d\u4f1a\u8bb0\u5f55\u67e5\u8be2\u7c7b\u7684\u64cd\u4f5c\u3002</p>"},{"location":"Database/MySQL/MySQL/#redo-log-bin-log","title":"redo log \u4e0e bin log \u7684\u533a\u522b\uff1f","text":"<ul> <li>\u9002\u7528\u5bf9\u8c61\u4e0d\u540c\uff1abinlog \u662f MySQL \u7684 Server \u5c42\u5b9e\u73b0\u7684\uff0c\u6240\u6709\u5b58\u50a8\u5f15\u64ce\u90fd\u53ef\u4ee5\u4f7f\u7528\uff1bredo log \u662f Innodb \u5b58\u50a8\u5f15\u64ce\u5b9e\u73b0\u7684\u65e5\u5fd7</li> <li>\u6587\u4ef6\u683c\u5f0f\u4e0d\u540c\uff1aredo log \u662f\u7269\u7406\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7684\u662f\u5728\u67d0\u4e2a\u6570\u636e\u9875\u505a\u4e86\u4ec0\u4e48\u4fee\u6539\uff0c\u6bd4\u5982\u5bf9 XXX \u8868\u7a7a\u95f4\u4e2d\u7684 YYY \u6570\u636e\u9875 ZZZ \u504f\u79fb\u91cf\u7684\u5730\u65b9\u505a\u4e86 AAA \u66f4\u65b0</li> <li>\u5199\u5165\u65b9\u5f0f\u4e0d\u540c\uff1abinlog \u662f\u8ffd\u52a0\u5199\uff0c\u5199\u6ee1\u4e00\u4e2a\u6587\u4ef6\uff0c\u5c31\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u7ee7\u7eed\u5199\uff0c\u4e0d\u4f1a\u8986\u76d6\u4ee5\u524d\u7684\u65e5\u5fd7\uff0c\u4fdd\u5b58\u7684\u662f\u5168\u91cf\u7684\u65e5\u5fd7\u3002redo  log \u662f\u5faa\u73af\u5199\uff0c\u65e5\u5fd7\u7a7a\u95f4\u5927\u5c0f\u662f\u56fa\u5b9a\uff0c\u5168\u90e8\u5199\u6ee1\u5c31\u4ece\u5934\u5f00\u59cb\uff0c\u4fdd\u5b58\u672a\u88ab\u5237\u5165\u786c\u76d8\u7684\u810f\u9875\u65e5\u5fd7</li> <li>\u7528\u9014\u4e0d\u540c\uff1abinlog \u7528\u4e8e\u5907\u4efd\u6062\u590d\u3001\u4e3b\u4ece\u590d\u5236\uff1bredo log \u7528\u4e8e\u6389\u7535\u7b49\u6545\u969c\u6062\u590d</li> </ul>"},{"location":"Database/MySQL/MySQL/#redo-log-undo-log","title":"redo log \u548c undo log \u533a\u522b\uff1f","text":"<p>redo log \u8bb0\u5f55\u4e86\u6b64\u6b21\u4e8b\u52a1\u5b8c\u6210\u540e\u7684\u6570\u636e\u72b6\u6001\uff0cundo log \u8bb0\u5f55\u4e86\u6b64\u6b21\u4e8b\u52a1\u5f00\u59cb\u524d\u7684\u6570\u636e\u72b6\u6001\u3002</p>"},{"location":"Database/MySQL/MySQL/#undo-log-mvcc","title":"undo log \u662f\u5982\u4f55\u5b9e\u73b0 MVCC \u7684\uff1f","text":"<p>\u5bf9\u4e8e\u8bfb\u63d0\u4ea4\u548c\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\uff0c\u5feb\u7167\u8bfb\u662f\u901a\u8fc7 Read View + undo log \u6765\u5b9e\u73b0\u7684\uff0c\u533a\u522b\u5728\u4e8e\u521b\u5efa Read View \u7684\u65f6\u673a\u4e0d\u540c\uff1a</p> <ul> <li>\u8bfb\u63d0\u4ea4\u5728\u6bcf\u4e2a select \u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684 Read View\uff0c\u4e8b\u52a1\u671f\u95f4\u7684\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u6761\u6570\u636e\uff0c\u524d\u540e\u4e24\u6b21\u8bfb\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e0d\u4e00\u81f4\uff0c\u56e0\u4e3a\u53ef\u80fd\u8fd9\u671f\u95f4\u53e6\u5916\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u4e86\u8be5\u8bb0\u5f55\uff0c\u5e76\u63d0\u4ea4\u4e86\u4e8b\u52a1</li> <li>\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u662f\u542f\u52a8\u4e8b\u52a1\u65f6\u751f\u6210\u4e00\u4e2a Read View\uff0c\u7136\u540e\u6574\u4e2a\u4e8b\u52a1\u671f\u95f4\u90fd\u5728\u7528\u8fd9\u4e2a Read View\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u5728\u4e8b\u52a1\u671f\u95f4\u8bfb\u5230\u7684\u6570\u636e\u90fd\u662f\u4e8b\u52a1\u542f\u52a8\u524d\u7684\u8bb0\u5f55</li> </ul> <p>\u901a\u8fc7 \u4e8b\u52a1\u7684 Read View \u91cc\u7684\u5b57\u6bb5\u548c\u8bb0\u5f55\u4e2d\u7684\u4e24\u4e2a\u9690\u85cf\u5217(trx_id \u548c roll_pointer)  \u7684\u6bd4\u5bf9\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u53ef\u89c1\u884c\uff0c\u5c31\u4f1a\u987a\u7740 undo log \u7248\u672c\u94fe\u91cc\u627e\u5230\u6ee1\u8db3\u5176\u53ef\u89c1\u6027\u7684\u8bb0\u5f55\uff0c\u4ece\u800c\u63a7\u5236\u5e76\u53d1\u4e8b\u52a1\u8bbf\u95ee\u540c\u4e00\u4e2a\u8bb0\u5f55\u65f6\u7684\u884c\u4e3a\u3002</p>"},{"location":"Database/MySQL/MySQL/#binlog-redo-log","title":"\u4e3a\u4ec0\u4e48\u6709\u4e86 binlog\uff0c\u8fd8\u8981\u6709 redo log\uff1f","text":"<p>\u65e9\u671f\u7248\u672c MySQL \u91cc\u6ca1\u6709 InnoDB \u5f15\u64ce\uff0cMySQL \u81ea\u5e26\u7684  MyISAM \u5f15\u64ce\u6ca1\u6709 crash-safe \u7684\u80fd\u529b\uff0cbinlog \u65e5\u5fd7\u53ea\u80fd\u7528\u4e8e\u5f52\u6863\u3002InnoDB \u662f\u53e6\u4e00\u4e2a\u516c\u53f8\u4ee5\u63d2\u4ef6\u5f62\u5f0f\u5f15\u5165 MySQL \u7684\uff0c\u6240\u4ee5 InnoDB \u4f7f\u7528 redo log \u6765\u5b9e\u73b0 crash-safe \u80fd\u529b\u3002</p>"},{"location":"Database/MySQL/MySQL/#undo-redo-log","title":"\u88ab\u4fee\u6539 Undo \u9875\u9762\uff0c\u9700\u8981\u8bb0\u5f55\u5bf9\u5e94 redo log \u5417\uff1f","text":"<p>\u9700\u8981\u3002\u5f00\u542f\u4e8b\u52a1\u540e\uff0cInnoDB \u66f4\u65b0\u8bb0\u5f55\u524d\uff0c\u9996\u5148\u8981\u8bb0\u5f55\u76f8\u5e94\u7684 undo log\uff0c\u5982\u679c\u662f\u66f4\u65b0\u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u8981\u751f\u6210\u4e00\u6761 undo log\uff0cundo log \u4f1a\u5199\u5165 Buffer Pool \u4e2d\u7684 Undo \u9875\u9762\u3002\u5728\u5185\u5b58\u4fee\u6539\u8be5 Undo \u9875\u9762\u540e\uff0c\u9700\u8981\u8bb0\u5f55\u5bf9\u5e94\u7684 redo log\u3002</p>"},{"location":"Database/MySQL/MySQL/#binlog_1","title":"binlog \u7684\u4e09\u79cd\u683c\u5f0f\uff1f","text":"<p>STATEMENT(\u9ed8\u8ba4\u683c\u5f0f)\u3001ROW\u3001 MIXED\uff1a - STATEMENT\uff1a\u6bcf\u4e00\u6761\u4fee\u6539\u6570\u636e\u7684 SQL \u90fd\u4f1a\u88ab\u8bb0\u5f55\u5230 binlog \u4e2d\uff0c\u4e3b\u4ece\u590d\u5236\u4e2d slave \u7aef\u518d\u6839\u636e SQL \u8bed\u53e5\u91cd\u73b0 - ROW\uff1a\u8bb0\u5f55\u884c\u6570\u636e\u6700\u7ec8\u88ab\u4fee\u6539\u6210\u4ec0\u4e48\u6837\u4e86\uff0c\u4e0d\u4f1a\u51fa\u73b0 STATEMENT \u4e0b\u52a8\u6001\u51fd\u6570\u7684\u95ee\u9898 - MIXED\uff1a\u5305\u542b\u4e86 STATEMENT \u548c ROW \u6a21\u5f0f\uff0c\u5b83\u4f1a\u6839\u636e\u4e0d\u540c\u7684\u60c5\u51b5\u81ea\u52a8\u4f7f\u7528 ROW \u6a21\u5f0f\u548c STATEMENT \u6a21\u5f0f</p>"},{"location":"Database/MySQL/MySQL/#redo-log_1","title":"redo log \u5bb9\u707e\u6062\u590d\u8fc7\u7a0b\uff1f","text":"<ul> <li>\u5982\u679c redo log \u662f\u5b8c\u6574(commit \u72b6\u6001)\u7684\uff0c\u76f4\u63a5\u7528 redo log \u6062\u590d</li> <li>\u5982\u679c redo log \u662f\u9884\u63d0\u4ea4 prepare \u4f46\u4e0d\u662f commit \u72b6\u6001\uff0c\u6b64\u65f6\u8981\u53bb\u5224\u65ad binlog \u662f\u5426\u5b8c\u6574\uff0c\u5982\u679c\u5b8c\u6574\u90a3\u5c31\u63d0\u4ea4 redo log\uff0c\u518d\u7528 redo log \u6062\u590d\uff0c\u4e0d\u5b8c\u6574\u5c31\u56de\u6eda\u4e8b\u52a1</li> </ul>"},{"location":"Database/MySQL/MySQL/#redo-log_2","title":"redo log \u662f\u76f4\u63a5\u5199\u5165\u786c\u76d8\u7684\u5417\uff1f","text":"<p>\u4e0d\u662f\u3002\u76f4\u63a5\u5199\u5165\u786c\u76d8\u4f1a\u4ea7\u751f\u5927\u91cf\u7684 I/O \u64cd\u4f5c\uff0credo log \u4f1a\u5199\u5165 redo log buffer\uff0c\u6bcf\u5f53\u4ea7\u751f\u4e00\u6761 redo log \u65f6\uff0c\u4f1a\u5148\u5199\u5165\u5230 redo log buffer\uff0c\u540e\u7eed\u5728\u6301\u4e45\u5316\u5230\u786c\u76d8\u3002</p>"},{"location":"Database/MySQL/MySQL/#redo-log_3","title":"redo log \u6bd4\u76f4\u63a5\u843d\u76d8\u7684\u4f18\u70b9\uff1f","text":"<p>redo log \u7684\u5199\u65b9\u5f0f\u4f7f\u7528\u4e86\u8ffd\u52a0\uff0c\u65e5\u5fd7\u64cd\u4f5c\u662f\u987a\u5e8f\u5199\uff0c\u786c\u76d8\u64cd\u4f5c\u662f\u968f\u673a\u5199\uff0cMySQL \u7684\u5199\u64cd\u4f5c\u4ece\u786c\u76d8\u7684 \u968f\u673a\u5199\u53d8\u6210\u4e86\u987a\u5e8f\u5199\uff0c\u63d0\u5347\u8bed\u53e5\u7684\u6267\u884c\u6027\u80fd\u3002</p> <ul> <li>\u5b9e\u73b0\u4e8b\u52a1\u7684\u6301\u4e45\u6027\uff0c\u8ba9 MySQL \u6709 crash-safe \u7684\u80fd\u529b\uff0c\u80fd\u591f\u4fdd\u8bc1 MySQL \u5728\u4efb\u4f55\u65f6\u95f4\u6bb5\u7a81\u7136\u5d29\u6e83\uff0c\u91cd\u542f\u540e\u4e4b\u524d\u5df2\u63d0\u4ea4\u7684\u8bb0\u5f55\u90fd\u4e0d\u4f1a\u4e22\u5931</li> <li>\u5c06\u5199\u64cd\u4f5c\u4ece\u968f\u673a\u5199\u53d8\u6210\u4e86\u987a\u5e8f\u5199\uff0c\u63d0\u5347 MySQL \u5199\u5165\u786c\u76d8\u7684\u6027\u80fd</li> </ul>"},{"location":"Database/MySQL/MySQL/#redo-log-buffer","title":"redo log buffer \u4ec0\u4e48\u65f6\u5019\u5237\u76d8\uff1f","text":"<ul> <li>MySQL \u6b63\u5e38\u5173\u95ed\u65f6\uff0c\u4f1a\u89e6\u53d1\u843d\u76d8</li> <li>\u5f53 redo log buffer \u4e2d\u8bb0\u5f55\u7684\u5199\u5165\u91cf\u5927\u4e8e redo log buffer \u5185\u5b58\u7a7a\u95f4\u7684\u4e00\u534a\u65f6\uff0c\u4f1a\u89e6\u53d1\u843d\u76d8</li> <li>InnoDB \u7684\u540e\u53f0\u7ebf\u7a0b\u6bcf\u9694 1 \u79d2\uff0c\u5c06 redo log buffer \u6301\u4e45\u5316\u5230\u786c\u76d8</li> <li>\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u65f6\u90fd\u5c06\u7f13\u5b58\u5728 redo log buffer \u91cc\u7684 redo log \u76f4\u63a5\u6301\u4e45\u5316\u5230\u786c\u76d8</li> </ul>"},{"location":"Database/MySQL/MySQL/#redo-log_4","title":"redo log \u6587\u4ef6\u6587\u4ef6\u683c\u5f0f\u548c\u5199\u5165\u8fc7\u7a0b\uff1f","text":"<p>InnoDB \u6709 1 \u4e2a redo log \u7ec4\uff0c\u7531\u6709 2 \u4e2a redo log \u6587\u4ef6\u7ec4\u6210\uff1alogfile0 \u548c logfile1\u3002</p> <p>redo log \u7ec4\u4e2d\u6bcf\u4e2a redo log \u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u4e14\u76f8\u540c\u7684\uff0credo log \u7ec4\u662f\u4ee5\u5faa\u73af\u5199\u7684\u65b9\u5f0f\u5de5\u4f5c\u7684\uff0c\u4ece\u5934\u5f00\u59cb\u5199\uff0c\u5199\u5230\u672b\u5c3e\u5c31\u53c8\u56de\u5230\u5f00\u5934\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u73af\u5f62\u3002</p> <p>\u5148\u5199 logfile0 \u6587\u4ef6\uff0c\u5f53 logfile0 \u6587\u4ef6\u88ab\u5199\u6ee1\u7684\u65f6\u5019\uff0c\u4f1a\u5207\u6362\u81f3 logfile1 \u6587\u4ef6\uff0c\u5f53 logfile1 \u6587\u4ef6\u4e5f\u88ab\u5199\u6ee1\u65f6\uff0c\u4f1a\u5207\u6362\u56de ib_logfile0 \u6587\u4ef6\u3002\u968f\u7740\u7cfb\u7edf\u8fd0\u884c\uff0cBuffer Pool \u7684\u810f\u9875\u5237\u65b0\u5230\u4e86\u786c\u76d8\u4e2d\uff0c redo log \u5bf9\u5e94\u7684\u8bb0\u5f55\u6ca1\u7528\u4e86\uff0c\u4f1a\u817e\u51fa\u7a7a\u95f4\u8bb0\u5f55\u65b0\u7684\u66f4\u65b0\u64cd\u4f5c\u3002redo log \u662f\u5faa\u73af\u5199\u7684\u65b9\u5f0f\u76f8\u5f53\u4e8e\u4e00\u4e2a\u73af\u5f62\uff0c\u7528 write pos \u8868\u793a redo log \u5f53\u524d\u8bb0\u5f55\u5199\u5230\u7684\u4f4d\u7f6e\uff0c\u7528 checkpoint \u8868\u793a\u5f53\u524d\u8981\u64e6\u9664\u7684\u4f4d\u7f6e\u3002</p> <p>write pos \u8ffd\u4e0a\u4e86 checkpoint\uff0c\u8bf4\u660e redo log \u6587\u4ef6\u6ee1\u4e86\uff0c MySQL \u4f1a\u88ab\u963b\u585e\uff0c\u4f1a\u505c\u4e0b\u6765\u5c06 Buffer Pool \u4e2d\u7684\u810f\u9875\u5237\u65b0\u5230\u786c\u76d8\u4e2d\uff0c\u7136\u540e\u6807\u8bb0 redo log \u54ea\u4e9b\u8bb0\u5f55\u53ef\u4ee5\u88ab\u64e6\u9664\uff0c\u63a5\u7740\u5bf9\u65e7\u7684 redo log \u8bb0\u5f55\u8fdb\u884c\u64e6\u9664\uff0c\u7b49\u64e6\u9664\u5b8c\u65e7\u8bb0\u5f55\u817e\u51fa\u4e86\u7a7a\u95f4\uff0ccheckpoint \u5c31\u4f1a\u5f80\u540e\u79fb\u52a8\uff0c\u7136\u540e MySQL \u6062\u590d\u6b63\u5e38\u8fd0\u884c\uff0c\u7ee7\u7eed\u6267\u884c\u65b0\u7684\u66f4\u65b0\u64cd\u4f5c\u3002</p>"},{"location":"Database/MySQL/MySQL/#binlog_2","title":"binlog \u4ec0\u4e48\u65f6\u5019\u5237\u76d8\uff1f","text":"<p>\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5148\u628a\u65e5\u5fd7\u5199\u5230 binlog cache(Server \u5c42\u7684 cache)\uff0c\u4e8b\u52a1\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u518d\u628a binlog cache \u5199\u5230 binlog \u6587\u4ef6\u4e2d\u3002</p>"},{"location":"Database/MySQL/MySQL/#binlog_3","title":"binlog \u4ec0\u4e48\u65f6\u5019\u5237\u76d8\u9891\u7387\uff1f","text":"<p>MySQL \u63d0\u4f9b\u4e00\u4e2a sync_binlog \u53c2\u6570\u6765\u63a7\u5236\u6570\u636e\u5e93\u7684 binlog \u5237\u5230\u786c\u76d8\u4e0a\u7684\u9891\u7387\uff1a</p> <ul> <li>sync_binlog = 0 \u65f6\uff1a\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u53ea write\uff0c\u4e0d fsync\uff0c\u540e\u7eed\u4ea4\u7531\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\u4f55\u65f6\u5c06\u6570\u636e\u6301\u4e45\u5316\u5230\u786c\u76d8</li> <li>sync_binlog = 1 \u65f6\uff1a\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u4f1a write\uff0c\u7136\u540e\u9a6c\u4e0a\u6267\u884c fsync</li> <li>sync_binlog = N(N &gt; 1) \u65f6\uff1a\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd write\uff0c\u4f46\u7d2f\u79ef N \u4e2a\u4e8b\u52a1\u540e\u624d fsync</li> </ul> <p>\u7cfb\u7edf\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u662f sync_binlog = 0\uff0c\u4e5f\u5c31\u662f\u4e0d\u505a\u4efb\u4f55\u5f3a\u5236\u6027\u7684\u786c\u76d8\u5237\u65b0\u6307\u4ee4\uff0c\u8fd9\u65f6\u5019\u7684\u6027\u80fd\u662f\u6700\u597d\u7684\uff0c\u4f46\u662f\u98ce\u9669\u4e5f\u662f\u6700\u5927\u7684\uff0c\u56e0\u4e3a\u4e00\u65e6\u4e3b\u673a\u53d1\u751f\u5f02\u5e38\u91cd\u542f\uff0c\u8fd8\u6ca1\u6301\u4e45\u5316\u5230\u786c\u76d8\u7684\u6570\u636e\u5c31\u4f1a\u4e22\u5931\u3002</p> <p>\u5f53 sync_binlog \u8bbe\u7f6e\u4e3a 1 \u7684\u65f6\u5019\uff0c\u662f\u6700\u5b89\u5168\u4f46\u662f\u6027\u80fd\u635f\u8017\u6700\u5927\u7684\u8bbe\u7f6e\u3002\u56e0\u4e3a\u5f53\u8bbe\u7f6e\u4e3a 1 \u7684\u65f6\u5019\uff0c\u5373\u4f7f\u4e3b\u673a\u53d1\u751f\u5f02\u5e38\u91cd\u542f\uff0c\u6700\u591a\u4e22\u5931\u4e00\u4e2a\u4e8b\u52a1\u7684 binlog\uff0c\u800c\u5df2\u7ecf\u6301\u4e45\u5316\u5230\u786c\u76d8\u7684\u6570\u636e\u5c31\u4e0d\u4f1a\u6709\u5f71\u54cd\uff0c\u4e0d\u8fc7\u5c31\u662f\u5bf9\u5199\u5165\u6027\u80fd\u5f71\u54cd\u592a\u5927\u3002</p> <p>\u5982\u679c\u80fd\u5bb9\u5c11\u91cf\u4e8b\u52a1\u7684 binlog \u65e5\u5fd7\u4e22\u5931\u7684\u98ce\u9669\uff0c\u4e3a\u4e86\u63d0\u9ad8\u5199\u5165\u7684\u6027\u80fd\uff0c\u4e00\u822c\u4f1a sync_binlog \u8bbe\u7f6e\u4e3a 100~1000 \u4e2d\u7684\u67d0\u4e2a\u6570\u503c\u3002</p>"},{"location":"Database/MySQL/MySQL/#_36","title":"\u4e3b\u4ece\u590d\u5236\u662f\u600e\u4e48\u5b9e\u73b0\uff1f","text":"<p>binlog \u8bb0\u5f55 MySQL \u4e0a\u7684\u6240\u6709\u53d8\u5316\u5e76\u4ee5\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4fdd\u5b58\u5728\u786c\u76d8\u4e0a\u3002\u590d\u5236\u7684\u8fc7\u7a0b\u5c31\u662f\u5c06 binlog \u4e2d\u7684\u6570\u636e\u4ece\u4e3b\u5e93\u4f20\u8f93\u5230\u4ece\u5e93\u4e0a\u3002</p> <ul> <li>\u4e3b\u5e93\u5728\u6536\u5230\u63d0\u4ea4\u4e8b\u52a1\u7684\u8bf7\u6c42\u4e4b\u540e\u4f1a\u5148\u5199\u5165 binlog\uff0c\u518d\u63d0\u4ea4\u4e8b\u52a1\uff0c\u66f4\u65b0\u5b58\u50a8\u5f15\u64ce\u4e2d\u7684\u6570\u636e\uff0c\u4e8b\u52a1\u63d0\u4ea4\u5b8c\u6210\u540e\uff0c\u8fd4\u56de\u201c\u64cd\u4f5c\u6210\u529f\u201d\u7684\u54cd\u5e94</li> <li>\u4ece\u5e93\u4f1a\u521b\u5efa\u4e00\u4e2a\u4e13\u95e8\u7684 I/O \u7ebf\u7a0b\uff0c\u8fde\u63a5\u4e3b\u5e93\u7684 log dump \u7ebf\u7a0b\uff0c\u6765\u63a5\u6536\u4e3b\u5e93\u7684 binlog \u65e5\u5fd7\uff0c\u518d\u628a binlog \u4fe1\u606f\u5199\u5165 relay log \u7684\u4e2d\u7ee7\u65e5\u5fd7\u91cc\uff0c\u518d\u8fd4\u56de\u7ed9\u4e3b\u5e93\u201c\u590d\u5236\u6210\u529f\u201d\u7684\u54cd\u5e94</li> <li>\u4ece\u5e93\u4f1a\u521b\u5efa\u4e00\u4e2a\u7528\u4e8e\u56de\u653e binlog \u7684\u7ebf\u7a0b\uff0c\u53bb\u8bfb relay log \u4e2d\u7ee7\u65e5\u5fd7\uff0c\u7136\u540e\u56de\u653e binlog \u66f4\u65b0\u5b58\u50a8\u5f15\u64ce\u4e2d\u7684\u6570\u636e\uff0c\u6700\u7ec8\u5b9e\u73b0\u4e3b\u4ece\u7684\u6570\u636e\u4e00\u81f4\u6027</li> </ul>"},{"location":"Database/MySQL/MySQL/#mysql_8","title":"MySQL \u4e3b\u4ece\u590d\u5236\u6a21\u578b\uff1f","text":"<ul> <li>\u540c\u6b65\u590d\u5236\uff1aMySQL \u4e3b\u5e93\u63d0\u4ea4\u4e8b\u52a1\u7684\u7ebf\u7a0b\u8981\u7b49\u5f85\u6240\u6709\u4ece\u5e93\u7684\u590d\u5236\u6210\u529f\u54cd\u5e94\uff0c\u624d\u8fd4\u56de\u5ba2\u6237\u7aef\u7ed3\u679c\u3002\u8fd9\u79cd\u65b9\u5f0f\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\uff0c\u57fa\u672c\u4e0a\u6ca1\u6cd5\u7528\uff0c\u539f\u56e0\u6709\u4e24\u4e2a\uff1a\u4e00\u662f\u6027\u80fd\u5f88\u5dee\uff0c\u56e0\u4e3a\u8981\u590d\u5236\u5230\u6240\u6709\u8282\u70b9\u624d\u8fd4\u56de\u54cd\u5e94\uff1b\u4e8c\u662f\u53ef\u7528\u6027\u4e5f\u5f88\u5dee\uff0c\u4e3b\u5e93\u548c\u6240\u6709\u4ece\u5e93\u4efb\u4f55\u4e00\u4e2a\u6570\u636e\u5e93\u51fa\u95ee\u9898\uff0c\u90fd\u4f1a\u5f71\u54cd\u4e1a\u52a1\u3002</li> <li>\u5f02\u6b65\u590d\u5236(\u9ed8\u8ba4)\uff1aMySQL \u4e3b\u5e93\u63d0\u4ea4\u4e8b\u52a1\u7684\u7ebf\u7a0b\u5e76\u4e0d\u4f1a\u7b49\u5f85 binlog \u540c\u6b65\u5230\u5404\u4ece\u5e93\uff0c\u5c31\u8fd4\u56de\u5ba2\u6237\u7aef\u7ed3\u679c\u3002\u8fd9\u79cd\u6a21\u5f0f\u4e00\u65e6\u4e3b\u5e93\u5b95\u673a\uff0c\u6570\u636e\u5c31\u4f1a\u53d1\u751f\u4e22\u5931\u3002</li> <li>\u534a\u540c\u6b65\u590d\u5236\uff1a\u4ecb\u4e8e\u4e24\u8005\u4e4b\u95f4\uff0c\u4e8b\u52a1\u7ebf\u7a0b\u4e0d\u7528\u7b49\u5f85\u6240\u6709\u7684\u4ece\u5e93\u590d\u5236\u6210\u529f\u54cd\u5e94\uff0c\u53ea\u8981\u4e00\u90e8\u5206\u590d\u5236\u6210\u529f\u54cd\u5e94\u56de\u6765\u5c31\u884c\uff0c\u6bd4\u5982\u4e00\u4e3b\u4e8c\u4ece\u7684\u96c6\u7fa4\uff0c\u53ea\u8981\u6570\u636e\u6210\u529f\u590d\u5236\u5230\u4efb\u610f\u4e00\u4e2a\u4ece\u5e93\u4e0a\uff0c\u4e3b\u5e93\u7684\u4e8b\u52a1\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u8fd9\u79cd\u534a\u540c\u6b65\u590d\u5236\u7684\u65b9\u5f0f\uff0c\u517c\u987e\u4e86\u5f02\u6b65\u590d\u5236\u548c\u540c\u6b65\u590d\u5236\u7684\u4f18\u70b9\uff0c\u5373\u4f7f\u51fa\u73b0\u4e3b\u5e93\u5b95\u673a\uff0c\u81f3\u5c11\u8fd8\u6709\u4e00\u4e2a\u4ece\u5e93\u6709\u6700\u65b0\u7684\u6570\u636e\uff0c\u4e0d\u5b58\u5728\u6570\u636e\u4e22\u5931\u7684\u98ce\u9669</li> </ul>"},{"location":"Database/MySQL/MySQL/#_37","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u4e24\u9636\u6bb5\u63d0\u4ea4\uff1f","text":"<p>\u4e8b\u52a1\u63d0\u4ea4\u540e\uff0credo log \u548c binlog \u90fd\u8981\u6301\u4e45\u5316\u5230\u786c\u76d8\uff0c\u4f46\u662f\u8fd9\u4e24\u4e2a\u662f\u72ec\u7acb\u7684\u903b\u8f91\uff0c\u53ef\u80fd\u51fa\u73b0\u534a\u6210\u529f\u7684\u72b6\u6001\uff0c\u9020\u6210\u4e24\u4efd\u65e5\u5fd7\u4e4b\u95f4\u7684\u903b\u8f91\u4e0d\u4e00\u81f4\u3002</p> <ul> <li>\u5982\u679c\u5728\u5c06 redo log \u5237\u5165\u5230\u786c\u76d8\u4e4b\u540e\uff0c MySQL \u7a81\u7136\u5b95\u673a\u4e86\uff0c\u800c binlog \u8fd8\u6ca1\u6709\u6765\u5f97\u53ca\u5199\u5165\uff1aMySQL \u91cd\u542f\u540e\uff0c\u901a\u8fc7 redo log \u80fd\u5c06 Buffer Pool \u6062\u590d\u5230\u65b0\u503c\uff0c\u4f46\u662f binlog \u91cc\u9762\u6ca1\u6709\u8bb0\u5f55\u8fd9\u6761\u66f4\u65b0\u8bed\u53e5\uff0c\u5728\u4e3b\u4ece\u67b6\u6784\u4e2d\uff0cbinlog \u4f1a\u88ab\u590d\u5236\u5230\u4ece\u5e93\uff0c\u7531\u4e8e binlog \u4e22\u5931\u4e86\u8fd9\u6761\u66f4\u65b0\u8bed\u53e5\uff0c\u4ece\u5e93\u7684\u8fd9\u4e00\u884c\u662f\u65e7\u503c\uff0c\u4e3b\u4ece\u4e0d\u4e00\u81f4\u3002</li> <li>\u5982\u679c\u5728\u5c06 binlog \u5237\u5165\u5230\u786c\u76d8\u4e4b\u540e\uff0c MySQL \u7a81\u7136\u5b95\u673a\u4e86\uff0c\u800c redo log \u8fd8\u6ca1\u6709\u6765\u5f97\u53ca\u5199\u5165\uff1a\u7531\u4e8e redo log \u8fd8\u6ca1\u5199\uff0c\u5d29\u6e83\u6062\u590d\u4ee5\u540e\u8fd9\u4e2a\u4e8b\u52a1\u65e0\u6548\uff0c\u6570\u636e\u662f\u65e7\u503c\uff0c\u800c binlog \u91cc\u9762\u8bb0\u5f55\u4e86\u8fd9\u6761\u66f4\u65b0\u8bed\u53e5\uff0c\u5728\u4e3b\u4ece\u67b6\u6784\u4e2d\uff0cbinlog \u4f1a\u88ab\u590d\u5236\u5230\u4ece\u5e93\uff0c\u4ece\u5e93\u6267\u884c\u4e86\u8fd9\u6761\u66f4\u65b0\u8bed\u53e5\uff0c\u8fd9\u4e00\u884c\u5b57\u6bb5\u662f\u65b0\u503c\uff0c\u4e0e\u4e3b\u5e93\u7684\u503c\u4e0d\u4e00\u81f4\u6027\u3002</li> </ul> <p>\u6240\u4ee5\u4f1a\u9020\u6210\u4e3b\u4ece\u73af\u5883\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u6027\u3002\u56e0\u4e3a redo log \u5f71\u54cd\u4e3b\u5e93\u7684\u6570\u636e\uff0cbinlog \u5f71\u54cd\u4ece\u5e93\u7684\u6570\u636e\uff0credo log \u548c binlog \u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\u3002</p> <p>\u4e24\u9636\u6bb5\u63d0\u4ea4\u628a\u5355\u4e2a\u4e8b\u52a1\u7684\u63d0\u4ea4\u62c6\u5206\u6210\u4e86 2 \u4e2a\u9636\u6bb5\uff0c\u5206\u522b\u662f\u51c6\u5907(Prepare)\u9636\u6bb5\u548c\u63d0\u4ea4(Commit)\u9636\u6bb5\u3002\u6bcf\u4e2a\u9636\u6bb5\u90fd\u7531\u534f\u8c03\u8005(Coordinator)\u548c\u53c2\u4e0e\u8005(Participant)\u5171\u540c\u5b8c\u6210\u3002</p>"},{"location":"Database/MySQL/MySQL/#_38","title":"\u4e24\u9636\u6bb5\u63d0\u4ea4\u7684\u8fc7\u7a0b\u662f\u600e\u6837\u7684\uff1f","text":"<p>\u5728 MySQL \u7684 InnoDB \u5b58\u50a8\u5f15\u64ce\u4e2d\uff0c\u5f00\u542f binlog \u7684\u60c5\u51b5\u4e0b\uff0cMySQL \u4f1a\u540c\u65f6\u7ef4\u62a4 binlog \u65e5\u5fd7\u4e0e InnoDB \u7684 redo log\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u8fd9\u4e24\u4e2a\u65e5\u5fd7\u7684\u4e00\u81f4\u6027\uff0cMySQL \u4f7f\u7528\u4e86\u5185\u90e8 XA \u4e8b\u52a1\uff0c\u5185\u90e8 XA \u4e8b\u52a1\u7531 binlog \u4f5c\u4e3a\u534f\u8c03\u8005\uff0c\u5b58\u50a8\u5f15\u64ce\u662f\u53c2\u4e0e\u8005\u3002</p> <p>\u5f53\u5ba2\u6237\u7aef\u6267\u884c commit \u8bed\u53e5\u6216\u8005\u5728\u81ea\u52a8\u63d0\u4ea4\u7684\u60c5\u51b5\u4e0b\uff0cMySQL \u5185\u90e8\u5f00\u542f\u4e00\u4e2a XA \u4e8b\u52a1\uff0c\u5206\u4e24\u9636\u6bb5\u6765\u5b8c\u6210 XA \u4e8b\u52a1\u7684\u63d0\u4ea4\u3002</p> <p>\u4e8b\u52a1\u7684\u63d0\u4ea4\u8fc7\u7a0b\u6709\u4e24\u4e2a\u9636\u6bb5\uff0c\u5c06 redo log \u7684\u5199\u5165\u62c6\u6210\u4e86\u4e24\u4e2a\u6b65\u9aa4\uff1aprepare \u548c commit\uff0c\u4e2d\u95f4\u518d\u7a7f\u63d2\u5199\u5165 binlog\uff1a</p> <ul> <li>prepare \u9636\u6bb5\uff1a\u5c06 \u5185\u90e8 XA \u4e8b\u52a1\u7684  ID \u5199\u5165\u5230 redo log\uff0c\u540c\u65f6\u5c06 redo log \u5bf9\u5e94\u7684\u4e8b\u52a1\u72b6\u6001\u8bbe\u7f6e\u4e3a prepare\uff0c\u7136\u540e\u5c06 redo log \u6301\u4e45\u5316\u5230\u786c\u76d8\u3002</li> <li>commit \u9636\u6bb5\uff1a\u628a \u5185\u90e8 XA \u4e8b\u52a1\u7684  ID \u5199\u5165\u5230 binlog\uff0c\u7136\u540e\u5c06 binlog \u6301\u4e45\u5316\u5230\u786c\u76d8\uff0c\u63a5\u7740\u8c03\u7528\u5f15\u64ce\u7684\u63d0\u4ea4\u4e8b\u52a1\u63a5\u53e3\uff0c\u5c06 redo log \u72b6\u6001\u8bbe\u7f6e\u4e3a commit\uff0c\u6b64\u65f6\u8be5\u72b6\u6001\u5e76\u4e0d\u9700\u8981\u6301\u4e45\u5316\u5230\u786c\u76d8\uff0c\u53ea\u9700\u8981 write \u5230\u6587\u4ef6\u7cfb\u7edf\u7684 page cache \u6210\u529f\uff0c\u53ea\u8981 binlog \u5199\u786c\u76d8\u6210\u529f\uff0credo log \u7684\u72b6\u6001\u8fd8\u662f prepare \u4e5f\u6ca1\u6709\u5173\u7cfb\uff0c\u4e00\u6837\u4f1a\u88ab\u8ba4\u4e3a\u4e8b\u52a1\u5df2\u7ecf\u6267\u884c\u6210\u529f</li> </ul>"},{"location":"Database/MySQL/MySQL/#_39","title":"\u5f02\u5e38\u91cd\u542f\u4f1a\u51fa\u73b0\u4ec0\u4e48\u73b0\u8c61\uff1f","text":"<p>\u5728 MySQL \u91cd\u542f\u540e\u4f1a\u6309\u987a\u5e8f\u626b\u63cf redo log \u6587\u4ef6\uff0c\u78b0\u5230\u5904\u4e8e prepare \u72b6\u6001\u7684 redo log\uff0c\u5c31\u62ff\u7740 redo log \u4e2d\u7684 XID \u53bb binlog \u67e5\u770b\u662f\u5426\u5b58\u5728\u6b64 XID\uff1a</p> <ul> <li>\u5982\u679c binlog \u4e2d\u6ca1\u6709\u5f53\u524d\u5185\u90e8 XA \u4e8b\u52a1\u7684 XID\uff0c\u8bf4\u660e redolog \u5b8c\u6210\u5237\u76d8\uff0c\u4f46\u662f binlog \u8fd8\u6ca1\u6709\u5237\u76d8\uff0c\u5219\u56de\u6eda\u4e8b\u52a1\u3002\u5bf9\u5e94\u65f6\u523b A \u5d29\u6e83\u6062\u590d\u7684\u60c5\u51b5</li> <li>\u5982\u679c binlog \u4e2d\u6709\u5f53\u524d\u5185\u90e8 XA \u4e8b\u52a1\u7684 XID\uff0c\u8bf4\u660e redolog \u548c binlog \u90fd\u5df2\u7ecf\u5b8c\u6210\u4e86\u5237\u76d8\uff0c\u5219\u63d0\u4ea4\u4e8b\u52a1\u3002\u5bf9\u5e94\u65f6\u523b B \u5d29\u6e83\u6062\u590d\u7684\u60c5\u51b5</li> </ul> <p>\u5bf9\u4e8e\u5904\u4e8e prepare \u9636\u6bb5\u7684 redo log\uff0c\u5373\u53ef\u4ee5\u63d0\u4ea4\u4e8b\u52a1\uff0c\u4e5f\u53ef\u4ee5\u56de\u6eda\u4e8b\u52a1\uff0c\u8fd9\u53d6\u51b3\u4e8e\u662f\u5426\u80fd\u5728 binlog \u4e2d\u67e5\u627e\u5230\u4e0e redo log \u76f8\u540c\u7684 XID\uff0c\u5982\u679c\u6709\u5c31\u63d0\u4ea4\u4e8b\u52a1\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u56de\u6eda\u4e8b\u52a1\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u4fdd\u8bc1 redo log \u548c binlog \u8fd9\u4e24\u4efd\u65e5\u5fd7\u7684\u4e00\u81f4\u6027\u4e86\u3002</p>"},{"location":"Database/MySQL/MySQL/#redo-log_5","title":"\u4e8b\u52a1\u6ca1\u63d0\u4ea4 redo log \u4f1a\u88ab\u6301\u4e45\u5316\u5230\u786c\u76d8\u5417\uff1f","text":"<p>\u4f1a\u3002\u4e8b\u52a1\u6267\u884c\u4e2d\u95f4\u8fc7\u7a0b\u7684 redo log \u4e5f\u662f\u76f4\u63a5\u5199\u5728 redo log buffer \u4e2d\u7684\uff0c\u8fd9\u4e9b\u7f13\u5b58\u5728 redo log buffer \u91cc\u7684 redo log \u4e5f\u4f1a\u88ab\u540e\u53f0\u7ebf\u7a0b\u6bcf\u9694\u4e00\u79d2\u4e00\u8d77\u6301\u4e45\u5316\u5230\u786c\u76d8\u3002</p>"},{"location":"Database/MySQL/MySQL/#_40","title":"\u4e24\u9636\u6bb5\u63d0\u4ea4\u6709\u4ec0\u4e48\u95ee\u9898\uff1f","text":"<ul> <li>\u786c\u76d8 I/O \u6b21\u6570\u9ad8\uff1a\u6bcf\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u90fd\u4f1a\u8fdb\u884c\u4e24\u6b21 fsync(\u5237\u76d8)\uff0c\u4e00\u6b21\u662f redo log \u5237\u76d8\uff0c\u53e6\u4e00\u6b21\u662f binlog \u5237\u76d8</li> <li>\u9501\u7ade\u4e89\u6fc0\u70c8\uff1a\u4e24\u9636\u6bb5\u63d0\u4ea4\u867d\u7136\u80fd\u591f\u4fdd\u8bc1\u5355\u4e8b\u52a1\u4e24\u4e2a\u65e5\u5fd7\u7684\u5185\u5bb9\u4e00\u81f4\uff0c\u4f46\u5728\u591a\u4e8b\u52a1\u7684\u60c5\u51b5\u4e0b\uff0c\u5374\u4e0d\u80fd\u4fdd\u8bc1\u4e24\u8005\u7684\u63d0\u4ea4\u987a\u5e8f\u4e00\u81f4\u3002\u5728\u4e24\u9636\u6bb5\u63d0\u4ea4\u7684\u6d41\u7a0b\u57fa\u7840\u4e0a\uff0c\u8fd8\u9700\u8981\u52a0\u4e00\u4e2a\u9501\u6765\u4fdd\u8bc1\u63d0\u4ea4\u7684\u539f\u5b50\u6027\uff0c\u4ece\u800c\u4fdd\u8bc1\u591a\u4e8b\u52a1\u7684\u60c5\u51b5\u4e0b\uff0c\u4e24\u4e2a\u65e5\u5fd7\u7684\u63d0\u4ea4\u987a\u5e8f\u4e00\u81f4</li> </ul>"},{"location":"Database/MySQL/MySQL/#_41","title":"\u7ec4\u63d0\u4ea4\u662f\u4ec0\u4e48\u610f\u601d\uff1f","text":"<p>\u6709\u591a\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u591a\u4e2a binlog \u5237\u76d8\u64cd\u4f5c\u5408\u5e76\u6210\u4e00\u4e2a\uff0c\u4ece\u800c\u51cf\u5c11\u786c\u76d8 I/O \u7684\u6b21\u6570\u3002\u7ec4\u63d0\u4ea4\u673a\u5236\u540e\uff0cprepare \u9636\u6bb5\u4e0d\u53d8\uff0c \u5c06 commit \u9636\u6bb5\u62c6\u5206\u4e3a\u4e09\u4e2a\u8fc7\u7a0b\uff1a</p> <ul> <li>flush \u9636\u6bb5\uff1a\u591a\u4e2a\u4e8b\u52a1\u6309\u8fdb\u5165\u7684\u987a\u5e8f\u5c06 binlog \u4ece cache \u5199\u5165\u6587\u4ef6(\u4e0d\u5237\u76d8)\uff1b</li> <li>sync \u9636\u6bb5\uff1a\u5bf9 binlog \u6587\u4ef6\u505a fsync \u64cd\u4f5c(\u591a\u4e2a\u4e8b\u52a1\u7684 binlog \u5408\u5e76\u4e00\u6b21\u5237\u76d8)\uff1b</li> <li>commit \u9636\u6bb5\uff1a\u5404\u4e2a\u4e8b\u52a1\u6309\u987a\u5e8f\u505a InnoDB commit \u64cd\u4f5c\uff1b</li> </ul> <p>\u4e0a\u9762\u7684\u6bcf\u4e2a\u9636\u6bb5\u90fd\u6709\u4e00\u4e2a\u961f\u5217\uff0c\u6bcf\u4e2a\u9636\u6bb5\u6709\u9501\u8fdb\u884c\u4fdd\u62a4\uff0c\u56e0\u6b64\u4fdd\u8bc1\u4e86\u4e8b\u52a1\u5199\u5165\u7684\u987a\u5e8f\uff0c\u7b2c\u4e00\u4e2a\u8fdb\u5165\u961f\u5217\u7684\u4e8b\u52a1\u4f1a\u6210\u4e3a leader\uff0cleader \u9886\u5bfc\u6240\u5728\u961f\u5217\u7684\u6240\u6709\u4e8b\u52a1\uff0c\u5168\u6743\u8d1f\u8d23\u6574\u961f\u7684\u64cd\u4f5c\uff0c\u5b8c\u6210\u540e\u901a\u77e5\u961f\u5185\u5176\u4ed6\u4e8b\u52a1\u64cd\u4f5c\u7ed3\u675f\u3002\u5bf9\u6bcf\u4e2a\u9636\u6bb5\u5f15\u5165\u4e86\u961f\u5217\u540e\uff0c\u9501\u5c31\u53ea\u9488\u5bf9\u6bcf\u4e2a\u961f\u5217\u8fdb\u884c\u4fdd\u62a4\uff0c\u4e0d\u518d\u9501\u4f4f\u63d0\u4ea4\u4e8b\u52a1\u7684\u6574\u4e2a\u8fc7\u7a0b\uff0c\u9501\u7c92\u5ea6\u51cf\u5c0f\u4e86\uff0c\u8fd9\u6837\u5c31\u4f7f\u5f97\u591a\u4e2a\u9636\u6bb5\u53ef\u4ee5\u5e76\u53d1\u6267\u884c\uff0c\u4ece\u800c\u63d0\u5347\u6548\u7387</p>"},{"location":"Database/MySQL/MySQL/#buffer-pool","title":"Buffer Pool \u6709\u4ec0\u4e48\u4f5c\u7528\uff1f","text":"<p>\u4e3b\u8981\u7684\u4f5c\u7528\u662f\u5b9e\u73b0\u7f13\u5b58\uff1a</p> <ul> <li>\u5f53\u8bfb\u53d6\u6570\u636e\u65f6\uff1a\u5982\u679c\u6570\u636e\u5b58\u5728\u4e8e Buffer Pool \u4e2d\uff0c\u4f1a\u76f4\u63a5\u8bfb\u53d6 Buffer Pool \u4e2d\u7684\u6570\u636e</li> <li>\u5f53\u4fee\u6539\u6570\u636e\u65f6\uff1a\u5982\u679c\u6570\u636e\u5b58\u5728\u4e8e Buffer Pool \u4e2d\uff0c\u90a3\u76f4\u63a5\u4fee\u6539 Buffer Pool \u4e2d\u6570\u636e\u6240\u5728\u7684\u9875\uff0c\u7136\u540e\u5c06\u5176\u9875\u8bbe\u7f6e\u4e3a\u810f\u9875(\u8be5\u9875\u7684\u5185\u5b58\u6570\u636e\u548c\u786c\u76d8\u4e0a\u7684\u6570\u636e\u5df2\u7ecf\u4e0d\u4e00\u81f4)\uff1b\u4e0d\u4f1a\u7acb\u5373\u5c06\u810f\u9875\u5199\u5165\u786c\u76d8\uff0c\u540e\u7eed\u7531\u540e\u53f0\u7ebf\u7a0b\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u65f6\u673a\u5c06\u810f\u9875\u5199\u5165\u5230\u786c\u76d8</li> </ul>"},{"location":"Database/MySQL/MySQL/#buffer-pool_1","title":"Buffer Pool \u7f13\u5b58\u5185\u5bb9\uff1f","text":"<p>InnoDB \u4f1a\u4e3a Buffer Pool \u7533\u8bf7\u4e00\u7247\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u7136\u540e\u6309\u7167\u9ed8\u8ba4\u7684\u5927\u5c0f\u5212\u5206\u51fa\u4e00\u4e2a\u4e2a\u7684\u9875\uff0c Buffer Pool \u4e2d\u7684\u9875\u5c31\u53eb\u505a\u7f13\u5b58\u9875\u3002\u6b64\u65f6\u8fd9\u4e9b\u7f13\u5b58\u9875\u90fd\u662f\u7a7a\u95f2\u7684\uff0c\u4e4b\u540e\u968f\u7740\u7a0b\u5e8f\u7684\u8fd0\u884c\uff0c\u624d\u4f1a\u6709\u786c\u76d8\u4e0a\u7684\u9875\u88ab\u7f13\u5b58\u5230 Buffer Pool \u4e2d\u3002</p> <p>Buffer Pool \u9664\u4e86\u7f13\u5b58\u7d22\u5f15\u9875\u548c\u6570\u636e\u9875\uff0c\u8fd8\u5305\u62ec\u4e86 Undo \u9875\uff0c\u63d2\u5165\u7f13\u5b58\u3001\u81ea\u9002\u5e94\u54c8\u5e0c\u7d22\u5f15\u3001\u9501\u4fe1\u606f\u7b49\u7b49\u3002</p> <p>\u5f00\u542f\u4e8b\u52a1\u540e\uff0cInnoDB \u5c42\u66f4\u65b0\u8bb0\u5f55\u524d\uff0c\u9996\u5148\u8981\u8bb0\u5f55\u76f8\u5e94\u7684 undo log\uff0cundo log \u4f1a\u5199\u5165 Buffer Pool \u4e2d\u7684 Undo \u9875\u9762\u3002</p>"},{"location":"Database/MySQL/MySQL/#_42","title":"\ud83d\udfe1 \u4f18\u5316","text":""},{"location":"Database/MySQL/MySQL/#_43","title":"\u6162\u67e5\u8be2\u7684\u539f\u56e0\uff1f","text":"<ul> <li>\u7d22\u5f15\u4e0d\u8db3\uff1a\u5982\u679c\u67e5\u8be2\u7684\u8868\u6ca1\u6709\u5408\u9002\u7684\u7d22\u5f15\uff0cMySQL \u9700\u8981\u904d\u5386\u6574\u4e2a\u8868\u624d\u80fd\u627e\u5230\u5339\u914d\u7684\u8bb0\u5f55\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u67e5\u8be2\u53d8\u6162\u3002\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u7d22\u5f15\u6765\u4f18\u5316\u67e5\u8be2\u6027\u80fd</li> <li>\u6570\u636e\u5e93\u8bbe\u8ba1\u95ee\u9898\uff1a\u5982\u679c\u6570\u636e\u5e93\u8bbe\u8ba1\u4e0d\u5408\u7406\uff0c\u4f8b\u5982\u8868\u8fc7\u4e8e\u5e9e\u5927\u3001\u5217\u8fc7\u591a\u7b49\uff0c\u67e5\u8be2\u65f6\u53ef\u80fd\u9700\u8981\u8017\u8d39\u5927\u91cf\u65f6\u95f4\u3002\u8fd9\u65f6\u53ef\u4ee5\u901a\u8fc7\u4f18\u5316\u6570\u636e\u5e93\u8bbe\u8ba1\u6765\u89e3\u51b3\u95ee\u9898</li> <li>\u6570\u636e\u5e93\u670d\u52a1\u5668\u8d1f\u8f7d\u8fc7\u9ad8\uff1a\u5982\u679c MySQL \u670d\u52a1\u5668\u4e0a\u540c\u65f6\u8fd0\u884c\u4e86\u592a\u591a\u7684\u67e5\u8be2\uff0c\u4f1a\u5bfc\u81f4\u670d\u52a1\u5668\u8d1f\u8f7d\u8fc7\u9ad8\uff0c\u4ece\u800c\u5bfc\u81f4\u67e5\u8be2\u53d8\u6162\u3002\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u670d\u52a1\u5668\u786c\u4ef6\u914d\u7f6e\u6216\u5206\u6563\u67e5\u8be2\u8d1f\u8f7d\u6765\u89e3\u51b3\u95ee\u9898</li> <li>\u67e5\u8be2\u8bed\u53e5\u590d\u6742\uff1a\u590d\u6742\u7684\u67e5\u8be2\u8bed\u53e5\u53ef\u80fd\u9700\u8981\u8017\u8d39\u66f4\u591a\u7684\u65f6\u95f4\u624d\u80fd\u5b8c\u6210\u3002\u53ef\u4ee5\u5c1d\u8bd5\u7b80\u5316\u67e5\u8be2\u8bed\u53e5\u6216\u5c06\u67e5\u8be2\u5206\u89e3\u6210\u591a\u4e2a\u8f83\u7b80\u5355\u7684\u67e5\u8be2\u8bed\u53e5\u6765\u63d0\u9ad8\u6027\u80fd</li> <li>\u6570\u636e\u5e93\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\uff1a\u5982\u679c\u6570\u636e\u5e93\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\uff0cMySQL \u53ef\u80fd\u4f1a\u9009\u62e9\u4e0d\u5408\u9002\u7684\u67e5\u8be2\u8ba1\u5212\uff0c\u4ece\u800c\u5bfc\u81f4\u67e5\u8be2\u53d8\u6162\u3002\u53ef\u4ee5\u901a\u8fc7\u66f4\u65b0\u6570\u636e\u5e93\u7edf\u8ba1\u4fe1\u606f\u6765\u89e3\u51b3\u95ee\u9898</li> <li>MySQL \u7248\u672c\u8fc7\u4f4e\uff1a\u8f83\u8001\u7248\u672c\u7684 MySQL \u53ef\u80fd\u6027\u80fd\u8f83\u5dee\uff0c\u5347\u7ea7\u5230\u8f83\u65b0\u7248\u672c\u7684 MySQL \u53ef\u80fd\u4f1a\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd</li> </ul>"},{"location":"Database/MySQL/MySQL/#mysql-io","title":"MySQL \u786c\u76d8 I/O \u5f88\u9ad8\u6709\u4ec0\u4e48\u4f18\u5316\u7684\u65b9","text":"<ul> <li>\u8bbe\u7f6e\u7ec4\u63d0\u4ea4\u7684\u4e24\u4e2a\u53c2\u6570\uff1a binlog_group_commit_sync_delay \u548c binlog_group_commit_sync_no_delay_count \u53c2\u6570\uff0c\u5ef6\u8fdf binlog \u5237\u76d8\u7684\u65f6\u673a\uff0c\u4ece\u800c\u51cf\u5c11 binlog \u7684\u5237\u76d8\u6b21\u6570</li> <li>\u5c06 sync_binlog \u8bbe\u7f6e\u4e3a\u5927\u4e8e 1 \u7684\u503c(\u6bd4\u8f83\u5e38\u89c1\u662f 100~1000)\uff1a\u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd write\uff0c\u4f46\u7d2f\u79ef N \u4e2a\u4e8b\u52a1\u540e\u624d fsync\uff0c\u76f8\u5f53\u4e8e\u5ef6\u8fdf\u4e86 binlog \u5237\u76d8\u7684\u65f6\u673a\u3002\u4f46\u662f\u8fd9\u6837\u505a\u7684\u98ce\u9669\u662f\uff0c\u4e3b\u673a\u6389\u7535\u65f6\u4f1a\u4e22 N \u4e2a\u4e8b\u52a1\u7684 binlog \u65e5\u5fd7</li> <li>\u5c06 innodb_flush_log_at_trx_commit \u8bbe\u7f6e\u4e3a 2\uff1a\u8868\u793a\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0c\u90fd\u53ea\u662f\u7f13\u5b58\u5728 redo log buffer \u91cc\u7684 redo log \u5199\u5230 redo log \u6587\u4ef6\uff0c\u6ce8\u610f\u5199\u5165\u5230 redo log \u6587\u4ef6\u5e76\u4e0d\u610f\u5473\u7740\u5199\u5165\u5230\u4e86\u786c\u76d8\uff0c\u56e0\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d\u6709\u4e2a Page Cache\uff0c\u4e13\u95e8\u7528\u6765\u7f13\u5b58\u6587\u4ef6\u6570\u636e\u7684\uff0c\u6240\u4ee5\u5199\u5165 redo log \u6587\u4ef6\u610f\u5473\u7740\u5199\u5165\u5230\u4e86\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7f13\u5b58\uff0c\u7136\u540e\u4ea4\u7531\u64cd\u4f5c\u7cfb\u7edf\u63a7\u5236\u6301\u4e45\u5316\u5230\u786c\u76d8\u7684\u65f6\u673a\u3002\u4f46\u662f\u8fd9\u6837\u505a\u7684\u98ce\u9669\u662f\uff0c\u4e3b\u673a\u6389\u7535\u7684\u65f6\u5019\u4f1a\u4e22\u6570\u636e</li> </ul> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Database/Redis/Redis/","title":"Redis","text":"MySQL"},{"location":"Database/Redis/Redis/#contents","title":"Contents","text":"<p> \u7ea6 15170 \u4e2a\u5b57  1 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 76 \u5206\u949f</p> <ul> <li>Contents</li> <li>\ud83d\udd34 \u6982\u8ff0</li> <li>Redis \u4e3a\u4ec0\u4e48\u5feb\uff1f</li> <li>\u4e3a\u4ec0\u4e48 Redis \u662f\u5355\u7ebf\u7a0b\uff1f</li> <li>Redis \u4e3a\u4ec0\u4e48\u8981\u5f15\u5165\u591a\u7ebf\u7a0b\uff1f</li> <li>\u4e3a\u4ec0\u4e48\u7528 Redis \u4f5c\u4e3a MySQL \u7684\u7f13\u5b58\uff1f</li> <li>Redis \u548c Memcached \u7684\u8054\u7cfb\u548c\u533a\u522b\uff1f<ul> <li>\u5171\u540c\u70b9</li> <li>\u533a\u522b</li> </ul> </li> <li>\u5982\u4f55\u7406\u89e3 Redis \u539f\u5b50\u6027\u64cd\u4f5c\u539f\u7406\uff1f</li> <li>\ud83d\udd35 \u6570\u636e\u7ed3\u6784</li> <li>Redis \u6570\u636e\u7c7b\u578b\uff1f<ul> <li>STRING</li> <li>LIST</li> <li>HASH</li> <li>SET</li> <li>Zset</li> <li>BitMap</li> <li>HyperLogLog</li> <li>dGEO</li> <li>Stream</li> </ul> </li> <li>Redis \u5e95\u5c42\u6570\u636e\u7ed3\u6784\uff1f<ul> <li>SDS</li> <li>\u94fe\u8868</li> <li>\u538b\u7f29\u5217\u8868###</li> <li>\u54c8\u5e0c</li> <li>\u8df3\u8868</li> <li>\u6574\u6570\u96c6\u5408</li> <li>quicklist</li> <li>listpack</li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u7528\u8df3\u8868\u800c\u4e0d\u7528\u5e73\u8861\u6811\uff1f</li> <li>\ud83d\udfe2 \u6301\u4e45\u5316</li> <li>AOF \u548c RDB\uff1f<ul> <li>AOF</li> <li>RDB</li> <li>AOF-RDB \u6df7\u7528</li> </ul> </li> <li>AOF \u7684\u4e09\u79cd\u5199\u56de\u7b56\u7565\uff1f</li> <li>AOF \u7684\u786c\u76d8\u91cd\u5199\u673a\u5236\uff1f</li> <li>\u4e3a\u4ec0\u4e48\u5148\u6267\u884c Redis \u547d\u4ee4\uff0c\u518d\u628a\u6570\u636e\u5199\u5165 AOF \u65e5\u5fd7\u5462\uff1f<ul> <li>\u597d\u5904</li> <li>\u7f3a\u9677</li> </ul> </li> <li>AOF \u7684\u91cd\u5199\u7684\u5177\u4f53\u8fc7\u7a0b\uff1f</li> <li>AOF \u5b50\u8fdb\u7a0b\u7684\u5185\u5b58\u6570\u636e\u8ddf\u4e3b\u8fdb\u7a0b\u7684\u5185\u5b58\u6570\u636e\u4e0d\u4e00\u81f4\u600e\u4e48\u529e\uff1f</li> <li>RDB \u5728\u6267\u884c\u5feb\u7167\u7684\u65f6\u5019\uff0c\u6570\u636e\u80fd\u4fee\u6539\u5417\uff1f</li> <li>Redis \u8fc7\u671f\u673a\u5236\uff1f</li> <li>Redis \u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff1f<ul> <li>\u4e0d\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u7684\u7b56\u7565</li> <li>\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u7684\u7b56\u7565</li> </ul> </li> <li>Redis \u6301\u4e45\u5316\u65f6\u5bf9\u8fc7\u671f\u952e\u4f1a\u5982\u4f55\u5904\u7406\u7684\uff1f<ul> <li>RDB</li> <li>AOF</li> </ul> </li> <li>Redis \u4e3b\u4ece\u6a21\u5f0f\u4e2d\uff0c\u5bf9\u8fc7\u671f\u952e\u4f1a\u5982\u4f55\u5904\u7406\uff1f</li> <li>\ud83d\udfe1 \u5e94\u7528</li> <li>\u7f13\u5b58\u96ea\u5d29\u3001\u51fb\u7a7f\u3001\u7a7f\u900f\u548c\u89e3\u51b3\u529e\u6cd5\uff1f<ul> <li>\u7f13\u5b58\u96ea\u5d29</li> <li>\u7f13\u5b58\u51fb\u7a7f</li> <li>\u7f13\u5b58\u7a7f\u900f</li> </ul> </li> <li>\u5e03\u9686\u8fc7\u6ee4\u5668\u662f\u600e\u4e48\u5de5\u4f5c\u7684\uff1f</li> <li>\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u5e93\u548c\u7f13\u5b58\u7684\u4e00\u81f4\u6027\uff1f</li> <li>\u5982\u4f55\u4fdd\u8bc1\u5220\u9664\u7f13\u5b58\u64cd\u4f5c\u4e00\u5b9a\u80fd\u6210\u529f\uff1f</li> <li>\u4e1a\u52a1\u4e00\u81f4\u6027\u8981\u6c42\u9ad8\u600e\u4e48\u529e\uff1f</li> <li>\u5982\u4f55\u907f\u514d\u7f13\u5b58\u5931\u6548\uff1f</li> <li>\u5982\u4f55\u5b9e\u73b0\u5ef6\u8fdf\u961f\u5217\uff1f</li> <li>\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u7f13\u5b58\u7b56\u7565\uff0c\u53ef\u4ee5\u52a8\u6001\u7f13\u5b58\u70ed\u70b9\u6570\u636e\u5462\uff1f</li> <li>Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1f</li> <li>\u5982\u4f55\u4fdd\u8bc1\u52a0\u9501\u548c\u89e3\u9501\u8fc7\u7a0b\u7684\u539f\u5b50\u6027\uff1f</li> <li>\u4f7f\u7528 Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\u7684\u4f18\u70b9\u548c\u7f3a\u70b9\uff1f</li> <li>\u5982\u4f55\u4e3a\u5206\u5e03\u5f0f\u9501\u8bbe\u7f6e\u5408\u7406\u7684\u8d85\u65f6\u65f6\u95f4\uff1f</li> <li>Redis \u89e3\u51b3\u96c6\u7fa4\u60c5\u51b5\u4e0b\u5206\u5e03\u5f0f\u9501\u7684\u53ef\u9760\u6027\uff1f</li> <li>Redis \u7ba1\u9053\u6709\u4ec0\u4e48\u7528\uff1f</li> <li>Redis \u5982\u4f55\u5904\u7406\u5927 key\uff1f<ul> <li>\u5b9a\u4e49</li> <li>\u5f71\u54cd</li> <li>\u5904\u7406</li> </ul> </li> <li>Redis \u652f\u6301\u4e8b\u52a1\u56de\u6eda\u5417\uff1f</li> <li>\ud83d\udfe3 \u96c6\u7fa4</li> <li>Redis \u96c6\u7fa4\u6a21\u5f0f\u6709\u54ea\u4e9b\uff1f</li> <li>Redis \u5207\u7247\u96c6\u7fa4\u7684\u5de5\u4f5c\u539f\u7406\uff1f</li> <li>\u54c8\u5e0c\u69fd\u548c Redis \u8282\u70b9\u662f\u5982\u4f55\u5bf9\u5e94\u7684\uff1f</li> <li>\u4e3b\u4ece\u6a21\u5f0f\u7684\u540c\u6b65\u8fc7\u7a0b\uff1f<ul> <li>\u7b2c\u4e00\u6b21\u540c\u6b65</li> <li>\u547d\u4ee4\u4f20\u64ad</li> <li>\u538b\u529b\u5206\u644a</li> <li>\u589e\u91cf\u590d\u5236</li> </ul> </li> <li>\u4e3b\u670d\u52a1\u5668\u5982\u4f55\u77e5\u9053\u8981\u5c06\u54ea\u4e9b\u589e\u91cf\u6570\u636e\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\uff1f</li> <li>\u5982\u4f55\u907f\u514d\u4e3b\u4ece\u6570\u636e\u7684\u4e0d\u4e00\u81f4\uff1f</li> <li>\u4e3b\u4ece\u67b6\u6784\u4e2d\u8fc7\u671f key \u5982\u4f55\u5904\u7406\uff1f</li> <li>\u4e3b\u4ece\u6a21\u5f0f\u662f\u540c\u6b65\u590d\u5236\u8fd8\u662f\u5f02\u6b65\u590d\u5236\uff1f</li> <li>\u54e8\u5175\u673a\u5236\u662f\u4ec0\u4e48\uff1f</li> <li>\u54e8\u5175\u673a\u5236\u7684\u5de5\u4f5c\u539f\u7406\uff1f<ul> <li>\u5224\u65ad\u8282\u70b9\u662f\u5426\u5b58\u6d3b</li> <li>\u6295\u7968</li> <li>\u9009\u51fa\u65b0\u4e3b\u8282\u70b9</li> <li>\u66f4\u6362\u4e3b\u8282\u70b9</li> <li>\u901a\u77e5\u5ba2\u6237\u7684\u4e3b\u8282\u70b9\u5df2\u66f4\u6362</li> <li>\u5c06\u65e7\u4e3b\u8282\u70b9\u53d8\u4e3a\u4ece\u8282\u70b9</li> </ul> </li> <li>\u4ec0\u4e48\u662f\u96c6\u7fa4\u7684\u8111\u88c2\uff1f</li> <li>\u5982\u4f55\u51cf\u5c11\u4e3b\u4ece\u5207\u6362\u5e26\u6765\u7684\u6570\u636e\u4e22\u5931\uff1f<ul> <li>\u5f02\u6b65\u590d\u5236\u540c\u6b65\u4e22\u5931</li> <li>\u96c6\u7fa4\u4ea7\u751f\u8111\u88c2\u6570\u636e\u4e22\u5931</li> </ul> </li> </ul>"},{"location":"Database/Redis/Redis/#_1","title":"\ud83d\udd34 \u6982\u8ff0","text":""},{"location":"Database/Redis/Redis/#redis","title":"Redis \u4e3a\u4ec0\u4e48\u5feb\uff1f","text":"<ul> <li>\u57fa\u4e8e\u5185\u5b58\u64cd\u4f5c\uff1aRedis \u7684\u7edd\u5927\u90e8\u5206\u64cd\u4f5c\u5728\u5185\u5b58\u91cc\u5c31\u53ef\u4ee5\u5b9e\u73b0\uff0c\u6570\u636e\u4e5f\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u4e0e\u4f20\u7edf\u7684\u786c\u76d8\u6587\u4ef6\u64cd\u4f5c\u76f8\u6bd4\u51cf\u5c11\u4e86 I/O\uff0c\u63d0\u9ad8\u4e86\u64cd\u4f5c\u7684\u901f\u5ea6</li> <li>\u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784\uff1aRedis \u6709\u4e13\u95e8\u8bbe\u8ba1\u4e86 STRING\u3001LIST\u3001HASH \u7b49\u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f9d\u8d56\u5404\u79cd\u6570\u636e\u7ed3\u6784\u63d0\u5347\u4e86\u8bfb\u5199\u7684\u6548\u7387</li> <li>\u91c7\u7528\u5355\u7ebf\u7a0b\uff1a\u5355\u7ebf\u7a0b\u64cd\u4f5c\u7701\u53bb\u4e86\u4e0a\u4e0b\u6587\u5207\u6362\u5e26\u6765\u7684\u5f00\u9500\u548c CPU \u7684\u6d88\u8017\uff0c\u540c\u65f6\u4e0d\u5b58\u5728\u8d44\u6e90\u7ade\u4e89\uff0c\u907f\u514d\u4e86\u6b7b\u9501\u73b0\u8c61\u7684\u53d1\u751f</li> <li>I/O \u591a\u8def\u590d\u7528\uff1a\u91c7\u7528 I/O \u591a\u8def\u590d\u7528\u673a\u5236\u540c\u65f6\u76d1\u542c\u591a\u4e2a Socket\uff0c\u6839\u636e Socket \u4e0a\u7684\u4e8b\u4ef6\u6765\u9009\u62e9\u5bf9\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u8fdb\u884c\u5904\u7406</li> </ul>"},{"location":"Database/Redis/Redis/#redis_1","title":"\u4e3a\u4ec0\u4e48 Redis \u662f\u5355\u7ebf\u7a0b\uff1f","text":"<p>\u5355\u7ebf\u7a0b\u6307\u7684\u662f\u7f51\u7edc\u8bf7\u6c42\u6a21\u5757\u4f7f\u7528\u5355\u7ebf\u7a0b\u8fdb\u884c\u5904\u7406\uff0c\u5176\u4ed6\u6a21\u5757\u4ecd\u7528\u591a\u4e2a\u7ebf\u7a0b\u3002</p> <p>\u5b98\u65b9\u7b54\u6848\u662f\uff1a\u56e0\u4e3a CPU \u4e0d\u662f Redis \u7684\u74f6\u9888\uff0cRedis \u7684\u74f6\u9888\u6700\u6709\u53ef\u80fd\u662f\u673a\u5668\u5185\u5b58\u6216\u8005\u7f51\u7edc\u5e26\u5bbd\u3002\u65e2\u7136\u5355\u7ebf\u7a0b\u5bb9\u6613\u5b9e\u73b0\uff0c\u800c\u4e14 CPU \u4e0d\u4f1a\u6210\u4e3a\u74f6\u9888\uff0c\u90a3\u5c31\u987a\u7406\u6210\u7ae0\u5730\u91c7\u7528\u5355\u7ebf\u7a0b\u7684\u65b9\u6848\u4e86\u3002</p> <p>redis \u91c7\u7528\u591a\u7ebf\u7a0b\u7684\u6a21\u5757\u548c\u539f\u56e0  Redis \u5728\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4f1a\u542f\u52a8\u540e\u53f0\u7ebf\u7a0b(BIO)\uff1a - Redis \u7684\u65e9\u671f\u7248\u672c\u4f1a\u542f\u52a8 2 \u4e2a\u540e\u53f0\u7ebf\u7a0b\uff0c\u6765\u5904\u7406\u5173\u95ed\u6587\u4ef6\u3001AOF \u5237\u76d8\u8fd9\u4e24\u4e2a\u4efb\u52a1 - Redis \u7684\u540e\u7eed\u7248\u672c\uff0c\u65b0\u589e\u4e86\u4e00\u4e2a\u65b0\u7684\u540e\u53f0\u7ebf\u7a0b\uff0c\u7528\u6765\u5f02\u6b65\u91ca\u653e Redis \u5185\u5b58\u3002\u6267\u884c unlink key / flushdb async / flushall async \u7b49\u547d\u4ee4\uff0c\u4f1a\u628a\u8fd9\u4e9b\u5220\u9664\u64cd\u4f5c\u4ea4\u7ed9\u540e\u53f0\u7ebf\u7a0b\u6765\u6267\u884c</p> <p>\u4e4b\u6240\u4ee5 Redis \u4e3a\u5173\u95ed\u6587\u4ef6\u3001AOF \u5237\u76d8\u3001\u91ca\u653e\u5185\u5b58\u8fd9\u4e9b\u4efb\u52a1\u521b\u5efa\u5355\u72ec\u7684\u7ebf\u7a0b\u6765\u5904\u7406\uff0c\u662f\u56e0\u4e3a\u8fd9\u4e9b\u4efb\u52a1\u7684\u64cd\u4f5c\u90fd\u5f88\u8017\u65f6\uff0c\u628a\u8fd9\u4e9b\u4efb\u52a1\u90fd\u653e\u5728\u4e3b\u7ebf\u7a0b\u6765\u5904\u7406\u4f1a\u5bfc\u81f4\u4e3b\u7ebf\u7a0b\u963b\u585e\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5904\u7406\u540e\u7eed\u7684\u8bf7\u6c42\u3002\u540e\u53f0\u7ebf\u7a0b\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6d88\u8d39\u8005\uff0c\u751f\u4ea7\u8005\u628a\u8017\u65f6\u4efb\u52a1\u4e22\u5230\u4efb\u52a1\u961f\u5217\u4e2d\uff0c\u6d88\u8d39\u8005\u4e0d\u505c\u8f6e\u8be2\u8fd9\u4e2a\u961f\u5217\uff0c\u62ff\u51fa\u4efb\u52a1\u53bb\u6267\u884c\u5bf9\u5e94\u7684\u65b9\u6cd5\u5373\u53ef\u3002</p>"},{"location":"Database/Redis/Redis/#redis_2","title":"Redis \u4e3a\u4ec0\u4e48\u8981\u5f15\u5165\u591a\u7ebf\u7a0b\uff1f","text":"<p>\u56e0\u4e3a Redis \u7684\u74f6\u9888\u4e0d\u5728\u5185\u5b58\uff0c\u800c\u662f\u5728\u7f51\u7edc I/O \u6a21\u5757\u5e26\u6765 CPU \u7684\u8017\u65f6\uff0c\u6240\u4ee5 Redis6.0 \u7684\u591a\u7ebf\u7a0b\u662f\u7528\u6765\u5904\u7406\u7f51\u7edc I/O \u8fd9\u90e8\u5206\uff0c\u5145\u5206\u5229\u7528 CPU \u8d44\u6e90\uff0c\u51cf\u5c11\u7f51\u7edc I/O \u963b\u585e\u5e26\u6765\u7684\u6027\u80fd\u635f\u8017\u3002Redis \u5f15\u5165\u7684\u591a\u7ebf\u7a0b I/O \u7279\u6027\u5bf9\u6027\u80fd\u63d0\u5347\u81f3\u5c11\u662f\u4e00\u500d\u4ee5\u4e0a\u3002</p>"},{"location":"Database/Redis/Redis/#redis-mysql","title":"\u4e3a\u4ec0\u4e48\u7528 Redis \u4f5c\u4e3a MySQL \u7684\u7f13\u5b58\uff1f","text":"<p>MySQL \u662f\u6570\u636e\u5e93\u7cfb\u7edf\uff0c\u5bf9\u4e8e\u6570\u636e\u7684\u64cd\u4f5c\u9700\u8981\u8bbf\u95ee\u786c\u76d8\uff0c\u800c\u5c06\u6570\u636e\u653e\u5728 Redis \u4e2d\uff0c\u9700\u8981\u8bbf\u95ee\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece\u5185\u5b58\u83b7\u53d6\uff0c\u907f\u514d\u786c\u76d8 I /O\uff0c\u63d0\u9ad8\u64cd\u4f5c\u7684\u901f\u5ea6\u3002</p> <p>\u4f7f\u7528 Redis + MySQL \u7ed3\u5408\u7684\u65b9\u5f0f\u53ef\u4ee5\u6709\u6548\u63d0\u9ad8\u7cfb\u7edf QPS\u3002</p>"},{"location":"Database/Redis/Redis/#redis-memcached","title":"Redis \u548c Memcached \u7684\u8054\u7cfb\u548c\u533a\u522b\uff1f","text":""},{"location":"Database/Redis/Redis/#_2","title":"\u5171\u540c\u70b9","text":"<ul> <li>\u90fd\u662f\u5185\u5b58\u6570\u636e\u5e93</li> <li>\u6027\u80fd\u90fd\u975e\u5e38\u9ad8</li> <li>\u90fd\u6709\u8fc7\u671f\u7b56\u7565</li> </ul>"},{"location":"Database/Redis/Redis/#_3","title":"\u533a\u522b","text":"<ul> <li>\u7ebf\u7a0b\u6a21\u578b\uff1aMemcached \u91c7\u7528\u591a\u7ebf\u7a0b\u6a21\u578b\uff0c\u5e76\u4e14\u57fa\u4e8e I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u4e3b\u7ebf\u7a0b\u63a5\u6536\u5230\u8bf7\u6c42\u540e\u5206\u53d1\u7ed9\u5b50\u7ebf\u7a0b\u5904\u7406\uff0c\u8fd9\u6837\u505a\u597d\u7684\u597d\u5904\u662f\uff1a\u5f53\u67d0\u4e2a\u8bf7\u6c42\u5904\u7406\u6bd4\u8f83\u8017\u65f6\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u8bf7\u6c42\u7684\u5904\u7406\u3002\u7f3a\u70b9\u662f CPU \u7684\u591a\u7ebf\u7a0b\u5207\u6362\u5b58\u5728\u6027\u80fd\u635f\u8017\uff0c\u540c\u65f6\uff0c\u591a\u7ebf\u7a0b\u5728\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\u8981\u52a0\u9501\uff0c\u4e5f\u4f1a\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u6027\u80fd\uff1bRedis \u4e5f\u91c7\u7528 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u4f46\u5b83\u5904\u7406\u8bf7\u6c42\u91c7\u7528\u662f\u5355\u7ebf\u7a0b\u6a21\u578b\uff0c\u4ece\u63a5\u6536\u8bf7\u6c42\u5230\u5904\u7406\u6570\u636e\u90fd\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u5b8c\u6210\u3002\u8fd9\u610f\u5473\u7740\u4f7f\u7528 Redis \u4e00\u65e6\u67d0\u4e2a\u8bf7\u6c42\u5904\u7406\u8017\u65f6\u6bd4\u8f83\u957f\uff0c\u90a3\u4e48\u6574\u4e2a Redis \u5c31\u4f1a\u963b\u585e\u4f4f\uff0c\u76f4\u5230\u8fd9\u4e2a\u8bf7\u6c42\u5904\u7406\u5b8c\u6210\u540e\u8fd4\u56de\uff0c\u624d\u80fd\u5904\u7406\u4e0b\u4e00\u4e2a\u8bf7\u6c42\uff0c\u4f7f\u7528 Redis \u65f6\u4e00\u5b9a\u8981\u907f\u514d\u590d\u6742\u7684\u8017\u65f6\u64cd\u4f5c\uff0c\u5355\u7ebf\u7a0b\u7684\u597d\u5904\u662f\uff0c\u5c11\u4e86 CPU \u7684\u4e0a\u4e0b\u6587\u5207\u6362\u635f\u8017\uff0c\u6ca1\u6709\u4e86\u591a\u7ebf\u7a0b\u8bbf\u95ee\u8d44\u6e90\u7684\u9501\u7ade\u4e89\uff0c\u4f46\u7f3a\u70b9\u662f\u65e0\u6cd5\u5229\u7528 CPU \u591a\u6838\u7684\u6027\u80fd</li> <li>\u6570\u636e\u7ed3\u6784\uff1aMemcached \u652f\u6301\u7684\u6570\u636e\u7ed3\u6784\u5f88\u5355\u4e00\uff0c\u4ec5\u652f\u6301 string \u7c7b\u578b\u7684\u64cd\u4f5c\u3002\u5e76\u4e14\u5bf9\u4e8e value \u7684\u5927\u5c0f\u9650\u5236\u5fc5\u987b\u5728 1MB \u4ee5\u4e0b\uff0c\u8fc7\u671f\u65f6\u95f4\u4e0d\u80fd\u8d85\u8fc7 30 \u5929\uff1b\u800c Redis \u652f\u6301\u7684\u6570\u636e\u7ed3\u6784\u975e\u5e38\u4e30\u5bcc\uff0c\u9664\u4e86\u5e38\u7528\u7684\u6570\u636e\u7c7b\u578b string\u3001list\u3001hash\u3001set\u3001zset \u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 geo\u3001hyperLogLog \u6570\u636e\u7c7b\u578b\uff1b\u4f7f\u7528 Memcached \u65f6\uff0c\u6211\u4eec\u53ea\u80fd\u628a\u6570\u636e\u5e8f\u5217\u5316\u540e\u5199\u5165\u5230 Memcached \u4e2d\u3002\u7136\u540e\u518d\u4ece Memcached \u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u518d\u53cd\u5e8f\u5217\u5316\u4e3a\u6211\u4eec\u9700\u8981\u7684\u683c\u5f0f\uff0c\u53ea\u80fd\u201c\u6574\u5b58\u6574\u53d6\u201d\uff1bRedis \u63d0\u4f9b\u7684\u6570\u636e\u7ed3\u6784\u63d0\u5347\u4e86\u64cd\u4f5c\u7684\u4fbf\u5229\u6027</li> <li>\u6dd8\u6c70\u7b56\u7565\uff1aMemcached \u5fc5\u987b\u8bbe\u7f6e\u6574\u4e2a\u5b9e\u4f8b\u7684\u5185\u5b58\u4e0a\u9650\uff0c\u6570\u636e\u8fbe\u5230\u4e0a\u9650\u540e\u89e6\u53d1 LRU \u6dd8\u6c70\u673a\u5236\uff0c\u4f18\u5148\u6dd8\u6c70\u4e0d\u5e38\u7528\u4f7f\u7528\u7684\u6570\u636e\u3002\u5b83\u7684\u6570\u636e\u6dd8\u6c70\u673a\u5236\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff1a\u521a\u5199\u5165\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u88ab\u4f18\u5148\u6dd8\u6c70\u6389\uff0c\u8fd9\u4e2a\u95ee\u9898\u4e3b\u8981\u662f\u5b83\u672c\u8eab\u5185\u5b58\u7ba1\u7406\u8bbe\u8ba1\u673a\u5236\u5bfc\u81f4\u7684\uff1bRedis \u6ca1\u6709\u9650\u5236\u5fc5\u987b\u8bbe\u7f6e\u5185\u5b58\u4e0a\u9650\uff0c\u5982\u679c\u5185\u5b58\u8db3\u591f\u4f7f\u7528\uff0cRedis \u53ef\u4ee5\u4f7f\u7528\u8db3\u591f\u5927\u7684\u5185\u5b58\uff0c\u540c\u65f6 Redis \u63d0\u4f9b\u4e86\u591a\u79cd\u5185\u5b58\u6dd8\u6c70\u7b56\u7565</li> <li>\u6301\u4e45\u5316\uff1aMemcached \u4e0d\u652f\u6301\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u5982\u679c Memcached \u670d\u52a1\u5b95\u673a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8282\u70b9\u7684\u6570\u636e\u5c06\u5168\u90e8\u4e22\u5931\u3002Redis \u652f\u6301 AOF \u548c RDB \u4e24\u79cd\u6301\u4e45\u5316\u65b9\u5f0f</li> <li>\u96c6\u7fa4\uff1aMemcached \u6ca1\u6709\u4e3b\u4ece\u590d\u5236\u67b6\u6784\uff0c\u53ea\u80fd\u5355\u8282\u70b9\u90e8\u7f72\uff0c\u5982\u679c\u8282\u70b9\u5b95\u673a\uff0c\u90a3\u4e48\u8be5\u8282\u70b9\u6570\u636e\u5168\u90e8\u4e22\u5931\uff0c\u4e1a\u52a1\u9700\u8981\u5bf9\u8fd9\u79cd\u60c5\u51b5\u505a\u517c\u5bb9\u5904\u7406\uff0c\u5f53\u67d0\u4e2a\u8282\u70b9\u4e0d\u53ef\u7528\u65f6\uff0c\u628a\u6570\u636e\u5199\u5165\u5230\u5176\u4ed6\u8282\u70b9\u4ee5\u964d\u4f4e\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\uff1bRedis \u62e5\u6709\u4e3b\u4ece\u590d\u5236\u67b6\u6784\uff0c\u4e3b\u8282\u70b9\u4ece\u53ef\u4ee5\u5b9e\u65f6\u540c\u6b65\u4e3b\u7684\u6570\u636e\uff0c\u63d0\u9ad8\u6574\u4e2a Redis \u670d\u52a1\u7684\u53ef\u7528\u6027</li> </ul>"},{"location":"Database/Redis/Redis/#redis_3","title":"\u5982\u4f55\u7406\u89e3 Redis \u539f\u5b50\u6027\u64cd\u4f5c\u539f\u7406\uff1f","text":"<ul> <li>API\uff1aRedis \u63d0\u4f9b\u7684 API \u90fd\u662f\u5355\u7ebf\u7a0b\u4e32\u884c\u5904\u7406\u7684</li> <li>\u7f51\u7edc\u6a21\u578b\uff1a\u91c7\u7528\u5355\u7ebf\u7a0b\u7684 epoll \u7684\u7f51\u7edc\u6a21\u578b\uff0c\u7528\u6765\u5904\u7406\u591a\u4e2a Socket \u8bf7\u6c42</li> <li>\u8bf7\u6c42\u5904\u7406\uff1aRedis \u4f1a fork \u5b50\u8fdb\u7a0b\u6765\u51fa\u6765\u7c7b\u4f3c\u4e8e RDB \u548c AOF \u7684\u64cd\u4f5c\uff0c\u4e0d\u5f71\u54cd\u4e3b\u8fdb\u7a0b\u5de5\u4f5c</li> </ul>"},{"location":"Database/Redis/Redis/#_4","title":"\ud83d\udd35 \u6570\u636e\u7ed3\u6784","text":""},{"location":"Database/Redis/Redis/#redis_4","title":"Redis \u6570\u636e\u7c7b\u578b\uff1f","text":"<p>\u4e3b\u8981\u6709 STRING\uff0cLIST\uff0cZSET\uff0cSET\uff0cHASH\u3002</p>"},{"location":"Database/Redis/Redis/#string","title":"STRING","text":"<p>String \u7c7b\u578b\u7684\u5e95\u5c42\u7684\u6570\u636e\u7ed3\u6784\u5b9e\u73b0\u4e3b\u8981\u662f SDS(\u7b80\u5355\u52a8\u6001\u5b57\u7b26\u4e32)\u3002\u5e94\u7528\u573a\u666f\u4e3b\u8981\u6709\uff1a</p> <ul> <li>\u7f13\u5b58\u5bf9\u8c61\uff1a\u4f8b\u5982\u53ef\u4ee5\u7528 STRING \u7f13\u5b58\u6574\u4e2a\u5bf9\u8c61\u7684 JSON</li> <li>\u8ba1\u6570\uff1aRedis \u5904\u7406\u547d\u4ee4\u662f\u5355\u7ebf\u7a0b\uff0c\u6240\u4ee5\u6267\u884c\u547d\u4ee4\u7684\u8fc7\u7a0b\u662f\u539f\u5b50\u7684\uff0c\u56e0\u6b64 String \u6570\u636e\u7c7b\u578b\u9002\u5408\u8ba1\u6570\u573a\u666f\uff0c\u6bd4\u5982\u8ba1\u7b97\u8bbf\u95ee\u6b21\u6570\u3001\u70b9\u8d5e\u3001\u8f6c\u53d1\u3001\u5e93\u5b58\u6570\u91cf\u7b49\u7b49</li> <li>\u5206\u5e03\u5f0f\u9501\uff1a\u53ef\u4ee5\u5229\u7528 SETNX \u547d\u4ee4</li> <li>\u5171\u4eab Session \u4fe1\u606f\uff1a\u670d\u52a1\u5668\u90fd\u4f1a\u53bb\u540c\u4e00\u4e2a Redis \u83b7\u53d6\u76f8\u5173\u7684 Session \u4fe1\u606f\uff0c\u89e3\u51b3\u4e86\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e0b Session \u5b58\u50a8\u7684\u95ee\u9898</li> </ul>"},{"location":"Database/Redis/Redis/#list","title":"LIST","text":"<p>List \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u662f\u7531 \u53cc\u5411\u94fe\u8868\u6216\u538b\u7f29\u5217\u8868 \u5b9e\u73b0\u7684\uff1a</p> <ul> <li>\u5982\u679c\u5217\u8868\u7684\u5143\u7d20\u4e2a\u6570\u5c0f\u4e8e 512 \u4e2a\uff0c\u5217\u8868\u6bcf\u4e2a\u5143\u7d20\u7684\u503c\u90fd\u5c0f\u4e8e 64 \u5b57\u8282\uff0cRedis \u4f1a\u4f7f\u7528 \u538b\u7f29\u5217\u8868 \u4f5c\u4e3a List \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\uff1b</li> <li>\u5982\u679c\u5217\u8868\u7684\u5143\u7d20\u4e0d\u6ee1\u8db3\u4e0a\u9762\u7684\u6761\u4ef6\uff0cRedis \u4f1a\u4f7f\u7528 \u53cc\u5411\u94fe\u8868 \u4f5c\u4e3a List \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\uff1b</li> </ul> <p>\u5728 Redis 3.2 \u7248\u672c\u4e4b\u540e\uff0cList \u6570\u636e\u7c7b\u578b\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u53ea\u7531 quicklist \u5b9e\u73b0\uff0c\u66ff\u4ee3\u4e86\u53cc\u5411\u94fe\u8868\u548c\u538b\u7f29\u5217\u8868\u3002\u5728 Redis 7.0 \u4e2d\uff0c\u538b\u7f29\u5217\u8868\u6570\u636e\u7ed3\u6784\u88ab\u5e9f\u5f03\uff0c\u7531 listpack \u6765\u5b9e\u73b0\u3002\u5e94\u7528\u573a\u666f\u4e3b\u8981\u6709\uff1a</p> <ul> <li>\u5fae\u4fe1\u670b\u53cb\u5708\u70b9\u8d5e\uff1a\u8981\u6c42\u6309\u7167\u70b9\u8d5e\u987a\u5e8f\u663e\u793a\u70b9\u8d5e\u597d\u53cb\u4fe1\u606f\uff0c\u5982\u679c\u53d6\u6d88\u70b9\u8d5e\uff0c\u79fb\u9664\u5bf9\u5e94\u597d\u53cb\u4fe1\u606f</li> <li>\u6d88\u606f\u961f\u5217\uff1a\u53ef\u4ee5\u4f7f\u7528\u5de6\u8fdb\u53f3\u51fa\u7684\u547d\u4ee4\u7ec4\u6210\u6765\u5b8c\u6210\u961f\u5217\u7684\u8bbe\u8ba1\u3002\u6bd4\u5982\uff1a\u6570\u636e\u7684\u751f\u4ea7\u8005\u53ef\u4ee5\u901a\u8fc7 Lpush \u547d\u4ee4\u4ece\u5de6\u8fb9\u63d2\u5165\u6570\u636e\uff0c\u591a\u4e2a\u6570\u636e\u6d88\u8d39\u8005\uff0c\u53ef\u4ee5\u4f7f\u7528 BRpop \u547d\u4ee4\u963b\u585e\u7684\u62a2\u5217\u8868\u5c3e\u90e8\u7684\u6570\u636e</li> </ul>"},{"location":"Database/Redis/Redis/#hash","title":"HASH","text":"<p>Hash \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u662f\u7531\u538b\u7f29\u5217\u8868\u6216\u54c8\u5e0c\u8868\u5b9e\u73b0\u7684\uff1a</p> <ul> <li>\u5982\u679c\u54c8\u5e0c\u7c7b\u578b\u5143\u7d20\u4e2a\u6570\u5c0f\u4e8e 512 \u4e2a\uff0c\u6240\u6709\u503c\u5c0f\u4e8e 64 \u5b57\u8282\u7684\u8bdd\uff0cRedis \u4f1a\u4f7f\u7528\u538b\u7f29\u5217\u8868\u4f5c\u4e3a Hash \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\uff1b</li> <li>\u5982\u679c\u54c8\u5e0c\u7c7b\u578b\u5143\u7d20\u4e0d\u6ee1\u8db3\u4e0a\u9762\u6761\u4ef6\uff0cRedis \u4f1a\u4f7f\u7528\u54c8\u5e0c\u8868\u4f5c\u4e3a Hash \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u3002</li> </ul> <p>\u5728 Redis  7.0 \u4e2d\uff0c\u538b\u7f29\u5217\u8868\u6570\u636e\u7ed3\u6784\u88ab\u5e9f\u5f03\uff0c\u4ea4\u7531 listpack \u6765\u5b9e\u73b0\u3002\u5e94\u7528\u573a\u666f\u4e3b\u8981\u6709\uff1a</p> <ul> <li>\u7f13\u5b58\u5bf9\u8c61\uff1a\u4e00\u822c\u5bf9\u8c61\u7528 String + Json \u5b58\u50a8\uff0c\u5bf9\u8c61\u4e2d\u67d0\u4e9b\u9891\u7e41\u53d8\u5316\u7684\u5c5e\u6027\u53ef\u4ee5\u8003\u8651\u62bd\u51fa\u6765\u7528 Hash \u7c7b\u578b\u5b58\u50a8</li> <li>\u8d2d\u7269\u8f66\uff1a\u4ee5\u7528\u6237 id \u4e3a key\uff0c\u5546\u54c1 id \u4e3a field\uff0c\u5546\u54c1\u6570\u91cf\u4e3a value\uff0c\u6070\u597d\u6784\u6210\u4e86\u8d2d\u7269\u8f66\u7684 3 \u4e2a\u8981\u7d20</li> </ul>"},{"location":"Database/Redis/Redis/#set","title":"SET","text":"<p>Set \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u662f\u7531 \u54c8\u5e0c\u8868\u6216\u6574\u6570\u96c6\u5408 \u5b9e\u73b0\u7684\uff1a</p> <ul> <li>\u5982\u679c\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u90fd\u662f\u6574\u6570\u4e14\u5143\u7d20\u4e2a\u6570\u5c0f\u4e8e 512\u4e2a\uff0cRedis \u4f1a\u4f7f\u7528 \u6574\u6570\u96c6\u5408 \u4f5c\u4e3a Set \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784</li> <li>\u5982\u679c\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u4e0d\u6ee1\u8db3\u4e0a\u9762\u6761\u4ef6\uff0c\u5219 Redis \u4f7f\u7528 \u54c8\u5e0c\u8868 \u4f5c\u4e3a Set \u7c7b\u578b\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784</li> </ul> <p>\u5e94\u7528\u573a\u666f\u4e3b\u8981\u6709\uff1a</p> <ul> <li>\u70b9\u8d5e\uff1akey \u662f\u6587\u7ae0 id\uff0cvalue \u662f\u7528\u6237 id</li> <li>\u5171\u540c\u5173\u6ce8\uff1aSet \u7c7b\u578b\u652f\u6301\u4ea4\u96c6\u8fd0\u7b97\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u6765\u8ba1\u7b97\u5171\u540c\u5173\u6ce8\u7684\u597d\u53cb\u3001\u516c\u4f17\u53f7\u7b49\u3002key \u53ef\u4ee5\u662f\u7528\u6237 id\uff0cvalue \u5219\u662f\u5df2\u5173\u6ce8\u7684\u516c\u4f17\u53f7\u7684 id</li> <li>\u62bd\u5956\u6d3b\u52a8\uff1a\u5b58\u50a8\u67d0\u6d3b\u52a8\u4e2d\u4e2d\u5956\u7684\u7528\u6237\u540d\uff0cSet \u7c7b\u578b\u56e0\u4e3a\u6709\u53bb\u91cd\u529f\u80fd\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u540c\u4e00\u4e2a\u7528\u6237\u4e0d\u4f1a\u4e2d\u5956\u4e24\u6b21</li> </ul> <p>\u63d0\u793a  Set \u7684\u5dee\u96c6\u3001\u5e76\u96c6\u548c\u4ea4\u96c6\u7684\u8ba1\u7b97\u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u5728\u6570\u636e\u91cf\u8f83\u5927\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u76f4\u63a5\u6267\u884c\u8fd9\u4e9b\u8ba1\u7b97\uff0c\u4f1a\u5bfc\u81f4 Redis \u5b9e\u4f8b\u963b\u585e\u3002\u5728\u4e3b\u4ece\u96c6\u7fa4\u4e2d\uff0c\u4e3a\u4e86\u907f\u514d\u4e3b\u5e93\u56e0\u4e3a Set \u505a\u805a\u5408\u8ba1\u7b97(\u4ea4\u96c6\u3001\u5dee\u96c6\u3001\u5e76\u96c6)\u65f6\u5bfc\u81f4\u4e3b\u5e93\u88ab\u963b\u585e\uff0c\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u4ece\u5e93\u5b8c\u6210\u805a\u5408\u7edf\u8ba1\uff0c\u6216\u8005\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u7531\u5ba2\u6237\u7aef\u6765\u5b8c\u6210\u805a\u5408\u7edf\u8ba1\u3002</p>"},{"location":"Database/Redis/Redis/#zset","title":"Zset","text":"<p>Zset \u7c7b\u578b(Sorted Set\uff0c\u6709\u5e8f\u96c6\u5408)\u53ef\u4ee5\u6839\u636e\u5143\u7d20\u7684\u6743\u91cd\u6765\u6392\u5e8f\uff0c\u53ef\u4ee5\u81ea\u5df1\u6765\u51b3\u5b9a\u6bcf\u4e2a\u5143\u7d20\u7684\u6743\u91cd\u503c\u3002\u6bd4\u5982\u8bf4\uff0c\u53ef\u4ee5\u6839\u636e\u5143\u7d20\u63d2\u5165 Sorted Set \u7684\u65f6\u95f4\u786e\u5b9a\u6743\u91cd\u503c\uff0c\u5148\u63d2\u5165\u7684\u5143\u7d20\u6743\u91cd\u5c0f\uff0c\u540e\u63d2\u5165\u7684\u5143\u7d20\u6743\u91cd\u5927\u3002\u5e94\u7528\u573a\u666f\u4e3b\u8981\u6709\uff1a</p> <ul> <li>\u5728\u9762\u5bf9\u9700\u8981\u5c55\u793a\u6700\u65b0\u5217\u8868\u3001\u6392\u884c\u699c\u7b49\u573a\u666f\u65f6\uff0c\u5982\u679c\u6570\u636e\u66f4\u65b0\u9891\u7e41\u6216\u8005\u9700\u8981\u5206\u9875\u663e\u793a\uff0c\u53ef\u4ee5\u4f18\u5148\u8003\u8651\u4f7f\u7528 Zset</li> <li>\u6392\u884c\u699c\uff1a\u6709\u5e8f\u96c6\u5408\u6bd4\u8f83\u5178\u578b\u7684\u4f7f\u7528\u573a\u666f\u5c31\u662f\u6392\u884c\u699c\u3002\u4f8b\u5982\u5b66\u751f\u6210\u7ee9\u7684\u6392\u540d\u699c\u3001\u6e38\u620f\u79ef\u5206\u6392\u884c\u699c\u3001\u89c6\u9891\u64ad\u653e\u6392\u540d\u3001\u7535\u5546\u7cfb\u7edf\u4e2d\u5546\u54c1\u7684\u9500\u91cf\u6392\u540d\u7b49</li> </ul>"},{"location":"Database/Redis/Redis/#bitmap","title":"BitMap","text":"<p>bit \u662f\u8ba1\u7b97\u673a\u4e2d\u6700\u5c0f\u7684\u5355\u4f4d\uff0c\u4f7f\u7528\u5b83\u8fdb\u884c\u50a8\u5b58\u5c06\u975e\u5e38\u8282\u7701\u7a7a\u95f4\uff0c\u7279\u522b\u9002\u5408\u4e00\u4e9b\u6570\u636e\u91cf\u5927\u4e14\u4f7f\u7528\u4e8c\u503c\u7edf\u8ba1\u7684\u573a\u666f\u3002\u53ef\u4ee5\u7528\u4e8e\u7b7e\u5230\u7edf\u8ba1\u3001\u5224\u65ad\u7528\u6237\u767b\u9646\u6001\u7b49\u64cd\u4f5c\u3002</p>"},{"location":"Database/Redis/Redis/#hyperloglog","title":"HyperLogLog","text":"<p>HyperLogLog \u7528\u4e8e\u57fa\u6570\u7edf\u8ba1\uff0c\u7edf\u8ba1\u89c4\u5219\u662f\u57fa\u4e8e\u6982\u7387\u5b8c\u6210\u7684\uff0c\u4e0d\u51c6\u786e\uff0c\u6807\u51c6\u8bef\u7b97\u7387\u662f 0.81%\u3002\u4f18\u70b9\u662f\uff0c\u5728\u8f93\u5165\u5143\u7d20\u7684\u6570\u91cf\u6216\u8005\u4f53\u79ef\u975e\u5e38\u975e\u5e38\u5927\u65f6\uff0c\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u603b\u662f\u56fa\u5b9a\u7684\u3001\u5e76\u4e14\u5f88\u5c0f\u3002\u6bd4\u5982\u767e\u4e07\u7ea7\u7f51\u9875 UV \u8ba1\u6570\u7b49\uff1b</p>"},{"location":"Database/Redis/Redis/#dgeo","title":"dGEO","text":"<p>\u4e3b\u8981\u7528\u4e8e\u5b58\u50a8\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f\uff0c\u5e76\u5bf9\u5b58\u50a8\u7684\u4fe1\u606f\u8fdb\u884c\u64cd\u4f5c\u3002\u5e95\u5c42\u662f\u7531 Zset \u5b9e\u73b0\u7684\uff0c\u4f7f\u7528 GeoHash \u7f16\u7801\u65b9\u6cd5\u5b9e\u73b0\u4e86\u7ecf\u7eac\u5ea6\u5230 Zset \u4e2d\u5143\u7d20\u6743\u91cd\u5206\u6570\u7684\u8f6c\u6362\uff0c\u8fd9\u5176\u4e2d\u7684\u4e24\u4e2a\u5173\u952e\u673a\u5236\u5c31\u662f\u300c\u5bf9\u4e8c\u7ef4\u5730\u56fe\u505a\u533a\u95f4\u5212\u5206\u300d\u548c\u300c\u5bf9\u533a\u95f4\u8fdb\u884c\u7f16\u7801\u300d\u3002\u4e00\u7ec4\u7ecf\u7eac\u5ea6\u843d\u5728\u67d0\u4e2a\u533a\u95f4\u540e\uff0c\u5c31\u7528\u533a\u95f4\u7684\u7f16\u7801\u503c\u6765\u8868\u793a\uff0c\u5e76\u628a\u7f16\u7801\u503c\u4f5c\u4e3a Zset \u5143\u7d20\u7684\u6743\u91cd\u5206\u6570\u3002</p>"},{"location":"Database/Redis/Redis/#stream","title":"Stream","text":"<p>Redis \u4e13\u95e8\u4e3a\u6d88\u606f\u961f\u5217\u8bbe\u8ba1\u7684\u6570\u636e\u7c7b\u578b\u3002\u76f8\u6bd4\u4e8e\u57fa\u4e8e List \u7c7b\u578b\u5b9e\u73b0\u7684\u6d88\u606f\u961f\u5217\uff0c\u6709\u8fd9\u4e24\u4e2a\u7279\u6709\u7684\u7279\u6027\uff1a\u81ea\u52a8\u751f\u6210\u5168\u5c40\u552f\u4e00\u6d88\u606f ID\uff0c\u652f\u6301\u4ee5\u6d88\u8d39\u7ec4\u5f62\u5f0f\u6d88\u8d39\u6570\u636e\u3002</p> <p>\u4e4b\u524d\u65b9\u6cd5\u7f3a\u9677\uff1a\u4e0d\u80fd\u6301\u4e45\u5316\uff0c\u65e0\u6cd5\u53ef\u9760\u7684\u4fdd\u5b58\u6d88\u606f\uff0c\u5e76\u4e14\u5bf9\u4e8e\u79bb\u7ebf\u91cd\u8fde\u7684\u5ba2\u6237\u7aef\u4e0d\u80fd\u8bfb\u53d6\u5386\u53f2\u6d88\u606f\u3002</p>"},{"location":"Database/Redis/Redis/#redis_5","title":"Redis \u5e95\u5c42\u6570\u636e\u7ed3\u6784\uff1f","text":""},{"location":"Database/Redis/Redis/#sds","title":"SDS","text":"<p>SDS \u4e0d\u4ec5\u53ef\u4ee5\u4fdd\u5b58\u6587\u672c\u6570\u636e\uff0c\u8fd8\u53ef\u4ee5\u4fdd\u5b58\u4e8c\u8fdb\u5236\u6570\u636e\u3002</p> <p>O(1) \u590d\u6742\u5ea6\u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6\uff0c\u56e0\u4e3a\u6709 Len \u5c5e\u6027\u3002</p> <p>\u4e0d\u4f1a\u53d1\u751f\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u56e0\u4e3a SDS \u5728\u62fc\u63a5\u5b57\u7b26\u4e32\u4e4b\u524d\u4f1a\u68c0\u67e5\u7a7a\u95f4\u662f\u5426\u6ee1\u8db3\u8981\u6c42\uff0c\u5982\u679c\u7a7a\u95f4\u4e0d\u591f\u4f1a\u81ea\u52a8\u6269\u5bb9\uff0c\u6240\u4ee5\u4e0d\u4f1a\u5bfc\u81f4\u7f13\u51b2\u533a\u6ea2\u51fa\u7684\u95ee\u9898\u3002</p>"},{"location":"Database/Redis/Redis/#_5","title":"\u94fe\u8868","text":"<p>\u8282\u70b9\u662f\u4e00\u4e2a\u53cc\u5411\u94fe\u8868\uff0c\u5728\u53cc\u5411\u94fe\u8868\u57fa\u7840\u4e0a\u5c01\u88c5\u4e86 listNode \u8fd9\u4e2a\u6570\u636e\u7ed3\u6784\u3002\u5305\u62ec\u94fe\u8868\u8282\u70b9\u6570\u91cf len\u3001\u4ee5\u53ca\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5b9e\u73b0\u7684 dup\u3001free\u3001match \u51fd\u6570\u3002</p> <ul> <li>listNode \u94fe\u8868\u8282\u70b9\u7684\u7ed3\u6784\u91cc\u5e26\u6709 prev \u548c next \u6307\u9488\uff0c\u83b7\u53d6\u67d0\u4e2a\u8282\u70b9\u7684\u524d\u7f6e\u8282\u70b9\u6216\u540e\u7f6e\u8282\u70b9\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ea\u9700 O(1)\uff0c\u800c\u4e14\u8fd9\u4e24\u4e2a\u6307\u9488\u90fd\u53ef\u4ee5\u6307\u5411 NULL\uff0c\u6240\u4ee5\u94fe\u8868\u662f\u65e0\u73af\u94fe\u8868\uff1b</li> <li>list \u7ed3\u6784\u56e0\u4e3a\u63d0\u4f9b\u4e86\u8868\u5934\u6307\u9488 head \u548c\u8868\u5c3e\u8282\u70b9 tail\uff0c\u6240\u4ee5\u83b7\u53d6\u94fe\u8868\u7684\u8868\u5934\u8282\u70b9\u548c\u8868\u5c3e\u8282\u70b9\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ea\u9700 O (1)\uff1b</li> </ul> <p>\u7f3a\u9677\uff1a</p> <ul> <li>\u94fe\u8868\u6bcf\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u5185\u5b58\u90fd\u662f\u4e0d\u8fde\u7eed\u7684\uff0c\u65e0\u6cd5\u5f88\u597d\u5229\u7528 CPU \u7f13\u5b58\u3002\u80fd\u5f88\u597d\u5229\u7528 CPU \u7f13\u5b58\u7684\u6570\u636e\u7ed3\u6784\u662f\u6570\u7ec4\uff0c\u56e0\u4e3a\u6570\u7ec4\u7684\u5185\u5b58\u662f\u8fde\u7eed\u7684</li> <li>\u4fdd\u5b58\u4e00\u4e2a\u94fe\u8868\u8282\u70b9\u7684\u503c\u90fd\u9700\u8981\u4e00\u4e2a\u94fe\u8868\u8282\u70b9\u7ed3\u6784\u5934\u7684\u5206\u914d\uff0c\u5185\u5b58\u5f00\u9500\u8f83\u5927</li> </ul>"},{"location":"Database/Redis/Redis/#_6","title":"\u538b\u7f29\u5217\u8868###","text":"<p>\u538b\u7f29\u5217\u8868\u662f\u7531\u8fde\u7eed\u5185\u5b58\u5757\u7ec4\u6210\u7684\u987a\u5e8f\u578b\u6570\u636e\u7ed3\u6784\uff0c\u7c7b\u4f3c\u4e8e\u6570\u7ec4\u3002\u4e0d\u4ec5\u53ef\u4ee5\u5229\u7528 CPU \u7f13\u5b58\uff0c\u800c\u4e14\u4f1a\u9488\u5bf9\u4e0d\u540c\u957f\u5ea6\u7684\u6570\u636e\uff0c\u8fdb\u884c\u76f8\u5e94\u7f16\u7801\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u6709\u6548\u5730\u8282\u7701\u5185\u5b58\u5f00\u9500\u3002\u4e0d\u80fd\u4fdd\u5b58\u8fc7\u591a\u7684\u5143\u7d20\uff0c\u5426\u5219\u67e5\u8be2\u6548\u7387\u5c31\u4f1a\u964d\u4f4e\uff1b\u65b0\u589e\u6216\u4fee\u6539\u67d0\u4e2a\u5143\u7d20\u65f6\uff0c\u538b\u7f29\u5217\u8868\u5360\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u9700\u8981\u91cd\u65b0\u5206\u914d\uff0c\u751a\u81f3\u53ef\u80fd\u5f15\u53d1\u8fde\u9501\u66f4\u65b0\u7684\u95ee\u9898\u3002</p> <p>\u7f3a\u9677\uff1a</p> <ul> <li>\u7a7a\u95f4\u6269\u5c55\u64cd\u4f5c\u4e5f\u5c31\u662f\u91cd\u65b0\u5206\u914d\u5185\u5b58\uff0c\u56e0\u6b64\u8fde\u9501\u66f4\u65b0\u4e00\u65e6\u53d1\u751f\uff0c\u5c31\u4f1a\u5bfc\u81f4\u538b\u7f29\u5217\u8868\u5360\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u8981\u591a\u6b21\u91cd\u65b0\u5206\u914d\uff0c\u76f4\u63a5\u5f71\u54cd\u5230\u538b\u7f29\u5217\u8868\u7684\u8bbf\u95ee\u6027\u80fd</li> <li>\u5982\u679c\u4fdd\u5b58\u7684\u5143\u7d20\u6570\u91cf\u589e\u52a0\u4e86\uff0c\u6216\u662f\u5143\u7d20\u53d8\u5927\u4e86\uff0c\u4f1a\u5bfc\u81f4\u5185\u5b58\u91cd\u65b0\u5206\u914d\uff0c\u4f1a\u6709\u8fde\u9501\u66f4\u65b0\u7684\u95ee\u9898</li> <li>\u538b\u7f29\u5217\u8868\u53ea\u4f1a\u7528\u4e8e\u4fdd\u5b58\u7684\u8282\u70b9\u6570\u91cf\u4e0d\u591a\u7684\u573a\u666f\uff0c\u53ea\u8981\u8282\u70b9\u6570\u91cf\u8db3\u591f\u5c0f\uff0c\u5373\u4f7f\u53d1\u751f\u8fde\u9501\u66f4\u65b0\u4e5f\u80fd\u63a5\u53d7</li> </ul>"},{"location":"Database/Redis/Redis/#_7","title":"\u54c8\u5e0c","text":"<p>\u54c8\u5e0c\u8868\u662f\u4e00\u79cd\u4fdd\u5b58\u952e\u503c\u5bf9(key-value)\u7684\u6570\u636e\u7ed3\u6784\u3002\u4f18\u70b9\u5728\u4e8e\u80fd\u4ee5 O(1) \u7684\u590d\u6742\u5ea6\u5feb\u901f\u67e5\u8be2\u6570\u636e\u3002Redis \u91c7\u7528\u4e86\u62c9\u94fe\u6cd5\u6765\u89e3\u51b3\u54c8\u5e0c\u51b2\u7a81\uff0c\u5728\u4e0d\u6269\u5bb9\u54c8\u5e0c\u8868\u7684\u524d\u63d0\u4e0b\uff0c\u5c06\u5177\u6709\u76f8\u540c\u54c8\u5e0c\u503c\u7684\u6570\u636e\u4e32\u8d77\u6765\uff0c\u5f62\u6210\u94fe\u63a5\u3002\u6e10\u8fdb\u5f0f\u54c8\u5e0c\u7684\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p>Redis \u5b9a\u4e49\u4e00\u4e2a dict \u7ed3\u6784\u4f53\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u91cc\u5b9a\u4e49\u4e86 \u4e24\u4e2a\u54c8\u5e0c\u8868(ht[2])\u3002</p> <ul> <li>\u7ed9 ht2 \u5206\u914d\u7a7a\u95f4</li> <li>\u5728 rehash \u8fdb\u884c\u671f\u95f4\uff0c\u6bcf\u6b21\u54c8\u5e0c\u8868\u5143\u7d20\u8fdb\u884c\u65b0\u589e\u3001\u5220\u9664\u3001\u67e5\u627e\u6216\u8005\u66f4\u65b0\u64cd\u4f5c\u65f6\uff0cRedis \u9664\u4e86\u4f1a\u6267\u884c\u5bf9\u5e94\u7684\u64cd\u4f5c\u4e4b\u5916\uff0c\u8fd8\u4f1a\u987a\u5e8f\u5c06 ht 1\u4e2d\u7d22\u5f15\u4f4d\u7f6e\u4e0a\u7684\u6240\u6709\u6570\u636e\u8fc1\u79fb\u5230 ht2 \u4e0a</li> <li>\u968f\u7740\u5904\u7406\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u54c8\u5e0c\u8868\u64cd\u4f5c\u8bf7\u6c42\u6570\u91cf\u8d8a\u591a\uff0c\u6700\u7ec8\u5728\u67d0\u4e2a\u65f6\u95f4\u70b9\u4f1a\u628a\u300c\u54c8\u5e0c\u8868 1 \u300d\u7684\u6240\u6709 key-value \u8fc1\u79fb\u5230\u300c\u54c8\u5e0c\u8868 2\u300d\uff0c\u4ece\u800c\u5b8c\u6210 rehash \u64cd\u4f5c</li> </ul> <p>tip \u6e10\u8fdb\u5f0f\u54c8\u5e0c\u7684\u89e6\u53d1\u6761\u4ef6\uff1f  \u8d1f\u8f7d\u56e0\u5b50 = \u54c8\u5e0c\u8868\u5df2\u4fdd\u5b58\u8282\u70b9\u6570/\u54c8\u5e0c\u8868\u5927\u5c0f</p> <p>\u5f53\u8d1f\u8f7d\u56e0\u5b50\u5927\u4e8e\u7b49\u4e8e 1\uff0c\u6ca1\u6709\u6267\u884c RDB \u5feb\u7167\u6216\u6ca1\u6709\u8fdb\u884c AOF \u91cd\u5199\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u8fdb\u884c rehash \u64cd\u4f5c\u3002</p> <p>\u5f53\u8d1f\u8f7d\u56e0\u5b50\u5927\u4e8e\u7b49\u4e8e 5 \u65f6\uff0c\u6b64\u65f6\u8bf4\u660e\u54c8\u5e0c\u51b2\u7a81\u975e\u5e38\u4e25\u91cd\u4e86\uff0c\u4e0d\u7ba1\u6709\u6ca1\u6709\u6709\u5728\u6267\u884c RDB \u5feb\u7167\u6216 AOF \u91cd\u5199\uff0c\u90fd\u4f1a\u5f3a\u5236\u8fdb\u884c rehash \u64cd\u4f5c\u3002</p>"},{"location":"Database/Redis/Redis/#_8","title":"\u8df3\u8868","text":"<p>\u4e00\u79cd\u591a\u5c42\u7684\u6709\u5e8f\u94fe\u8868\uff0c\u80fd\u5feb\u8bfb\u5b9a\u4f4d\u6570\u636e\u3002\u5f53\u6570\u636e\u91cf\u5f88\u5927\u65f6\uff0c\u8df3\u8868\u7684\u67e5\u627e\u590d\u6742\u5ea6\u5c31\u662f O(logN)\u3002</p> <p>\u8282\u70b9\u540c\u65f6\u4fdd\u5b58\u5143\u7d20\u548c\u5143\u7d20\u7684\u6743\u91cd\uff0c\u6bcf\u4e2a\u8df3\u8868\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u540e\u5411\u6307\u9488\uff0c\u6307\u5411\u524d\u4e00\u4e2a\u8282\u70b9\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u65b9\u4fbf\u4ece\u8df3\u8868\u7684\u5c3e\u8282\u70b9\u5f00\u59cb\u8bbf\u95ee\u8282\u70b9\uff0c\u4e3a\u4e86\u5012\u5e8f\u67e5\u627e\u65f6\u65b9\u4fbf\u3002\u8df3\u8868\u662f\u4e00\u4e2a\u5e26\u6709\u5c42\u7ea7\u5173\u7cfb\u7684\u94fe\u8868\uff0c\u800c\u4e14\u6bcf\u4e00\u5c42\u7ea7\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u8282\u70b9\uff0c\u6bcf\u4e00\u4e2a\u8282\u70b9\u901a\u8fc7\u6307\u9488\u8fde\u63a5\u8d77\u6765\u3002Zset \u6570\u7ec4\u4e2d\u4e00\u4e2a\u5c5e\u6027\u662f level \u6570\u7ec4\uff0c\u4e00\u4e2a level \u6570\u7ec4\u5c31\u4ee3\u8868\u8df3\u8868\u7684\u4e00\u5c42\uff0c\u5b9a\u4e49\u4e86\u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u6307\u9488\u548c\u8de8\u5ea6\u3002</p> <p>tip \u8df3\u8868\u7684\u67e5\u627e\u8fc7\u7a0b\uff1f  \u67e5\u627e\u4e00\u4e2a\u8df3\u8868\u8282\u70b9\u7684\u8fc7\u7a0b\u65f6\uff0c\u8df3\u8868\u4f1a\u4ece\u5934\u8282\u70b9\u7684\u6700\u9ad8\u5c42\u5f00\u59cb\uff0c\u9010\u4e00\u904d\u5386\u6bcf\u4e00\u5c42\u3002\u5728\u904d\u5386\u67d0\u4e00\u5c42\u7684\u8df3\u8868\u8282\u70b9\u65f6\uff0c\u4f1a\u7528\u8df3\u8868\u8282\u70b9\u4e2d\u7684 SDS \u7c7b\u578b\u7684\u5143\u7d20\u548c\u5143\u7d20\u7684\u6743\u91cd\u6765\u8fdb\u884c\u5224\u65ad\uff1a - \u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u6743\u91cd\u5c0f\u4e8e\u8981\u67e5\u627e\u7684\u6743\u91cd\u65f6\uff0c\u8df3\u8868\u5c31\u4f1a\u8bbf\u95ee\u8be5\u5c42\u4e0a\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u3002 - \u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u6743\u91cd\u7b49\u4e8e\u8981\u67e5\u627e\u7684\u6743\u91cd\u65f6\uff0c\u5e76\u4e14\u5f53\u524d\u8282\u70b9\u7684 SDS \u7c7b\u578b\u6570\u636e\u5c0f\u4e8e\u8981\u67e5\u627e\u7684\u6570\u636e\u65f6\uff0c\u8df3\u8868\u5c31\u4f1a\u8bbf\u95ee\u8be5\u5c42\u4e0a\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u3002</p> <p>\u5982\u679c\u4e0a\u9762\u4e24\u4e2a\u6761\u4ef6\u90fd\u4e0d\u6ee1\u8db3\uff0c\u6216\u8005\u4e0b\u4e00\u4e2a\u8282\u70b9\u4e3a\u7a7a\u65f6\uff0c\u8df3\u8868\u5c31\u4f1a\u4f7f\u7528\u76ee\u524d\u904d\u5386\u5230\u7684\u8282\u70b9\u7684 level \u6570\u7ec4\u91cc\u7684\u4e0b\u4e00\u5c42\u6307\u9488\uff0c\u7136\u540e\u6cbf\u7740\u4e0b\u4e00\u5c42\u6307\u9488\u7ee7\u7eed\u67e5\u627e\u3002</p> <p>\u8df3\u8868\u7684\u76f8\u90bb\u4e24\u5c42\u7684\u8282\u70b9\u6570\u91cf\u7684\u6bd4\u4f8b\u4f1a\u5f71\u54cd\u8df3\u8868\u7684\u67e5\u8be2\u6027\u80fd\u3002\u76f8\u90bb\u4e24\u5c42\u7684\u8282\u70b9\u6570\u91cf\u6700\u7406\u60f3\u7684\u6bd4\u4f8b\u662f 2:1\uff0c\u67e5\u627e\u590d\u6742\u5ea6\u53ef\u4ee5\u964d\u4f4e\u5230 O(logN)\u3002\u4e3a\u4e86\u9632\u6b62\u63d2\u5165\u5220\u9664\u65f6\u95f4\u6d88\u8017\uff0c\u8df3\u8868\u5728\u521b\u5efa\u8282\u70b9\u7684\u65f6\u5019\uff0c\u968f\u673a\u751f\u6210\u6bcf\u4e2a\u8282\u70b9\u7684\u5c42\u6570\u3002\u5177\u4f53\u7684\u505a\u6cd5\u662f\uff0c\u8df3\u8868\u5728\u521b\u5efa\u8282\u70b9\u65f6\u5019\uff0c\u4f1a\u751f\u6210\u8303\u56f4\u4e3a [0-1] \u7684\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u5982\u679c\u8fd9\u4e2a\u968f\u673a\u6570\u5c0f\u4e8e 0.25(\u76f8\u5f53\u4e8e\u6982\u7387 25%)\uff0c\u90a3\u4e48\u5c42\u6570\u5c31\u589e\u52a0 1 \u5c42\uff0c\u7136\u540e\u7ee7\u7eed\u751f\u6210\u4e0b\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u76f4\u5230\u968f\u673a\u6570\u7684\u7ed3\u679c\u5927\u4e8e 0.25 \u7ed3\u675f\uff0c\u6700\u7ec8\u786e\u5b9a\u8be5\u8282\u70b9\u7684\u5c42\u6570\u3002</p>"},{"location":"Database/Redis/Redis/#_9","title":"\u6574\u6570\u96c6\u5408","text":"<p>\u6574\u6570\u96c6\u5408\u672c\u8d28\u4e0a\u662f\u4e00\u5757\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u6574\u6570\u96c6\u5408\u6709\u4e00\u4e2a\u5347\u7ea7\u89c4\u5219\uff0c\u5c31\u662f\u5f53\u5c06\u4e00\u4e2a\u65b0\u5143\u7d20\u52a0\u5165\u5230\u6574\u6570\u96c6\u5408\u91cc\u9762\uff0c\u5982\u679c\u65b0\u5143\u7d20\u7684\u7c7b\u578b(int32_t)\u6bd4\u6574\u6570\u96c6\u5408\u73b0\u6709\u6240\u6709\u5143\u7d20\u7684\u7c7b\u578b(int16_t)\u90fd\u8981\u957f\u65f6\uff0c\u6574\u6570\u96c6\u5408\u9700\u8981\u5148\u8fdb\u884c\u5347\u7ea7\uff0c\u4e5f\u5c31\u662f\u6309\u65b0\u5143\u7d20\u7684\u7c7b\u578b(int32_t)\u6269\u5c55 contents \u6570\u7ec4\u7684\u7a7a\u95f4\u5927\u5c0f\uff0c\u7136\u540e\u624d\u80fd\u5c06\u65b0\u5143\u7d20\u52a0\u5165\u5230\u6574\u6570\u96c6\u5408\u91cc\uff0c\u5347\u7ea7\u7684\u8fc7\u7a0b\u4e2d\u4e5f\u8981\u7ef4\u6301\u6574\u6570\u96c6\u5408\u7684\u6709\u5e8f\u6027\u3002</p>"},{"location":"Database/Redis/Redis/#quicklist","title":"quicklist","text":"<p>\u5176\u5b9e quicklist \u5c31\u662f\u53cc\u5411\u94fe\u8868 + \u538b\u7f29\u5217\u8868\u7ec4\u5408\uff0cquicklist \u5c31\u662f\u4e00\u4e2a\u94fe\u8868\uff0c\u800c\u94fe\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u53c8\u662f\u4e00\u4e2a\u538b\u7f29\u5217\u8868\u3002quicklist \u89e3\u51b3\u529e\u6cd5\uff0c\u901a\u8fc7\u63a7\u5236\u6bcf\u4e2a\u94fe\u8868\u8282\u70b9\u4e2d\u7684\u538b\u7f29\u5217\u8868\u7684\u5927\u5c0f\u6216\u8005\u5143\u7d20\u4e2a\u6570\uff0c\u6765\u89c4\u907f\u8fde\u9501\u66f4\u65b0\u7684\u95ee\u9898\u3002\u56e0\u4e3a\u538b\u7f29\u5217\u8868\u5143\u7d20\u8d8a\u5c11\u6216\u8d8a\u5c0f\uff0c\u8fde\u9501\u66f4\u65b0\u5e26\u6765\u7684\u5f71\u54cd\u5c31\u8d8a\u5c0f\uff0c\u4ece\u800c\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u8bbf\u95ee\u6027\u80fd\u3002</p>"},{"location":"Database/Redis/Redis/#listpack","title":"listpack","text":"<p>listpack \u6ca1\u6709\u538b\u7f29\u5217\u8868\u4e2d\u8bb0\u5f55\u524d\u4e00\u4e2a\u8282\u70b9\u957f\u5ea6\u7684\u5b57\u6bb5\u4e86\uff0clistpack \u53ea\u8bb0\u5f55\u5f53\u524d\u8282\u70b9\u7684\u957f\u5ea6\uff0c\u5f53\u5411 listpack \u52a0\u5165\u4e00\u4e2a\u65b0\u5143\u7d20\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u8282\u70b9\u7684\u957f\u5ea6\u5b57\u6bb5\u7684\u53d8\u5316\uff0c\u4ece\u800c\u907f\u514d\u4e86\u538b\u7f29\u5217\u8868\u7684\u8fde\u9501\u66f4\u65b0\u95ee\u9898\u3002</p>"},{"location":"Database/Redis/Redis/#_10","title":"\u4e3a\u4ec0\u4e48\u7528\u8df3\u8868\u800c\u4e0d\u7528\u5e73\u8861\u6811\uff1f","text":"<ul> <li>\u4ece\u5185\u5b58\u5360\u7528\u4e0a\u6765\u6bd4\u8f83\uff0c\u8df3\u8868\u6bd4\u5e73\u8861\u6811\u66f4\u7075\u6d3b\u4e00\u4e9b\uff1a\u5e73\u8861\u6811\u6bcf\u4e2a\u8282\u70b9\u5305\u542b 2 \u4e2a\u6307\u9488(\u5206\u522b\u6307\u5411\u5de6\u53f3\u5b50\u6811)\uff0c\u800c\u8df3\u8868\u6bcf\u4e2a\u8282\u70b9\u5305\u542b\u7684\u6307\u9488\u6570\u76ee\u5e73\u5747\u4e3a 1/(1 - p)\uff0c\u5982\u679c\u50cf  Redis \u91cc\u7684\u5b9e\u73b0\u4e00\u6837\uff0c\u53d6 p = 1 / 4\uff0c\u90a3\u4e48\u5e73\u5747\u6bcf\u4e2a\u8282\u70b9\u5305\u542b 1.33 \u4e2a\u6307\u9488\uff0c\u6bd4\u5e73\u8861\u6811\u66f4\u6709\u4f18\u52bf</li> <li>\u5728\u505a\u8303\u56f4\u67e5\u627e\u7684\u65f6\u5019\uff0c\u8df3\u8868\u6bd4\u5e73\u8861\u6811\u64cd\u4f5c\u8981\u7b80\u5355\uff1a\u5728\u5e73\u8861\u6811\u4e0a\uff0c\u627e\u5230\u6307\u5b9a\u8303\u56f4\u7684\u5c0f\u503c\u4e4b\u540e\uff0c\u8fd8\u9700\u8981\u4ee5\u4e2d\u5e8f\u904d\u5386\u7684\u987a\u5e8f\u7ee7\u7eed\u5bfb\u627e\u5176\u5b83\u4e0d\u8d85\u8fc7\u5927\u503c\u7684\u8282\u70b9\u3002\u5982\u679c\u4e0d\u5bf9\u5e73\u8861\u6811\u8fdb\u884c\u4e00\u5b9a\u7684\u6539\u9020\uff0c\u8fd9\u91cc\u7684\u4e2d\u5e8f\u904d\u5386\u5e76\u4e0d\u5bb9\u6613\u5b9e\u73b0\u3002\u800c\u5728\u8df3\u8868\u4e0a\u8fdb\u884c\u8303\u56f4\u67e5\u627e\u5c31\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5728\u627e\u5230\u5c0f\u503c\u4e4b\u540e\uff0c\u5bf9\u7b2c 1 \u5c42\u94fe\u8868\u8fdb\u884c\u82e5\u5e72\u6b65\u7684\u904d\u5386\u5c31\u53ef\u4ee5\u5b9e\u73b0</li> <li>\u4ece\u7b97\u6cd5\u5b9e\u73b0\u96be\u5ea6\u4e0a\u6765\u6bd4\u8f83\uff0c\u8df3\u8868\u6bd4\u5e73\u8861\u6811\u8981\u7b80\u5355\u5f97\u591a\uff1a\u5e73\u8861\u6811\u7684\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u53ef\u80fd\u5f15\u53d1\u5b50\u6811\u7684\u8c03\u6574\uff0c\u903b\u8f91\u590d\u6742\uff0c\u800c\u8df3\u8868\u7684\u63d2\u5165\u548c\u5220\u9664\u53ea\u9700\u8981\u4fee\u6539\u76f8\u90bb\u8282\u70b9\u7684\u6307\u9488\uff0c\u64cd\u4f5c\u7b80\u5355\u53c8\u5feb\u901f</li> </ul>"},{"location":"Database/Redis/Redis/#_11","title":"\ud83d\udfe2 \u6301\u4e45\u5316","text":""},{"location":"Database/Redis/Redis/#aof-rdb","title":"AOF \u548c RDB\uff1f","text":""},{"location":"Database/Redis/Redis/#aof","title":"AOF","text":"<p>\u6bcf\u6267\u884c\u4e00\u6761 \u5199\u64cd\u4f5c \u547d\u4ee4\uff0c\u5c31\u5c06\u8be5\u547d\u4ee4\u4ee5\u8ffd\u52a0\u7684\u65b9\u5f0f\u5199\u5165\u5230 AOF \u6587\u4ef6\uff0c\u7136\u540e\u5728\u6062\u590d\u65f6\uff0c\u4ee5\u9010\u4e00\u6267\u884c\u547d\u4ee4\u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u6570\u636e\u6062\u590d\u3002\u7528 AOF \u65e5\u5fd7\u7684\u65b9\u5f0f\u6765\u6062\u590d\u6570\u636e\u5f88\u6162\uff0c\u56e0\u4e3a Redis \u6267\u884c\u547d\u4ee4\u7531\u5355\u7ebf\u7a0b\u8d1f\u8d23\u7684\uff0cAOF \u65e5\u5fd7\u6062\u590d\u6570\u636e\u7684\u65b9\u5f0f\u662f\u987a\u5e8f\u6267\u884c\u65e5\u5fd7\u91cc\u7684\u6bcf\u4e00\u6761\u547d\u4ee4\uff0c\u5982\u679c AOF \u65e5\u5fd7\u5f88\u5927\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u4f1a\u5f88\u6162\u4e86\u3002</p>"},{"location":"Database/Redis/Redis/#rdb","title":"RDB","text":"<p>RDB \u5feb\u7167\u662f\u8bb0\u5f55\u67d0\u4e00\u4e2a\u77ac\u95f4\u7684\u5185\u5b58\u6570\u636e\uff0c\u8bb0\u5f55\u7684\u662f\u5b9e\u9645\u6570\u636e\uff0c\u800c AOF \u6587\u4ef6\u8bb0\u5f55\u7684\u662f\u547d\u4ee4\u64cd\u4f5c\u7684\u65e5\u5fd7\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u7684\u6570\u636e\u3002\u56e0\u6b64\u5728 Redis \u6062\u590d\u6570\u636e\u65f6\uff0c RDB \u6062\u590d\u6570\u636e\u7684\u6548\u7387\u4f1a\u6bd4 AOF \u9ad8\u4e9b\uff0c\u56e0\u4e3a\u76f4\u63a5\u5c06 RDB \u6587\u4ef6\u8bfb\u5165\u5185\u5b58\u5c31\u53ef\u4ee5\uff0c\u4e0d\u9700\u8981\u50cf AOF \u90a3\u6837\u8fd8\u9700\u8981\u989d\u5916\u6267\u884c\u64cd\u4f5c\u547d\u4ee4\u7684\u6b65\u9aa4\u624d\u80fd\u6062\u590d\u6570\u636e\u3002</p> <p>RDB \u5feb\u7167\u662f\u5168\u91cf\u5feb\u7167\uff0c\u4e5f\u5c31\u662f\u8bf4\u6bcf\u6b21\u6267\u884c\u5feb\u7167\uff0c\u90fd\u662f\u628a\u5185\u5b58\u4e2d\u7684\u6240\u6709\u6570\u636e\u90fd\u8bb0\u5f55\u5230\u786c\u76d8\u4e2d\u3002\u5982\u679c\u9891\u7387\u592a\u9891\u7e41\uff0c\u53ef\u80fd\u4f1a\u5bf9 Redis \u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u3002\u5982\u679c\u9891\u7387\u592a\u4f4e\uff0c\u670d\u52a1\u5668\u6545\u969c\u65f6\uff0c\u4e22\u5931\u7684\u6570\u636e\u4f1a\u66f4\u591a\u3002\u901a\u5e38\u53ef\u80fd\u8bbe\u7f6e\u81f3\u5c11 5 \u5206\u949f\u624d\u4fdd\u5b58\u4e00\u6b21\u5feb\u7167\uff0c\u8fd9\u65f6\u5982\u679c Redis \u51fa\u73b0\u5b95\u673a\u7b49\u60c5\u51b5\uff0c\u610f\u5473\u7740\u6700\u591a\u53ef\u80fd\u4e22\u5931 5 \u5206\u949f\u6570\u636e\u3002</p>"},{"location":"Database/Redis/Redis/#aof-rdb_1","title":"AOF-RDB \u6df7\u7528","text":"<p>\u5728 AOF \u91cd\u5199\u65e5\u5fd7\u65f6\uff0cfork \u51fa\u6765\u7684\u91cd\u5199\u5b50\u8fdb\u7a0b\u4f1a\u5148\u5c06\u4e0e\u4e3b\u7ebf\u7a0b\u5171\u4eab\u7684\u5185\u5b58\u6570\u636e\u4ee5 RDB \u65b9\u5f0f\u5199\u5165\u5230 AOF \u6587\u4ef6\uff0c\u7136\u540e\u4e3b\u7ebf\u7a0b\u5904\u7406\u7684\u64cd\u4f5c\u547d\u4ee4\u4f1a\u88ab\u8bb0\u5f55\u5728\u91cd\u5199\u7f13\u51b2\u533a\u91cc\uff0c\u91cd\u5199\u7f13\u51b2\u533a\u91cc\u7684\u589e\u91cf\u547d\u4ee4\u4f1a\u4ee5 AOF \u65b9\u5f0f\u5199\u5165\u5230 AOF \u6587\u4ef6\uff0c\u5199\u5165\u5b8c\u6210\u540e\u901a\u77e5\u4e3b\u8fdb\u7a0b\u5c06\u65b0\u7684\u542b\u6709 RDB \u683c\u5f0f\u548c AOF \u683c\u5f0f\u7684 AOF \u6587\u4ef6\u66ff\u6362\u65e7\u7684\u7684 AOF \u6587\u4ef6\u3002\u6587\u4ef6\u7684\u524d\u534a\u90e8\u5206\u662f RDB \u683c\u5f0f\u7684\u5168\u91cf\u6570\u636e\uff0c\u540e\u534a\u90e8\u5206\u662f AOF \u683c\u5f0f\u7684\u589e\u91cf\u6570\u636e\u3002</p> <p>\u8fd9\u6837\u7684\u597d\u5904\u5728\u4e8e\uff0c\u91cd\u542f Redis \u52a0\u8f7d\u6570\u636e\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u524d\u534a\u90e8\u5206\u662f RDB \u5185\u5bb9\uff0c\u8fd9\u6837 \u52a0\u8f7d\u7684\u65f6\u5019\u901f\u5ea6\u4f1a\u5f88\u5feb\u3002\u52a0\u8f7d\u5b8c RDB \u7684\u5185\u5bb9\u540e\uff0c\u624d\u4f1a\u52a0\u8f7d\u540e\u534a\u90e8\u5206\u7684 AOF \u5185\u5bb9\uff0c\u8fd9\u91cc\u7684\u5185\u5bb9\u662f Redis \u540e\u53f0\u5b50\u8fdb\u7a0b\u91cd\u5199 AOF \u671f\u95f4\uff0c\u4e3b\u7ebf\u7a0b\u5904\u7406\u7684\u64cd\u4f5c\u547d\u4ee4\uff0c\u53ef\u4ee5\u4f7f\u5f97 \u6570\u636e\u66f4\u5c11\u7684\u4e22\u5931\u3002\u7f3a\u70b9\u662f AOF \u6587\u4ef6\u7684\u53ef\u8bfb\u6027\u53d8\u5dee\u4e86\u3002</p>"},{"location":"Database/Redis/Redis/#aof_1","title":"AOF \u7684\u4e09\u79cd\u5199\u56de\u7b56\u7565\uff1f","text":"<p>Always\u3001Everysec \u548c No\uff0c\u8fd9\u4e09\u79cd\u7b56\u7565\u5728\u53ef\u9760\u6027\u4e0a\u662f\u4ece\u9ad8\u5230\u4f4e\uff0c\u800c\u5728\u6027\u80fd\u4e0a\u4ece\u4f4e\u5230\u9ad8\u3002</p> <ul> <li>Always  \u6bcf\u6b21\u5199\u64cd\u4f5c\u547d\u4ee4\u6267\u884c\u5b8c\u540e\uff0c\u540c\u6b65\u5c06 AOF \u65e5\u5fd7\u6570\u636e\u5199\u56de\u786c\u76d8</li> <li>Everysec  \u6bcf\u6b21\u5199\u64cd\u4f5c\u547d\u4ee4\u6267\u884c\u5b8c\u540e\uff0c\u5148\u5c06\u547d\u4ee4\u5199\u5165\u5230 AOF \u6587\u4ef6\u7684\u5185\u6838\u7f13\u51b2\u533a\uff0c\u7136\u540e\u6bcf\u9694\u4e00\u79d2\u5c06\u7f13\u51b2\u533a\u91cc\u7684\u5185\u5bb9\u5199\u56de\u5230\u786c\u76d8</li> <li>No  \u4e0d\u63a7\u5236\u5199\u56de\u786c\u76d8\u7684\u65f6\u673a\u3002\u6bcf\u6b21\u5199\u64cd\u4f5c\u547d\u4ee4\u6267\u884c\u5b8c\u540e\uff0c\u5148\u5c06\u547d\u4ee4\u5199\u5165\u5230 AOF \u6587\u4ef6\u7684\u5185\u6838\u7f13\u51b2\u533a\uff0c\u518d\u7531\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\u4f55\u65f6\u5c06\u7f13\u51b2\u533a\u5185\u5bb9\u5199\u56de\u786c\u76d8</li> </ul>"},{"location":"Database/Redis/Redis/#aof_2","title":"AOF \u7684\u786c\u76d8\u91cd\u5199\u673a\u5236\uff1f","text":"<p>\u968f\u7740\u6267\u884c\u7684\u547d\u4ee4\u8d8a\u591a\uff0cAOF \u6587\u4ef6\u7684\u4f53\u79ef\u81ea\u7136\u4e5f\u4f1a\u8d8a\u6765\u8d8a\u5927\uff0c\u4e3a\u4e86\u907f\u514d\u65e5\u5fd7\u6587\u4ef6\u8fc7\u5927\uff0c Redis \u63d0\u4f9b\u4e86 AOF \u91cd\u5199\u673a\u5236\uff0c\u5b83\u4f1a\u76f4\u63a5\u626b\u63cf\u6570\u636e\u4e2d\u6240\u6709\u7684\u952e\u503c\u5bf9\u6570\u636e\uff0c\u7136\u540e\u4e3a\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u751f\u6210\u4e00\u6761\u5199\u64cd\u4f5c\u547d\u4ee4\uff0c\u63a5\u7740\u5c06\u8be5\u547d\u4ee4\u5199\u5165\u5230\u65b0\u7684 AOF \u6587\u4ef6\uff0c\u91cd\u5199\u5b8c\u6210\u540e\uff0c\u5c31\u66ff\u6362\u6389\u73b0\u6709\u7684 AOF \u65e5\u5fd7\u3002\u91cd\u5199\u7684\u8fc7\u7a0b\u662f\u7531\u540e\u53f0\u5b50\u8fdb\u7a0b\u5b8c\u6210\u7684\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f7f\u5f97\u4e3b\u8fdb\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u6b63\u5e38\u5904\u7406\u547d\u4ee4\u3002</p>"},{"location":"Database/Redis/Redis/#redis-aof","title":"\u4e3a\u4ec0\u4e48\u5148\u6267\u884c Redis \u547d\u4ee4\uff0c\u518d\u628a\u6570\u636e\u5199\u5165 AOF \u65e5\u5fd7\u5462\uff1f","text":""},{"location":"Database/Redis/Redis/#_12","title":"\u597d\u5904","text":"<ul> <li>\u4fdd\u8bc1\u6b63\u786e\u5199\u5165\uff1a\u5982\u679c\u5f53\u524d\u7684\u547d\u4ee4\u8bed\u6cd5\u6709\u95ee\u9898\uff0c\u9519\u8bef\u7684\u547d\u4ee4\u8bb0\u5f55\u5230 AOF \u65e5\u5fd7\u91cc\u540e\u53ef\u80fd\u8fd8\u4f1a\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\u3002\u5148\u6267\u884c Redis \u547d\u4ee4\uff0c\u518d\u628a\u6570\u636e\u5199\u5165 AOF \u65e5\u5fd7\u53ef\u4ee5\u4fdd\u8bc1\u5199\u5165\u7684\u90fd\u662f\u6b63\u786e\u53ef\u6267\u884c\u7684\u547d\u4ee4</li> <li>\u4e0d\u963b\u585e\u5f53\u524d\u5199\u64cd\u4f5c\uff1a\u56e0\u4e3a\u5f53\u5199\u64cd\u4f5c\u547d\u4ee4\u6267\u884c\u6210\u529f\u540e\u624d\u4f1a\u5c06\u547d\u4ee4\u8bb0\u5f55\u5230 AOF \u65e5\u5fd7\uff0c\u907f\u514d\u5199\u5165\u963b\u585e</li> </ul>"},{"location":"Database/Redis/Redis/#_13","title":"\u7f3a\u9677","text":"<ul> <li>\u6570\u636e\u53ef\u80fd\u4f1a\u4e22\u5931\uff1a  \u6267\u884c\u5199\u64cd\u4f5c\u547d\u4ee4\u548c\u8bb0\u5f55\u65e5\u5fd7\u662f\u4e24\u4e2a\u8fc7\u7a0b\uff0cRedis \u8fd8\u6ca1\u6765\u5f97\u53ca\u5c06\u547d\u4ee4\u5199\u5165\u5230\u786c\u76d8\u65f6\u53d1\u751f\u5b95\u673a\uff0c\u6570\u636e\u4f1a\u6709\u4e22\u5931\u7684\u98ce\u9669</li> <li>\u963b\u585e\u5176\u4ed6\u64cd\u4f5c\uff1a  \u4e0d\u4f1a\u963b\u585e\u5f53\u524d\u547d\u4ee4\u7684\u6267\u884c\uff0c\u4f46\u56e0\u4e3a AOF \u65e5\u5fd7\u4e5f\u662f\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u6240\u4ee5\u5f53 Redis \u628a\u65e5\u5fd7\u6587\u4ef6\u5199\u5165\u786c\u76d8\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u4f1a\u963b\u585e\u540e\u7eed\u7684\u64cd\u4f5c\u65e0\u6cd5\u6267\u884c</li> </ul>"},{"location":"Database/Redis/Redis/#aof_3","title":"AOF \u7684\u91cd\u5199\u7684\u5177\u4f53\u8fc7\u7a0b\uff1f","text":"<p>\u89e6\u53d1\u91cd\u5199\u673a\u5236\u540e\uff0c\u4e3b\u8fdb\u7a0b\u4f1a\u521b\u5efa\u91cd\u5199 AOF \u7684\u5b50\u8fdb\u7a0b\uff0c\u6b64\u65f6\u7236\u5b50\u8fdb\u7a0b\u5171\u4eab\u7269\u7406\u5185\u5b58\uff0c\u91cd\u5199\u5b50\u8fdb\u7a0b\u53ea\u4f1a\u5bf9\u8fd9\u4e2a\u5185\u5b58\u8fdb\u884c\u53ea\u8bfb\u3002\u91cd\u5199 AOF \u5b50\u8fdb\u7a0b\u8bfb\u53d6\u6570\u636e\u5e93\u91cc\u7684\u6240\u6709\u6570\u636e\uff0c\u5e76\u9010\u4e00\u628a\u5185\u5b58\u6570\u636e\u7684\u952e\u503c\u5bf9\u8f6c\u6362\u6210\u4e00\u6761\u547d\u4ee4\uff0c\u518d\u5c06\u547d\u4ee4\u8bb0\u5f55\u5230\u91cd\u5199\u65e5\u5fd7\u3002</p> <p>\u5728\u53d1\u751f\u5199\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u64cd\u4f5c\u7cfb\u7edf\u624d\u4f1a\u53bb\u590d\u5236\u7269\u7406\u5185\u5b58\uff0c\u8fd9\u6837\u662f\u4e3a\u4e86\u9632\u6b62 fork \u521b\u5efa\u5b50\u8fdb\u7a0b\u65f6\uff0c\u7531\u4e8e\u7269\u7406\u5185\u5b58\u6570\u636e\u7684\u590d\u5236\u65f6\u95f4\u8fc7\u957f\u800c\u5bfc\u81f4\u7236\u8fdb\u7a0b\u957f\u65f6\u95f4\u963b\u585e\u7684\u95ee\u9898\u3002</p>"},{"location":"Database/Redis/Redis/#aof_4","title":"AOF \u5b50\u8fdb\u7a0b\u7684\u5185\u5b58\u6570\u636e\u8ddf\u4e3b\u8fdb\u7a0b\u7684\u5185\u5b58\u6570\u636e\u4e0d\u4e00\u81f4\u600e\u4e48\u529e\uff1f","text":"<p>Redis \u8bbe\u7f6e\u4e86\u4e00\u4e2a  AOF \u91cd\u5199\u7f13\u51b2\u533a\uff0c\u8fd9\u4e2a\u7f13\u51b2\u533a\u5728\u521b\u5efa bgrewriteaof \u5b50\u8fdb\u7a0b\u4e4b\u540e\u5f00\u59cb\u4f7f\u7528\u3002\u5728\u91cd\u5199 AOF \u671f\u95f4\uff0c\u5f53 Redis \u6267\u884c\u5b8c\u4e00\u4e2a\u5199\u547d\u4ee4\u4e4b\u540e\uff0c\u5b83\u4f1a \u540c\u65f6\u5c06\u8fd9\u4e2a\u5199\u547d\u4ee4\u5199\u5165\u5230 AOF \u7f13\u51b2\u533a\u548c AOF \u91cd\u5199\u7f13\u51b2\u533a\u3002\u5f53\u5b50\u8fdb\u7a0b\u5b8c\u6210 AOF \u91cd\u5199\u5de5\u4f5c\u540e\uff0c\u4f1a\u5411\u4e3b\u8fdb\u7a0b\u53d1\u9001\u4e00\u6761\u4fe1\u53f7\u3002\u4e3b\u8fdb\u7a0b\u6536\u5230\u8be5\u4fe1\u53f7\u540e\uff0c\u4f1a\u8c03\u7528\u4e00\u4e2a\u4fe1\u53f7\u5904\u7406\u51fd\u6570\uff0c\u5c06 AOF \u91cd\u5199\u7f13\u51b2\u533a\u4e2d\u7684\u6240\u6709\u5185\u5bb9\u8ffd\u52a0\u5230\u65b0\u7684 AOF \u7684\u6587\u4ef6\u4e2d\uff0c\u4f7f\u5f97\u65b0\u65e7\u4e24\u4e2a AOF \u6587\u4ef6\u6240\u4fdd\u5b58\u7684\u6570\u636e\u5e93\u72b6\u6001\u4e00\u81f4\uff1b\u65b0\u7684 AOF \u7684\u6587\u4ef6\u8fdb\u884c\u6539\u540d\uff0c\u8986\u76d6\u73b0\u6709\u7684 AOF \u6587\u4ef6\u3002</p> <p>tip </p> <p>Redis \u7684\u91cd\u5199 AOF \u8fc7\u7a0b\u662f\u7531\u540e\u53f0\u5b50\u8fdb\u7a0b bgrewriteaof \u6765\u5b8c\u6210\u7684\uff0c\u8fd9\u6709\u4e24\u4e2a\u597d\u5904\uff1a</p> <ul> <li>\u5b50\u8fdb\u7a0b\u8fdb\u884c AOF \u91cd\u5199\u671f\u95f4\uff0c\u4e3b\u8fdb\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u5904\u7406\u547d\u4ee4\u8bf7\u6c42\uff0c\u4ece\u800c\u907f\u514d\u963b\u585e\u4e3b\u8fdb\u7a0b</li> <li>\u5b50\u8fdb\u7a0b\u5e26\u6709\u4e3b\u8fdb\u7a0b\u7684\u6570\u636e\u526f\u672c\uff0c \u4f7f\u7528\u5b50\u8fdb\u7a0b\u800c\u4e0d\u662f\u7ebf\u7a0b\u3002\u56e0\u4e3a\u5982\u679c\u662f\u4f7f\u7528\u7ebf\u7a0b\uff0c\u591a\u7ebf\u7a0b\u4e4b\u95f4\u4f1a\u5171\u4eab\u5185\u5b58\uff0c\u90a3\u4e48\u5728\u4fee\u6539\u5171\u4eab\u5185\u5b58\u6570\u636e\u7684\u65f6\u5019\uff0c\u9700\u8981\u901a\u8fc7\u52a0\u9501\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u5b89\u5168\uff0c\u800c\u8fd9\u6837\u5c31\u4f1a\u964d\u4f4e\u6027\u80fd\u3002\u521b\u5efa\u5b50\u8fdb\u7a0b\u65f6\uff0c\u7236\u5b50\u8fdb\u7a0b\u662f\u5171\u4eab\u5185\u5b58\u6570\u636e\u7684\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u5171\u4eab\u7684\u5185\u5b58\u53ea\u80fd\u4ee5\u53ea\u8bfb\u7684\u65b9\u5f0f\uff0c\u800c\u5f53\u7236\u5b50\u8fdb\u7a0b\u4efb\u610f\u4e00\u65b9\u4fee\u6539\u4e86\u8be5\u5171\u4eab\u5185\u5b58\uff0c\u4f1a\u53d1\u751f\u5199\u65f6\u590d\u5236\uff0c\u4e8e\u662f\u7236\u5b50\u8fdb\u7a0b\u5c31\u6709\u4e86\u72ec\u7acb\u7684\u6570\u636e\u526f\u672c\uff0c\u4e0d\u7528\u52a0\u9501\u6765\u4fdd\u8bc1\u6570\u636e\u5b89\u5168</li> </ul>"},{"location":"Database/Redis/Redis/#rdb_1","title":"RDB \u5728\u6267\u884c\u5feb\u7167\u7684\u65f6\u5019\uff0c\u6570\u636e\u80fd\u4fee\u6539\u5417\uff1f","text":"<p>\u53ef\u4ee5\u3002\u6267\u884c bgsave \u8fc7\u7a0b\u4e2d\uff0cRedis \u4f9d\u7136 \u53ef\u4ee5\u7ee7\u7eed\u5904\u7406\u64cd\u4f5c\u547d\u4ee4 \u7684\uff0c\u6570\u636e\u662f\u80fd\u88ab\u4fee\u6539\u7684\uff0c\u91c7\u7528\u7684\u662f\u5199\u65f6\u590d\u5236\u6280\u672f(Copy-On-Write, COW)\u3002\u6267\u884c bgsave \u547d\u4ee4\u7684\u65f6\u5019\uff0c\u4f1a\u901a\u8fc7 fork()\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u6b64\u65f6\u5b50\u8fdb\u7a0b\u548c\u7236\u8fdb\u7a0b\u662f\u5171\u4eab\u540c\u4e00\u7247\u5185\u5b58\u6570\u636e\u7684\uff0c\u56e0\u4e3a\u521b\u5efa\u5b50\u8fdb\u7a0b\u7684\u65f6\u5019\uff0c\u4f1a\u590d\u5236\u7236\u8fdb\u7a0b\u7684\u9875\u8868\uff0c\u4f46\u662f\u9875\u8868\u6307\u5411\u7684\u7269\u7406\u5185\u5b58\u8fd8\u662f\u4e00\u4e2a\uff0c\u7531\u4e8e\u5171\u4eab\u7236\u8fdb\u7a0b\u7684\u6240\u6709\u6570\u636e\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u4e3b\u7ebf\u7a0b\u91cc\u7684\u5185\u5b58\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u5199\u5165\u5230 RDB \u6587\u4ef6\u3002\u6b64\u65f6\u5982\u679c\u4e3b\u7ebf\u7a0b\u6267\u884c\u8bfb\u64cd\u4f5c\uff0c\u5219\u4e3b\u7ebf\u7a0b\u548c bgsave \u5b50\u8fdb\u7a0b\u4e92\u76f8\u4e0d\u5f71\u54cd\u3002\u5982\u679c\u4e3b\u7ebf\u7a0b\u8981\u4fee\u6539\u5171\u4eab\u6570\u636e\u91cc\u7684\u67d0\u4e00\u5757\u6570\u636e\uff0c\u5c31\u4f1a\u53d1\u751f\u5199\u65f6\u590d\u5236\uff0c\u6570\u636e\u7684\u7269\u7406\u5185\u5b58\u5c31\u4f1a\u88ab\u590d\u5236\u4e00\u4efd\uff0c\u4e3b\u7ebf\u7a0b\u5728\u8fd9\u4e2a\u6570\u636e\u526f\u672c\u8fdb\u884c\u4fee\u6539\u64cd\u4f5c\u3002\u4e0e\u6b64\u540c\u65f6\uff0c\u5b50\u8fdb\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u628a\u539f\u6765\u7684\u6570\u636e\u5199\u5165\u5230 RDB \u6587\u4ef6\u3002</p>"},{"location":"Database/Redis/Redis/#redis_6","title":"Redis \u8fc7\u671f\u673a\u5236\uff1f","text":"<p>\u4e09\u79cd\u8fc7\u671f\u5220\u9664\u7b56\u7565\uff1a</p> <ul> <li>\u5b9a\u65f6\u5220\u9664\uff1a\u5728\u8bbe\u7f6e key \u7684\u8fc7\u671f\u65f6\u95f4\u65f6\uff0c\u540c\u65f6\u521b\u5efa\u4e00\u4e2a\u5b9a\u65f6\u4e8b\u4ef6\uff0c\u5f53\u65f6\u95f4\u5230\u8fbe\u65f6\uff0c\u7531\u4e8b\u4ef6\u5904\u7406\u5668\u6267\u884c key \u7684\u5220\u9664\u64cd\u4f5c</li> <li>\u4f18\u70b9\uff1a\u5185\u5b58\u53ef\u4ee5\u88ab\u5c3d\u5feb\u5730\u91ca\u653e\u3002\u5b9a\u65f6\u5220\u9664\u5bf9\u5185\u5b58\u662f\u6700\u53cb\u597d\u7684</li> <li>\u7f3a\u70b9\uff1a\u5b9a\u65f6\u5220\u9664\u7b56\u7565\u5bf9 CPU \u4e0d\u53cb\u597d\uff0c\u5220\u9664\u8fc7\u671f key \u53ef\u80fd\u4f1a\u5360\u7528\u76f8\u5f53\u4e00\u90e8\u5206 CPU \u65f6\u95f4\uff0cCPU \u7d27\u5f20\u7684\u60c5\u51b5\u4e0b\u5c06 CPU \u7528\u4e8e\u5220\u9664\u548c\u5f53\u524d\u4efb\u52a1\u65e0\u5173\u7684\u8fc7\u671f\u952e\u4e0a\uff0c\u4f1a\u5bf9\u670d\u52a1\u5668\u7684\u54cd\u5e94\u65f6\u95f4\u548c\u541e\u5410\u91cf\u9020\u6210\u5f71\u54cd</li> <li>\u60f0\u6027\u5220\u9664\uff1a\u4e0d\u4e3b\u52a8\u5220\u9664\u8fc7\u671f\u952e\uff0c\u6bcf\u6b21\u4ece\u6570\u636e\u5e93\u8bbf\u95ee key \u65f6\u68c0\u6d4b key \u662f\u5426\u8fc7\u671f\uff0c\u5982\u679c\u8fc7\u671f\u5219\u5220\u9664\u8be5 key</li> <li>\u4f18\u70b9\uff1a\u53ea\u4f1a\u4f7f\u7528\u5f88\u5c11\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u5bf9 CPU \u6700\u53cb\u597d</li> <li>\u7f3a\u70b9\uff1a\u5982\u679c\u4e00\u4e2a key \u5df2\u7ecf\u8fc7\u671f\uff0c\u800c\u8fd9\u4e2a key \u53c8\u4ecd\u7136\u4fdd\u7559\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u90a3\u4e48\u53ea\u8981\u8fd9\u4e2a\u8fc7\u671f key \u4e00\u76f4\u6ca1\u6709\u88ab\u8bbf\u95ee\uff0c\u5b83\u6240\u5360\u7528\u7684\u5185\u5b58\u5c31\u4e0d\u4f1a\u91ca\u653e\u3002\u60f0\u6027\u5220\u9664\u7b56\u7565\u5bf9\u5185\u5b58\u4e0d\u53cb\u597d</li> <li>\u5b9a\u671f\u5220\u9664\uff1a\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u968f\u673a\u4ece\u6570\u636e\u5e93\u4e2d\u53d6\u51fa\u4e00\u5b9a\u6570\u91cf\u7684 key \u8fdb\u884c\u68c0\u67e5\uff0c\u5e76\u5220\u9664\u5176\u4e2d\u7684\u8fc7\u671f key</li> <li>\u4f18\u70b9\uff1a\u9650\u5236\u5220\u9664\u64cd\u4f5c\u6267\u884c\u7684\u65f6\u957f\u548c\u9891\u7387\u6765\u51cf\u5c11\u5220\u9664\u64cd\u4f5c\u5bf9 CPU \u7684\u5f71\u54cd\uff0c\u540c\u65f6\u4e5f\u80fd\u5220\u9664\u4e00\u90e8\u5206\u8fc7\u671f\u7684\u6570\u636e\u51cf\u5c11\u4e86\u8fc7\u671f\u952e\u5bf9\u7a7a\u95f4\u7684\u65e0\u6548\u5360\u7528</li> <li>\u7f3a\u70b9\uff1a\u5185\u5b58\u6e05\u7406\u65b9\u9762\u6ca1\u6709\u5b9a\u65f6\u5220\u9664\u6548\u679c\u597d\uff0c\u540c\u65f6\u6ca1\u6709\u60f0\u6027\u5220\u9664\u4f7f\u7528\u7684\u7cfb\u7edf\u8d44\u6e90\u5c11\u3002\u96be\u4ee5\u786e\u5b9a\u5220\u9664\u64cd\u4f5c\u6267\u884c\u7684\u65f6\u957f\u548c\u9891\u7387</li> </ul> <p>Redis \u9009\u62e9\u60f0\u6027\u5220\u9664+\u5b9a\u671f\u5220\u9664\u8fd9\u4e24\u79cd\u7b56\u7565\u914d\u548c\u4f7f\u7528\uff0c\u4ee5\u6c42\u5728\u5408\u7406\u4f7f\u7528 CPU \u65f6\u95f4\u548c\u907f\u514d\u5185\u5b58\u6d6a\u8d39\u4e4b\u95f4\u53d6\u5f97\u5e73\u8861\u3002Redis \u5728\u8bbf\u95ee\u6216\u8005\u4fee\u6539 key \u4e4b\u524d\uff0c\u90fd\u4f1a\u8c03\u7528 expireIfNeeded \u51fd\u6570\u5bf9\u5176\u8fdb\u884c\u68c0\u67e5\uff0c\u68c0\u67e5 key \u662f\u5426\u8fc7\u671f\uff1a</p> <ul> <li>\u5982\u679c\u8fc7\u671f\uff1a\u5220\u9664\u8be5 key\uff0c\u7136\u540e\u8fd4\u56de null \u5ba2\u6237\u7aef</li> <li>\u5982\u679c\u6ca1\u6709\u8fc7\u671f\uff1a\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff0c\u7136\u540e\u8fd4\u56de\u6b63\u5e38\u7684\u952e\u503c\u5bf9\u7ed9\u5ba2\u6237\u7aef</li> </ul> <p>\u4ece\u8fc7\u671f\u5b57\u5178\u4e2d\u968f\u673a\u62bd\u53d6 20 \u4e2a key\uff1b\u68c0\u67e5\u8fd9 20 \u4e2a key \u662f\u5426\u8fc7\u671f\uff0c\u5e76\u5220\u9664\u5df2\u8fc7\u671f\u7684 key\uff1b\u5df2\u8fc7\u671f key \u7684\u6570\u91cf\u5360\u6bd4\u968f\u673a\u62bd\u53d6 key \u7684\u6570\u91cf\u5927\u4e8e 25%\uff0c\u5219\u7ee7\u7eed\u91cd\u590d\u6b65\u9aa4\u76f4\u5230\u6bd4\u91cd\u5c0f\u4e8e 25%\u3002</p>"},{"location":"Database/Redis/Redis/#redis_7","title":"Redis \u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff1f","text":""},{"location":"Database/Redis/Redis/#_14","title":"\u4e0d\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u7684\u7b56\u7565","text":"<p>\u5b83\u8868\u793a\u5f53\u8fd0\u884c\u5185\u5b58\u8d85\u8fc7\u6700\u5927\u8bbe\u7f6e\u5185\u5b58\u65f6\uff0c\u4e0d\u6dd8\u6c70\u4efb\u4f55\u6570\u636e\uff0c\u8fd9\u65f6\u5982\u679c\u6709\u65b0\u7684\u6570\u636e\u5199\u5165\uff0c\u5219\u4f1a\u89e6\u53d1 OOM\uff0c\u53ea\u662f\u5355\u7eaf\u7684\u67e5\u8be2\u6216\u8005\u5220\u9664\u64cd\u4f5c\u7684\u8bdd\u8fd8\u662f\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002</p>"},{"location":"Database/Redis/Redis/#_15","title":"\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u7684\u7b56\u7565","text":"<p>\u5728\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u6570\u636e\u4e2d\u8fdb\u884c\u6dd8\u6c70\uff1a</p> <ul> <li>volatile-random\uff1a\u968f\u673a\u6dd8\u6c70\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u4efb\u610f\u952e\u503c</li> <li>volatile-ttl\uff1a\u4f18\u5148\u6dd8\u6c70\u66f4\u65e9\u8fc7\u671f\u7684\u952e\u503c</li> <li>volatile-lru\uff1a\u6dd8\u6c70\u6240\u6709\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u503c\u4e2d\uff0c\u6700\u4e45\u672a\u4f7f\u7528\u7684\u952e\u503c</li> <li>volatile-lfu\uff1a\u6dd8\u6c70\u6240\u6709\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u503c\u4e2d\uff0c\u6700\u5c11\u4f7f\u7528\u7684\u952e\u503c</li> </ul> <p>\u5728\u6240\u6709\u6570\u636e\u8303\u56f4\u5185\u8fdb\u884c\u6dd8\u6c70\uff1a</p> <ul> <li>allkeys-random\uff1a\u968f\u673a\u6dd8\u6c70\u4efb\u610f\u952e\u503c</li> <li>allkeys-lru\uff1a\u6dd8\u6c70\u6574\u4e2a\u952e\u503c\u4e2d\u6700\u4e45\u672a\u4f7f\u7528\u7684\u952e\u503c</li> <li>allkeys-lfu\uff1a\u6dd8\u6c70\u6574\u4e2a\u952e\u503c\u4e2d\u6700\u5c11\u4f7f\u7528\u7684\u952e\u503c</li> </ul>"},{"location":"Database/Redis/Redis/#redis_8","title":"Redis \u6301\u4e45\u5316\u65f6\u5bf9\u8fc7\u671f\u952e\u4f1a\u5982\u4f55\u5904\u7406\u7684\uff1f","text":""},{"location":"Database/Redis/Redis/#rdb_2","title":"RDB","text":"<p>RDB \u5206\u6587\u751f\u6210\u9636\u6bb5\u548c\u52a0\u8f7d\u9636\u6bb5\uff0c\u751f\u6210\u9636\u6bb5\u4f1a\u5bf9 key \u8fdb\u884c\u8fc7\u671f\u68c0\u67e5\uff0c\u8fc7\u671f\u7684 key \u4e0d\u4f1a\u4fdd\u5b58\u5230 RDB \u6587\u4ef6\u4e2d\uff1b\u52a0\u8f7d\u9636\u6bb5\u770b\u670d\u52a1\u5668\u662f\u4e3b\u670d\u52a1\u5668\u8fd8\u662f\u4ece\u670d\u52a1\u5668\uff0c\u5982\u679c\u662f\u4e3b\u670d\u52a1\u5668\uff0c\u5728\u8f7d\u5165 RDB \u6587\u4ef6\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u5bf9\u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u952e\u8fdb\u884c\u68c0\u67e5\uff0c\u8fc7\u671f\u952e\u4e0d\u4f1a\u88ab\u8f7d\u5165\u5230\u6570\u636e\u5e93\u4e2d\uff1b\u5982\u679c\u4ece\u670d\u52a1\u5668\uff0c\u5728\u8f7d\u5165 RDB \u6587\u4ef6\u65f6\uff0c\u4e0d\u8bba\u952e\u662f\u5426\u8fc7\u671f\u90fd\u4f1a\u88ab\u8f7d\u5165\u5230\u6570\u636e\u5e93\u4e2d\u3002\u4f46\u7531\u4e8e\u4e3b\u4ece\u670d\u52a1\u5668\u5728\u8fdb\u884c\u6570\u636e\u540c\u6b65\u65f6\uff0c\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u4f1a\u88ab\u6e05\u7a7a\u3002\u8fc7\u671f\u952e\u5bf9\u8f7d\u5165 RDB \u6587\u4ef6\u7684\u4ece\u670d\u52a1\u5668\u4e5f\u4e0d\u4f1a\u9020\u6210\u5f71\u54cd\u3002</p>"},{"location":"Database/Redis/Redis/#aof_5","title":"AOF","text":"<p>AOF \u6587\u4ef6\u5199\u5165\u9636\u6bb5\u548c AOF \u91cd\u5199\u9636\u6bb5\u3002\u5199\u5165\u9636\u6bb5\u5982\u679c\u6570\u636e\u5e93\u67d0\u4e2a\u8fc7\u671f\u952e\u8fd8\u6ca1\u88ab\u5220\u9664\uff0cAOF \u6587\u4ef6\u4f1a\u4fdd\u7559\u6b64\u8fc7\u671f\u952e\uff0c\u5f53\u6b64\u8fc7\u671f\u952e\u88ab\u5220\u9664\u540e\uff0cRedis \u4f1a\u5411 AOF \u6587\u4ef6\u8ffd\u52a0\u4e00\u6761 DEL \u547d\u4ee4\u6765\u663e\u5f0f\u5730\u5220\u9664\u8be5\u952e\u503c\u3002\u91cd\u5199\u9636\u6bb5\u4f1a\u5bf9 Redis \u4e2d\u7684\u952e\u503c\u5bf9\u8fdb\u884c\u68c0\u67e5\uff0c\u5df2\u8fc7\u671f\u7684\u952e\u4e0d\u4f1a\u88ab\u4fdd\u5b58\u5230\u91cd\u5199\u540e\u7684 AOF \u6587\u4ef6\u4e2d\u3002</p>"},{"location":"Database/Redis/Redis/#redis_9","title":"Redis \u4e3b\u4ece\u6a21\u5f0f\u4e2d\uff0c\u5bf9\u8fc7\u671f\u952e\u4f1a\u5982\u4f55\u5904\u7406\uff1f","text":"<p>\u4ece\u5e93\u4e0d\u4f1a\u8fdb\u884c\u8fc7\u671f\u626b\u63cf\uff0c\u5373\u4f7f\u4ece\u5e93\u4e2d\u7684 key \u8fc7\u671f\u4e86\uff0c\u5982\u679c\u6709\u5ba2\u6237\u7aef\u8bbf\u95ee\u4ece\u5e93\u65f6\uff0c\u4f9d\u7136\u53ef\u4ee5\u5f97\u5230 key \u5bf9\u5e94\u7684\u503c\u3002\u4ece\u5e93\u7684\u8fc7\u671f\u952e\u5904\u7406\u4f9d\u9760\u4e3b\u670d\u52a1\u5668\u63a7\u5236\uff0c \u4e3b\u5e93\u5728 key \u5230\u671f\u65f6\uff0c\u4f1a\u5728 AOF \u6587\u4ef6\u91cc\u589e\u52a0\u4e00\u6761 del \u6307\u4ee4\uff0c\u540c\u6b65\u5230\u6240\u6709\u7684\u4ece\u5e93\uff0c\u4ece\u5e93\u901a\u8fc7\u6267\u884c\u8fd9\u6761 del \u6307\u4ee4\u6765\u5220\u9664\u8fc7\u671f\u7684 key\u3002</p>"},{"location":"Database/Redis/Redis/#_16","title":"\ud83d\udfe1 \u5e94\u7528","text":""},{"location":"Database/Redis/Redis/#_17","title":"\u7f13\u5b58\u96ea\u5d29\u3001\u51fb\u7a7f\u3001\u7a7f\u900f\u548c\u89e3\u51b3\u529e\u6cd5\uff1f","text":""},{"location":"Database/Redis/Redis/#_18","title":"\u7f13\u5b58\u96ea\u5d29","text":"<p>\u5f53 \u5927\u91cf\u7f13\u5b58\u6570\u636e\u5728\u540c\u4e00\u65f6\u95f4\u8fc7\u671f\u6216\u8005 Redis \u6545\u969c\u5b95\u673a \u65f6\uff0c\u5982\u679c\u6b64\u65f6\u6709\u5927\u91cf\u7684\u7528\u6237\u8bf7\u6c42\uff0c\u90fd\u65e0\u6cd5\u5728 Redis \u4e2d\u5904\u7406\uff0c\u4e8e\u662f\u5168\u90e8\u8bf7\u6c42\u90fd\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u5e93\u7684\u538b\u529b\u589e\u52a0\uff0c\u4e25\u91cd\u7684\u4f1a\u9020\u6210\u6570\u636e\u5e93\u5b95\u673a\uff0c\u4ece\u800c\u5f62\u6210\u4e00\u7cfb\u5217\u8fde\u9501\u53cd\u5e94\uff0c\u9020\u6210\u6574\u4e2a\u7cfb\u7edf\u5d29\u6e83\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5 </p> <ul> <li>\u5927\u91cf\u6570\u636e\u540c\u65f6\u8fc7\u671f </li> <li>\u5747\u5300\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff1a\u907f\u514d\u5c06\u5927\u91cf\u7684\u6570\u636e\u8bbe\u7f6e\u6210\u540c\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4</li> <li>\u4e92\u65a5\u9501\uff1a\u5f53\u4e1a\u52a1\u7ebf\u7a0b\u5728\u5904\u7406\u7528\u6237\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u53d1\u73b0\u8bbf\u95ee\u7684\u6570\u636e\u4e0d\u5728 Redis \u91cc\uff0c\u5c31\u52a0\u4e2a\u4e92\u65a5\u9501\uff0c\u4fdd\u8bc1\u540c\u4e00\u65f6\u95f4\u5185\u53ea\u6709\u4e00\u4e2a\u8bf7\u6c42\u6765\u6784\u5efa\u7f13\u5b58\u3002\u672a\u80fd\u83b7\u53d6\u4e92\u65a5\u9501\u7684\u8bf7\u6c42\u7b49\u5f85\u9501\u91ca\u653e\u540e\u91cd\u65b0\u8bfb\u53d6\u7f13\u5b58\uff0c\u6216\u8005\u8fd4\u56de\u7a7a\u503c\u6216\u8005\u9ed8\u8ba4\u503c</li> <li>\u53cc key \u7b56\u7565\uff1a\u4f7f\u7528\u4e24\u4e2a key\uff0c\u4e00\u4e2a\u662f\u4e3b key\uff0c\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u4e00\u4e2a\u662f\u5907 key\uff0c\u4e0d\u4f1a\u8bbe\u7f6e\u8fc7\u671f\uff0ckey \u4e0d\u4e00\u6837\uff0c\u4f46\u662f value \u503c\u662f\u4e00\u6837\u3002\u5f53\u4e1a\u52a1\u7ebf\u7a0b\u8bbf\u95ee\u4e0d\u5230\u4e3b key \u7684\u7f13\u5b58\u6570\u636e\u65f6\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\u5907 key \u7684\u7f13\u5b58\u6570\u636e\uff0c\u7136\u540e\u5728\u66f4\u65b0\u7f13\u5b58\u7684\u65f6\u5019\uff0c\u540c\u65f6\u66f4\u65b0\u4e3b key \u548c\u5907 key \u7684\u6570\u636e</li> <li>\u540e\u53f0\u66f4\u65b0\u7f13\u5b58\uff1a\u4e1a\u52a1\u7ebf\u7a0b\u4e0d\u518d\u8d1f\u8d23\u66f4\u65b0\u7f13\u5b58\uff0c\u7f13\u5b58\u4e5f\u4e0d\u8bbe\u7f6e\u6709\u6548\u671f\uff0c\u800c\u662f\u8ba9\u7f13\u5b58\u201c\u6c38\u4e45\u6709\u6548\u201d\uff0c\u5e76\u5c06\u66f4\u65b0\u7f13\u5b58\u7684\u5de5\u4f5c\u4ea4\u7531\u540e\u53f0\u7ebf\u7a0b\u5b9a\u65f6\u66f4\u65b0</li> <li>Redis \u6545\u969c\u5b95\u673a </li> <li>\u670d\u52a1\u7194\u65ad\u6216\u8bf7\u6c42\u9650\u6d41\u673a\u5236\uff1a\u542f\u52a8 \u670d\u52a1\u7194\u65ad \u673a\u5236\uff0c \u6682\u505c\u4e1a\u52a1\u5e94\u7528\u5bf9\u7f13\u5b58\u670d\u52a1\u7684\u8bbf\u95ee\uff0c\u76f4\u63a5\u8fd4\u56de\u9519\u8bef\uff0c\u6240\u4ee5\u4e0d\u7528\u518d\u7ee7\u7eed\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u4fdd\u8bc1\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6b63\u5e38\u8fd0\u884c\uff0c\u7b49\u5230 Redis \u6062\u590d\u6b63\u5e38\u540e\uff0c\u518d\u5141\u8bb8\u4e1a\u52a1\u5e94\u7528\u8bbf\u95ee\u7f13\u5b58\u670d\u52a1\u3002\u670d\u52a1\u7194\u65ad\u673a\u5236\u662f\u4fdd\u62a4\u6570\u636e\u5e93\u7684\u6b63\u5e38\u5141\u8bb8\uff0c\u4f46\u662f\u6682\u505c\u4e86\u4e1a\u52a1\u5e94\u7528\u8bbf\u95ee\u7f13\u5b58\u670d\u7cfb\u7edf\uff0c\u5168\u90e8\u4e1a\u52a1\u90fd\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u4e5f\u53ef\u4ee5\u542f\u7528 \u8bf7\u6c42\u9650\u6d41 \u673a\u5236\uff0c \u53ea\u5c06\u5c11\u90e8\u5206\u8bf7\u6c42\u53d1\u9001\u5230\u6570\u636e\u5e93\u8fdb\u884c\u5904\u7406\uff0c\u518d\u591a\u7684\u8bf7\u6c42\u5c31\u5728\u5165\u53e3\u76f4\u63a5\u62d2\u7edd\u670d\u52a1 </li> <li>\u6784\u5efa\u9ad8\u53ef\u9760\u96c6\u7fa4\uff1a\u901a\u8fc7 \u4e3b\u4ece\u8282\u70b9\u7684\u65b9\u5f0f\u6784\u5efa Redis \u7f13\u5b58\u9ad8\u53ef\u9760\u96c6\u7fa4\u3002\u5982\u679c Redis \u7f13\u5b58\u7684\u4e3b\u8282\u70b9\u6545\u969c\u5b95\u673a\uff0c\u4ece\u8282\u70b9\u53ef\u4ee5\u5207\u6362\u6210\u4e3a\u4e3b\u8282\u70b9\uff0c\u7ee7\u7eed\u63d0\u4f9b\u7f13\u5b58\u670d\u52a1\uff0c\u907f\u514d\u4e86\u7531\u4e8e Redis \u6545\u969c\u5b95\u673a\u800c\u5bfc\u81f4\u7684\u7f13\u5b58\u96ea\u5d29\u95ee\u9898</li> </ul>"},{"location":"Database/Redis/Redis/#_19","title":"\u7f13\u5b58\u51fb\u7a7f","text":"<p>\u5982\u679c\u7f13\u5b58\u4e2d\u7684 \u67d0\u4e2a\u70ed\u70b9\u6570\u636e\u8fc7\u671f \u4e86\uff0c\u6b64\u65f6\u5927\u91cf\u7684\u8bf7\u6c42\u8bbf\u95ee\u4e86\u8be5\u70ed\u70b9\u6570\u636e\uff0c\u5c31\u65e0\u6cd5\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\uff0c\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u6570\u636e\u5e93\u5f88\u5bb9\u6613\u5c31\u88ab\u9ad8\u5e76\u53d1\u7684\u8bf7\u6c42\u51b2\u57ae\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4e92\u65a5\u9501\u65b9\u6848\uff1a\u4fdd\u8bc1\u540c\u4e00\u65f6\u95f4\u53ea\u6709\u4e00\u4e2a\u4e1a\u52a1\u7ebf\u7a0b\u66f4\u65b0\u7f13\u5b58\uff0c\u672a\u80fd\u83b7\u53d6\u4e92\u65a5\u9501\u7684\u8bf7\u6c42\uff0c\u8981\u4e48\u7b49\u5f85\u9501\u91ca\u653e\u540e\u91cd\u65b0\u8bfb\u53d6\u7f13\u5b58\uff0c\u8981\u4e48\u5c31\u8fd4\u56de\u7a7a\u503c\u6216\u8005\u9ed8\u8ba4\u503c - \u4e0d\u7ed9\u70ed\u70b9\u6570\u636e\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff1a\u7531\u540e\u53f0\u5f02\u6b65\u66f4\u65b0\u7f13\u5b58\uff0c\u6216\u8005\u5728\u70ed\u70b9\u6570\u636e\u51c6\u5907\u8981\u8fc7\u671f\u524d\uff0c\u63d0\u524d\u901a\u77e5\u540e\u53f0\u7ebf\u7a0b\u66f4\u65b0\u7f13\u5b58\u4ee5\u53ca\u91cd\u65b0\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4</p>"},{"location":"Database/Redis/Redis/#_20","title":"\u7f13\u5b58\u7a7f\u900f","text":"<p>\u5f53\u7528\u6237\u8bbf\u95ee\u7684\u6570\u636e\uff0c \u65e2\u4e0d\u5728\u7f13\u5b58\u4e2d\uff0c\u4e5f\u4e0d\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u5bfc\u81f4\u8bf7\u6c42\u5728\u8bbf\u95ee\u7f13\u5b58\u65f6\uff0c\u53d1\u73b0\u7f13\u5b58\u7f3a\u5931\uff0c\u518d\u53bb\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u53d1\u73b0\u6570\u636e\u5e93\u4e2d\u4e5f\u6ca1\u6709\u8981\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u6ca1\u529e\u6cd5\u6784\u5efa\u7f13\u5b58\u6570\u636e\uff0c\u6765\u670d\u52a1\u540e\u7eed\u7684\u8bf7\u6c42\u3002\u90a3\u4e48\u5f53\u6709\u5927\u91cf\u8fd9\u6837\u7684\u8bf7\u6c42\u5230\u6765\u65f6\uff0c\u6570\u636e\u5e93\u7684\u538b\u529b\u9aa4\u589e\uff0c\u8fd9\u5c31\u662f \u7f13\u5b58\u7a7f\u900f \u7684\u95ee\u9898\u3002</p> <p>\u89e3\u51b3\u65b9\u6848 </p> <ul> <li>\u975e\u6cd5\u8bf7\u6c42\u7684\u9650\u5236\uff1a\u5f53\u6709\u5927\u91cf\u6076\u610f\u8bf7\u6c42\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u6570\u636e\u7684\u65f6\u5019\u4f1a\u53d1\u751f\u7f13\u5b58\u7a7f\u900f\uff0c\u53ef\u4ee5\u5728 API \u5165\u53e3\u5904\u5224\u65ad\u6c42\u8bf7\u6c42\u53c2\u6570\u662f\u5426\u5408\u7406\uff0c\u8bf7\u6c42\u53c2\u6570\u662f\u5426\u542b\u6709\u975e\u6cd5\u503c\u3001\u8bf7\u6c42\u5b57\u6bb5\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5224\u65ad\u51fa\u662f\u6076\u610f\u8bf7\u6c42\u5c31\u76f4\u63a5\u8fd4\u56de\u9519\u8bef\uff0c\u907f\u514d\u8fdb\u4e00\u6b65\u8bbf\u95ee\u7f13\u5b58\u548c\u6570\u636e\u5e93</li> <li>\u7f13\u5b58\u7a7a\u503c\u6216\u8005\u9ed8\u8ba4\u503c\uff1a\u5f53\u7ebf\u4e0a\u4e1a\u52a1\u53d1\u73b0\u7f13\u5b58\u7a7f\u900f\u7684\u73b0\u8c61\u65f6\uff0c\u53ef\u4ee5\u9488\u5bf9\u67e5\u8be2\u7684\u6570\u636e\uff0c\u5728\u7f13\u5b58\u4e2d\u8bbe\u7f6e\u4e00\u4e2a\u7a7a\u503c\u6216\u8005\u9ed8\u8ba4\u503c\uff0c\u8fd9\u6837\u540e\u7eed\u8bf7\u6c42\u5c31\u53ef\u4ee5\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u5230\u7a7a\u503c\u6216\u8005\u9ed8\u8ba4\u503c\uff0c\u8fd4\u56de\u7ed9\u5e94\u7528\uff0c\u800c\u4e0d\u4f1a\u7ee7\u7eed\u67e5\u8be2\u6570\u636e\u5e93</li> <li>\u4f7f\u7528\u5e03\u9686\u8fc7\u6ee4\u5668\u5feb\u901f\u5224\u65ad\u6570\u636e\u662f\u5426\u5b58\u5728\uff0c\u907f\u514d\u901a\u8fc7\u67e5\u8be2\u6570\u636e\u5e93\u6765\u5224\u65ad\u6570\u636e\u662f\u5426\u5b58\u5728\uff1a\u53ef\u4ee5\u5728\u5199\u5165\u6570\u636e\u5e93\u6570\u636e\u65f6\uff0c\u4f7f\u7528\u5e03\u9686\u8fc7\u6ee4\u5668\u505a\u4e2a\u6807\u8bb0\uff0c\u7136\u540e\u5728\u7528\u6237\u8bf7\u6c42\u5230\u6765\u65f6\uff0c\u4e1a\u52a1\u7ebf\u7a0b\u786e\u8ba4\u7f13\u5b58\u5931\u6548\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u5e03\u9686\u8fc7\u6ee4\u5668\u5feb\u901f\u5224\u65ad\u6570\u636e\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5c31\u4e0d\u7528\u901a\u8fc7\u67e5\u8be2\u6570\u636e\u5e93\u6765\u5224\u65ad\u6570\u636e\u662f\u5426\u5b58\u5728</li> </ul>"},{"location":"Database/Redis/Redis/#_21","title":"\u5e03\u9686\u8fc7\u6ee4\u5668\u662f\u600e\u4e48\u5de5\u4f5c\u7684\uff1f","text":"<p>\u5e03\u9686\u8fc7\u6ee4\u5668\u7531 \u521d\u59cb\u503c\u90fd\u4e3a 0 \u7684\u4f4d\u56fe\u6570\u7ec4 \u548c  N \u4e2a\u54c8\u5e0c\u51fd\u6570 \u4e24\u90e8\u5206\u7ec4\u6210\u3002\u5728\u5199\u5165\u6570\u636e\u5e93\u6570\u636e\u65f6\uff0c\u5728\u5e03\u9686\u8fc7\u6ee4\u5668\u91cc\u505a\u4e2a\u6807\u8bb0\uff0c\u8fd9\u6837\u4e0b\u6b21\u67e5\u8be2\u6570\u636e\u662f\u5426\u5728\u6570\u636e\u5e93\u65f6\uff0c\u53ea\u9700\u8981\u67e5\u8be2\u5e03\u9686\u8fc7\u6ee4\u5668\uff0c\u5982\u679c\u67e5\u8be2\u5230\u6570\u636e\u6ca1\u6709\u88ab\u6807\u8bb0\uff0c\u8bf4\u660e\u4e0d\u5728\u6570\u636e\u5e93\u4e2d\u3002</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u4f7f\u7528 N \u4e2a\u54c8\u5e0c\u51fd\u6570\u5206\u522b\u5bf9\u6570\u636e\u505a\u54c8\u5e0c\u8ba1\u7b97\uff0c\u5f97\u5230 N \u4e2a\u54c8\u5e0c\u503c</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u5c06\u7b2c\u4e00\u6b65\u5f97\u5230\u7684 N \u4e2a\u54c8\u5e0c\u503c\u5bf9\u4f4d\u56fe\u6570\u7ec4\u7684\u957f\u5ea6\u53d6\u6a21\uff0c\u5f97\u5230\u6bcf\u4e2a\u54c8\u5e0c\u503c\u5728\u4f4d\u56fe\u6570\u7ec4\u7684\u5bf9\u5e94\u4f4d\u7f6e</li> <li>\u7b2c\u4e09\u6b65\uff1a\u5c06\u6bcf\u4e2a\u54c8\u5e0c\u503c\u5728\u4f4d\u56fe\u6570\u7ec4\u7684\u5bf9\u5e94\u4f4d\u7f6e\u7684\u503c\u8bbe\u7f6e\u4e3a 1</li> </ul> <p>\u7f3a\u9677 </p> <ul> <li>\u5e03\u9686\u8fc7\u6ee4\u5668\u7531\u4e8e\u662f\u57fa\u4e8e\u54c8\u5e0c\u51fd\u6570\u5b9e\u73b0\u67e5\u627e\u7684\uff0c\u4f1a\u5b58\u5728\u54c8\u5e0c\u51b2\u7a81\u7684\u53ef\u80fd\u6027\uff0c\u6570\u636e\u53ef\u80fd\u843d\u5728\u76f8\u540c\u4f4d\u7f6e\uff0c\u5b58\u5728\u8bef\u5224\u7684\u60c5\u51b5\u3002\u67e5\u8be2\u5e03\u9686\u8fc7\u6ee4\u5668\u8bf4\u6570\u636e\u5b58\u5728\uff0c\u5e76\u4e0d\u4e00\u5b9a\u8bc1\u660e\u6570\u636e\u5e93\u4e2d\u5b58\u5728\u8fd9\u4e2a\u6570\u636e\uff0c\u4f46\u662f\u67e5\u8be2\u5230\u6570\u636e\u4e0d\u5b58\u5728\uff0c\u6570\u636e\u5e93\u4e2d\u4e00\u5b9a\u5c31\u4e0d\u5b58\u5728\u8fd9\u4e2a\u6570\u636e</li> <li>\u4e0d\u652f\u6301\u4e00\u4e2a\u5173\u952e\u5b57\u7684\u5220\u9664\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5173\u952e\u5b57\u7684\u5220\u9664\u4f1a\u7275\u8fde\u5176\u4ed6\u7684\u5173\u952e\u5b57\u3002\u6539\u8fdb\u65b9\u6cd5\u5c31\u662f counting Bloom filter\uff0c\u7528\u4e00\u4e2a counter \u6570\u7ec4\u4ee3\u66ff\u4f4d\u6570\u7ec4\uff0c\u5c31\u53ef\u4ee5\u652f\u6301\u5220\u9664\u4e86</li> <li>\u5bf9\u4e8e\u8f93\u5165\u7684 n \u4e2a\u5143\u7d20\uff0c\u8981\u786e\u5b9a\u6570\u7ec4 m \u5927\u5c0f\u548c hash \u51fd\u6570\u7684\u4e2a\u6570\uff0chash \u51fd\u6570\u4e2a\u6570  k = (ln2)*(m/n)  \u65f6\u9519\u8bef\u7387\u6700\u5c0f\u3002\u5728\u9519\u8bef\u7387\u4e0d\u5927\u4e8e E \u60c5\u51b5\u4e0b\uff0cm \u81f3\u5c11\u8981\u7b49\u4e8e  n*lg(1 / E)  \u624d\u80fd\u8868\u793a n \u4e2a\u5143\u7d20\u7684\u96c6\u5408\u3002</li> </ul>"},{"location":"Database/Redis/Redis/#_22","title":"\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u5e93\u548c\u7f13\u5b58\u7684\u4e00\u81f4\u6027\uff1f","text":"<p>Cache Aside </p> <ul> <li>\u539f\u7406\uff1a\u5148\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u518d\u53bb\u6570\u636e\u5e93\u91cc\u9762\u8bfb\u6570\u636e\uff0c\u7136\u540e\u628a\u6570\u636e\u653e\u56de\u7f13\u5b58\u4e2d\uff0c\u5982\u679c\u7f13\u5b58\u4e2d\u53ef\u4ee5\u627e\u5230\u6570\u636e\u5c31\u76f4\u63a5\u8fd4\u56de\u6570\u636e\uff1b\u66f4\u65b0\u6570\u636e\u7684\u65f6\u5019\u5148\u628a\u6570\u636e\u6301\u4e45\u5316\u5230\u6570\u636e\u5e93\uff0c\u7136\u540e\u518d\u8ba9\u7f13\u5b58\u5931\u6548</li> <li>\u95ee\u9898\uff1a\u5047\u5982\u6709\u4e24\u4e2a\u64cd\u4f5c\u4e00\u4e2a\u66f4\u65b0\u4e00\u4e2a\u67e5\u8be2\uff0c\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u5148\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u8fd8\u6ca1\u6765\u53ca\u5220\u9664\u6570\u636e\u5e93\uff0c\u67e5\u8be2\u64cd\u4f5c\u53ef\u80fd\u62ff\u5230\u7684\u5c31\u662f\u65e7\u7684\u6570\u636e\uff1b\u66f4\u65b0\u64cd\u4f5c\u9a6c\u4e0a\u8ba9\u7f13\u5b58\u5931\u6548\u4e86\uff0c\u6240\u4ee5\u540e\u7eed\u7684\u67e5\u8be2\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff1b\u8fd8\u6709\u7684\u95ee\u9898\u5c31\u662f\u6709\u4e00\u4e2a\u662f\u8bfb\u64cd\u4f5c\u6ca1\u6709\u547d\u4e2d\u7f13\u5b58\uff0c\u7136\u540e\u5c31\u5230\u6570\u636e\u5e93\u4e2d\u53d6\u6570\u636e\uff0c\u6b64\u65f6\u6765\u4e86\u4e00\u4e2a\u5199\u64cd\u4f5c\uff0c\u5199\u5b8c\u6570\u636e\u5e93\u540e\uff0c\u8ba9\u7f13\u5b58\u5931\u6548\uff0c\u7136\u540e\uff0c\u4e4b\u524d\u7684\u90a3\u4e2a\u8bfb\u64cd\u4f5c\u518d\u628a\u8001\u7684\u6570\u636e\u653e\u8fdb\u53bb\uff0c\u4e5f\u4f1a\u9020\u6210\u810f\u6570\u636e</li> <li>\u53ef\u884c\u6027\uff1a\u51fa\u73b0\u4e0a\u8ff0\u95ee\u9898\u7684\u6982\u7387\u5176\u5b9e\u975e\u5e38\u4f4e\uff0c\u9700\u8981\u540c\u65f6\u8fbe\u6210\u8bfb\u7f13\u5b58\u65f6\u7f13\u5b58\u5931\u6548\u5e76\u4e14\u6709\u5e76\u53d1\u5199\u7684\u64cd\u4f5c\u3002\u6570\u636e\u5e93\u8bfb\u5199\u8981\u6bd4\u7f13\u5b58\u6162\u5f97\u591a\uff0c\u6240\u4ee5\u8bfb\u64cd\u4f5c\u5728\u5199\u64cd\u4f5c\u4e4b\u524d\u8fdb\u5165\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u5728\u5199\u64cd\u4f5c\u4e4b\u540e\u66f4\u65b0\uff0c\u6982\u7387\u6bd4\u8f83\u4f4e</li> </ul> <p>Read/Write Through </p> <ul> <li>\u539f\u7406\uff1aRead/Write Through \u539f\u7406\u662f\u628a\u66f4\u65b0\u6570\u636e\u5e93(Repository)\u7684\u64cd\u4f5c\u7531\u7f13\u5b58\u4ee3\u7406\uff0c\u5e94\u7528\u8ba4\u4e3a\u540e\u7aef\u662f\u4e00\u4e2a\u5355\u4e00\u7684\u5b58\u50a8\uff0c\u800c\u5b58\u50a8\u81ea\u5df1\u7ef4\u62a4\u81ea\u5df1\u7684\u7f13\u5b58\u3002</li> <li>Read Through\uff1a\u5c31\u662f\u5728\u67e5\u8be2\u64cd\u4f5c\u4e2d\u66f4\u65b0\u7f13\u5b58\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u7f13\u5b58\u5931\u6548\u7684\u65f6\u5019\uff0cCache  Aside \u7b56\u7565\u662f\u7531\u8c03\u7528\u65b9\u8d1f\u8d23\u628a\u6570\u636e\u52a0\u8f7d\u5165\u7f13\u5b58\uff0c\u800c Read Through \u5219\u7528\u7f13\u5b58\u670d\u52a1\u81ea\u5df1\u6765\u52a0\u8f7d\uff0c\u4ece\u800c\u5bf9\u8c03\u7528\u65b9\u662f\u900f\u660e\u7684</li> <li>Write Through\uff1a\u5f53\u6709\u6570\u636e\u66f4\u65b0\u7684\u65f6\u5019\uff0c\u5982\u679c\u6ca1\u6709\u547d\u4e2d\u7f13\u5b58\uff0c\u76f4\u63a5\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u7136\u540e\u8fd4\u56de\u3002\u5982\u679c\u547d\u4e2d\u4e86\u7f13\u5b58\uff0c\u5219\u66f4\u65b0\u7f13\u5b58\uff0c\u7136\u540e\u518d\u7531\u7f13\u5b58\u81ea\u5df1\u66f4\u65b0\u6570\u636e\u5e93(\u8fd9\u662f\u4e00\u4e2a\u540c\u6b65\u64cd\u4f5c)</li> </ul> <p>Write Behind </p> <ul> <li>\u539f\u7406\uff1a\u5728\u66f4\u65b0\u6570\u636e\u7684\u65f6\u5019\uff0c\u53ea\u66f4\u65b0\u7f13\u5b58\uff0c\u4e0d\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u800c\u7f13\u5b58\u4f1a\u5f02\u6b65\u5730\u6279\u91cf\u66f4\u65b0\u6570\u636e\u5e93\u3002\u8fd9\u4e2a\u8bbe\u8ba1\u7684\u597d\u5904\u5c31\u662f\u8ba9\u6570\u636e\u7684 I/O \u64cd\u4f5c\u975e\u5e38\u5feb\uff0c\u5e26\u6765\u7684\u95ee\u9898\u662f\uff0c\u6570\u636e\u4e0d\u662f\u5f3a\u4e00\u81f4\u6027\u7684\uff0c\u800c\u4e14\u53ef\u80fd\u4f1a\u4e22</li> <li>\u7b2c\u4e8c\u6b65\u5931\u6548\u95ee\u9898\uff1a\u8fd9\u79cd\u53ef\u80fd\u6027\u6781\u5c0f\uff0c\u7f13\u5b58\u5220\u9664\u53ea\u662f\u6807\u8bb0\u4e00\u4e0b\u65e0\u6548\u7684\u8f6f\u5220\u9664\uff0c\u53ef\u4ee5\u770b\u4f5c\u4e0d\u8017\u65f6\u95f4\u3002\u5982\u679c\u4f1a\u51fa\u95ee\u9898\uff0c\u4e00\u822c\u7a0b\u5e8f\u5728\u5199\u6570\u636e\u5e93\u90a3\u91cc\u5c31\u6ca1\u6709\u5b8c\u6210\uff1a\u6545\u610f\u5728\u5199\u5b8c\u6570\u636e\u5e93\u540e\uff0c\u4f11\u7720\u5f88\u957f\u65f6\u95f4\u518d\u6765\u5220\u9664\u7f13\u5b58</li> </ul> <p>2PC \u6216\u662f Paxos </p> <ul> <li>2PC \u6216\u662f Paxos  \u534f\u8bae\u4fdd\u8bc1\u4e00\u81f4\u6027\uff0c\u56e0\u4e3a 2PC \u592a\u6162\uff0c\u800c Paxos \u592a\u590d\u6742</li> </ul>"},{"location":"Database/Redis/Redis/#_23","title":"\u5982\u4f55\u4fdd\u8bc1\u5220\u9664\u7f13\u5b58\u64cd\u4f5c\u4e00\u5b9a\u80fd\u6210\u529f\uff1f","text":"<ul> <li>\u91cd\u8bd5\u673a\u5236\uff1a\u5f15\u5165\u6d88\u606f\u961f\u5217\uff0c\u5220\u9664\u7f13\u5b58\u7684\u64cd\u4f5c\u7531\u6d88\u8d39\u8005\u6765\u505a\uff0c\u5220\u9664\u5931\u8d25\u7684\u8bdd\u91cd\u65b0\u53bb\u6d88\u606f\u961f\u5217\u62c9\u53d6\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u8d85\u8fc7\u4e00\u5b9a\u6b21\u6570\u6ca1\u6709\u5220\u9664\u6210\u529f\u5c31\u50cf\u4e1a\u52a1\u5c42\u62a5\u9519</li> <li>**\u8ba2\u9605 BINLog **\uff1a\u8ba2\u9605 binlog \u65e5\u5fd7\uff0c\u62ff\u5230\u5177\u4f53\u8981\u64cd\u4f5c\u7684\u6570\u636e\uff0c\u7136\u540e\u518d\u6267\u884c\u7f13\u5b58\u5220\u9664\u3002\u53ef\u4ee5\u8ba9\u5220\u9664\u670d\u52a1\u6a21\u62df\u81ea\u5df1\u4f2a\u88c5\u6210\u4e00\u4e2a MySQL \u7684\u4ece\u8282\u70b9\uff0c\u5411 MySQL \u4e3b\u8282\u70b9\u53d1\u9001 dump \u8bf7\u6c42\uff0c\u4e3b\u8282\u70b9\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5c31\u4f1a\u5f00\u59cb\u63a8\u9001 BINLog\uff0c\u5220\u9664\u670d\u52a1\u89e3\u6790 BINLog \u5b57\u8282\u6d41\u4e4b\u540e\uff0c\u8f6c\u6362\u4e3a\u4fbf\u4e8e\u8bfb\u53d6\u7684\u7ed3\u6784\u5316\u6570\u636e\uff0c\u518d\u8fdb\u884c\u5220\u9664</li> </ul>"},{"location":"Database/Redis/Redis/#_24","title":"\u4e1a\u52a1\u4e00\u81f4\u6027\u8981\u6c42\u9ad8\u600e\u4e48\u529e\uff1f","text":"<ul> <li>\u5148\u66f4\u65b0\u6570\u636e\u5e93\u518d\u66f4\u65b0\u7f13\u5b58\uff1a\u53ef\u4ee5\u5148\u66f4\u65b0\u6570\u636e\u5e93\u518d\u66f4\u65b0\u7f13\u5b58\uff0c\u4f46\u662f\u53ef\u80fd\u4f1a\u6709\u5e76\u53d1\u66f4\u65b0\u7684\u7f13\u5b58\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002\u89e3\u51b3\u529e\u6cd5\u662f\u66f4\u65b0\u7f13\u5b58\u524d\u52a0\u4e00\u4e2a\u5206\u5e03\u5f0f\u9501\uff0c\u4fdd\u8bc1\u540c\u4e00\u65f6\u95f4\u53ea\u8fd0\u884c\u4e00\u4e2a\u8bf7\u6c42\u66f4\u65b0\u7f13\u5b58\uff0c\u52a0\u9501\u540e\u5bf9\u4e8e\u5199\u5165\u7684\u6027\u80fd\u5c31\u4f1a\u5e26\u6765\u5f71\u54cd\uff1b\u5728\u66f4\u65b0\u5b8c\u7f13\u5b58\u65f6\uff0c\u7ed9\u7f13\u5b58\u52a0\u4e0a\u8f83\u77ed\u7684 \u8fc7\u671f\u65f6\u95f4\uff0c\u51fa\u73b0\u7f13\u5b58\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u7f13\u5b58\u7684\u6570\u636e\u4e5f\u4f1a\u5f88\u5feb\u8fc7\u671f</li> <li>\u5ef6\u8fdf\u53cc\u5220\uff1a\u91c7\u7528\u5ef6\u8fdf\u53cc\u5220\uff0c\u5148\u5220\u9664\u7f13\u5b58\uff0c\u7136\u540e\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u518d\u5220\u9664\u7f13\u5b58\u3002\u4fdd\u8bc1\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u518d\u7761\u7720\u4e4b\u540e\uff0c\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u5b8c\u6210\u66f4\u65b0\u7f13\u5b58\u64cd\u4f5c\u3002\u4f46\u662f\u5177\u4f53\u7761\u7720\u591a\u4e45\u5176\u5b9e\u662f\u4e2a \u7384\u5b66\uff0c\u5f88\u96be\u8bc4\u4f30\u51fa\u6765\uff0c\u8fd9\u4e2a\u65b9\u6848\u4e5f\u53ea\u662f \u5c3d\u53ef\u80fd \u4fdd\u8bc1\u4e00\u81f4\u6027\u800c\u5df2\uff0c\u4f9d\u7136\u4e5f\u4f1a\u51fa\u73b0\u7f13\u5b58\u4e0d\u4e00\u81f4\u7684\u73b0\u8c61\u3002</li> </ul>"},{"location":"Database/Redis/Redis/#_25","title":"\u5982\u4f55\u907f\u514d\u7f13\u5b58\u5931\u6548\uff1f","text":"<ul> <li>\u7531\u540e\u53f0\u7ebf\u7a0b\u9891\u7e41\u5730\u68c0\u6d4b\u7f13\u5b58\u662f\u5426\u6709\u6548\uff1a\u68c0\u6d4b\u5230\u7f13\u5b58\u5931\u6548\u4e86\u9a6c\u4e0a\u4ece\u6570\u636e\u5e93\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u66f4\u65b0\u5230\u7f13\u5b58</li> <li>\u4e1a\u52a1\u7ebf\u7a0b\u53d1\u73b0\u7f13\u5b58\u6570\u636e\u5931\u6548\u540e\uff1a \u901a\u8fc7\u6d88\u606f\u961f\u5217\u53d1\u9001\u4e00\u6761\u6d88\u606f\u901a\u77e5\u540e\u53f0\u7ebf\u7a0b\u66f4\u65b0\u7f13\u5b58\uff0c\u540e\u53f0\u7ebf\u7a0b\u6536\u5230\u6d88\u606f\u540e\uff0c\u5728\u66f4\u65b0\u7f13\u5b58\u524d\u53ef\u4ee5\u5224\u65ad\u7f13\u5b58\u662f\u5426\u5b58\u5728\uff0c\u5b58\u5728\u5c31\u4e0d\u6267\u884c\u66f4\u65b0\u7f13\u5b58\u64cd\u4f5c\uff1b\u4e0d\u5b58\u5728\u5c31\u8bfb\u53d6\u6570\u636e\u5e93\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u52a0\u8f7d\u5230\u7f13\u5b58</li> <li>\u5728\u4e1a\u52a1\u521a\u4e0a\u7ebf\u7684\u65f6\u5019\uff1a\u6700\u597d\u63d0\u524d\u628a\u6570\u636e\u7f13\u8d77\u6765\uff0c\u800c\u4e0d\u662f\u7b49\u5f85\u7528\u6237\u8bbf\u95ee\u624d\u6765\u89e6\u53d1\u7f13\u5b58\u6784\u5efa\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684 \u7f13\u5b58\u9884\u70ed\uff0c\u540e\u53f0\u66f4\u65b0\u7f13\u5b58\u7684\u673a\u5236\u521a\u597d\u4e5f\u9002\u5408\u5e72\u8fd9\u4e2a\u4e8b\u60c5</li> </ul>"},{"location":"Database/Redis/Redis/#_26","title":"\u5982\u4f55\u5b9e\u73b0\u5ef6\u8fdf\u961f\u5217\uff1f","text":"<p>\u4f7f\u7528 ZSet\uff0cZSet \u6709\u4e00\u4e2a Score \u5c5e\u6027\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\u5ef6\u8fdf\u6267\u884c\u7684\u65f6\u95f4\u3002\u4f7f\u7528 zadd score1 value1 \u547d\u4ee4\uff0c\u518d\u5229\u7528 zrangebysocre \u67e5\u8be2\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709\u5f85\u5904\u7406\u7684\u4efb\u52a1\uff0c\u901a\u8fc7\u5faa\u73af\u6267\u884c\u961f\u5217\u4efb\u52a1\u3002</p>"},{"location":"Database/Redis/Redis/#_27","title":"\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u7f13\u5b58\u7b56\u7565\uff0c\u53ef\u4ee5\u52a8\u6001\u7f13\u5b58\u70ed\u70b9\u6570\u636e\u5462\uff1f","text":"<p>\u70ed\u70b9\u6570\u636e\u52a8\u6001\u7f13\u5b58\u7684\u7b56\u7565\u603b\u4f53\u601d\u8def\uff1a \u901a\u8fc7\u6570\u636e\u6700\u65b0\u8bbf\u95ee\u65f6\u95f4\u6765\u505a\u6392\u540d\uff0c\u5e76\u8fc7\u6ee4\u6389\u4e0d\u5e38\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u53ea\u7559\u4e0b\u7ecf\u5e38\u8bbf\u95ee\u7684\u6570\u636e\u3002\u7528 zadd \u65b9\u6cd5\u548c zrange \u65b9\u6cd5\u6765\u5b8c\u6210\u6392\u5e8f\u961f\u5217\u548c\u83b7\u53d6\u524d\u9762\u5546\u54c1\u3002</p>"},{"location":"Database/Redis/Redis/#redis_10","title":"Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1f","text":"<p>\u4f7f\u7528 SETNX \u547d\u4ee4\uff0c\u53ea\u6709\u63d2\u5165\u7684 key \u4e0d\u5b58\u5728\u624d\u63d2\u5165\uff0c\u5982\u679c SETNX \u7684 key \u5b58\u5728\u5c31\u63d2\u5165\u5931\u8d25\uff0ckey \u63d2\u5165\u6210\u529f\u4ee3\u8868\u52a0\u9501\u6210\u529f\uff0c\u5426\u5219\u52a0\u9501\u5931\u8d25\uff1b\u89e3\u9501\u7684\u8fc7\u7a0b\u5c31\u662f\u5c06 key \u5220\u9664\uff0c \u4fdd\u8bc1\u6267\u884c\u64cd\u4f5c\u7684\u5ba2\u6237\u7aef\u5c31\u662f\u52a0\u9501\u7684\u5ba2\u6237\u7aef\uff0c\u52a0\u9501\u65f6\u5019\u8981\u8bbe\u7f6e unique_value\uff0c\u89e3\u9501\u7684\u65f6\u5019\uff0c\u8981\u5148\u5224\u65ad\u9501\u7684 unique_value \u662f\u5426\u4e3a\u52a0\u9501\u5ba2\u6237\u7aef\uff0c\u662f\u624d\u5c06 lock_key \u952e\u5220\u9664\u3002\u6b64\u5916\u8981\u7ed9\u9501\u8bbe\u7f6e\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u514d\u5ba2\u6237\u7aef\u62ff\u5230\u9501\u540e\u53d1\u751f\u5f02\u5e38\uff0c\u5bfc\u81f4\u9501\u4e00\u76f4\u65e0\u6cd5\u91ca\u653e\uff0c\u53ef\u4ee5\u6307\u5b9a EX/PX \u53c2\u6570\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u3002</p> Bash<pre><code>  SET lock_key unique_value NX PX 10000 \n</code></pre>"},{"location":"Database/Redis/Redis/#_28","title":"\u5982\u4f55\u4fdd\u8bc1\u52a0\u9501\u548c\u89e3\u9501\u8fc7\u7a0b\u7684\u539f\u5b50\u6027\uff1f","text":"<p>\u4f7f\u7528 Lua \u811a\u672c\uff0c\u56e0\u4e3a Redis \u5728\u6267\u884c Lua \u811a\u672c\u65f6\uff0c\u53ef\u4ee5\u4ee5\u539f\u5b50\u6027\u7684\u65b9\u5f0f\u6267\u884c\uff0c\u4fdd\u8bc1\u4e86\u9501\u91ca\u653e\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u3002</p>"},{"location":"Database/Redis/Redis/#redis_11","title":"\u4f7f\u7528 Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\u7684\u4f18\u70b9\u548c\u7f3a\u70b9\uff1f","text":"<ul> <li>\u4f18\u70b9\uff1a\u6027\u80fd\u9ad8\u6548\uff1b\u5b9e\u73b0\u65b9\u4fbf\uff1b\u907f\u514d\u5355\u70b9\u6545\u969c</li> <li>\u7f3a\u70b9\uff1a\u8d85\u65f6\u65f6\u95f4\u4e0d\u597d\u8bbe\u7f6e\u3002\u5982\u679c\u9501\u7684\u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e\u8fc7\u957f\uff0c\u4f1a\u5f71\u54cd\u6027\u80fd\uff0c\u5982\u679c\u8bbe\u7f6e\u7684\u8d85\u65f6\u65f6\u95f4\u8fc7\u77ed\u4f1a\u4fdd\u62a4\u4e0d\u5230\u5171\u4eab\u8d44\u6e90\u3002Redis \u4e3b\u4ece\u590d\u5236\u6a21\u5f0f\u4e2d\u7684\u6570\u636e\u662f\u5f02\u6b65\u590d\u5236\u7684\uff0c\u5bfc\u81f4\u5206\u5e03\u5f0f\u9501\u7684\u4e0d\u53ef\u9760\u6027\u3002\u5982\u679c\u5728 Redis \u4e3b\u8282\u70b9\u83b7\u53d6\u5230\u9501\u540e\uff0c\u5728\u6ca1\u6709\u540c\u6b65\u5230\u5176\u4ed6\u8282\u70b9\u65f6\uff0cRedis \u4e3b\u8282\u70b9\u5b95\u673a\u4e86\uff0c\u6b64\u65f6\u65b0\u7684 Redis \u4e3b\u8282\u70b9\u4f9d\u7136\u53ef\u4ee5\u83b7\u53d6\u9501\uff0c\u6240\u4ee5\u591a\u4e2a\u5e94\u7528\u670d\u52a1\u5c31\u53ef\u4ee5\u540c\u65f6\u83b7\u53d6\u5230\u9501</li> </ul>"},{"location":"Database/Redis/Redis/#_29","title":"\u5982\u4f55\u4e3a\u5206\u5e03\u5f0f\u9501\u8bbe\u7f6e\u5408\u7406\u7684\u8d85\u65f6\u65f6\u95f4\uff1f","text":"<p>\u53ef\u4ee5\u57fa\u4e8e\u7eed\u7ea6\u7684\u65b9\u5f0f\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\uff1a\u5148\u7ed9\u9501\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u7136\u540e\u542f\u52a8\u4e00\u4e2a\u5b88\u62a4\u7ebf\u7a0b\uff0c\u8ba9\u5b88\u62a4\u7ebf\u7a0b\u5728\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u91cd\u65b0\u8bbe\u7f6e\u8fd9\u4e2a\u9501\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u5b9e\u73b0\u65b9\u5f0f\u5c31\u662f\uff1a\u5199\u4e00\u4e2a\u5b88\u62a4\u7ebf\u7a0b\uff0c\u7136\u540e\u53bb\u5224\u65ad\u9501\u7684\u60c5\u51b5\uff0c\u5f53\u9501\u5feb\u5931\u6548\u7684\u65f6\u5019\uff0c\u518d\u6b21\u8fdb\u884c\u7eed\u7ea6\u52a0\u9501\uff0c\u5f53\u4e3b\u7ebf\u7a0b\u6267\u884c\u5b8c\u6210\u540e\uff0c\u9500\u6bc1\u7eed\u7ea6\u9501\u5373\u53ef\uff0c\u4e0d\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u8d77\u6765\u76f8\u5bf9\u590d\u6742\u3002</p>"},{"location":"Database/Redis/Redis/#redis_12","title":"Redis \u89e3\u51b3\u96c6\u7fa4\u60c5\u51b5\u4e0b\u5206\u5e03\u5f0f\u9501\u7684\u53ef\u9760\u6027\uff1f","text":"<p>\u5206\u5e03\u5f0f\u9501\u7b97\u6cd5 Redlock(\u7ea2\u9501)\u3002\u57fa\u4e8e \u591a\u4e2a Redis \u8282\u70b9 \u7684\u5206\u5e03\u5f0f\u9501\uff0c\u5373\u4f7f\u6709\u8282\u70b9\u53d1\u751f\u4e86\u6545\u969c\uff0c\u9501\u53d8\u91cf\u4ecd\u7136\u662f\u5b58\u5728\u7684\uff0c\u5ba2\u6237\u7aef\u8fd8\u662f\u53ef\u4ee5\u5b8c\u6210\u9501\u64cd\u4f5c\u3002\u5b98\u65b9\u63a8\u8350\u662f\u81f3\u5c11\u90e8\u7f72 5 \u4e2a Redis \u8282\u70b9\uff0c\u800c\u4e14\u90fd\u662f\u4e3b\u8282\u70b9\uff0c\u5b83\u4eec\u4e4b\u95f4\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u90fd\u662f\u4e00\u4e2a\u4e2a\u5b64\u7acb\u7684\u8282\u70b9\u3002</p> <p>\u57fa\u672c\u601d\u8def\uff1a \u662f\u8ba9\u5ba2\u6237\u7aef\u548c\u591a\u4e2a\u72ec\u7acb\u7684 Redis \u8282\u70b9\u4f9d\u6b21\u8bf7\u6c42\u7533\u8bf7\u52a0\u9501\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u80fd\u591f\u548c\u534a\u6570\u4ee5\u4e0a\u7684\u8282\u70b9\u6210\u529f\u5730\u5b8c\u6210\u52a0\u9501\u64cd\u4f5c\uff0c\u90a3\u4e48\u5c31\u8ba4\u4e3a\uff0c\u5ba2\u6237\u7aef\u6210\u529f\u5730\u83b7\u5f97\u5206\u5e03\u5f0f\u9501\uff0c\u5426\u5219\u52a0\u9501\u5931\u8d25\u3002\u5373\u4f7f\u6709\u67d0\u4e2a Redis \u8282\u70b9\u53d1\u751f\u6545\u969c\uff0c\u9501\u7684\u6570\u636e\u5728\u5176\u4ed6\u8282\u70b9\u4e0a\u4e5f\u6709\u4fdd\u5b58\uff0c\u5ba2\u6237\u7aef\u4ecd\u7136\u53ef\u4ee5\u6b63\u5e38\u5730\u8fdb\u884c\u9501\u64cd\u4f5c\uff0c\u9501\u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u4e22\u5931\u3002</p> <p>Redlock \u7b97\u6cd5\u52a0\u9501\u4e09\u4e2a\u8fc7\u7a0b\uff1a</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u5ba2\u6237\u7aef\u83b7\u53d6\u5f53\u524d\u65f6\u95f4(t1)</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u5ba2\u6237\u7aef\u6309\u987a\u5e8f\u4f9d\u6b21\u5411 N \u4e2a Redis \u8282\u70b9\u6267\u884c\u52a0\u9501\u64cd\u4f5c\uff1a\u52a0\u9501\u64cd\u4f5c\u4f7f\u7528 SET NX\uff0cEX/PX \u9009\u9879\uff0c\u4ee5\u53ca\u5e26\u4e0a\u5ba2\u6237\u7aef\u7684\u552f\u4e00\u6807\u8bc6\u3002\u5982\u679c\u67d0\u4e2a Redis \u8282\u70b9\u53d1\u751f\u6545\u969c\u4e86\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cRedlock \u7b97\u6cd5\u80fd\u591f\u7ee7\u7eed\u8fd0\u884c\uff0c\u9700\u8981\u7ed9\u300c\u52a0\u9501\u64cd\u4f5c\u300d\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u52a0\u9501\u64cd\u4f5c\u7684\u8d85\u65f6\u65f6\u95f4\u9700\u8981\u8fdc\u8fdc\u5730\u5c0f\u4e8e\u9501\u7684\u8fc7\u671f\u65f6\u95f4</li> <li>\u7b2c\u4e09\u6b65\uff1a\u4e00\u65e6\u5ba2\u6237\u7aef\u4ece\u8d85\u8fc7\u534a\u6570(\u5927\u4e8e\u7b49\u4e8e N/2+1)\u7684 Redis \u8282\u70b9\u4e0a\u6210\u529f\u83b7\u53d6\u5230\u4e86\u9501\uff0c\u5c31\u518d\u6b21\u83b7\u53d6\u5f53\u524d\u65f6\u95f4(t2)\uff0c\u7136\u540e\u8ba1\u7b97\u8ba1\u7b97\u6574\u4e2a\u52a0\u9501\u8fc7\u7a0b\u7684\u603b\u8017\u65f6(t2 - t1)\u3002\u5982\u679c  t2 - t1 &lt; \u9501\u7684\u8fc7\u671f\u65f6\u95f4  \u8ba4\u4e3a\u5ba2\u6237\u7aef\u52a0\u9501\u6210\u529f\uff0c\u5426\u5219\u8ba4\u4e3a\u52a0\u9501\u5931\u8d25</li> </ul> <p>\u52a0\u9501\u6210\u529f\u8981\u540c\u65f6\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a\u6709\u8d85\u8fc7\u534a\u6570\u7684 Redis \u8282\u70b9\u6210\u529f\u7684\u83b7\u53d6\u5230\u4e86\u9501\uff0c\u5e76\u4e14\u603b\u8017\u65f6\u6ca1\u6709\u8d85\u8fc7\u9501\u7684\u6709\u6548\u65f6\u95f4\uff0c\u90a3\u4e48\u5c31\u662f\u52a0\u9501\u6210\u529f\u3002</p> <p>\u52a0\u9501\u6210\u529f\u540e\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u91cd\u65b0\u8ba1\u7b97\u8fd9\u628a\u9501\u7684\u6709\u6548\u65f6\u95f4\uff0c\u8ba1\u7b97\u7684\u7ed3\u679c\u662f\u300c\u9501\u6700\u521d\u8bbe\u7f6e\u7684\u8fc7\u671f\u65f6\u95f4\u300d\u51cf\u53bb\u300c\u5ba2\u6237\u7aef\u4ece\u5927\u591a\u6570\u8282\u70b9\u83b7\u53d6\u9501\u7684\u603b\u8017\u65f6(t2 -t 1)\u300d\u3002\u5982\u679c\u8ba1\u7b97\u7684\u7ed3\u679c\u5df2\u7ecf\u6765\u4e0d\u53ca\u5b8c\u6210\u5171\u4eab\u6570\u636e\u7684\u64cd\u4f5c\u4e86\uff0c\u53ef\u4ee5\u91ca\u653e\u9501\uff0c\u4ee5\u514d\u51fa\u73b0\u8fd8\u6ca1\u5b8c\u6210\u6570\u636e\u64cd\u4f5c\uff0c\u9501\u5c31\u8fc7\u671f\u4e86\u7684\u60c5\u51b5\u3002\u52a0\u9501\u5931\u8d25\u540e\uff0c\u5ba2\u6237\u7aef\u5411 \u6240\u6709 Redis \u8282\u70b9\u53d1\u8d77\u91ca\u653e\u9501\u7684\u64cd\u4f5c\uff0c\u6267\u884c\u91ca\u653e\u9501\u7684 Lua \u811a\u672c\u5c31\u53ef\u4ee5\u3002</p>"},{"location":"Database/Redis/Redis/#redis_13","title":"Redis \u7ba1\u9053\u6709\u4ec0\u4e48\u7528\uff1f","text":"<p>\u7ba1\u9053\u6280\u672f\u662f\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u4e00\u79cd\u6279\u5904\u7406\u6280\u672f\uff0c\u7528\u4e8e\u4e00\u6b21\u5904\u7406\u591a\u4e2a Redis \u547d\u4ee4\uff0c\u4ece\u800c\u63d0\u9ad8\u6574\u4e2a\u4ea4\u4e92\u7684\u6027\u80fd\u3002\u4f7f\u7528 \u7ba1\u9053\u6280\u672f\u53ef\u4ee5\u89e3\u51b3\u591a\u4e2a\u547d\u4ee4\u6267\u884c\u65f6\u7684\u7f51\u7edc\u7b49\u5f85\uff0c\u5b83\u662f\u628a\u591a\u4e2a\u547d\u4ee4\u6574\u5408\u5230\u4e00\u8d77\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u7aef\u5904\u7406\u4e4b\u540e\u7edf\u4e00\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u8fd9\u6837\u5c31\u514d\u53bb\u4e86\u6bcf\u6761\u547d\u4ee4\u6267\u884c\u540e\u90fd\u8981\u7b49\u5f85\u7684\u60c5\u51b5\uff0c\u4ece\u800c\u6709\u6548\u5730\u63d0\u9ad8\u4e86\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u7387\u3002</p> <p>\u4f46\u4f7f\u7528\u7ba1\u9053\u6280\u672f\u4e5f\u8981\u6ce8\u610f\u907f\u514d\u53d1\u9001\u7684\u547d\u4ee4\u8fc7\u5927\uff0c\u6216\u7ba1\u9053\u5185\u7684\u6570\u636e\u592a\u591a\u800c\u5bfc\u81f4\u7684\u7f51\u7edc\u963b\u585e\u3002\u7ba1\u9053\u6280\u672f\u672c\u8d28\u4e0a\u662f\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u800c\u975e Redis \u670d\u52a1\u5668\u7aef\u7684\u529f\u80fd\u3002</p>"},{"location":"Database/Redis/Redis/#redis-key","title":"Redis \u5982\u4f55\u5904\u7406\u5927 key\uff1f","text":""},{"location":"Database/Redis/Redis/#_30","title":"\u5b9a\u4e49","text":"<p>String \u7c7b\u578b\u7684\u503c\u5927\u4e8e 10 KB\uff1bHash\u3001List\u3001Set\u3001ZSet \u7c7b\u578b\u7684\u5143\u7d20\u7684\u4e2a\u6570\u8d85\u8fc7 5000 \u4e2a</p>"},{"location":"Database/Redis/Redis/#_31","title":"\u5f71\u54cd","text":"<ul> <li>\u5ba2\u6237\u7aef\u8d85\u65f6\u963b\u585e\uff1a\u7531\u4e8e Redis \u6267\u884c\u547d\u4ee4\u662f\u5355\u7ebf\u7a0b\u5904\u7406\uff0c\u7136\u540e\u5728\u64cd\u4f5c\u5927 key \u65f6\u4f1a\u6bd4\u8f83\u8017\u65f6\u3002\u5ba2\u6237\u7aef\u8ba4\u4e3a\u5f88\u4e45\u6ca1\u6709\u54cd\u5e94</li> <li>\u5f15\u53d1\u7f51\u7edc\u963b\u585e\uff1a\u6bcf\u6b21\u83b7\u53d6\u5927 key \u4ea7\u751f\u7684\u7f51\u7edc\u6d41\u91cf\u8f83\u5927</li> <li>\u963b\u585e\u5de5\u4f5c\u7ebf\u7a0b\uff1a\u5982\u679c\u4f7f\u7528 del \u5220\u9664\u5927 key \u65f6\uff0c\u4f1a\u963b\u585e\u5de5\u4f5c\u7ebf\u7a0b\uff0c\u8fd9\u6837\u5c31\u6ca1\u529e\u6cd5\u5904\u7406\u540e\u7eed\u7684\u547d\u4ee4</li> <li>\u5185\u5b58\u5206\u5e03\u4e0d\u5747\uff1a\u96c6\u7fa4\u6a21\u578b\u5728 slot \u5206\u7247\u5747\u5300\u60c5\u51b5\u4e0b\uff0c\u4f1a\u51fa\u73b0\u6570\u636e\u548c\u67e5\u8be2\u503e\u659c\u60c5\u51b5\uff0c\u90e8\u5206\u6709\u5927 key \u7684 Redis \u8282\u70b9\u5360\u7528\u5185\u5b58\u591a\uff0cQPS \u4e5f\u4f1a\u6bd4\u8f83\u5927</li> </ul>"},{"location":"Database/Redis/Redis/#_32","title":"\u5904\u7406","text":"<ul> <li>\u5f53 vaule \u662f string\uff0c\u6bd4\u8f83\u96be\u62c6\u5206\uff0c\u5219\u4f7f\u7528\u5e8f\u5217\u5316\u3001\u538b\u7f29\u7b97\u6cd5\u5c06 key \u7684\u5927\u5c0f\u63a7\u5236\u5728\u5408\u7406\u8303\u56f4\u5185\uff0c\u4f46\u662f\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u90fd\u4f1a\u5e26\u6765\u66f4\u591a\u65f6\u95f4\u4e0a\u7684\u6d88\u8017</li> <li>\u5f53 value \u662f string\uff0c\u538b\u7f29\u4e4b\u540e\u4ecd\u7136\u662f\u5927 key\uff0c\u5219\u9700\u8981\u8fdb\u884c\u62c6\u5206\uff0c\u4e00\u4e2a\u5927 key \u5206\u4e3a\u4e0d\u540c\u7684\u90e8\u5206\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u90e8\u5206\u7684 key\uff0c\u4f7f\u7528 multiget \u7b49\u64cd\u4f5c\u5b9e\u73b0\u4e8b\u52a1\u8bfb\u53d6</li> <li>\u5206\u62c6\u6210\u51e0\u4e2a key-value\uff0c\u5b58\u50a8\u5728\u4e00\u4e2a hash \u4e2d\uff0c\u6bcf\u4e2a field \u4ee3\u8868\u4e00\u4e2a\u5177\u4f53\u7684\u5c5e\u6027\uff0c\u4f7f\u7528 hget\uff0chmget \u6765\u83b7\u53d6\u90e8\u5206\u7684 value\uff0c\u4f7f\u7528 hset\uff0chmset \u6765\u66f4\u65b0\u90e8\u5206\u5c5e\u6027</li> <li>\u5f53 value \u662f list/set \u7b49\u96c6\u5408\u7c7b\u578b\u65f6\uff0c\u6839\u636e\u9884\u4f30\u7684\u6570\u636e\u89c4\u6a21\u6765\u8fdb\u884c\u5206\u7247\uff0c\u4e0d\u540c\u7684\u5143\u7d20\u8ba1\u7b97\u540e\u5206\u5230\u4e0d\u540c\u7684\u7247</li> </ul>"},{"location":"Database/Redis/Redis/#redis_14","title":"Redis \u652f\u6301\u4e8b\u52a1\u56de\u6eda\u5417\uff1f","text":"<p>\u4e0d\u652f\u6301\uff0cRedis \u63d0\u4f9b\u7684 DISCARD \u547d\u4ee4\u53ea\u80fd\u7528\u6765\u4e3b\u52a8\u653e\u5f03\u4e8b\u52a1\u6267\u884c\uff0c\u628a\u6682\u5b58\u7684\u547d\u4ee4\u961f\u5217\u6e05\u7a7a\uff0c\u8d77\u4e0d\u5230\u56de\u6eda\u7684\u6548\u679c\u3002\u56e0\u4e3a Redis \u4e8b\u52a1\u7684\u6267\u884c\u65f6\uff0c\u9519\u8bef\u901a\u5e38\u90fd\u662f\u7f16\u7a0b\u9519\u8bef\u9020\u6210\u7684\uff0c\u8fd9\u79cd\u9519\u8bef\u901a\u5e38\u53ea\u4f1a\u51fa\u73b0\u5728\u5f00\u53d1\u73af\u5883\u4e2d\uff0c\u800c\u5f88\u5c11\u4f1a\u5728\u5b9e\u9645\u7684\u751f\u4ea7\u73af\u5883\u4e2d\u51fa\u73b0\uff0c\u6240\u4ee5\u5b98\u65b9\u8ba4\u4e3a\u6ca1\u6709\u5fc5\u8981\u4e3a Redis \u5f00\u53d1\u4e8b\u52a1\u56de\u6eda\u529f\u80fd\u3002</p>"},{"location":"Database/Redis/Redis/#_33","title":"\ud83d\udfe3 \u96c6\u7fa4","text":""},{"location":"Database/Redis/Redis/#redis_15","title":"Redis \u96c6\u7fa4\u6a21\u5f0f\u6709\u54ea\u4e9b\uff1f","text":"<ul> <li>\u4e3b\u4ece\uff1a\u9009\u62e9\u4e00\u53f0\u4f5c\u4e3a\u4e3b\u670d\u52a1\u5668\uff0c\u5c06\u6570\u636e\u5230\u591a\u53f0\u4ece\u670d\u52a1\u5668\u4e0a\uff0c\u6784\u5efa\u4e00\u4e3b\u591a\u4ece\u7684\u6a21\u5f0f\uff0c\u4e3b\u4ece\u4e4b\u95f4\u8bfb\u5199\u5206\u79bb\u3002\u4e3b\u670d\u52a1\u5668\u53ef\u8bfb\u53ef\u5199\uff0c\u53d1\u751f\u5199\u64cd\u4f5c\u4f1a\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u800c\u4ece\u670d\u52a1\u5668\u4e00\u822c\u662f\u53ea\u8bfb\uff0c\u5e76\u63a5\u53d7\u4e3b\u670d\u52a1\u5668\u540c\u6b65\u8fc7\u6765\u5199\u64cd\u4f5c\u547d\u4ee4\u3002\u4e3b\u4ece\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u547d\u4ee4\u590d\u5236\u662f \u5f02\u6b65 \u8fdb\u884c\u7684\uff0c\u6240\u4ee5\u65e0\u6cd5\u5b9e\u73b0\u5f3a\u4e00\u81f4\u6027\u4fdd\u8bc1(\u4e3b\u4ece\u6570\u636e\u65f6\u65f6\u523b\u523b\u4fdd\u6301\u4e00\u81f4)</li> <li>\u54e8\u5175\uff1a\u5f53 Redis \u7684\u4e3b\u4ece\u670d\u52a1\u5668\u51fa\u73b0\u6545\u969c\u5b95\u673a\u65f6\uff0c\u9700\u8981\u624b\u52a8\u8fdb\u884c\u6062\u590d\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cRedis \u589e\u52a0\u4e86\u54e8\u5175\u6a21\u5f0f\uff0c\u54e8\u5175\u76d1\u63a7\u4e3b\u4ece\u670d\u52a1\u5668\uff0c\u5e76\u4e14\u63d0\u4f9b \u4e3b\u4ece\u8282\u70b9\u6545\u969c\u8f6c\u79fb\u7684\u529f\u80fd </li> <li>\u5207\u7247\u96c6\u7fa4\uff1a\u5f53\u6570\u636e\u91cf\u5927\u5230\u4e00\u53f0\u670d\u52a1\u5668\u65e0\u6cd5\u627f\u8f7d\uff0c\u9700\u8981\u4f7f\u7528 Redis \u5207\u7247\u96c6\u7fa4(Redis Cluster)\u65b9\u6848\uff0c\u5b83\u5c06\u6570\u636e\u5206\u5e03\u5728\u4e0d\u540c\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u6b64\u6765\u964d\u4f4e\u7cfb\u7edf\u5bf9\u5355\u4e3b\u8282\u70b9\u7684\u4f9d\u8d56\uff0c\u63d0\u9ad8 Redis \u670d\u52a1\u7684\u8bfb\u5199\u6027\u80fd</li> </ul>"},{"location":"Database/Redis/Redis/#redis_16","title":"Redis \u5207\u7247\u96c6\u7fa4\u7684\u5de5\u4f5c\u539f\u7406\uff1f","text":"<p>\u5207\u7247\u96c6\u7fa4\u4f1a\u91c7\u7528\u54c8\u5e0c\u69fd\u6765\u8fdb\u884c\u6570\u636e\u548c\u8282\u70b9\u7684\u6620\u5c04\uff0c\u4e00\u4e2a\u5207\u7247\u96c6\u7fa4\u4e00\u5171\u6709 16384 \u4e2a\u69fd\u4f4d\uff0c\u6bcf\u4e2a\u5b58\u50a8\u6570\u636e\u7684 key \u4f1a\u7ecf\u8fc7\u8fd0\u7b97\u6620\u5c04\u5230 16384 \u4e2a\u69fd\u4f4d\u4e2d\uff0c\u6620\u5c04\u5173\u7cfb\u5982\u4e0b\uff1a - \u7531 key \u901a\u8fc7 CRC16 \u7b97\u6cd5\u8ba1\u7b97\u51fa\u4e00\u4e2a 16bit \u7684\u6570\u5b57 - \u6839\u636e\u4e0a\u9762\u8ba1\u7b97\u5f97\u5230\u7684\u6570\u5b57\u5bf9 16384 \u53d6\u6a21\u6765\u786e\u5b9a\u5bf9\u5e94\u7684\u54c8\u5e0c\u69fd</p>"},{"location":"Database/Redis/Redis/#redis_17","title":"\u54c8\u5e0c\u69fd\u548c Redis \u8282\u70b9\u662f\u5982\u4f55\u5bf9\u5e94\u7684\uff1f","text":"<p>\u4e3b\u8981\u6709 \u5e73\u5747\u5206\u914d\u548c\u624b\u52a8\u5206\u914d \u4e24\u79cd\u65b9\u5f0f\u3002\u5e73\u5747\u5206\u914d\u662f\u96c6\u7fa4\u521b\u5efa\u65f6\uff0cRedis \u81ea\u52a8\u5c06\u54c8\u5e0c\u69fd\u5e73\u5747\u5206\u914d\u5230\u96c6\u7fa4\u8282\u70b9\u4e0a\uff1b\u624b\u52a8\u5206\u914d\u662f\u4f7f\u7528\u547d\u4ee4\u6307\u5b9a\u6bcf\u4e2a\u8282\u70b9\u4e0a\u9762\u7684\u54c8\u5e0c\u69fd\u6570\u76ee\uff0c\u4f7f\u7528\u624b\u52a8\u5206\u914d\u65f6\u8981\u628a 16384 \u4e2a\u69fd\u4f4d\u7ed9\u5206\u5b8c\uff0c\u5426\u5219\u96c6\u7fa4\u4e0d\u4f1a\u6b63\u5e38\u5de5\u4f5c\u3002</p>"},{"location":"Database/Redis/Redis/#_34","title":"\u4e3b\u4ece\u6a21\u5f0f\u7684\u540c\u6b65\u8fc7\u7a0b\uff1f","text":""},{"location":"Database/Redis/Redis/#_35","title":"\u7b2c\u4e00\u6b21\u540c\u6b65","text":"<p>\u4e3b\u8981\u5206\u4e3a\u5efa\u7acb \u8fde\u63a5\u534f\u5546\u3001\u4e3b\u4ece\u6570\u636e\u540c\u6b65\u3001\u53d1\u9001\u65b0\u64cd\u4f5c \u4e09\u4e2a\u6b65\u9aa4\uff1a</p> <ul> <li>\u8fde\u63a5\u534f\u5546\uff1a\u4ece\u670d\u52a1\u5668\u5148\u53d1\u9001\u547d\u4ee4\u7ed9\u4e3b\u670d\u52a1\u5668\u8868\u793a\u8981\u8fdb\u884c\u6570\u636e\u540c\u6b65\uff0c\u547d\u4ee4\u5185\u5bb9\u5305\u62ec \u4e3b\u670d\u52a1\u5668\u7684 runID  \u548c \u590d\u5236\u8fdb\u5ea6 \u4e24\u4e2a\u53c2\u6570\uff0c\u4e3b\u670d\u52a1\u5668\u6536\u5230\u547d\u4ee4\u4e4b\u540e\u4f1a\u7ed9\u4ece\u670d\u52a1\u54cd\u5e94\u547d\u4ee4\uff0c\u54cd\u5e94\u5305\u62ec \u4e3b\u670d\u52a1\u5668\u7684 runID  \u548c \u590d\u5236\u8fdb\u5ea6\u3002\u4ece\u670d\u52a1\u5668\u6536\u5230\u54cd\u5e94\u4e4b\u540e\u4f1a\u8bb0\u5f55\u8fd9\u4e24\u4e2a\u503c</li> <li>\u4e3b\u4ece\u6570\u636e\u540c\u6b65\uff1a\u4e3b\u670d\u52a1\u5668\u751f\u6210 RDB \u6587\u4ef6\u5e76\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u4ece\u670d\u52a1\u5668\u6536\u5230 RDB \u4e4b\u540e\u5148\u6e05\u7a7a\u81ea\u5df1\u7684\u6570\u636e\uff0c\u518d\u8f7d\u5165 RDB \u6587\u4ef6\u3002\u4e3a\u4e86\u4e3b\u4ece\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u8fd9\u4e2a\u671f\u95f4\u4e3b\u670d\u52a1\u5668\u540e\u7eed\u7684\u5199\u64cd\u4f5c\u4f1a\u8bb0\u5f55\u5230 replication buffer \u7f13\u51b2\u533a\u91cc</li> <li>\u53d1\u9001\u65b0\u64cd\u4f5c\uff1a\u4e3b\u670d\u52a1\u5668\u53d1\u9001 replication buffer \u91cc\u9762\u7684\u5199\u64cd\u4f5c\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u4ece\u670d\u52a1\u5668\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\u3002\u7b2c\u4e00\u6b21\u540c\u6b65\u5b8c\u6210</li> </ul>"},{"location":"Database/Redis/Redis/#_36","title":"\u547d\u4ee4\u4f20\u64ad","text":"<p>\u7b2c\u4e00\u6b21\u540c\u6b65\u5b8c\u6210\u4e4b\u540e\u53cc\u65b9\u4f1a\u7ef4\u62a4\u4e00\u4e2a TCP \u8fde\u63a5\uff0c\u540e\u7eed\u4e3b\u670d\u52a1\u5668\u7684\u5199\u547d\u4ee4\u901a\u8fc7 TCP \u8fde\u63a5\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u4fdd\u8bc1\u4e3b\u4ece\u4e00\u81f4</p>"},{"location":"Database/Redis/Redis/#_37","title":"\u538b\u529b\u5206\u644a","text":"<p>\u4e3a\u4e86\u5206\u644a\u670d\u52a1\u5668\u7684\u538b\u529b\uff0c\u751f\u6210\u548c\u4f20\u8f93 RDB \u7684\u5de5\u4f5c\u53ef\u4ee5\u5206\u644a\u5230\u7ecf\u7406\u4ece\u670d\u52a1\u5668\u4e0a\u3002</p>"},{"location":"Database/Redis/Redis/#_38","title":"\u589e\u91cf\u590d\u5236","text":"<p>\u5982\u679c\u670d\u52a1\u5668\u7f51\u8def\u65ad\u5f00\uff0c\u5728\u6062\u590d\u4e4b\u540e\uff0c\u4f1a\u628a\u7f51\u7edc\u65ad\u5f00\u671f\u95f4\u4e3b\u670d\u52a1\u5668\u63a5\u6536\u5230\u7684\u5199\u64cd\u4f5c\u547d\u4ee4\u540c\u6b65\u7ed9\u4ece\u670d\u52a1\u5668\u3002</p>"},{"location":"Database/Redis/Redis/#_39","title":"\u4e3b\u670d\u52a1\u5668\u5982\u4f55\u77e5\u9053\u8981\u5c06\u54ea\u4e9b\u589e\u91cf\u6570\u636e\u53d1\u9001\u7ed9\u4ece\u670d\u52a1\u5668\uff1f","text":"<p>\u7f51\u7edc\u65ad\u5f00\u4ece\u670d\u52a1\u5668\u91cd\u65b0\u4e0a\u7ebf\u4e4b\u540e\uff0c\u4f1a\u53d1\u9001\u81ea\u5df1\u7684\u590d\u5236\u504f\u79fb\u91cf\u5230\u4e3b\u670d\u52a1\u5668\uff0c\u4e3b\u670d\u52a1\u5668\u6839\u636e\u504f\u79fb\u91cf\u4e4b\u95f4\u7684\u5dee\u8ddd\u5224\u65ad\u8981\u6267\u884c\u7684\u64cd\u4f5c\uff1a\u5982\u679c\u4ece\u670d\u52a1\u5668\u8981\u8bfb\u7684\u6570\u636e\u5728 repl_backlog_buffer \u4e2d\uff0c\u5219\u91c7\u7528\u589e\u91cf\u590d\u5236\uff1b\u5982\u679c\u4e0d\u5728\uff0c\u91c7\u7528\u5168\u91cf\u590d\u5236\u3002</p> <p>repl_backlog_buffer </p> <p>repl_backlog_buffer  \u662f\u4e00\u4e2a \u73af\u5f62 \u7f13\u51b2\u533a\uff0c\u7528\u4e8e\u4e3b\u4ece\u670d\u52a1\u5668\u65ad\u8fde\u540e\uff0c\u4ece\u4e2d\u627e\u5230\u5dee\u5f02\u7684\u6570\u636e\uff1b replication offset  \u6807\u8bb0\u7f13\u51b2\u533a\u7684\u540c\u6b65\u8fdb\u5ea6\u3002</p>"},{"location":"Database/Redis/Redis/#_40","title":"\u5982\u4f55\u907f\u514d\u4e3b\u4ece\u6570\u636e\u7684\u4e0d\u4e00\u81f4\uff1f","text":"<p>\u8ba9\u4e3b\u4ece\u8282\u70b9\u5904\u4e8e\u540c\u4e00\u673a\u623f\uff0c\u964d\u4f4e\u7f51\u7edc\u5ef6\u8fdf\uff1b\u6216\u8005\u7531\u5916\u90e8\u7a0b\u5e8f\u76d1\u63a7\u4e3b\u4ece\u590d\u5236\u8fdb\u5ea6\uff1a\u5148\u8ba1\u7b97\u5f97\u51fa\u4e3b\u4ece\u670d\u52a1\u4e4b\u95f4\u7684\u590d\u5236\u8fdb\u5ea6\u5dee\uff0c\u5982\u679c\u590d\u5236\u8fdb\u5ea6\u5dee\u5927\u4e8e\u7a0b\u5e8f\u8bbe\u5b9a\u7684\u9608\u503c\uff0c\u8ba9\u5ba2\u6237\u7aef\u4e0d\u518d\u5728\u6b64\u8282\u70b9\u8bfb\u53d6\u6570\u636e\uff0c\u51cf\u5c0f\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\u51fa\u73b0\u5ba2\u6237\u7aef\u548c\u6240\u6709\u4ece\u8282\u70b9\u90fd\u4e0d\u80fd\u8fde\u63a5\u7684\u60c5\u51b5\uff0c\u9700\u8981\u628a\u590d\u5236\u8fdb\u5ea6\u5dee\u503c\u7684\u9608\u503c\u8bbe\u7f6e\u5f97\u5927\u4e00\u4e9b\u3002</p>"},{"location":"Database/Redis/Redis/#key","title":"\u4e3b\u4ece\u67b6\u6784\u4e2d\u8fc7\u671f key \u5982\u4f55\u5904\u7406\uff1f","text":"<p>\u4e3b\u8282\u70b9\u5904\u7406\u4e00\u4e2a\u8fc7\u671f\u7684 key \u4e4b\u540e\u5c31\u4f1a\u53d1\u9001\u4e00\u6761\u5220\u9664\u547d\u4ee4\u7ed9\u4ece\u670d\u52a1\u5668\uff0c\u4ece\u8282\u70b9\u6536\u5230\u547d\u4ee4\u540e\u8fdb\u884c\u5220\u9664\u3002</p>"},{"location":"Database/Redis/Redis/#_41","title":"\u4e3b\u4ece\u6a21\u5f0f\u662f\u540c\u6b65\u590d\u5236\u8fd8\u662f\u5f02\u6b65\u590d\u5236\uff1f","text":"<p>\u5f02\u6b65\u3002\u56e0\u4e3a\u4e3b\u8282\u70b9\u6536\u5230\u5199\u547d\u4ee4\u4e4b\u540e\uff0c\u5148\u5199\u5230\u5185\u90e8\u7684\u7f13\u51b2\u533a\uff0c\u7136\u540e\u518d\u5f02\u6b65\u53d1\u9001\u7ed9\u4ece\u8282\u70b9\u3002</p>"},{"location":"Database/Redis/Redis/#_42","title":"\u54e8\u5175\u673a\u5236\u662f\u4ec0\u4e48\uff1f","text":"<p>\u56e0\u4e3a\u5728\u4e3b\u4ece\u67b6\u6784\u4e2d\u8bfb\u5199\u662f\u5206\u79bb\u7684\uff0c\u5982\u679c\u4e3b\u8282\u70b9\u6302\u4e86\uff0c\u5c06\u6ca1\u6709\u4e3b\u8282\u70b9\u6765\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u5199\u64cd\u4f5c\u8bf7\u6c42\uff0c\u4e5f\u65e0\u6cd5\u8fdb\u884c\u6570\u636e\u540c\u6b65\u3002 \u54e8\u5175\u4f5c\u7528\u662f\u5b9e\u73b0\u4e3b\u4ece\u8282\u70b9\u6545\u969c\u8f6c\u79fb\u3002\u54e8\u5175\u4f1a\u76d1\u6d4b\u4e3b\u8282\u70b9\u662f\u5426\u5b58\u6d3b\uff0c\u5982\u679c\u53d1\u73b0\u4e3b\u8282\u70b9\u6302\u4e86\uff0c\u4f1a\u9009\u4e3e\u4e00\u4e2a\u4ece\u8282\u70b9\u5207\u6362\u4e3a\u4e3b\u8282\u70b9\uff0c\u5e76\u4e14\u628a\u65b0\u4e3b\u8282\u70b9\u7684\u76f8\u5173\u4fe1\u606f\u901a\u77e5\u7ed9\u4ece\u8282\u70b9\u548c\u5ba2\u6237\u7aef\u3002</p>"},{"location":"Database/Redis/Redis/#_43","title":"\u54e8\u5175\u673a\u5236\u7684\u5de5\u4f5c\u539f\u7406\uff1f","text":""},{"location":"Database/Redis/Redis/#_44","title":"\u5224\u65ad\u8282\u70b9\u662f\u5426\u5b58\u6d3b","text":"<p>\u54e8\u5175\u4f1a\u5468\u671f\u6027\u7ed9\u6240\u6709\u4e3b\u8282\u70b9\u53d1\u9001 PING \u547d\u4ee4\u6765\u5224\u65ad\u5176\u4ed6\u8282\u70b9\u662f\u5426\u6b63\u5e38\u8fd0\u884c\u3002\u5982\u679c PING \u547d\u4ee4\u54cd\u5e94\u5931\u8d25\u54e8\u5175\u4f1a\u5c06\u8282\u70b9\u6807\u8bb0\u4e3a \u4e3b\u89c2\u4e0b\u7ebf\uff0c\u7136\u540e\u8be5\u54e8\u5175\u4f1a\u5411\u5176\u4ed6\u8282\u70b9\u53d1\u51fa\u6295\u7968\u547d\u4ee4\uff0c\u5f53\u7968\u6570\u8fbe\u5230\u8bbe\u5b9a\u7684\u9608\u503c\u4e4b\u540e\u8fd9\u4e2a\u4e3b\u8282\u70b9\u5c31\u88ab\u6807\u8bb0\u4e3a \u5ba2\u89c2\u4e0b\u7ebf\u3002\u7136\u540e\u54e8\u5175\u4f1a\u4ece\u4ece\u8282\u70b9\u4e2d\u9009\u62e9\u4e00\u4e2a\u4f5c\u4e3a\u4e3b\u8282\u70b9\u3002</p>"},{"location":"Database/Redis/Redis/#_45","title":"\u6295\u7968","text":"<p>\u54e8\u5175\u96c6\u7fa4\u4e2d\u4f1a\u9009\u62e9\u4e00\u4e2a leader \u6765\u8d1f\u8d23\u4e3b\u4ece\u5207\u6362\uff0c\u9009\u4e3e\u662f\u4e00\u4e2a\u6295\u7968\u8fc7\u7a0b\uff1a\u5224\u65ad\u4e3b\u8282\u70b9\u4e3a \u5ba2\u89c2\u4e0b\u7ebf \u7684\u662f\u5019\u9009\u8005\uff0c\u5019\u9009\u8005\u5411\u5176\u4ed6\u54e8\u5175\u53d1\u9001\u547d\u4ee4\u8868\u793a\u8981\u6210\u4e3a leader\uff0c\u5176\u4ed6\u54e8\u5175\u4f1a\u8fdb\u884c\u6295\u7968\uff0c\u6bcf\u4e2a\u54e8\u5175\u53ea\u6709\u4e00\u7968\uff0c\u53ef\u4ee5\u6295\u7ed9\u81ea\u5df1\u6216\u6295\u7ed9\u522b\u4eba\uff0c\u4f46\u662f\u53ea\u6709\u5019\u9009\u8005\u624d\u80fd\u628a\u7968\u6295\u7ed9\u81ea\u5df1\u3002\u5019\u9009\u8005\u4e4b\u540e\u62ff\u5230\u534a\u6570\u4ee5\u4e0a\u7684\u8d5e\u6210\u7968\u5e76\u4e14\u7968\u6570\u5927\u4e8e\u8bbe\u7f6e\u7684\u9608\u503c\uff0c\u5c31\u4f1a\u6210\u4e3a\u5019\u9009\u8005\u3002</p>"},{"location":"Database/Redis/Redis/#_46","title":"\u9009\u51fa\u65b0\u4e3b\u8282\u70b9","text":"<p>\u628a\u7f51\u7edc\u72b6\u6001\u4e0d\u597d\u7684\u4ece\u8282\u70b9\u7ed9\u6392\u9664\uff1a\u5148\u628a\u5df2\u7ecf\u4e0b\u7ebf\u7684\u4ece\u8282\u70b9\u8fc7\u6ee4\u6389\uff0c\u7136\u540e\u628a\u4ee5\u5f80\u7f51\u7edc\u8fde\u63a5\u72b6\u6001\u4e0d\u597d\u7684\u4ece\u8282\u70b9\u6392\u9664\u6389\u3002\u63a5\u4e0b\u6765\u8981\u5bf9\u6240\u6709\u4ece\u8282\u70b9\u8fdb\u884c\u4e09\u8f6e\u8003\u5bdf\uff1a \u4f18\u5148\u7ea7\u3001\u590d\u5236\u8fdb\u5ea6\u3001ID \u53f7\u3002\u5728\u8fdb\u884c\u6bcf\u4e00\u8f6e\u8003\u5bdf\u7684\u65f6\u5019\uff0c\u54ea\u4e2a\u4ece\u8282\u70b9\u4f18\u5148\u80dc\u51fa\uff0c\u5c31\u9009\u62e9\u5176\u4f5c\u4e3a\u65b0\u4e3b\u8282\u70b9\uff1a</p> <ul> <li>\u7b2c\u4e00\u8f6e\u8003\u5bdf\uff1a\u54e8\u5175\u9996\u5148\u4f1a\u6839\u636e\u4ece\u8282\u70b9\u7684\u4f18\u5148\u7ea7\u6765\u8fdb\u884c\u6392\u5e8f\uff0c\u4f18\u5148\u7ea7\u8d8a\u5c0f\u6392\u540d\u8d8a\u9760\u524d\u3002</li> <li>\u7b2c\u4e8c\u8f6e\u8003\u5bdf\uff1a\u5982\u679c\u4f18\u5148\u7ea7\u76f8\u540c\uff0c\u5219\u67e5\u770b\u590d\u5236\u7684\u4e0b\u6807\uff0c\u54ea\u4e2a\u63a5\u6536\u7684\u590d\u5236\u6570\u636e\u591a\u54ea\u4e2a\u5c31\u9760\u524d\u3002</li> <li>\u7b2c\u4e09\u8f6e\u8003\u5bdf\uff1a\u5982\u679c\u4f18\u5148\u7ea7\u548c\u4e0b\u6807\u90fd\u76f8\u540c\uff0c\u9009\u62e9 ID \u8f83\u5c0f\u7684\u90a3\u4e2a\u3002</li> </ul>"},{"location":"Database/Redis/Redis/#_47","title":"\u66f4\u6362\u4e3b\u8282\u70b9","text":"<p>\u9009\u51fa\u65b0\u4e3b\u8282\u70b9\u4e4b\u540e\uff0c\u54e8\u5175 leader \u8ba9\u5df2\u4e0b\u7ebf\u4e3b\u8282\u70b9\u5c5e\u4e0b\u7684\u6240\u6709\u4ece\u8282\u70b9\u6307\u5411\u65b0\u4e3b\u8282\u70b9\u3002</p>"},{"location":"Database/Redis/Redis/#_48","title":"\u901a\u77e5\u5ba2\u6237\u7684\u4e3b\u8282\u70b9\u5df2\u66f4\u6362","text":"<p>\u5ba2\u6237\u7aef\u548c\u54e8\u5175\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u5ba2\u6237\u7aef\u4f1a\u8ba2\u9605\u54e8\u5175\u63d0\u4f9b\u7684\u9891\u9053\u3002\u4e3b\u4ece\u5207\u6362\u5b8c\u6210\u540e\uff0c\u54e8\u5175\u5c31\u4f1a\u5411 <code>+switch-master</code> \u9891\u9053\u53d1\u5e03\u65b0\u4e3b\u8282\u70b9\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u7684\u6d88\u606f\uff0c\u8fd9\u4e2a\u65f6\u5019\u5ba2\u6237\u7aef\u5c31\u53ef\u4ee5\u6536\u5230\u8fd9\u6761\u4fe1\u606f\uff0c\u7136\u540e\u7528\u8fd9\u91cc\u9762\u7684\u65b0\u4e3b\u8282\u70b9\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u8fdb\u884c\u901a\u4fe1\u4e86\u3002</p>"},{"location":"Database/Redis/Redis/#_49","title":"\u5c06\u65e7\u4e3b\u8282\u70b9\u53d8\u4e3a\u4ece\u8282\u70b9","text":"<p>\u7ee7\u7eed\u76d1\u89c6\u65e7\u4e3b\u8282\u70b9\uff0c\u5f53\u65e7\u4e3b\u8282\u70b9\u91cd\u65b0\u4e0a\u7ebf\u65f6\uff0c\u54e8\u5175\u96c6\u7fa4\u5c31\u4f1a\u5411\u5b83\u53d1\u9001 SLAVEOF \u547d\u4ee4\uff0c\u8ba9\u5b83\u6210\u4e3a\u65b0\u4e3b\u8282\u70b9\u7684\u4ece\u8282\u70b9\u3002</p>"},{"location":"Database/Redis/Redis/#_50","title":"\u4ec0\u4e48\u662f\u96c6\u7fa4\u7684\u8111\u88c2\uff1f","text":"<p>\u5982\u679c\u4e3b\u8282\u70b9\u7684\u7f51\u7edc\u7a81\u7136\u53d1\u751f\u4e86\u95ee\u9898\u4e0e\u6240\u6709\u7684\u4ece\u8282\u70b9\u90fd\u5931\u8054\u4e86\uff0c\u4f46\u6b64\u65f6\u7684\u4e3b\u8282\u70b9\u548c\u5ba2\u6237\u7aef\u7684\u7f51\u7edc\u662f\u6b63\u5e38\u7684\uff0c\u5ba2\u6237\u7aef\u4e0d\u77e5\u9053\u96c6\u7fa4\u5185\u90e8\u5df2\u7ecf\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u8fd8\u5728\u5411\u8fd9\u4e2a\u5931\u8054\u7684\u4e3b\u8282\u70b9\u5199\u6570\u636e\uff0c\u6b64\u65f6\u8fd9\u4e9b\u6570\u636e\u88ab\u4e3b\u8282\u70b9\u7f13\u5b58\u5230\u4e86\u7f13\u51b2\u533a\u91cc\u3002\u54e8\u5175\u4e5f\u53d1\u73b0\u4e3b\u8282\u70b9\u5931\u8054\u4e86\uff0c\u5c31\u4f1a\u5728\u4ece\u8282\u70b9\u4e2d\u9009\u4e3e\u51fa\u4e00\u4e2a leader \u4f5c\u4e3a\u4e3b\u8282\u70b9\uff0c\u4f1a\u5bfc\u81f4\u96c6\u7fa4\u6709\u4e24\u4e2a\u4e3b\u8282\u70b9\u3002</p> <p>\u7f51\u7edc\u6062\u590d\u540e\u54e8\u5175\u56e0\u4e3a\u4e4b\u524d\u5df2\u7ecf\u9009\u4e3e\u51fa\u4e00\u4e2a\u65b0\u4e3b\u8282\u70b9\u4e86\uff0c\u5b83\u5c31\u4f1a\u628a\u65e7\u4e3b\u8282\u70b9\u964d\u7ea7\uff0c\u7136\u540e\u4ece\u65e7\u4e3b\u8282\u70b9\u4f1a\u5411\u65b0\u4e3b\u8282\u70b9\u8bf7\u6c42\u6570\u636e\u540c\u6b65\uff0c \u56e0\u4e3a\u7b2c\u4e00\u6b21\u540c\u6b65\u662f\u5168\u91cf\u540c\u6b65\u7684\u65b9\u5f0f\uff0c\u65e7\u4e3b\u8282\u70b9\u4f1a\u6e05\u7a7a\u6389\u81ea\u5df1\u672c\u5730\u7684\u6570\u636e\u3002\u5ba2\u6237\u7aef\u5728\u8fc7\u7a0b\u4e4b\u524d\u5199\u5165\u7684\u6570\u636e\u5c31\u4f1a\u4e22\u5931\u4e86\u3002\u6240\u4ee5\u8111\u88c2\u4f1a\u5bfc\u81f4\u96c6\u7fa4\u6570\u636e\u7684\u4e22\u5931\u3002</p>"},{"location":"Database/Redis/Redis/#_51","title":"\u5982\u4f55\u51cf\u5c11\u4e3b\u4ece\u5207\u6362\u5e26\u6765\u7684\u6570\u636e\u4e22\u5931\uff1f","text":""},{"location":"Database/Redis/Redis/#_52","title":"\u5f02\u6b65\u590d\u5236\u540c\u6b65\u4e22\u5931","text":"<p>\u914d\u7f6e\u4e00\u4e2a\u9608\u503c\uff0c\u4e00\u65e6\u6240\u6709\u7684\u4ece\u8282\u70b9\u6570\u636e\u590d\u5236\u548c\u540c\u6b65\u7684\u5ef6\u8fdf\u90fd\u8d85\u8fc7\u4e86\u9608\u503c\uff0c\u4e3b\u8282\u70b9\u5c31\u4f1a\u62d2\u7edd\u63a5\u6536\u4efb\u4f55\u8bf7\u6c42\u3002\u5bf9\u4e8e\u5ba2\u6237\u7aef\u53d1\u73b0\u4e3b\u8282\u70b9\u4e0d\u53ef\u5199\u540e\uff0c\u53ef\u4ee5\u91c7\u53d6\u964d\u7ea7\u63aa\u65bd\u3002\u5c06\u6570\u636e\u6682\u65f6\u5199\u5165\u672c\u5730\u7f13\u5b58\u548c\u786c\u76d8\u4e2d\uff0c\u5728\u4e00\u6bb5\u65f6\u95f4\u540e\u91cd\u65b0\u5199\u5165\u4e3b\u8282\u70b9\u6765\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u5931\uff0c\u4e5f\u53ef\u4ee5\u5c06\u6570\u636e\u5199\u5165\u6d88\u606f\u961f\u5217\uff0c\u7b49\u4e3b\u8282\u70b9\u6062\u590d\u6b63\u5e38\uff0c\u518d\u9694\u4e00\u6bb5\u65f6\u95f4\u53bb\u6d88\u8d39\u6d88\u606f\u961f\u5217\u4e2d\u7684\u6570\u636e\uff0c\u8ba9\u5c06\u6570\u636e\u91cd\u65b0\u5199\u5165\u4e3b\u8282\u70b9\u3002</p>"},{"location":"Database/Redis/Redis/#_53","title":"\u96c6\u7fa4\u4ea7\u751f\u8111\u88c2\u6570\u636e\u4e22\u5931","text":"<p>\u5f53\u4e3b\u8282\u70b9\u53d1\u73b0\u4ece\u8282\u70b9\u4e0b\u7ebf\u6216\u8005\u901a\u4fe1\u8d85\u65f6\u7684\u603b\u6570\u91cf\u5c0f\u4e8e\u9608\u503c\u65f6\uff0c\u90a3\u4e48\u7981\u6b62\u4e3b\u8282\u70b9\u8fdb\u884c\u5199\u6570\u636e\uff0c\u76f4\u63a5\u628a\u9519\u8bef\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002 \u8bbe\u7f6e\u4e3b\u8282\u70b9\u8fde\u63a5\u7684\u4ece\u8282\u70b9\u4e2d\u81f3\u5c11\u6709 N \u4e2a\u4ece\u8282\u70b9\uff0c\u5e76\u4e14\u4e3b\u8282\u70b9\u8fdb\u884c\u6570\u636e\u590d\u5236\u65f6\u7684 ACK \u6d88\u606f\u5ef6\u8fdf\u4e0d\u80fd\u8d85\u8fc7 T \u79d2\uff0c\u5426\u5219\uff0c\u4e3b\u8282\u70b9\u5c31\u4e0d\u4f1a\u518d\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u5199\u8bf7\u6c42\u4e86\u3002\u7b49\u5230\u65b0\u4e3b\u8282\u70b9\u4e0a\u7ebf\u65f6\uff0c\u5c31\u53ea\u6709\u65b0\u4e3b\u8282\u70b9\u80fd\u63a5\u6536\u548c\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u6b64\u65f6\uff0c\u65b0\u5199\u7684\u6570\u636e\u4f1a\u88ab\u76f4\u63a5\u5199\u5230\u65b0\u4e3b\u8282\u70b9\u4e2d\u3002\u800c\u539f\u4e3b\u8282\u70b9\u4f1a\u88ab\u54e8\u5175\u964d\u4e3a\u4ece\u8282\u70b9\uff0c\u5373\u4f7f\u5b83\u7684\u6570\u636e\u88ab\u6e05\u7a7a\u4e86\uff0c\u4e5f\u4e0d\u4f1a\u6709\u65b0\u6570\u636e\u4e22\u5931\u3002</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/","title":"\u5355\u4f8b\u6a21\u5f0f","text":"<p> \u7ea6 1305 \u4e2a\u5b57  431 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#_2","title":"\u4ec0\u4e48\u662f\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f","text":"<p>\u5355\u4f8b\u6a21\u5f0f\u662f\u4e00\u79cd   \u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f  \uff0c \u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\u4fdd\u8bc1   \u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u5168\u5c40\u8bbf\u95ee\u70b9\u6765\u8bbf\u95ee\u8fd9\u4e2a\u5b9e\u4f8b\u3002 </p> <ul> <li>\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u7684\u610f\u601d\u662f\uff0c\u5728\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u53ea\u5b58\u5728\u8be5\u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u521b\u5efa\u591a\u4e2a\u76f8\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u3002</li> <li>\u5168\u5c40\u8bbf\u95ee\u70b9\u7684\u610f\u601d\u662f\uff0c\u4e3a\u4e86\u8ba9\u5176\u4ed6\u7c7b\u80fd\u591f\u83b7\u53d6\u5230\u8fd9\u4e2a\u552f\u4e00\u5b9e\u4f8b\uff0c\u8be5\u7c7b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5168\u5c40\u8bbf\u95ee\u70b9\uff08\u901a\u5e38\u662f\u4e00\u4e2a\u9759\u6001\u65b9\u6cd5\uff09\uff0c\u901a\u8fc7\u8fd9\u4e2a\u65b9\u6cd5\u5c31\u80fd\u83b7\u5f97\u5b9e\u4f8b\u3002</li> </ul>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#_3","title":"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u5462","text":"<p>\u7b80\u6613\u6765\u8bf4\uff0c\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u6709\u4ee5\u4e0b\u51e0\u4e2a\u4f18\u70b9\u8ba9\u6211\u4eec\u8003\u8651\u4f7f\u7528\u5b83\uff1a</p> <ul> <li>\u5168\u5c40\u63a7\u5236\uff1a\u4fdd\u8bc1\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e25\u683c\u7684\u63a7\u5236\u5ba2\u6237\u600e\u6837\u8bbf\u95ee\u5b83\u4ee5\u53ca\u4f55\u65f6\u8bbf\u95ee\u5b83\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u5bf9\u552f\u4e00\u5b9e\u4f8b\u7684\u53d7\u63a7\u8bbf\u95ee\uff08\u5f15\u7528\u81ea\u300a\u5927\u8bdd\u8bbe\u8ba1\u6a21\u5f0f\u300b\u7b2c21\u7ae0\uff09</li> <li>\u8282\u7701\u8d44\u6e90\uff1a\u4e5f\u6b63\u662f\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5b58\u5728\uff0c\u5c31\u907f\u514d\u591a\u6b21\u521b\u5efa\u4e86\u76f8\u540c\u7684\u5bf9\u8c61\uff0c\u4ece\u800c\u8282\u7701\u4e86\u7cfb\u7edf\u8d44\u6e90\uff0c\u800c\u4e14\u591a\u4e2a\u6a21\u5757\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5355\u4f8b\u5b9e\u4f8b\u5171\u4eab\u6570\u636e\u3002</li> <li>\u61d2\u52a0\u8f7d\uff1a\u5355\u4f8b\u6a21\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u61d2\u52a0\u8f7d\uff0c\u53ea\u6709\u5728\u9700\u8981\u65f6\u624d\u8fdb\u884c\u5b9e\u4f8b\u5316\uff0c\u8fd9\u65e0\u7591\u4f1a\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd\u3002</li> </ul>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#_4","title":"\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u7684\u57fa\u672c\u8981\u6c42","text":"<p>\u60f3\u8981\u5b9e\u73b0\u4e00\u4e2a\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b\u89c4\u5219\uff1a</p> <ul> <li>\u79c1\u6709\u7684\u6784\u9020\u51fd\u6570\uff1a\u9632\u6b62\u5916\u90e8\u4ee3\u7801\u76f4\u63a5\u521b\u5efa\u7c7b\u7684\u5b9e\u4f8b</li> <li>\u79c1\u6709\u7684\u9759\u6001\u5b9e\u4f8b\u53d8\u91cf\uff1a\u4fdd\u5b58\u8be5\u7c7b\u7684\u552f\u4e00\u5b9e\u4f8b</li> <li>\u516c\u6709\u7684\u9759\u6001\u65b9\u6cd5\uff1a\u901a\u8fc7\u516c\u6709\u7684\u9759\u6001\u65b9\u6cd5\u6765\u83b7\u53d6\u7c7b\u7684\u5b9e\u4f8b</li> </ul> <p></p>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#_5","title":"\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u7684\u5b9e\u73b0","text":"<p>\u5355\u4f8b\u6a21\u5f0f\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u591a\u79cd\uff0c\u5305\u62ec\u61d2\u6c49\u5f0f\u3001\u997f\u6c49\u5f0f\u7b49\u3002</p> <p>\u997f\u6c49\u5f0f\u6307\u7684\u662f\u5728  \u7c7b\u52a0\u8f7d\u65f6\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u5b9e\u4f8b\u7684\u521b\u5efa  \uff0c\u4e0d\u7ba1\u540e\u9762\u521b\u5efa\u7684\u5b9e\u4f8b\u6709\u6ca1\u6709\u4f7f\u7528\uff0c\u5148\u521b\u5efa\u518d\u8bf4\uff0c\u6240\u4ee5\u53eb\u505a \u201c\u997f\u6c49\u201d\u3002</p> <p>\u800c\u61d2\u6c49\u5f0f\u6307\u7684\u662f\u53ea\u6709\u5728\u8bf7\u6c42\u5b9e\u4f8b\u65f6\u624d\u4f1a\u521b\u5efa\uff0c\u5982\u679c\u5728\u9996\u6b21\u8bf7\u6c42\u65f6\u8fd8\u6ca1\u6709\u521b\u5efa\uff0c\u5c31\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b9e\u4f8b\uff0c\u5982\u679c\u5df2\u7ecf\u521b\u5efa\uff0c\u5c31\u8fd4\u56de\u5df2\u6709\u7684\u5b9e\u4f8b\uff0c\u610f\u601d\u5c31\u662f  \u9700\u8981\u4f7f\u7528\u4e86\u518d\u521b\u5efa  \uff0c\u6240\u4ee5\u79f0\u4e3a\u201c\u61d2\u6c49\u201d\u3002</p> <p>\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\uff0c\u7531\u4e8e\u997f\u6c49\u5f0f\u5728\u7a0b\u5e8f\u542f\u52a8\u9636\u6bb5\u5c31\u5b8c\u6210\u4e86\u5b9e\u4f8b\u7684\u521d\u59cb\u5316\uff0c\u56e0\u6b64\u4e0d\u5b58\u5728\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5c1d\u8bd5\u521d\u59cb\u5316\u5b9e\u4f8b\u7684\u95ee\u9898\uff0c\u4f46\u662f\u61d2\u6c49\u5f0f\u4e2d\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee <code>getInstance()</code> \u65b9\u6cd5\uff0c\u5e76\u4e14\u5728\u540c\u4e00\u65f6\u523b\u68c0\u6d4b\u5230\u5b9e\u4f8b\u6ca1\u6709\u88ab\u521b\u5efa\uff0c\u5c31\u53ef\u80fd\u4f1a\u540c\u65f6\u521b\u5efa\u5b9e\u4f8b\uff0c\u4ece\u800c\u5bfc\u81f4\u591a\u4e2a\u5b9e\u4f8b\u88ab\u521b\u5efa\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u4e00\u4e9b\u540c\u6b65\u673a\u5236\uff0c\u4f8b\u5982\u4f7f\u7528\u4e92\u65a5\u9501\u6765\u786e\u4fdd\u5728\u4efb\u4f55\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u591f\u6267\u884c\u5b9e\u4f8b\u7684\u521b\u5efa\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f60\u548c\u5c0f\u660e\u90fd\u53d1\u73b0\u5bb6\u91cc\u6ca1\u7c73\u4e86\uff0c\u5728\u4f60\u4eec\u6ca1\u6709\u76f8\u4e92\u901a\u77e5\u7684\u60c5\u51b5\u4e0b\uff0c\u90fd\u4f1a\u53bb\u8d85\u5e02\u4e70\u4e00\u888b\u7c73\uff0c\u8fd9\u6837\u5c31\u91cd\u590d\u8d2d\u4e70\u4e86\uff0c\u8fdd\u80cc\u4e86\u5355\u4f8b\u6a21\u5f0f\u3002</p> <p>\u4e0b\u9762\u4ee5Java\u7684\u4ee3\u7801\u4f5c\u4e3a\u5b9e\u4f8b\uff0c\u8bf4\u660e\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u7684\u57fa\u672c\u5199\u6cd5\uff1a</p> <ol> <li>\u997f\u6c49\u6a21\u5f0f\uff1a\u5b9e\u4f8b\u5728\u7c7b\u52a0\u8f7d\u65f6\u5c31\u88ab\u521b\u5efa, \u8fd9\u79cd\u65b9\u5f0f\u7684\u5b9e\u73b0\u76f8\u5bf9\u7b80\u5355\uff0c\u4f46\u662f\u5b9e\u4f8b\u6709\u53ef\u80fd\u6ca1\u6709\u4f7f\u7528\u800c\u9020\u6210\u8d44\u6e90\u6d6a\u8d39\u3002</li> </ol> Java<pre><code>public class Singleton {\n    private static final Singleton instance = new Singleton();\n\n    private Singleton() {\n        // \u79c1\u6709\u6784\u9020\u65b9\u6cd5\uff0c\u9632\u6b62\u5916\u90e8\u5b9e\u4f8b\u5316\n    }\n\n    public static Singleton getInstance() {\n        return instance;\n    }\n}\n</code></pre> <ol> <li>\u61d2\u6c49\u6a21\u5f0f\uff1a\u7b2c\u4e00\u6b21\u4f7f\u7528\u65f6\u624d\u521b\u5efa</li> </ol> Java<pre><code>public class Singleton {\n    private static Singleton instance;\n\n    private Singleton() {\n        // \u79c1\u6709\u6784\u9020\u65b9\u6cd5\uff0c\u9632\u6b62\u5916\u90e8\u5b9e\u4f8b\u5316\n    }\n    // \u4f7f\u7528\u4e86\u540c\u6b65\u5173\u952e\u5b57\u6765\u786e\u4fdd\u7ebf\u7a0b\u5b89\u5168, \u53ef\u80fd\u4f1a\u5f71\u54cd\u6027\u80fd\n    public static synchronized Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n        }\n        return instance;\n    }\n}\n</code></pre> <p>\u5728\u61d2\u6c49\u6a21\u5f0f\u7684\u57fa\u7840\u4e0a\uff0c\u53ef\u4ee5\u4f7f\u7528\u53cc\u91cd\u68c0\u67e5\u9501\u6765\u63d0\u9ad8\u6027\u80fd\u3002</p> Java<pre><code>public class Singleton {\n    private static volatile Singleton instance;\n\n    private Singleton() {\n        // \u79c1\u6709\u6784\u9020\u65b9\u6cd5\uff0c\u9632\u6b62\u5916\u90e8\u5b9e\u4f8b\u5316\n    }\n\n    public static Singleton getInstance() {\n        if (instance == null) {\n            synchronized (Singleton.class) {\n                if (instance == null) {\n                    instance = new Singleton();\n                }\n            }\n        }\n        return instance;\n    }\n}\n</code></pre>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#_6","title":"\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f","text":"<p>\u8bf4\u4e86\u8fd9\u4e48\u591a\uff0c\u90a3\u5728\u4ec0\u4e48\u573a\u666f\u4e0b\u5e94\u8be5\u8003\u8651\u4f7f\u7528\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u5462\uff1f\u53ef\u4ee5\u7ed3\u5408\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\u7684\u4f18\u70b9\u6765\u770b\u3002</p> <ol> <li>\u8d44\u6e90\u5171\u4eab</li> </ol> <p>\u591a\u4e2a\u6a21\u5757\u5171\u4eab\u67d0\u4e2a\u8d44\u6e90\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\uff0c\u6bd4\u5982\u8bf4\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4e00\u4e2a\u5168\u5c40\u7684\u914d\u7f6e\u7ba1\u7406\u5668\u6765\u5b58\u50a8\u548c\u7ba1\u7406\u914d\u7f6e\u4fe1\u606f\u3001\u4ea6\u6216\u662f\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\u7ba1\u7406\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u3002</p> <ol> <li>\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b</li> </ol> <p>\u5f53\u7cfb\u7edf\u4e2d\u67d0\u4e2a\u7c7b\u53ea\u9700\u8981\u4e00\u4e2a\u5b9e\u4f8b\u6765\u534f\u8c03\u884c\u4e3a\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\uff0c \u6bd4\u5982\u8bf4\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u7f13\u5b58\uff0c\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u7f13\u5b58\u5b9e\u4f8b\uff0c\u907f\u514d\u91cd\u590d\u7684\u7f13\u5b58\u521b\u5efa\u548c\u7ba1\u7406\uff0c\u6216\u8005\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\u6765\u521b\u5efa\u548c\u7ba1\u7406\u7ebf\u7a0b\u6c60\u3002</p> <ol> <li>\u61d2\u52a0\u8f7d</li> </ol> <p>\u5982\u679c\u5bf9\u8c61\u521b\u5efa\u672c\u8eab\u5c31\u6bd4\u8f83\u6d88\u8017\u8d44\u6e90\uff0c\u800c\u4e14\u53ef\u80fd\u5728\u6574\u4e2a\u7a0b\u5e8f\u4e2d\u90fd\u4e0d\u4e00\u5b9a\u4f1a\u4f7f\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\u5b9e\u73b0\u61d2\u52a0\u8f7d\u3002</p> <p>\u5728\u8bb8\u591a\u6d41\u884c\u7684\u5de5\u5177\u548c\u5e93\u4e2d\uff0c\u4e5f\u90fd\u4f7f\u7528\u5230\u4e86\u5355\u4f8b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u6bd4\u5982Java\u4e2d\u7684<code>Runtime</code>\u7c7b\u5c31\u662f\u4e00\u4e2a\u7ecf\u5178\u7684\u5355\u4f8b\uff0c\u8868\u793a\u7a0b\u5e8f\u7684\u8fd0\u884c\u65f6\u73af\u5883\u3002\u6b64\u5916 Spring \u6846\u67b6\u4e2d\u7684\u5e94\u7528\u4e0a\u4e0b\u6587 (<code>ApplicationContext</code>) \u4e5f\u88ab\u8bbe\u8ba1\u4e3a\u5355\u4f8b\uff0c\u4ee5\u63d0\u4f9b\u5bf9\u5e94\u7528\u7a0b\u5e8f\u4e2d\u6240\u6709 bean \u7684\u96c6\u4e2d\u5f0f\u8bbf\u95ee\u70b9\u3002</p>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#_7","title":"\u672c\u9053\u9898\u76ee\u4ee3\u7801","text":"C++<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        ShoppingCartManager cart = ShoppingCartManager.getInstance();\n        Scanner scanner = new Scanner(System.in);\n\n        while (scanner.hasNext()) {\n            String itemName = scanner.next();\n            int quantity = scanner.nextInt();\n\n            // \u83b7\u53d6\u8d2d\u7269\u8f66\u5b9e\u4f8b\u5e76\u6dfb\u52a0\u5546\u54c1\n            cart.addToCart(itemName, quantity);\n        }\n\n        // \u8f93\u51fa\u8d2d\u7269\u8f66\u5185\u5bb9\n        cart.viewCart();\n    }\n}\n\nclass ShoppingCartManager {\n\n    // \u997f\u6c49\u6a21\u5f0f\u5b9e\u73b0\u5355\u4f8b\n    private static final ShoppingCartManager instance = new ShoppingCartManager();\n\n    // \u8d2d\u7269\u8f66\u5b58\u50a8\u5546\u54c1\u548c\u6570\u91cf\u7684\u6620\u5c04\n    private Map&lt;String, Integer&gt; cart;\n\n    // \u79c1\u6709\u6784\u9020\u51fd\u6570\n    private ShoppingCartManager() {\n        cart = new LinkedHashMap&lt;&gt;(); \n    }\n\n    // \u83b7\u53d6\u8d2d\u7269\u8f66\u5b9e\u4f8b\n    public static ShoppingCartManager getInstance() {\n        return instance;\n    }\n\n    // \u6dfb\u52a0\u5546\u54c1\u5230\u8d2d\u7269\u8f66\n    public void addToCart(String itemName, int quantity) {\n        cart.put(itemName, cart.getOrDefault(itemName, 0) + quantity);\n    }\n\n    // \u67e5\u770b\u8d2d\u7269\u8f66\n    public void viewCart() {\n        for (Map.Entry&lt;String, Integer&gt; entry : cart.entrySet()) {\n            System.out.println(entry.getKey() + \" \" + entry.getValue());\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#_8","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#java","title":"Java\u7248\u672c","text":"<p>\u61d2\u6c49+\u53cc\u91cd\u9501\u68c0\u67e5</p> Java<pre><code>import java.util.Scanner;  \nimport java.util.ArrayList;  \n\nclass ShoppingCart {\n    // \u8d2d\u7269\u8f66\u7c7b\u7684\u5355\u4f8b\u5b9e\u4f8b\u53d8\u91cf\uff0c\u4f7f\u7528volatile\u5173\u952e\u5b57\u786e\u4fdd\u7ebf\u7a0b\u5b89\u5168\n    private static volatile ShoppingCart instance;\n    // \u5b58\u50a8\u5546\u54c1\u540d\u79f0\n    private static ArrayList&lt;String&gt; productNames = new ArrayList&lt;&gt;();\n    // \u5b58\u50a8\u5546\u54c1\u6570\u91cf\n    private static ArrayList&lt;Integer&gt; productQuantities = new ArrayList&lt;&gt;();\n\n    // \u79c1\u6709\u6784\u9020\u51fd\u6570\uff0c\u9632\u6b62\u5916\u90e8\u76f4\u63a5\u521b\u5efaShoppingCart\u5bf9\u8c61\n    private ShoppingCart() {\n\n    }\n\n    // \u83b7\u53d6\u8d2d\u7269\u8f66\u5355\u4f8b\u5b9e\u4f8b\u7684\u65b9\u6cd5\uff0c\u786e\u4fdd\u7ebf\u7a0b\u5b89\u5168\n    public static ShoppingCart getInstance() {\n        if (instance == null) {\n            synchronized (ShoppingCart.class) {\n                if (instance == null) {\n                    instance = new ShoppingCart();\n                }\n            }\n        }\n        return instance;\n    }\n\n    // \u6dfb\u52a0\u5546\u54c1\u5230\u8d2d\u7269\u8f66\u7684\u65b9\u6cd5\n    public void Add(String name, int quantity) {\n        productNames.add(name); \n        productQuantities.add(quantity); \n        System.out.println(name + \" \" + quantity);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        ShoppingCart cart = ShoppingCart.getInstance(); \n        Scanner scanner = new Scanner(System.in);  \n\n        String inputLine;\n        // \u5faa\u73af\u8bfb\u53d6\u7528\u6237\u8f93\u5165\uff0c\u76f4\u5230\u7528\u6237\u8f93\u5165\"exit\"\n        while (scanner.hasNextLine()) {\n            inputLine = scanner.nextLine();\n\n            if (\"exit\".equalsIgnoreCase(inputLine)) {\n                break;\n            }\n\n            // \u4f7f\u7528\u7a7a\u683c\u5206\u5272\u8f93\u5165\u7684\u5b57\u7b26\u4e32\uff0c\u83b7\u53d6\u5546\u54c1\u540d\u79f0\u548c\u6570\u91cf\n            String[] parts = inputLine.split(\" \");\n\n            // \u786e\u4fdd\u8f93\u5165\u683c\u5f0f\u6b63\u786e\uff0c\u5373\u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff1a\u5546\u54c1\u540d\u79f0\u548c\u6570\u91cf\n            if (parts.length == 2) {\n                // \u5546\u54c1\u540d\u79f0\n                String name = parts[0];  \n                // \u5546\u54c1\u6570\u91cf\n                int quantity; \n\n                try {\n                    // \u5c06\u7b2c\u4e8c\u90e8\u5206\u8f6c\u6362\u4e3a\u6574\u6570\n                    quantity = Integer.parseInt(parts[1]);\n                    cart.Add(name, quantity);  \n                } catch (NumberFormatException e) {\n                    // \u5982\u679c\u8f6c\u6362\u5931\u8d25\uff0c\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\n                    System.out.println(\"\u8f6c\u6362\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\");\n                }\n            } else {\n                // \u5982\u679c\u8f93\u5165\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\n                System.out.println(\"\u5982\u679c\u8f93\u5165\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\");\n            }\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#cpp","title":"CPP","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n\nusing namespace std;\n\nclass ShoppingCartManager {\npublic:\n    // \u83b7\u53d6\u8d2d\u7269\u8f66\u5b9e\u4f8b\n    static ShoppingCartManager&amp; getInstance() {\n        static ShoppingCartManager instance;\n        return instance;\n    }\n\n    // \u6dfb\u52a0\u5546\u54c1\u5230\u8d2d\u7269\u8f66\n    void addToCart(const string&amp; itemName, int quantity) {\n        cart[itemName] += quantity;\n    }\n\n    // \u67e5\u770b\u8d2d\u7269\u8f66\n    void viewCart() const {\n        for (const auto&amp; item : cart) {\n            cout &lt;&lt; item.first &lt;&lt; \" \" &lt;&lt; item.second &lt;&lt; endl;\n        }\n    }\n\nprivate:\n    // \u79c1\u6709\u6784\u9020\u51fd\u6570\n    ShoppingCartManager() {}\n\n    // \u8d2d\u7269\u8f66\u5b58\u50a8\u5546\u54c1\u548c\u6570\u91cf\u7684\u6620\u5c04\n    map&lt;string, int&gt; cart;\n};\n\nint main() {\n    string itemName;\n    int quantity;\n\n    while (cin &gt;&gt; itemName &gt;&gt; quantity) {\n        // \u83b7\u53d6\u8d2d\u7269\u8f66\u5b9e\u4f8b\u5e76\u6dfb\u52a0\u5546\u54c1\n        ShoppingCartManager&amp; cart = ShoppingCartManager::getInstance();\n        cart.addToCart(itemName, quantity);\n    }\n\n    // \u8f93\u51fa\u8d2d\u7269\u8f66\u5185\u5bb9\n    const ShoppingCartManager&amp; cart = ShoppingCartManager::getInstance();\n    cart.viewCart();\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"<ol> <li>\u997f\u6c49\u6a21\u5f0f</li> </ol> Python<pre><code>class Singleton:\n    instance = None\n\n    def __init__(self):\n        if Singleton.instance is not None:\n            raise Exception(\"Only one instance of Singleton class is allowed\")\n        else:\n            Singleton.instance = self\n</code></pre> <ol> <li>\u61d2\u6c49\u6a21\u5f0f</li> </ol> Python<pre><code>class Singleton:\n\n __instance: Singleton = None\n\n @staticmethod\n def getInstance():\n     if Singleton.__instance is None:\n  Singleton.__instance = Singleton()\n     return Singleton.__instance\n</code></pre> <ol> <li>\u61d2\u6c49+\u53cc\u91cd\u9501\u68c0\u67e5</li> </ol> Python<pre><code>import threading\n\nclass Singleton:\n        __instance = None\n        __lock = threading.Lock()\n\n        @classmethod\n        def getInstance(cls):\n            if cls.__instance is None:\n                with cls.__lock:\n                    if cls.__instance is None:\n                        # cls.__instance = super().__new__(cls)\n                        cls.__instance = Singleton()\n            return cls.__instance\n</code></pre>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n \"bufio\"\n \"fmt\"\n \"os\"\n \"strings\"\n \"sync\"\n)\n\n// ShoppingCartManager \u5b9e\u73b0\u8d2d\u7269\u8f66\u7ba1\u7406\ntype ShoppingCartManager struct {\n cart   map[string]int\n keys   []string // \u7528\u4e8e\u4fdd\u5b58\u63d2\u5165\u987a\u5e8f\u7684\u952e\n mutext sync.Mutex\n}\n\nvar once sync.Once\nvar instance *ShoppingCartManager\n\n// getInstance \u83b7\u53d6\u8d2d\u7269\u8f66\u5b9e\u4f8b\nfunc getInstance() *ShoppingCartManager {\n once.Do(func() {\n  instance = &amp;ShoppingCartManager{\n   cart: make(map[string]int),\n  }\n })\n return instance\n}\n\n// addToCart \u5c06\u5546\u54c1\u6dfb\u52a0\u5230\u8d2d\u7269\u8f66\nfunc (scm *ShoppingCartManager) addToCart(itemName string, quantity int) {\n scm.mutext.Lock()\n defer scm.mutext.Unlock()\n\n // \u68c0\u67e5\u662f\u5426\u5df2\u7ecf\u5b58\u5728\uff0c\u4e0d\u5b58\u5728\u5219\u6dfb\u52a0\u5230 keys \u4e2d\n if _, exists := scm.cart[itemName]; !exists {\n  scm.keys = append(scm.keys, itemName)\n }\n\n scm.cart[itemName] += quantity\n}\n\n// viewCart \u67e5\u770b\u8d2d\u7269\u8f66\u5185\u5bb9\u5e76\u6309\u7167\u63d2\u5165\u987a\u5e8f\u8f93\u51fa\nfunc (scm *ShoppingCartManager) viewCart() {\n scm.mutext.Lock()\n defer scm.mutext.Unlock()\n\n for _, itemName := range scm.keys {\n  quantity := scm.cart[itemName]\n  fmt.Printf(\"%s %d\\n\", itemName, quantity)\n }\n}\n\nfunc main() {\n cart := getInstance()\n scanner := bufio.NewScanner(os.Stdin)\n\n for scanner.Scan() {\n  input := scanner.Text()\n  if input == \"\" {\n   break\n  }\n  parts := strings.Fields(input)\n  itemName := parts[0]\n  quantity, err := strconv.Atoi(parts[1])\n\n  if err != nil {\n    fmt.Printf(\"\u8f6c\u6362\u51fa\u9519\uff1a %v\\n\", err)\n    continue\n  }\n\n  if len(parts) &gt; 1 {\n   fmt.Sscanf(parts[1], \"%d\", &amp;quantity)\n  }\n\n  // \u83b7\u53d6\u8d2d\u7269\u8f66\u5b9e\u4f8b\u5e76\u6dfb\u52a0\u5546\u54c1\n  cart.addToCart(itemName, quantity)\n }\n\n // \u8f93\u51fa\u8d2d\u7269\u8f66\u5185\u5bb9\n cart.viewCart()\n}\n</code></pre>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#typescript","title":"TypeScript","text":"TypeScript<pre><code>interface IProduct {\n  name: string;\n  quantity: number;\n}\n\ninterface IShoppingCartManager {\n  add(name: string, quantity: number);\n  viewCart();\n}\n\nclass ShoppingCartManager implements IShoppingCartManager {\n  private static instance = new ShoppingCartManager();\n  private products: IProduct[] = [];\n\n  private constructor() {}\n\n  static getInstance() {\n    return ShoppingCartManager.instance;\n  }\n\n  add(name: string, quantity: number) {\n    this.products.push({ name, quantity });\n  }\n\n  viewCart() {\n    this.products.forEach(({ name, quantity }) =&gt; {\n      console.log(name, quantity);\n    });\n  }\n}\n\n(function () {\n  const instance = ShoppingCartManager.getInstance();\n\n  instance.add(\"Apple\", 3);\n  instance.add(\"Banana\", 2);\n  instance.add(\"Orange\", 5);\n  instance.viewCart();\n})();\n</code></pre>"},{"location":"DesignPattern/1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#javascript","title":"JavaScript","text":"JavaScript<pre><code>const PRIVATE_KEY = Symbol();\n\nclass ShoppingCartManagerJS {\n  static #instance;\n  #products = [];\n\n  constructor(key) {\n    if (key !== PRIVATE_KEY) {\n      throw new Error(\"\u4e0d\u80fd\u76f4\u63a5\u5b9e\u4f8b\u5316\u5355\u4f8b\u7c7b\uff0c\u8bf7\u4f7f\u7528 getInstance() \u65b9\u6cd5\");\n    }\n  }\n\n  static getInstance() {\n    if (!ShoppingCartManagerJS.#instance) {\n      ShoppingCartManagerJS.#instance = new ShoppingCartManagerJS(PRIVATE_KEY);\n    }\n    return ShoppingCartManagerJS.#instance;\n  }\n\n  add(name, quantity) {\n    this.#products.push({ name, quantity });\n  }\n\n  viewCart() {\n    if (this.#products.length === 0) {\n      return;\n    }\n    this.#products.forEach((product) =&gt; {\n      console.log(`${product.name} ${product.quantity}`);\n    });\n  }\n}\n\n// \u6d4b\u8bd5\u4ee3\u7801\ntry {\n  // \u5c1d\u8bd5\u76f4\u63a5\u5b9e\u4f8b\u5316\uff08\u4f1a\u629b\u51fa\u9519\u8bef\uff09\n  const wrongWay = new ShoppingCartManagerJS();\n  console.log('\u6b63\u786e')\n} catch (e) {\n  console.log(\"\u9519\u8bef\uff1a\", e.message);\n}\n\n// \u6b63\u786e\u4f7f\u7528\u65b9\u5f0f\nconst cart1 = ShoppingCartManagerJS.getInstance();\nconst cart2 = ShoppingCartManagerJS.getInstance();\n\n// \u9a8c\u8bc1\u662f\u5426\u662f\u540c\u4e00\u4e2a\u5b9e\u4f8b\nconsole.log(\"\u662f\u5426\u662f\u540c\u4e00\u4e2a\u5b9e\u4f8b\uff1a\", cart1 === cart2);  // true\n\n// \u4f7f\u7528\u8d2d\u7269\u8f66\ncart1.add(\"\u82f9\u679c\", 3);\ncart1.add(\"\u9999\u8549\", 2);\n\n// \u901a\u8fc7 cart2 \u67e5\u770b\uff08\u56e0\u4e3a\u662f\u540c\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u6240\u4ee5\u80fd\u770b\u5230 cart1 \u6dfb\u52a0\u7684\u5185\u5bb9\uff09\ncart2.viewCart();\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/","title":"\u6865\u63a5\u6a21\u5f0f","text":"<p> \u7ea6 789 \u4e2a\u5b57  564 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u6865\u63a5\u6a21\u5f0f\uff08Bridge Pattern\uff09\u662f\u4e00\u79cd\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u7684UML\u56fe\u5f88\u50cf\u4e00\u5ea7\u6865\uff0c\u5b83\u901a\u8fc7\u5c06\u3010\u62bd\u8c61\u90e8\u5206\u3011\u4e0e\u3010\u5b9e\u73b0\u90e8\u5206\u3011\u5206\u79bb\uff0c\u4f7f\u5b83\u4eec\u53ef\u4ee5\u72ec\u7acb\u53d8\u5316\uff0c\u4ece\u800c\u8fbe\u5230\u964d\u4f4e\u7cfb\u7edf\u8026\u5408\u5ea6\u7684\u76ee\u7684\u3002\u6865\u63a5\u6a21\u5f0f\u7684\u4e3b\u8981\u76ee\u7684\u662f\u901a\u8fc7\u7ec4\u5408\u5efa\u7acb\u4e24\u4e2a\u7c7b\u4e4b\u95f4\u7684\u8054\u7cfb\uff0c\u800c\u4e0d\u662f\u7ee7\u627f\u7684\u65b9\u5f0f\u3002</p> <p>\u4e3e\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u56fe\u5f62\u7f16\u8f91\u5668\u4e2d\uff0c\u6bcf\u4e00\u79cd\u56fe\u5f62\u90fd\u9700\u8981\u84dd\u8272\u3001\u7ea2\u8272\u3001\u9ec4\u8272\u4e0d\u540c\u7684\u989c\u8272\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u6865\u63a5\u6a21\u5f0f\uff0c\u53ef\u80fd\u9700\u8981\u4e3a\u6bcf\u4e00\u79cd\u56fe\u5f62\u7c7b\u578b\u548c\u6bcf\u4e00\u79cd\u989c\u8272\u90fd\u521b\u5efa\u4e00\u4e2a\u5177\u4f53\u7684\u5b50\u7c7b\uff0c\u800c\u4f7f\u7528\u6865\u63a5\u6a21\u5f0f\u53ef\u4ee5\u5c06\u56fe\u5f62\u548c\u989c\u8272\u4e24\u4e2a\u7ef4\u5ea6\u5206\u79bb\uff0c\u4e24\u4e2a\u7ef4\u5ea6\u90fd\u53ef\u4ee5\u72ec\u7acb\u8fdb\u884c\u53d8\u5316\u548c\u6269\u5c55\uff0c\u5982\u679c\u8981\u65b0\u589e\u5176\u4ed6\u989c\u8272\uff0c\u53ea\u9700\u6dfb\u52a0\u65b0\u7684 <code>Color</code> \u5b50\u7c7b\uff0c\u4e0d\u5f71\u54cd\u56fe\u5f62\u7c7b\uff1b\u53cd\u4e4b\u4ea6\u7136\u3002</p> <p></p>"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u6865\u63a5\u6a21\u5f0f\u7684\u57fa\u672c\u7ed3\u6784\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u89d2\u8272\uff1a</p> <ul> <li>\u62bd\u8c61<code>Abstraction</code>\uff1a\u4e00\u822c\u662f\u62bd\u8c61\u7c7b\uff0c\u5b9a\u4e49\u62bd\u8c61\u90e8\u5206\u7684\u63a5\u53e3\uff0c\u7ef4\u62a4\u4e00\u4e2a\u5bf9\u3010\u5b9e\u73b0\u3011\u7684\u5f15\u7528\u3002</li> <li>\u4fee\u6b63\u62bd\u8c61<code>RefinedAbstaction</code>\uff1a\u5bf9\u62bd\u8c61\u63a5\u53e3\u8fdb\u884c\u6269\u5c55\uff0c\u901a\u5e38\u5bf9\u62bd\u8c61\u5316\u7684\u4e0d\u540c\u7ef4\u5ea6\u8fdb\u884c\u53d8\u5316\u6216\u5b9a\u5236\u3002</li> <li>\u5b9e\u73b0<code>Implementor</code>\uff1a \u5b9a\u4e49\u5b9e\u73b0\u90e8\u5206\u7684\u63a5\u53e3\uff0c\u63d0\u4f9b\u5177\u4f53\u7684\u5b9e\u73b0\u3002\u8fd9\u4e2a\u63a5\u53e3\u901a\u5e38\u662f\u62bd\u8c61\u5316\u63a5\u53e3\u7684\u5b9e\u73b0\u3002</li> <li>\u5177\u4f53\u5b9e\u73b0<code>ConcreteImplementor</code>\uff1a\u5b9e\u73b0\u5b9e\u73b0\u5316\u63a5\u53e3\u7684\u5177\u4f53\u7c7b\u3002\u8fd9\u4e9b\u7c7b\u8d1f\u8d23\u5b9e\u73b0\u5b9e\u73b0\u5316\u63a5\u53e3\u5b9a\u4e49\u7684\u5177\u4f53\u64cd\u4f5c\u3002</li> </ul> <p></p> <p>\u518d\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u9065\u63a7\u5668\u5c31\u662f\u62bd\u8c61\u63a5\u53e3\uff0c\u5b83\u5177\u6709\u5f00\u5173\u7535\u89c6\u7684\u529f\u80fd\uff0c\u4fee\u6b63\u62bd\u8c61\u5c31\u662f\u9065\u63a7\u5668\u7684\u5b9e\u4f8b\uff0c\u5bf9\u9065\u63a7\u5668\u7684\u529f\u80fd\u8fdb\u884c\u5b9e\u73b0\u548c\u6269\u5c55\uff0c\u800c\u7535\u89c6\u5c31\u662f\u5b9e\u73b0\u63a5\u53e3\uff0c\u5177\u4f53\u54c1\u724c\u7684\u7535\u89c6\u673a\u662f\u5177\u4f53\u5b9e\u73b0\uff0c\u9065\u63a7\u5668\u4e2d\u5305\u542b\u4e00\u4e2a\u5bf9\u7535\u89c6\u63a5\u53e3\u7684\u5f15\u7528\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u9065\u63a7\u5668\u548c\u7535\u89c6\u7684\u5b9e\u73b0\u88ab\u5206\u79bb\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u9065\u63a7\u5668\uff0c\u6bcf\u4e2a\u9065\u63a7\u5668\u63a7\u5236\u4e00\u4e2a\u54c1\u724c\u7684\u7535\u89c6\u673a\uff0c\u5b83\u4eec\u4e4b\u95f4\u72ec\u7acb\u64cd\u4f5c\uff0c\u4e0d\u53d7\u7535\u89c6\u54c1\u724c\u7684\u5f71\u54cd\uff0c\u53ef\u4ee5\u72ec\u7acb\u53d8\u5316\u3002</p>"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<p>\u4e0b\u9762\u662f\u5b9e\u73b0\u6865\u63a5\u6a21\u5f0f\u7684\u57fa\u672c\u6b65\u9aa4\uff1a</p> <ol> <li>\u521b\u5efa\u5b9e\u73b0\u63a5\u53e3</li> </ol> Java<pre><code>interface Implementation {\n    void operationImpl();\n}\n</code></pre> <p>\u4ee5\u7535\u89c6\u4e3e\u4f8b, \u5177\u6709\u5f00\u5173\u548c\u5207\u6362\u9891\u9053\u7684\u529f\u80fd\u3002</p> Java<pre><code>interface TV {\n    void on();\n    void off();\n    void tuneChannel();\n}\n</code></pre> <ol> <li>\u521b\u5efa\u5177\u4f53\u5b9e\u73b0\u7c7b\uff1a\u5b9e\u9645\u63d0\u4f9b\u670d\u52a1\u7684\u5bf9\u8c61\u3002</li> </ol> Java<pre><code>class ConcreteImplementationA implements Implementation {\n    @Override\n    public void operationImpl() {\n        // \u5177\u4f53\u5b9e\u73b0A\n    }\n}\nclass ConcreteImplementationB implements Implementation {\n    @Override\n    public void operationImpl() {\n        // \u5177\u4f53\u5b9e\u73b0B\n    }\n}\n</code></pre> <p>\u4ee5\u7535\u89c6\u4e3e\u4f8b\uff0c\u521b\u5efa\u5177\u4f53\u5b9e\u73b0\u7c7b</p> Java<pre><code>class ATV implements TV {\n    @Override\n    public void on() {\n        System.out.println(\"A TV is ON\");\n    }\n\n    @Override\n    public void off() {\n        System.out.println(\"A TV is OFF\");\n    }\n\n    @Override\n    public void tuneChannel() {\n        System.out.println(\"Tuning A TV channel\");\n    }\n}\n\nclass BTV implements TV {\n    @Override\n    public void on() {\n        System.out.println(\"B TV is ON\");\n    }\n\n    @Override\n    public void off() {\n        System.out.println(\"B TV is OFF\");\n    }\n\n    @Override\n    public void tuneChannel() {\n        System.out.println(\"Tuning B TV channel\");\n    }\n}\n</code></pre> <ol> <li>\u521b\u5efa\u62bd\u8c61\u63a5\u53e3\uff1a\u5305\u542b\u4e00\u4e2a\u5bf9\u5b9e\u73b0\u5316\u63a5\u53e3\u7684\u5f15\u7528\u3002</li> </ol> Java<pre><code>public abstract class Abstraction {\n\n    protected IImplementor mImplementor;\n\n    public Abstraction(IImplementor implementor) {\n        this.mImplementor = implementor;\n    }\n\n    public void operation() {\n        this.mImplementor.operationImpl();\n    }\n\n}\n</code></pre> Java<pre><code>abstract class RemoteControl {\n    // \u6301\u6709\u4e00\u4e2a\u5b9e\u73b0\u5316\u63a5\u53e3\u7684\u5f15\u7528\n    protected TV tv;\n\n    public RemoteControl(TV tv) {\n        this.tv = tv;\n    }\n\n    abstract void turnOn();\n    abstract void turnOff();\n    abstract void changeChannel();\n}\n</code></pre> <ol> <li>\u5b9e\u73b0\u62bd\u8c61\u63a5\u53e3\uff0c\u521b\u5efa<code>RefinedAbstaction</code>\u7c7b</li> </ol> Java<pre><code>class RefinedAbstraction implements Abstraction {\n    private Implementation implementation;\n\n    public RefinedAbstraction(Implementation implementation) {\n        this.implementation = implementation;\n    }\n\n    @Override\n    public void operation() {\n        // \u59d4\u6258\u7ed9\u5b9e\u73b0\u90e8\u5206\u7684\u5177\u4f53\u7c7b\n        implementation.operationImpl();\n    }\n}\n</code></pre> Java<pre><code>class BasicRemoteControl extends RemoteControl {\n    public BasicRemoteControl(TV tv) {\n        super(tv);\n    }\n\n    @Override\n    void turnOn() {\n        tv.on();\n    }\n\n    @Override\n    void turnOff() {\n        tv.off();\n    }\n\n    @Override\n    void changeChannel() {\n        tv.tuneChannel();\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u4f7f\u7528</li> </ol> Java<pre><code>// \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Main {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u5177\u4f53\u5b9e\u73b0\u5316\u5bf9\u8c61\n        Implementation implementationA = new ConcreteImplementationA();\n        Implementation implementationB = new ConcreteImplementationB();\n\n        // \u4f7f\u7528\u6269\u5145\u62bd\u8c61\u5316\u5bf9\u8c61\uff0c\u5c06\u5b9e\u73b0\u5316\u5bf9\u8c61\u4f20\u9012\u8fdb\u53bb\n        Abstraction abstractionA = new RefinedAbstraction(implementationA);\n        Abstraction abstractionB = new RefinedAbstraction(implementationB);\n\n        // \u8c03\u7528\u62bd\u8c61\u5316\u7684\u64cd\u4f5c\n        abstractionA.operation();\n        abstractionB.operation();\n    }\n}\n</code></pre> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        TV aTV = new ATV();\n        TV bTV = new BTV();\n\n        RemoteControl basicRemoteForA = new BasicRemoteControl(aTV);\n        RemoteControl basicRemoteForB = new BasicRemoteControl(bTV);\n\n        basicRemoteForA.turnOn();  // A TV is ON\n        basicRemoteForA.changeChannel();  // Tuning A TV channel\n        basicRemoteForA.turnOff();  // A TV is OFF\n\n        basicRemoteForB.turnOn();  // B TV is ON\n        basicRemoteForB.changeChannel();  // Tuning B TV channel\n        basicRemoteForB.turnOff();  // B TV is OFF\n    }\n}\n</code></pre>"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u6865\u63a5\u6a21\u5f0f\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\u4f7f\u7528\u7684\u5e76\u4e0d\u662f\u7279\u522b\u591a\uff0c\u901a\u5e38\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u4f7f\u7528\uff1a</p> <ul> <li> <p>\u5f53\u4e00\u4e2a\u7c7b\u5b58\u5728\u4e24\u4e2a\u72ec\u7acb\u53d8\u5316\u7684\u7ef4\u5ea6\uff0c\u800c\u4e14\u8fd9\u4e24\u4e2a\u7ef4\u5ea6\u90fd\u9700\u8981\u8fdb\u884c\u6269\u5c55\u65f6\uff0c\u4f7f\u7528\u6865\u63a5\u6a21\u5f0f\u53ef\u4ee5\u4f7f\u5b83\u4eec\u72ec\u7acb\u53d8\u5316\uff0c\u51cf\u5c11\u8026\u5408\u3002</p> </li> <li> <p>\u4e0d\u5e0c\u671b\u4f7f\u7528\u7ee7\u627f\uff0c\u6216\u7ee7\u627f\u5bfc\u81f4\u7c7b\u7206\u70b8\u6027\u589e\u957f</p> </li> </ul> <p>\u603b\u4f53\u800c\u8a00\uff0c\u6865\u63a5\u6a21\u5f0f\u9002\u7528\u4e8e\u90a3\u4e9b\u6709\u591a\u4e2a\u72ec\u7acb\u53d8\u5316\u7ef4\u5ea6\u3001\u9700\u8981\u7075\u6d3b\u6269\u5c55\u7684\u7cfb\u7edf\u3002</p>"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u6b65\u9aa41: \u521b\u5efa\u5b9e\u73b0\u5316\u63a5\u53e3\ninterface TV {\n    void turnOn();\n    void turnOff();\n    void switchChannel();\n}\n\n// \u6b65\u9aa42: \u521b\u5efa\u5177\u4f53\u5b9e\u73b0\u5316\u7c7b\nclass SonyTV implements TV {\n    @Override\n    public void turnOn() {\n        System.out.println(\"Sony TV is ON\");\n    }\n\n    @Override\n    public void turnOff() {\n        System.out.println(\"Sony TV is OFF\");\n    }\n\n    @Override\n    public void switchChannel() {\n        System.out.println(\"Switching Sony TV channel\");\n    }\n}\n\nclass TCLTV implements TV {\n    @Override\n    public void turnOn() {\n        System.out.println(\"TCL TV is ON\");\n    }\n\n    @Override\n    public void turnOff() {\n        System.out.println(\"TCL TV is OFF\");\n    }\n\n    @Override\n    public void switchChannel() {\n        System.out.println(\"Switching TCL TV channel\");\n    }\n}\n\n// \u6b65\u9aa43: \u521b\u5efa\u62bd\u8c61\u5316\u63a5\u53e3\nabstract class RemoteControl {\n    protected TV tv;\n\n    public RemoteControl(TV tv) {\n        this.tv = tv;\n    }\n\n    abstract void performOperation();\n}\n\n// \u6b65\u9aa44: \u521b\u5efa\u6269\u5145\u62bd\u8c61\u5316\u7c7b\nclass PowerOperation extends RemoteControl {\n    public PowerOperation(TV tv) {\n        super(tv);\n    }\n\n    @Override\n    void performOperation() {\n        tv.turnOn();\n    }\n}\n\nclass OffOperation extends RemoteControl {\n    public OffOperation(TV tv) {\n        super(tv);\n    }\n\n    @Override\n    void performOperation() {\n        tv.turnOff();\n    }\n}\n\nclass ChannelSwitchOperation extends RemoteControl {\n    public ChannelSwitchOperation(TV tv) {\n        super(tv);\n    }\n\n    @Override\n    void performOperation() {\n        tv.switchChannel();\n    }\n}\n\n// \u6b65\u9aa45: \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int N = scanner.nextInt();\n        scanner.nextLine();\n\n        for (int i = 0; i &lt; N; i++) {\n            String[] input = scanner.nextLine().split(\" \");\n            int brand = Integer.parseInt(input[0]);\n            int operation = Integer.parseInt(input[1]);\n\n            TV tv;\n            if (brand == 0) {\n                tv = new SonyTV();\n            } else {\n                tv = new TCLTV();\n            }\n\n            RemoteControl remoteControl;\n            if (operation == 2) {\n                remoteControl = new PowerOperation(tv);\n            } else if (operation == 3) {\n                remoteControl = new OffOperation(tv);\n            } else {\n                remoteControl = new ChannelSwitchOperation(tv);\n            }\n\n            remoteControl.performOperation();\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\n\n// \u6b65\u9aa41: \u521b\u5efa\u5b9e\u73b0\u5316\u63a5\u53e3\nclass TV {\npublic:\n    virtual void turnOn() = 0;\n    virtual void turnOff() = 0;\n    virtual void switchChannel() = 0;\n};\n\n// \u6b65\u9aa42: \u521b\u5efa\u5177\u4f53\u5b9e\u73b0\u5316\u7c7b\nclass SonyTV : public TV {\npublic:\n    void turnOn() override {\n        std::cout &lt;&lt; \"Sony TV is ON\" &lt;&lt; std::endl;\n    }\n\n    void turnOff() override {\n        std::cout &lt;&lt; \"Sony TV is OFF\" &lt;&lt; std::endl;\n    }\n\n    void switchChannel() override {\n        std::cout &lt;&lt; \"Switching Sony TV channel\" &lt;&lt; std::endl;\n    }\n};\n\nclass TCLTV : public TV {\npublic:\n    void turnOn() override {\n        std::cout &lt;&lt; \"TCL TV is ON\" &lt;&lt; std::endl;\n    }\n\n    void turnOff() override {\n        std::cout &lt;&lt; \"TCL TV is OFF\" &lt;&lt; std::endl;\n    }\n\n    void switchChannel() override {\n        std::cout &lt;&lt; \"Switching TCL TV channel\" &lt;&lt; std::endl;\n    }\n};\n\n// \u6b65\u9aa43: \u521b\u5efa\u62bd\u8c61\u5316\u63a5\u53e3\nclass RemoteControl {\nprotected:\n    TV* tv;\n\npublic:\n    RemoteControl(TV* tv) : tv(tv) {}\n\n    virtual void performOperation() = 0;\n};\n\n// \u6b65\u9aa44: \u521b\u5efa\u6269\u5145\u62bd\u8c61\u5316\u7c7b\nclass PowerOperation : public RemoteControl {\npublic:\n    PowerOperation(TV* tv) : RemoteControl(tv) {}\n\n    void performOperation() override {\n        tv-&gt;turnOn();\n    }\n};\n\nclass OffOperation : public RemoteControl {\npublic:\n    OffOperation(TV* tv) : RemoteControl(tv) {}\n\n    void performOperation() override {\n        tv-&gt;turnOff();\n    }\n};\n\nclass ChannelSwitchOperation : public RemoteControl {\npublic:\n    ChannelSwitchOperation(TV* tv) : RemoteControl(tv) {}\n\n    void performOperation() override {\n        tv-&gt;switchChannel();\n    }\n};\n\n// \u6b65\u9aa45: \u5ba2\u6237\u7aef\u4ee3\u7801\nint main() {\n    int N;\n    std::cin &gt;&gt; N;\n    std::cin.ignore(); \n\n    for (int i = 0; i &lt; N; i++) {\n        std::string input;\n        std::getline(std::cin, input);\n        std::istringstream iss(input);\n\n        int brand, operation;\n        iss &gt;&gt; brand &gt;&gt; operation;\n\n        TV* tv;\n        if (brand == 0) {\n            tv = new SonyTV();\n        } else {\n            tv = new TCLTV();\n        }\n\n        RemoteControl* remoteControl;\n        if (operation == 2) {\n            remoteControl = new PowerOperation(tv);\n        } else if (operation == 3) {\n            remoteControl = new OffOperation(tv);\n        } else {\n            remoteControl = new ChannelSwitchOperation(tv);\n        }\n\n        remoteControl-&gt;performOperation();\n\n        delete tv;\n        delete remoteControl;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code># \u6b65\u9aa41: \u521b\u5efa\u5b9e\u73b0\u5316\u63a5\u53e3\nclass TV:\n    def turn_on(self):\n        pass\n\n    def turn_off(self):\n        pass\n\n    def switch_channel(self):\n        pass\n\n# \u6b65\u9aa42: \u521b\u5efa\u5177\u4f53\u5b9e\u73b0\u5316\u7c7b\nclass SonyTV(TV):\n    def turn_on(self):\n        print(\"Sony TV is ON\")\n\n    def turn_off(self):\n        print(\"Sony TV is OFF\")\n\n    def switch_channel(self):\n        print(\"Switching Sony TV channel\")\n\nclass TCLTV(TV):\n    def turn_on(self):\n        print(\"TCL TV is ON\")\n\n    def turn_off(self):\n        print(\"TCL TV is OFF\")\n\n    def switch_channel(self):\n        print(\"Switching TCL TV channel\")\n\n# \u6b65\u9aa43: \u521b\u5efa\u62bd\u8c61\u5316\u63a5\u53e3\nclass RemoteControl:\n    def __init__(self, tv):\n        self.tv = tv\n\n    def perform_operation(self):\n        pass\n\n# \u6b65\u9aa44: \u521b\u5efa\u6269\u5145\u62bd\u8c61\u5316\u7c7b\nclass PowerOperation(RemoteControl):\n    def perform_operation(self):\n        self.tv.turn_on()\n\nclass OffOperation(RemoteControl):\n    def perform_operation(self):\n        self.tv.turn_off()\n\nclass ChannelSwitchOperation(RemoteControl):\n    def perform_operation(self):\n        self.tv.switch_channel()\n\n# \u6b65\u9aa45: \u5ba2\u6237\u7aef\u4ee3\u7801\nif __name__ == \"__main__\":\n    N = int(input())\n\n    for _ in range(N):\n        input_data = input().split(\" \")\n        brand = int(input_data[0])\n        operation = int(input_data[1])\n\n        if brand == 0:\n            tv = SonyTV()\n        else:\n            tv = TCLTV()\n\n        if operation == 2:\n            remote_control = PowerOperation(tv)\n        elif operation == 3:\n            remote_control = OffOperation(tv)\n        else:\n            remote_control = ChannelSwitchOperation(tv)\n\n        remote_control.perform_operation()\n</code></pre>"},{"location":"DesignPattern/10-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// \u6b65\u9aa41: \u521b\u5efa\u5b9e\u73b0\u5316\u63a5\u53e3\ntype TV interface {\n    TurnOn()\n    TurnOff()\n    SwitchChannel()\n}\n\n// \u6b65\u9aa42: \u521b\u5efa\u5177\u4f53\u5b9e\u73b0\u5316\u7c7b\ntype SonyTV struct{}\n\nfunc (st *SonyTV) TurnOn() {\n    fmt.Println(\"Sony TV is ON\")\n}\n\nfunc (st *SonyTV) TurnOff() {\n    fmt.Println(\"Sony TV is OFF\")\n}\n\nfunc (st *SonyTV) SwitchChannel() {\n    fmt.Println(\"Switching Sony TV channel\")\n}\n\ntype TCLTV struct{}\n\nfunc (tt *TCLTV) TurnOn() {\n    fmt.Println(\"TCL TV is ON\")\n}\n\nfunc (tt *TCLTV) TurnOff() {\n    fmt.Println(\"TCL TV is OFF\")\n}\n\nfunc (tt *TCLTV) SwitchChannel() {\n    fmt.Println(\"Switching TCL TV channel\")\n}\n\n// \u6b65\u9aa43: \u521b\u5efa\u62bd\u8c61\u5316\u63a5\u53e3\ntype RemoteControl interface {\n    PerformOperation()\n}\n\n// \u6b65\u9aa44: \u521b\u5efa\u6269\u5145\u62bd\u8c61\u5316\u7c7b\ntype PowerOperation struct {\n    tv TV\n}\n\nfunc (po *PowerOperation) PerformOperation() {\n    po.tv.TurnOn()\n}\n\ntype OffOperation struct {\n    tv TV\n}\n\nfunc (oo *OffOperation) PerformOperation() {\n    oo.tv.TurnOff()\n}\n\ntype ChannelSwitchOperation struct {\n    tv TV\n}\n\nfunc (cso *ChannelSwitchOperation) PerformOperation() {\n    cso.tv.SwitchChannel()\n}\n\n// \u6b65\u9aa45: \u5ba2\u6237\u7aef\u4ee3\u7801\nfunc main() {\n    var N int\n    fmt.Scan(&amp;N)\n\n    for i := 0; i &lt; N; i++ {\n        var brand, operation int\n        fmt.Scan(&amp;brand, &amp;operation)\n\n        var tv TV\n        if brand == 0 {\n            tv = &amp;SonyTV{}\n        } else {\n            tv = &amp;TCLTV{}\n        }\n\n        var remoteControl RemoteControl\n        switch operation {\n        case 2:\n            remoteControl = &amp;PowerOperation{tv: tv}\n        case 3:\n            remoteControl = &amp;OffOperation{tv: tv}\n        case 4:\n            remoteControl = &amp;ChannelSwitchOperation{tv: tv}\n        }\n\n        remoteControl.PerformOperation()\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/","title":"\u7ec4\u5408\u6a21\u5f0f","text":"<p> \u7ea6 559 \u4e2a\u5b57  415 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#_2","title":"\u9898\u76ee\u94fe\u63a5","text":"<p>\u7ec4\u5408\u6a21\u5f0f-\u516c\u53f8\u7ec4\u7ec7\u67b6\u6784</p>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u7ec4\u5408\u6a21\u5f0f\u662f\u4e00\u79cd\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83 \u5c06\u5bf9\u8c61\u7ec4\u5408\u6210\u6811\u72b6\u7ed3\u6784 \u6765\u8868\u793a\u201c\u90e8\u5206-\u6574\u4f53\u201d\u7684\u5c42\u6b21\u5173\u7cfb\u3002\u7ec4\u5408\u6a21\u5f0f\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ef\u4ee5 \u7edf\u4e00\u5904\u7406\u5355\u4e2a\u5bf9\u8c61\u548c\u5bf9\u8c61\u7684\u7ec4\u5408 \uff0c\u800c\u65e0\u9700\u533a\u5206\u5b83\u4eec\u7684\u5177\u4f53\u7c7b\u578b\u3002</p>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#_4","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u7ec4\u5408\u6a21\u5f0f\u5305\u62ec\u4e0b\u9762\u51e0\u4e2a\u89d2\u8272\uff1a</p> <p></p> <p>\u7406\u89e3\u8d77\u6765\u6bd4\u8f83\u62bd\u8c61\uff0c\u6211\u4eec\u7528\u201c\u7701\u4efd-\u57ce\u5e02\u201d\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u7701\u4efd\u4e2d\u5305\u542b\u4e86\u591a\u4e2a\u57ce\u5e02\uff0c\u5982\u679c\u5c06\u4e4b\u6bd4\u55bb\u6210\u4e00\u4e2a\u6811\u5f62\u7ed3\u6784\uff0c\u57ce\u5e02\u5c31\u662f\u53f6\u5b50\u8282\u70b9\uff0c\u5b83\u662f\u7701\u4efd\u7684\u7ec4\u6210\u90e8\u5206\uff0c\u800c\u201c\u7701\u4efd\u201d\u5c31\u662f\u5408\u6210\u8282\u70b9\uff0c\u53ef\u4ee5\u5305\u542b\u5176\u4ed6\u57ce\u5e02\uff0c\u5f62\u6210\u4e00\u4e2a\u6574\u4f53\uff0c\u7701\u4efd\u548c\u57ce\u5e02\u90fd\u662f\u7ec4\u4ef6\uff0c\u5b83\u4eec\u90fd\u6709\u4e00\u4e2a\u5171\u540c\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u83b7\u53d6\u4fe1\u606f\u3002</p> <ul> <li><code>Component</code>\u7ec4\u4ef6\uff1a \u7ec4\u5408\u6a21\u5f0f\u7684\u201c\u6839\u8282\u70b9\u201d\uff0c\u5b9a\u4e49\u7ec4\u5408\u4e2d\u6240\u6709\u5bf9\u8c61\u7684\u901a\u7528\u63a5\u53e3\uff0c\u53ef\u4ee5\u662f\u62bd\u8c61\u7c7b\u6216\u63a5\u53e3\u3002\u8be5\u7c7b\u4e2d\u5b9a\u4e49\u4e86\u5b50\u7c7b\u7684\u5171\u6027\u5185\u5bb9\u3002</li> <li><code>Leaf</code>\u53f6\u5b50\uff1a\u5b9e\u73b0\u4e86Component\u63a5\u53e3\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u8868\u793a\u7ec4\u5408\u4e2d\u7684\u53f6\u5b50\u5bf9\u8c61\uff0c\u53f6\u5b50\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\u3002</li> <li><code>Composite</code>\u5408\u6210\uff1a \u4f5c\u7528\u662f\u5b58\u50a8\u5b50\u90e8\u4ef6\uff0c\u5e76\u4e14\u5728Composite\u4e2d\u5b9e\u73b0\u4e86\u5bf9\u5b50\u90e8\u4ef6\u7684\u76f8\u5173\u64cd\u4f5c\uff0c\u6bd4\u5982\u6dfb\u52a0\u3001\u5220\u9664\u3001\u83b7\u53d6\u5b50\u7ec4\u4ef6\u7b49\u3002</li> </ul> <p>\u901a\u8fc7\u7ec4\u5408\u6a21\u5f0f\uff0c\u6574\u4e2a\u7701\u4efd\u7684\u83b7\u53d6\u4fe1\u606f\u64cd\u4f5c\u53ef\u4ee5\u4e00\u6b21\u6027\u5730\u6267\u884c\uff0c\u800c\u65e0\u9700\u5173\u5fc3\u7701\u4efd\u4e2d\u7684\u5177\u4f53\u57ce\u5e02\u3002\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u5bf9\u56fd\u5bb6\u7701\u4efd\u548c\u57ce\u5e02\u7684\u7ba1\u7406\u548c\u64cd\u4f5c\u3002</p>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#_5","title":"\u7b80\u6613\u5b9e\u73b0","text":"Java<pre><code>// \u7ec4\u4ef6\u63a5\u53e3\ninterface Component {\n    void operation();\n}\n\n// \u53f6\u5b50\u8282\u70b9\nclass Leaf implements Component {\n    @Override\n    public void operation() {\n        System.out.println(\"Leaf operation\");\n    }\n}\n\n// \u7ec4\u5408\u8282\u70b9\uff1a\u5305\u542b\u53f6\u5b50\u8282\u70b9\u7684\u64cd\u4f5c\u884c\u4e3a\nclass Composite implements Component {\n    private List&lt;Component&gt; components = new ArrayList&lt;&gt;();\n\n    public void add(Component component) {\n        components.add(component);\n    }\n\n    public void remove(Component component) {\n        components.remove(component);\n    }\n\n    @Override\n    public void operation() {\n        System.out.println(\"Composite operation\");\n        for (Component component : components) {\n            component.operation();\n        }\n    }\n}\n\n// \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Client {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u53f6\u5b50\u8282\u70b9\n        Leaf leaf = new Leaf();\n        // \u521b\u5efa\u7ec4\u5408\u8282\u70b9\uff0c\u5e76\u6dfb\u52a0\u53f6\u5b50\u8282\u70b9\n        Composite composite = new Composite();\n        composite.add(leaf);\n\n        composite.operation(); // \u7edf\u4e00\u8c03\u7528\n    }\n}\n</code></pre>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#_6","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u7ec4\u5408\u6a21\u5f0f\u53ef\u4ee5\u4f7f\u5f97\u5ba2\u6237\u7aef\u53ef\u4ee5\u7edf\u4e00\u5904\u7406\u5355\u4e2a\u5bf9\u8c61\u548c\u7ec4\u5408\u5bf9\u8c61\uff0c\u65e0\u9700\u533a\u5206\u5b83\u4eec\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u6bd4\u5982\u5728\u56fe\u5f62\u7f16\u8f91\u5668\u4e2d\uff0c\u56fe\u5f62\u5bf9\u8c61\u53ef\u4ee5\u662f\u7b80\u5355\u7684\u7ebf\u3001\u5706\u5f62\uff0c\u4e5f\u53ef\u4ee5\u662f\u590d\u6742\u7684\u7ec4\u5408\u56fe\u5f62\uff0c\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u5bf9\u7ec4\u5408\u8282\u70b9\u6dfb\u52a0\u7edf\u4e00\u7684\u64cd\u4f5c\u3002</p> <p>\u603b\u7684\u6765\u8bf4\uff0c\u7ec4\u5408\u6a21\u5f0f\u9002\u7528\u4e8e\u4efb\u4f55\u9700\u8981\u6784\u5efa\u5177\u6709\u90e8\u5206-\u6574\u4f53\u5c42\u6b21\u7ed3\u6784\u7684\u573a\u666f\uff0c\u6bd4\u5982\u7ec4\u7ec7\u67b6\u6784\u7ba1\u7406\u3001\u6587\u4ef6\u7cfb\u7edf\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u7ec4\u7ec7\u7b49\u3002</p>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#_7","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\ninterface Component {\n    void display(int depth);\n}\n\nclass Department implements Component {\n    private String name;\n    private List&lt;Component&gt; children;\n\n    public Department(String name) {\n        this.name = name;\n        this.children = new ArrayList&lt;&gt;();\n    }\n\n    public void add(Component component) {\n        children.add(component);\n    }\n\n    @Override\n    public void display(int depth) {\n        StringBuilder indent = new StringBuilder();\n        for (int i = 0; i &lt; depth; i++) {\n            indent.append(\"  \");\n        }\n        System.out.println(indent + name);\n        for (Component component : children) {\n            component.display(depth + 1);\n        }\n    }\n}\n\nclass Employee implements Component {\n    private String name;\n\n    public Employee(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public void display(int depth) {\n        StringBuilder indent = new StringBuilder();\n        for (int i = 0; i &lt; depth; i++) {\n            indent.append(\"  \");\n        }\n        System.out.println(indent + \"  \" + name);\n    }\n}\n\nclass Company {\n    private String name;\n    private Department root;\n\n    public Company(String name) {\n        this.name = name;\n        this.root = new Department(name);\n    }\n\n    public void add(Component component) {\n        root.add(component);\n    }\n\n    public void display() {\n        System.out.println(\"Company Structure:\");\n        root.display(0);  // \u4ece 1 \u5f00\u59cb\uff0c\u4ee5\u9002\u914d\u6307\u5b9a\u7684\u7f29\u8fdb\u683c\u5f0f\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u8bfb\u53d6\u516c\u53f8\u540d\u79f0\n        String companyName = scanner.nextLine();\n        Company company = new Company(companyName);\n\n        // \u8bfb\u53d6\u90e8\u95e8\u548c\u5458\u5de5\u6570\u91cf\n        int n = scanner.nextInt();\n        scanner.nextLine();\n\n        // \u8bfb\u53d6\u90e8\u95e8\u548c\u5458\u5de5\u4fe1\u606f\n        for (int i = 0; i &lt; n; i++) {\n            String type = scanner.next();\n            String name = scanner.nextLine().trim();\n\n            if (\"D\".equals(type)) {\n                Department department = new Department(name);\n                company.add(department);\n            } else if (\"E\".equals(type)) {\n                Employee employee = new Employee(name);\n                company.add(employee);\n            }\n        }\n\n        // \u8f93\u51fa\u516c\u53f8\u7ec4\u7ec7\u7ed3\u6784\n        company.display();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#_8","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;sstream&gt;\n\nclass Component {\npublic:\n    virtual void display(int depth) = 0;\n};\n\nclass Department : public Component {\nprivate:\n    std::string name;\n    std::vector&lt;Component*&gt; children;\n\npublic:\n    Department(const std::string&amp; name) : name(name) {}\n\n    void add(Component* component) {\n        children.push_back(component);\n    }\n\n    void display(int depth) override {\n        std::string indent(depth * 2, ' ');\n        std::cout &lt;&lt; indent &lt;&lt; name &lt;&lt; std::endl;\n        for (Component* component : children) {\n            component-&gt;display(depth + 1);\n        }\n    }\n};\n\nclass Employee : public Component {\nprivate:\n    std::string name;\n\npublic:\n    Employee(const std::string&amp; name) : name(name) {}\n\n    void display(int depth) override {\n        std::string indent((depth + 1) * 2, ' ');\n        std::cout &lt;&lt; indent &lt;&lt; name &lt;&lt; std::endl;\n    }\n};\n\nclass Company {\nprivate:\n    std::string name;\n    Department* root;\n\npublic:\n    Company(const std::string&amp; name) : name(name), root(new Department(name)) {}\n\n    void add(Component* component) {\n        root-&gt;add(component);\n    }\n\n    void display() {\n        std::cout &lt;&lt; \"Company Structure:\" &lt;&lt; std::endl;\n        root-&gt;display(0);\n    }\n};\n\nint main() {\n    std::string companyName;\n    std::getline(std::cin, companyName);\n\n    Company company(companyName);\n\n    int n;\n    std::cin &gt;&gt; n;\n    std::cin.ignore(); \n    for (int i = 0; i &lt; n; i++) {\n        std::string type, name;\n        std::cin &gt;&gt; type;\n        std::getline(std::cin &gt;&gt; std::ws, name);\n\n        if (type == \"D\") {\n            Department* department = new Department(name);\n            company.add(department);\n        } else if (type == \"E\") {\n            Employee* employee = new Employee(name);\n            company.add(employee);\n        }\n    }\n\n    company.display();\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from typing import List\n\n# \u6b65\u9aa41: \u521b\u5efa\u5b9e\u73b0\u5316\u63a5\u53e3\nclass Component:\n    def display(self, depth: int):\n        pass\n\n# \u6b65\u9aa42: \u521b\u5efa\u5177\u4f53\u5b9e\u73b0\u5316\u7c7b\nclass Department(Component):\n    def __init__(self, name: str):\n        self.name = name\n        self.children: List[Component] = []\n\n    def add(self, component: Component):\n        self.children.append(component)\n\n    def display(self, depth: int):\n        indent = \"  \" * depth\n        print(indent + self.name)\n        for component in self.children:\n            component.display(depth + 1)\n\nclass Employee(Component):\n    def __init__(self, name: str):\n        self.name = name\n\n    def display(self, depth: int):\n        indent = \"  \" * depth\n        print(indent + \"  \" + self.name)\n\nclass Company:\n    def __init__(self, name: str):\n        self.name = name\n        self.root = Department(name)\n\n    def add(self, component: Component):\n        self.root.add(component)\n\n    def display(self):\n        print(\"Company Structure:\")\n        self.root.display(0)\n\nif __name__ == \"__main__\":\n    # \u8bfb\u53d6\u516c\u53f8\u540d\u79f0\n    company_name = input()\n    company = Company(company_name)\n\n    # \u8bfb\u53d6\u90e8\u95e8\u548c\u5458\u5de5\u6570\u91cf\n    n = int(input())\n\n    # \u8bfb\u53d6\u90e8\u95e8\u548c\u5458\u5de5\u4fe1\u606f\n    for _ in range(n):\n        type_str, name = input().split(maxsplit=1)\n\n        if type_str == \"D\":\n            department = Department(name.strip())\n            company.add(department)\n        elif type_str == \"E\":\n            employee = Employee(name.strip())\n            company.add(employee)\n\n    # \u8f93\u51fa\u516c\u53f8\u7ec4\u7ec7\u7ed3\u6784\n    company.display()\n</code></pre>"},{"location":"DesignPattern/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"bufio\"\n    \"fmt\"\n    \"os\"\n    \"strings\"\n)\n\n// \u6b65\u9aa41: \u521b\u5efa\u7ec4\u4ef6\u63a5\u53e3\ntype Component interface {\n    display(depth int)\n}\n\n// \u6b65\u9aa42: \u521b\u5efa\u90e8\u95e8\u7c7b\u5b9e\u73b0\u7ec4\u4ef6\u63a5\u53e3\ntype Department struct {\n    name     string\n    children []Component\n}\n\nfunc NewDepartment(name string) *Department {\n    return &amp;Department{\n        name:     name,\n        children: make([]Component, 0),\n    }\n}\n\nfunc (d *Department) add(component Component) {\n    d.children = append(d.children, component)\n}\n\nfunc (d *Department) display(depth int) {\n    indent := strings.Repeat(\"  \", depth*2)\n    fmt.Println(indent + d.name)\n    for _, child := range d.children {\n        child.display(depth + 1)\n    }\n}\n\n// \u6b65\u9aa43: \u521b\u5efa\u5458\u5de5\u7c7b\u5b9e\u73b0\u7ec4\u4ef6\u63a5\u53e3\ntype Employee struct {\n    name string\n}\n\nfunc NewEmployee(name string) *Employee {\n    return &amp;Employee{\n        name: name,\n    }\n}\n\nfunc (e *Employee) display(depth int) {\n    indent := strings.Repeat(\"  \", depth*2)\n    fmt.Println(indent + \"  \" + e.name)\n}\n\n// \u6b65\u9aa44: \u521b\u5efa\u516c\u53f8\u7c7b\ntype Company struct {\n    name string\n    root *Department\n}\n\nfunc NewCompany(name string) *Company {\n    return &amp;Company{\n        name: name,\n        root: NewDepartment(name),\n    }\n}\n\nfunc (c *Company) add(component Component) {\n    c.root.add(component)\n}\n\nfunc (c *Company) display() {\n    fmt.Println(\"Company Structure:\")\n    c.root.display(0) // \u4ece 0 \u5f00\u59cb\uff0c\u4ee5\u9002\u914d\u6307\u5b9a\u7684\u7f29\u8fdb\u683c\u5f0f\n}\n\nfunc main() {\n    scanner := bufio.NewScanner(os.Stdin)\n\n    // \u8bfb\u53d6\u516c\u53f8\u540d\u79f0\n    scanner.Scan()\n    companyName := scanner.Text()\n    company := NewCompany(companyName)\n\n    // \u8bfb\u53d6\u90e8\u95e8\u548c\u5458\u5de5\u6570\u91cf\n    scanner.Scan()\n    n := 0\n    fmt.Sscanf(scanner.Text(), \"%d\", &amp;n)\n\n    // \u8bfb\u53d6\u90e8\u95e8\u548c\u5458\u5de5\u4fe1\u606f\n    var currentDepartment *Department\n\n    for i := 0; i &lt; n; i++ {\n        scanner.Scan()\n        line := scanner.Text()\n        fields := strings.Fields(line)\n\n        if len(fields) &lt; 2 {\n            continue\n        }\n\n        typeStr := fields[0]\n        name := strings.Join(fields[1:], \" \")\n\n        if typeStr == \"D\" {\n            department := NewDepartment(name)\n            company.add(department)\n            currentDepartment = department\n        } else if typeStr == \"E\" {\n            employee := NewEmployee(name)\n            currentDepartment.add(employee)\n        }\n    }\n\n    // \u8f93\u51fa\u516c\u53f8\u7ec4\u7ec7\u7ed3\u6784\n    company.display()\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/","title":"\u4eab\u5143\u6a21\u5f0f","text":"<p> \u7ea6 828 \u4e2a\u5b57  428 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u7840\u6982\u5ff5","text":"<p>\u4eab\u5143\u6a21\u5f0f\u662f\u4e00\u79cd\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5728\u4eab\u5143\u6a21\u5f0f\u4e2d\uff0c\u5bf9\u8c61\u88ab\u8bbe\u8ba1\u4e3a\u53ef\u5171\u4eab\u7684\uff0c\u53ef\u4ee5\u88ab\u591a\u4e2a\u4e0a\u4e0b\u6587\u4f7f\u7528\uff0c\u800c\u4e0d\u5fc5\u5728\u6bcf\u4e2a\u4e0a\u4e0b\u6587\u4e2d\u90fd\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\u3002</p> <p>\u60f3\u8981\u4e86\u89e3\u4eab\u5143\u6a21\u5f0f\uff0c\u5c31\u5fc5\u987b\u8981\u533a\u5206\u4ec0\u4e48\u662f\u5185\u90e8\u72b6\u6001\uff0c\u4ec0\u4e48\u662f\u5916\u90e8\u72b6\u6001\u3002</p> <ul> <li> <p>\u5185\u90e8\u72b6\u6001\u662f\u6307\u90a3\u4e9b\u53ef\u4ee5\u88ab\u591a\u4e2a\u5bf9\u8c61\u5171\u4eab\u7684\u72b6\u6001\uff0c\u5b83\u5b58\u50a8\u5728\u4eab\u5143\u5bf9\u8c61\u5185\u90e8\uff0c\u5e76\u4e14\u5bf9\u4e8e\u6240\u6709\u4eab\u5143\u5bf9\u8c61\u90fd\u662f\u76f8\u540c\u7684\uff0c\u8fd9\u90e8\u5206\u72b6\u6001\u901a\u5e38\u662f\u4e0d\u53d8\u7684\u3002</p> </li> <li> <p>\u800c\u5916\u90e8\u72b6\u6001\u662f\u4eab\u5143\u5bf9\u8c61\u4f9d\u8d56\u7684\u3001\u53ef\u80fd\u53d8\u5316\u7684\u90e8\u5206\u3002\u8fd9\u90e8\u5206\u72b6\u6001\u4e0d\u5b58\u50a8\u5728\u4eab\u5143\u5bf9\u8c61\u5185\u90e8\uff0c\u800c\u662f\u5728\u4f7f\u7528\u4eab\u5143\u5bf9\u8c61\u65f6\u901a\u8fc7\u53c2\u6570\u4f20\u9012\u7ed9\u5bf9\u8c61\u3002</p> </li> </ul> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u56fe\u4e66\u9986\u4e2d\u6709\u5f88\u591a\u76f8\u540c\u7684\u4e66\u7c4d\uff0c\u4f46\u6bcf\u672c\u4e66\u90fd\u53ef\u4ee5\u88ab\u591a\u4e2a\u4eba\u501f\u9605\uff0c\u56fe\u4e66\u9986\u91cc\u7684\u4e66\u5c31\u662f\u5185\u90e8\u72b6\u6001\uff0c\u4eba\u5c31\u662f\u5916\u90e8\u72b6\u6001\u3002</p> <p>\u518d\u4e3e\u4e2a\u5f00\u53d1\u4e2d\u7684\u4f8b\u5b50\uff0c\u5047\u8bbe\u6211\u4eec\u5728\u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u56fe\u5f62\u7f16\u8f91\u5668\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u753b\u5e03\u4e0a\u7ed8\u5236\u4e0d\u540c\u7c7b\u578b\u7684\u56fe\u5f62\uff0c\u800c\u56fe\u5f62\u5c31\u662f\u6240\u6709\u56fe\u5f62\u5bf9\u8c61\u7684\u5185\u90e8\u72b6\u6001\uff08\u4e0d\u53d8\u7684\uff09\uff0c\u800c\u56fe\u5f62\u7684\u5750\u6807\u4f4d\u7f6e\u5c31\u662f\u56fe\u5f62\u5bf9\u8c61\u7684\u5916\u90e8\u72b6\u6001\uff08\u53d8\u5316\u7684\uff09\u3002</p> <p>\u5982\u679c\u56fe\u5f62\u7f16\u8f91\u5668\u4e2d\u6709\u6210\u5343\u4e0a\u4e07\u7684\u56fe\u5f62\u5bf9\u8c61\uff0c\u6bcf\u4e2a\u56fe\u5f62\u5bf9\u8c61\u90fd\u72ec\u7acb\u521b\u5efa\u5e76\u5b58\u50a8\u5176\u5185\u90e8\u72b6\u6001\uff0c\u90a3\u4e48\u7cfb\u7edf\u7684\u5185\u5b58\u5360\u7528\u53ef\u80fd\u4f1a\u5f88\u5927\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4eab\u5143\u6a21\u5f0f\u5171\u4eab\u76f8\u540c\u7c7b\u578b\u7684\u56fe\u5f62\u5bf9\u8c61\uff0c\u6bcf\u79cd\u7c7b\u578b\u7684\u56fe\u5f62\u5bf9\u8c61\u53ea\u9700\u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u5b9e\u4f8b\uff0c\u7136\u540e\u901a\u8fc7\u8bbe\u7f6e\u4e0d\u540c\u7684\u5750\u6807\u4f4d\u7f6e\u4e2a\u6027\u5316\u6bcf\u4e2a\u5bf9\u8c61\uff0c\u901a\u8fc7\u5171\u4eab\u76f8\u540c\u7684\u5185\u90e8\u72b6\u6001\uff0c\u964d\u4f4e\u4e86\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u5185\u5b58\u5360\u7528\u6210\u672c\u3002</p>"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u4eab\u5143\u6a21\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u89d2\u8272\uff1a</p> <p></p> <ul> <li>\u4eab\u5143\u63a5\u53e3<code>Flyweight</code>:  \u6240\u6709\u5177\u4f53\u4eab\u5143\u7c7b\u7684\u5171\u4eab\u63a5\u53e3\uff0c\u901a\u5e38\u5305\u542b\u5bf9\u5916\u90e8\u72b6\u6001\u7684\u64cd\u4f5c\u3002</li> <li>\u5177\u4f53\u4eab\u5143\u7c7b<code>ConcreteFlyweight</code>:  \u7ee7\u627f<code>Flyweight</code>\u7c7b\u6216\u5b9e\u73b0\u4eab\u5143\u63a5\u53e3\uff0c\u5305\u542b\u5185\u90e8\u72b6\u6001\u3002</li> <li>\u4eab\u5143\u5de5\u5382\u7c7b<code>FlyweightFactory</code>:  \u521b\u5efa\u5e76\u7ba1\u7406\u4eab\u5143\u5bf9\u8c61\uff0c\u5f53\u7528\u6237\u8bf7\u6c42\u65f6\uff0c\u63d0\u4f9b\u5df2\u521b\u5efa\u7684\u5b9e\u4f8b\u6216\u8005\u521b\u5efa\u4e00\u4e2a\u3002</li> <li>\u5ba2\u6237\u7aef<code>Client</code>:  \u7ef4\u62a4\u5916\u90e8\u72b6\u6001\uff0c\u5728\u4f7f\u7528\u4eab\u5143\u5bf9\u8c61\u65f6\uff0c\u5c06\u5916\u90e8\u72b6\u6001\u4f20\u9012\u7ed9\u4eab\u5143\u5bf9\u8c61\u3002</li> </ul>"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<p>\u4eab\u5143\u6a21\u5f0f\u7684\u5b9e\u73b0\u901a\u5e38\u6d89\u53ca\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u5b9a\u4e49\u4eab\u5143\u63a5\u53e3\uff0c\u63a5\u53d7\u5916\u90e8\u72b6\u6001\u4f5c\u4e3a\u53c2\u6570\u5e76\u8fdb\u884c\u5904\u7406\u3002</li> </ol> Java<pre><code>// \u6b65\u9aa4 1: \u5b9a\u4e49\u4eab\u5143\u63a5\u53e3\ninterface Flyweight {\n    // \u64cd\u4f5c\u5916\u90e8\u72b6\u6001\n    void operation(String externalState);\n}\n</code></pre> <ol> <li>\u5b9e\u73b0\u5177\u4f53\u4eab\u5143\u7c7b, \u5b58\u50a8\u5185\u90e8\u72b6\u6001\u3002</li> </ol> Java<pre><code>// \u6b65\u9aa4 2: \u5b9e\u73b0\u5177\u4f53\u4eab\u5143\u7c7b\nclass ConcreteFlyweight implements Flyweight {\n    private String intrinsicState; // \u5185\u90e8\u72b6\u6001\n\n    public ConcreteFlyweight(String intrinsicState) {\n        this.intrinsicState = intrinsicState;\n    }\n\n    @Override\n    public void operation(String externalState) {\n        System.out.println(\"Intrinsic State: \" + intrinsicState + \", External State: \" + externalState);\n    }\n}\n</code></pre> <ol> <li>\u521b\u5efa\u4eab\u5143\u5de5\u5382\u7c7b\uff0c\u521b\u5efa\u5e76\u7ba1\u7406<code>Flyweight</code>\u5bf9\u8c61\uff0c\u5f53\u7528\u6237\u8bf7\u6c42\u4e00\u4e2a<code>Flyweight</code>\u65f6\uff0c\u4eab\u5143\u5de5\u5382\u4f1a\u63d0\u4f9b\u4e00\u4e2a\u5df2\u7ecf\u521b\u5efa\u7684\u5b9e\u4f8b\u6216\u8005\u521b\u5efa\u4e00\u4e2a\u3002</li> </ol> Java<pre><code>class FlyweightFactory {\n    private Map&lt;String, Flyweight&gt; flyweights = new HashMap&lt;&gt;();\n\n    public Flyweight getFlyweight(String key) {\n        if (!flyweights.containsKey(key)) {\n            flyweights.put(key, new ConcreteFlyweight(key));\n        }\n        return flyweights.get(key);\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u4f7f\u7528\u4eab\u5143\u6a21\u5f0f</li> </ol> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        FlyweightFactory factory = new FlyweightFactory();\n\n        // \u83b7\u53d6\u6216\u521b\u5efa\u4eab\u5143\u5bf9\u8c61\uff0c\u5e76\u4f20\u9012\u5916\u90e8\u72b6\u6001\n        Flyweight flyweight1 = factory.getFlyweight(\"A\");\n        flyweight1.operation(\"External State 1\");\n\n        Flyweight flyweight2 = factory.getFlyweight(\"B\");\n        flyweight2.operation(\"External State 2\");\n\n        Flyweight flyweight3 = factory.getFlyweight(\"A\"); // \u91cd\u590d\u4f7f\u7528\u5df2\u5b58\u5728\u7684\u4eab\u5143\u5bf9\u8c61\n        flyweight3.operation(\"External State 3\");\n    }\n}\n</code></pre>"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u4f7f\u7528\u4eab\u5143\u6a21\u5f0f\u7684\u5173\u952e\u5728\u4e8e\u5305\u542b\u5927\u91cf\u76f8\u4f3c\u5bf9\u8c61\uff0c\u5e76\u4e14\u8fd9\u4e9b\u5bf9\u8c61\u7684\u5185\u90e8\u72b6\u6001\u53ef\u4ee5\u5171\u4eab\u3002\u5177\u4f53\u7684\u5e94\u7528\u573a\u666f\u5305\u62ec\u6587\u672c\u7f16\u8f91\u5668\uff0c\u56fe\u5f62\u7f16\u8f91\u5668\uff0c\u6e38\u620f\u4e2d\u7684\u89d2\u8272\u521b\u5efa\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u7684\u5185\u90e8\u72b6\u6001\u6bd4\u8f83\u56fa\u5b9a(\u5916\u89c2\uff0c\u6280\u80fd\uff0c\u5f62\u72b6)\uff0c\u4f46\u662f\u5916\u90e8\u72b6\u6001\u53d8\u5316\u6bd4\u8f83\u5927\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u3002</p>"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\nenum ShapeType {\n    CIRCLE, RECTANGLE, TRIANGLE\n}\n\nclass Position {\n    private int x;\n    private int y;\n\n    public Position(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n}\n\ninterface Shape {\n    void draw(Position position);\n}\n\nclass ConcreteShape implements Shape {\n    private ShapeType shapeType;\n\n    public ConcreteShape(ShapeType shapeType) {\n        this.shapeType = shapeType;\n    }\n\n    @Override\n    public void draw(Position position) {\n        System.out.println(shapeType + (isFirstTime ? \" drawn\" : \" shared\") + \" at (\" + position.getX() + \", \" + position.getY() + \")\");\n    }\n\n    private boolean isFirstTime = true;\n\n    public void setFirstTime(boolean firstTime) {\n        isFirstTime = firstTime;\n    }\n}\n\nclass ShapeFactory {\n    private Map&lt;ShapeType, Shape&gt; shapes = new HashMap&lt;&gt;();\n\n    public Shape getShape(ShapeType type) {\n        if (!shapes.containsKey(type)) {\n            shapes.put(type, new ConcreteShape(type));\n        }\n        return shapes.get(type);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        ShapeFactory factory = new ShapeFactory();\n\n        while (scanner.hasNext()) {\n            String command = scanner.nextLine();\n            processCommand(factory, command);\n        }\n    }\n\n    private static void processCommand(ShapeFactory factory, String command) {\n        String[] parts = command.split(\" \");\n        ShapeType type = ShapeType.valueOf(parts[0]);\n        int x = Integer.parseInt(parts[1]);\n        int y = Integer.parseInt(parts[2]);\n\n        Shape shape = factory.getShape(type);\n        shape.draw(new Position(x, y));\n        ((ConcreteShape) shape).setFirstTime(false);\n    }\n}\n</code></pre>"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;unordered_map&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n\nenum ShapeType {\n    CIRCLE, RECTANGLE, TRIANGLE\n};\n\nstd::string shapeTypeToString(ShapeType type) {\n    switch (type) {\n        case CIRCLE:\n            return \"CIRCLE\";\n        case RECTANGLE:\n            return \"RECTANGLE\";\n        case TRIANGLE:\n            return \"TRIANGLE\";\n        default:\n            return \"UNKNOWN\";\n    }\n}\n\nclass Position {\nprivate:\n    int x;\n    int y;\n\npublic:\n    Position(int x, int y) : x(x), y(y) {}\n\n    int getX() const {\n        return x;\n    }\n\n    int getY() const {\n        return y;\n    }\n};\n\nclass Shape {\npublic:\n    virtual void draw(const Position &amp;position) = 0;\n    virtual ~Shape() {}\n};\n\nclass ConcreteShape : public Shape {\nprivate:\n    ShapeType shapeType;\n    bool isFirstTime;\n\npublic:\n    ConcreteShape(ShapeType shapeType) : shapeType(shapeType), isFirstTime(true) {}\n\n    void draw(const Position &amp;position) override {\n        std::cout &lt;&lt; shapeTypeToString(shapeType) &lt;&lt; (isFirstTime ? \" drawn\" : \" shared\") &lt;&lt; \" at (\" &lt;&lt; position.getX() &lt;&lt; \", \" &lt;&lt; position.getY() &lt;&lt; \")\\n\";\n    }\n\n    void setFirstTime(bool firstTime) {\n        isFirstTime = firstTime;\n    }\n};\n\nclass ShapeFactory {\nprivate:\n    std::unordered_map&lt;ShapeType, Shape *&gt; shapes;\n\npublic:\n    Shape *getShape(ShapeType type) {\n        if (shapes.find(type) == shapes.end()) {\n            shapes[type] = new ConcreteShape(type);\n        }\n        return shapes[type];\n    }\n\n    ~ShapeFactory() {\n        for (const auto &amp;entry : shapes) {\n            delete entry.second;\n        }\n    }\n};\n\nvoid processCommand(ShapeFactory &amp;factory, const std::string &amp;command);\n\nint main() {\n    ShapeFactory factory;\n    std::string command;\n\n    while (std::getline(std::cin, command)) {\n        processCommand(factory, command);\n    }\n\n    return 0;\n}\n\nvoid processCommand(ShapeFactory &amp;factory, const std::string &amp;command) {\n    std::istringstream iss(command);\n    std::string shapeTypeStr;\n    int x, y;\n\n    iss &gt;&gt; shapeTypeStr &gt;&gt; x &gt;&gt; y;\n\n    ShapeType type;\n    if (shapeTypeStr == \"CIRCLE\") {\n        type = CIRCLE;\n    } else if (shapeTypeStr == \"RECTANGLE\") {\n        type = RECTANGLE;\n    } else if (shapeTypeStr == \"TRIANGLE\") {\n        type = TRIANGLE;\n    } else {\n        std::cerr &lt;&lt; \"Invalid shape type: \" &lt;&lt; shapeTypeStr &lt;&lt; std::endl;\n        return;\n    }\n\n    Shape *shape = factory.getShape(type);\n    shape-&gt;draw(Position(x, y));\n    dynamic_cast&lt;ConcreteShape *&gt;(shape)-&gt;setFirstTime(false);\n}\n</code></pre>"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from enum import Enum\nfrom typing import Dict\n\nclass ShapeType(Enum):\n    CIRCLE = \"CIRCLE\"\n    RECTANGLE = \"RECTANGLE\"\n    TRIANGLE = \"TRIANGLE\"\n\nclass Position:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\nclass Shape:\n    def draw(self, position: Position):\n        pass\n\nclass ConcreteShape(Shape):\n    def __init__(self, shape_type: ShapeType):\n        self.shape_type = shape_type\n        self.is_first_time = True\n\n    def draw(self, position: Position):\n        print(f\"{self.shape_type.value}{' drawn' if self.is_first_time else ' shared'} at ({position.x}, {position.y})\")\n\n    def set_first_time(self, first_time: bool):\n        self.is_first_time = first_time\n\nclass ShapeFactory:\n    def __init__(self):\n        self.shapes: Dict[ShapeType, Shape] = {}\n\n    def get_shape(self, shape_type: ShapeType) -&gt; Shape:\n        if shape_type not in self.shapes:\n            self.shapes[shape_type] = ConcreteShape(shape_type)\n        return self.shapes[shape_type]\n\ndef process_command(factory: ShapeFactory, command: str):\n    parts = command.split(\" \")\n    shape_type = ShapeType(parts[0])\n    x = int(parts[1])\n    y = int(parts[2])\n\n    shape = factory.get_shape(shape_type)\n    shape.draw(Position(x, y))\n    shape.set_first_time(False)\n\nif __name__ == \"__main__\":\n    factory = ShapeFactory()\n\n    while True:\n        try:\n            command = input()\n            process_command(factory, command)\n        except EOFError:\n            break\n</code></pre>"},{"location":"DesignPattern/12-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"bufio\"\n    \"fmt\"\n    \"os\"\n    \"strconv\"\n    \"strings\"\n)\n\ntype ShapeType int\n\nconst (\n    CIRCLE    ShapeType = iota\n    RECTANGLE\n    TRIANGLE\n)\n\nvar shapeTypeStrings = [...]string{\n    \"CIRCLE\",\n    \"RECTANGLE\",\n    \"TRIANGLE\",\n}\n\ntype Position struct {\n    X, Y int\n}\n\ntype Shape interface {\n    Draw(Position)\n}\n\ntype ConcreteShape struct {\n    ShapeType   ShapeType\n    IsFirstTime bool\n}\n\nfunc NewConcreteShape(shapeType ShapeType) *ConcreteShape {\n    return &amp;ConcreteShape{\n        ShapeType:   shapeType,\n        IsFirstTime: true,\n    }\n}\n\nfunc (s *ConcreteShape) Draw(position Position) {\n    fmt.Printf(\"%s %s at (%d, %d)\\n\", s.ShapeType.String(), s.getTimeDescription(), position.X, position.Y)\n}\n\nfunc (s *ConcreteShape) setFirstTime(firstTime bool) {\n    s.IsFirstTime = firstTime\n}\n\nfunc (s *ConcreteShape) getTimeDescription() string {\n    if s.IsFirstTime {\n        return \"drawn\"\n    }\n    return \"shared\"\n}\n\nfunc (st ShapeType) String() string {\n    if st &gt;= 0 &amp;&amp; int(st) &lt; len(shapeTypeStrings) {\n        return shapeTypeStrings[st]\n    }\n    return \"UNKNOWN\"\n}\n\ntype ShapeFactory struct {\n    shapes map[ShapeType]Shape\n}\n\nfunc NewShapeFactory() *ShapeFactory {\n    return &amp;ShapeFactory{\n        shapes: make(map[ShapeType]Shape),\n    }\n}\n\nfunc (f *ShapeFactory) getShape(shapeType ShapeType) Shape {\n    if _, exists := f.shapes[shapeType]; !exists {\n        f.shapes[shapeType] = NewConcreteShape(shapeType)\n    }\n    return f.shapes[shapeType]\n}\n\nfunc main() {\n    var factory = NewShapeFactory()\n\n    scanner := bufio.NewScanner(os.Stdin)\n    for scanner.Scan() {\n        command := scanner.Text()\n        processCommand(factory, command)\n    }\n\n    if err := scanner.Err(); err != nil {\n        fmt.Println(\"Error reading standard input:\", err)\n    }\n}\n\nfunc processCommand(factory *ShapeFactory, command string) {\n    parts := splitCommand(command)\n    shapeType := ShapeTypeFromString(parts[0])\n    x, _ := strconv.Atoi(parts[1])\n    y, _ := strconv.Atoi(parts[2])\n\n    shape := factory.getShape(shapeType)\n    shape.Draw(Position{X: x, Y: y})\n    concreteShape, ok := shape.(*ConcreteShape)\n    if ok {\n        concreteShape.setFirstTime(false)\n    }\n}\n\nfunc splitCommand(command string) []string {\n    return splitWithoutEmpty(command, ' ')\n}\n\nfunc splitWithoutEmpty(s string, sep byte) []string {\n    parts := strings.FieldsFunc(s, func(r rune) bool {\n        return r == rune(sep)\n    })\n    return parts\n}\n\nfunc ShapeTypeFromString(s string) ShapeType {\n    for i, str := range shapeTypeStrings {\n        if str == s {\n            return ShapeType(i)\n        }\n    }\n    return CIRCLE\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/","title":"\u89c2\u5bdf\u8005\u6a21\u5f0f","text":"<p> \u7ea6 792 \u4e2a\u5b57  452 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#_2","title":"\u4ec0\u4e48\u662f\u89c2\u5bdf\u8005\u6a21\u5f0f","text":"<p>\u89c2\u5bdf\u8005\u6a21\u5f0f\uff08\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\uff09\u5c5e\u4e8e\u884c\u4e3a\u578b\u6a21\u5f0f\uff0c\u5b9a\u4e49\u4e86\u4e00\u79cd\u4e00\u5bf9\u591a\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8ba9\u591a\u4e2a\u89c2\u5bdf\u8005\u5bf9\u8c61\u540c\u65f6\u76d1\u542c\u4e00\u4e2a\u4e3b\u9898\u5bf9\u8c61\uff0c\u5f53\u4e3b\u9898\u5bf9\u8c61\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u6240\u6709\u4f9d\u8d56\u4e8e\u5b83\u7684\u89c2\u5bdf\u8005\u90fd\u5f97\u5230\u901a\u77e5\u5e76\u88ab\u81ea\u52a8\u66f4\u65b0\u3002</p> <p>\u89c2\u5bdf\u8005\u6a21\u5f0f\u4f9d\u8d56\u4e24\u4e2a\u6a21\u5757\uff1a</p> <ul> <li><code>Subject</code>(\u4e3b\u9898)\uff1a\u4e5f\u5c31\u662f\u88ab\u89c2\u5bdf\u7684\u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u7ef4\u62a4\u4e00\u7ec4\u89c2\u5bdf\u8005\uff0c\u5f53\u4e3b\u9898\u672c\u8eab\u53d1\u751f\u6539\u53d8\u65f6\u5c31\u4f1a\u901a\u77e5\u89c2\u5bdf\u8005\u3002</li> <li><code>Observer</code>(\u89c2\u5bdf\u8005)\uff1a\u89c2\u5bdf\u4e3b\u9898\u7684\u5bf9\u8c61\uff0c\u5f53\u201c\u88ab\u89c2\u5bdf\u201d\u7684\u4e3b\u9898\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u89c2\u5bdf\u8005\u5c31\u4f1a\u5f97\u5230\u901a\u77e5\u5e76\u6267\u884c\u76f8\u5e94\u7684\u5904\u7406\u3002</li> </ul> <p></p> <p>\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\u6709\u5f88\u591a\u597d\u5904\uff0c\u6bd4\u5982\u8bf4\u89c2\u5bdf\u8005\u6a21\u5f0f\u5c06\u4e3b\u9898\u548c\u89c2\u5bdf\u8005\u4e4b\u95f4\u7684\u5173\u7cfb\u89e3\u8026\uff0c\u4e3b\u9898\u53ea\u9700\u8981\u5173\u6ce8\u81ea\u5df1\u7684\u72b6\u6001\u53d8\u5316\uff0c\u800c\u89c2\u5bdf\u8005\u53ea\u9700\u8981\u5173\u6ce8\u5728\u4e3b\u9898\u72b6\u6001\u53d8\u5316\u65f6\u9700\u8981\u6267\u884c\u7684\u64cd\u4f5c\uff0c\u4e24\u8005\u4e92\u4e0d\u5e72\u6270\uff0c\u5e76\u4e14\u7531\u4e8e\u89c2\u5bdf\u8005\u548c\u4e3b\u9898\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u53ef\u4ee5\u8f7b\u677e\u7684\u589e\u52a0\u548c\u5220\u9664\u89c2\u5bdf\u8005\uff0c\u8fd9\u6837\u5b9e\u73b0\u7684\u7cfb\u7edf\u66f4\u5bb9\u6613\u6269\u5c55\u548c\u7ef4\u62a4\u3002</p>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#_3","title":"\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u7ed3\u6784","text":"<p>\u89c2\u5bdf\u8005\u6a21\u5f0f\u4f9d\u8d56\u4e3b\u9898\u548c\u89c2\u5bdf\u8005\uff0c\u4f46\u662f\u4e00\u822c\u67094\u4e2a\u7ec4\u6210\u90e8\u5206\uff1a</p> <p></p> <ul> <li><code>\u4e3b\u9898Subject</code>\uff0c \u4e00\u822c\u4f1a\u5b9a\u4e49\u6210\u4e00\u4e2a\u63a5\u53e3\uff0c\u63d0\u4f9b\u65b9\u6cd5\u7528\u4e8e \u6ce8\u518c\u3001\u5220\u9664\u548c\u901a\u77e5\u89c2\u5bdf\u8005 \uff0c\u901a\u5e38\u4e5f\u5305\u542b\u4e00\u4e2a\u72b6\u6001\uff0c\u5f53\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u901a\u77e5\u6240\u6709\u7684\u89c2\u5bdf\u8005\u3002</li> <li><code>\u89c2\u5bdf\u8005Observer</code>:  \u89c2\u5bdf\u8005\u4e5f\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u63a5\u53e3\uff0c\u5305\u542b\u4e00\u4e2a\u66f4\u65b0\u65b9\u6cd5\uff0c\u5728\u63a5\u6536\u4e3b\u9898\u901a\u77e5\u65f6\u6267\u884c\u5bf9\u5e94\u7684\u64cd\u4f5c\u3002</li> <li><code>\u5177\u4f53\u4e3b\u9898ConcreteSubject</code>:  \u4e3b\u9898\u7684\u5177\u4f53\u5b9e\u73b0, \u7ef4\u62a4\u4e00\u4e2a\u89c2\u5bdf\u8005\u5217\u8868\uff0c\u5305\u542b\u4e86\u89c2\u5bdf\u8005\u7684\u6ce8\u518c\u3001\u5220\u9664\u548c\u901a\u77e5\u65b9\u6cd5\u3002</li> <li><code>\u5177\u4f53\u89c2\u5bdf\u8005ConcreteObserver</code>: \u89c2\u5bdf\u8005\u63a5\u53e3\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u6bcf\u4e2a\u5177\u4f53\u89c2\u5bdf\u8005\u90fd\u6ce8\u518c\u5230\u5177\u4f53\u4e3b\u9898\u4e2d\uff0c\u5f53\u4e3b\u9898\u72b6\u6001\u53d8\u5316\u5e76\u901a\u77e5\u5230\u5177\u4f53\u89c2\u5bdf\u8005\uff0c\u5177\u4f53\u89c2\u5bdf\u8005\u8fdb\u884c\u5904\u7406\u3002</li> </ul>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#_4","title":"\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u57fa\u672c\u5b9e\u73b0","text":"<p>\u6839\u636e\u4e0a\u9762\u7684\u7c7b\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u57fa\u672c\u5b9e\u73b0</p> Java<pre><code>// \u4e3b\u9898\u63a5\u53e3 \uff08\u4e3b\u9898\uff09\ninterface Subject {\n    // \u6ce8\u518c\u89c2\u5bdf\u8005\n    void registerObserver(Observer observer);\n    // \u79fb\u9664\u89c2\u5bdf\u8005\n    void removeObserver(Observer observer);\n    // \u901a\u77e5\u89c2\u5bdf\u8005\n    void notifyObservers();\n}\n// \u89c2\u5bdf\u8005\u63a5\u53e3 (\u89c2\u5bdf\u8005)\ninterface Observer {\n    // \u66f4\u65b0\u65b9\u6cd5\n    void update(String message);\n}\n\n// \u5177\u4f53\u4e3b\u9898\u5b9e\u73b0\nclass ConcreteSubject implements Subject {\n    // \u89c2\u5bdf\u8005\u5217\u8868\n    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\n    // \u72b6\u6001\n    private String state;\n\n    // \u6ce8\u518c\u89c2\u5bdf\u8005\n    @Override\n    public void registerObserver(Observer observer) {\n        observers.add(observer);\n    }\n    // \u79fb\u9664\u89c2\u5bdf\u8005\n    @Override\n    public void removeObserver(Observer observer) {\n        observers.remove(observer);\n    }\n    // \u901a\u77e5\u89c2\u5bdf\u8005\n    @Override\n    public void notifyObservers() {\n        for (Observer observer : observers) {\n            // \u89c2\u5bdf\u8005\u6839\u636e\u4f20\u9012\u7684\u4fe1\u606f\u8fdb\u884c\u5904\u7406\n            observer.update(state);\n        }\n    }\n    // \u66f4\u65b0\u72b6\u6001\n    public void setState(String state) {\n        this.state = state;\n        notifyObservers();\n    }\n}\n\n// \u5177\u4f53\u89c2\u5bdf\u8005\u5b9e\u73b0\nclass ConcreteObserver implements Observer {\n    // \u66f4\u65b0\u65b9\u6cd5\n    @Override\n    public void update(String message) {\n    }\n}\n</code></pre>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#_5","title":"\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f","text":"<p>\u89c2\u5bdf\u8005\u6a21\u5f0f\u7279\u522b\u9002\u7528\u4e8e \u4e00\u4e2a\u5bf9\u8c61\u7684\u72b6\u6001\u53d8\u5316\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u5bf9\u8c61\uff0c\u5e76\u4e14\u5e0c\u671b\u8fd9\u4e9b\u5bf9\u8c61\u5728\u72b6\u6001\u53d8\u5316\u65f6\u80fd\u591f\u81ea\u52a8\u66f4\u65b0\u7684\u60c5\u51b5\u3002  \u6bd4\u5982\u8bf4\u5728\u56fe\u5f62\u7528\u6237\u754c\u9762\u4e2d\uff0c\u6309\u94ae\u3001\u6ed1\u52a8\u6761\u7b49\u7ec4\u4ef6\u7684\u72b6\u6001\u53d8\u5316\u53ef\u80fd\u9700\u8981\u901a\u77e5\u5176\u4ed6\u7ec4\u4ef6\u66f4\u65b0\uff0c\u8fd9\u4f7f\u5f97\u89c2\u5bdf\u8005\u6a21\u5f0f\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8eGUI\u6846\u67b6\uff0c\u6bd4\u5982Java\u7684Swing\u6846\u67b6\u3002</p> <p>\u6b64\u5916\uff0c\u89c2\u5bdf\u8005\u6a21\u5f0f\u5728\u524d\u7aef\u5f00\u53d1\u548c\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u4e5f\u6709\u5e94\u7528\uff0c\u6bd4\u8f83\u5178\u578b\u7684\u4f8b\u5b50\u662f\u524d\u7aef\u6846\u67b6<code>Vue</code>, \u5f53\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u89c6\u56fe\u4f1a\u81ea\u52a8\u66f4\u65b0\u3002\u800c\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u89c2\u5bdf\u8005\u6a21\u5f0f\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u8282\u70b9\u4e4b\u95f4\u7684\u6d88\u606f\u901a\u77e5\u673a\u5236\uff0c\u8282\u70b9\u7684\u72b6\u6001\u53d8\u5316\u5c06\u901a\u77e5\u5176\u4ed6\u76f8\u5173\u8282\u70b9\u3002</p>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\n// \u89c2\u5bdf\u8005\u63a5\u53e3\ninterface Observer {\n    void update(int hour);\n}\n\n// \u4e3b\u9898\u63a5\u53e3\ninterface Subject {\n    void registerObserver(Observer observer);\n    void removeObserver(Observer observer);\n    void notifyObservers();\n}\n\n// \u5177\u4f53\u4e3b\u9898\u5b9e\u73b0\nclass Clock implements Subject {\n    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\n    private int hour = 0;\n\n    @Override\n    public void registerObserver(Observer observer) {\n        observers.add(observer);\n    }\n\n    @Override\n    public void removeObserver(Observer observer) {\n        observers.remove(observer);\n    }\n\n    @Override\n    public void notifyObservers() {\n        for (Observer observer : observers) {\n            observer.update(hour);\n        }\n    }\n\n    public void tick() {\n        hour = (hour + 1) % 24; // \u6a21\u62df\u65f6\u95f4\u7684\u63a8\u79fb\n        notifyObservers();\n    }\n}\n\n// \u5177\u4f53\u89c2\u5bdf\u8005\u5b9e\u73b0\nclass Student implements Observer {\n    private String name;\n\n    public Student(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public void update(int hour) {\n        System.out.println(name + \" \" + hour);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u8bfb\u53d6\u5b66\u751f\u6570\u91cf\n        int N = scanner.nextInt();\n\n        // \u521b\u5efa\u65f6\u949f\n        Clock clock = new Clock();\n\n        // \u6ce8\u518c\u5b66\u751f\u89c2\u5bdf\u8005\n        for (int i = 0; i &lt; N; i++) {\n            String studentName = scanner.next();\n            clock.registerObserver(new Student(studentName));\n        }\n\n        // \u8bfb\u53d6\u65f6\u949f\u66f4\u65b0\u6b21\u6570\n        int updates = scanner.nextInt();\n\n        // \u6a21\u62df\u65f6\u949f\u6bcf\u9694\u4e00\u4e2a\u5c0f\u65f6\u66f4\u65b0\u4e00\u6b21\n        for (int i = 0; i &lt; updates; i++) {\n            clock.tick();\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt; \n\n// \u89c2\u5bdf\u8005\u63a5\u53e3\nclass Observer {\npublic:\n    virtual void update(int hour) = 0;\n    virtual ~Observer() = default; // \u6dfb\u52a0\u865a\u6790\u6784\u51fd\u6570\n};\n\n// \u4e3b\u9898\u63a5\u53e3\nclass Subject {\npublic:\n    virtual void registerObserver(Observer* observer) = 0;\n    virtual void removeObserver(Observer* observer) = 0;\n    virtual void notifyObservers() = 0;\n    virtual ~Subject() = default; // \u6dfb\u52a0\u865a\u6790\u6784\u51fd\u6570\n};\n\n// \u5177\u4f53\u4e3b\u9898\u5b9e\u73b0\nclass Clock : public Subject {\nprivate:\n    std::vector&lt;Observer*&gt; observers;\n    int hour;\n\npublic:\n    Clock() : hour(0) {}\n\n    void registerObserver(Observer* observer) override {\n        observers.push_back(observer);\n    }\n\n    void removeObserver(Observer* observer) override {\n        auto it = std::find(observers.begin(), observers.end(), observer);\n        if (it != observers.end()) {\n            observers.erase(it);\n        }\n    }\n\n    void notifyObservers() override {\n        for (Observer* observer : observers) {\n            observer-&gt;update(hour);\n        }\n    }\n\n    // \u6dfb\u52a0\u83b7\u53d6\u89c2\u5bdf\u8005\u7684\u51fd\u6570\n    const std::vector&lt;Observer*&gt;&amp; getObservers() const {\n        return observers;\n    }\n\n    void tick() {\n        hour = (hour + 1) % 24; // \u6a21\u62df\u65f6\u95f4\u7684\u63a8\u79fb\n        notifyObservers();\n    }\n};\n\n// \u5177\u4f53\u89c2\u5bdf\u8005\u5b9e\u73b0\nclass Student : public Observer {\nprivate:\n    std::string name;\n\npublic:\n    Student(const std::string&amp; name) : name(name) {}\n\n    void update(int hour) override {\n        std::cout &lt;&lt; name &lt;&lt; \" \" &lt;&lt; hour &lt;&lt; std::endl;\n    }\n};\n\nint main() {\n    // \u8bfb\u53d6\u5b66\u751f\u6570\u91cf\n    int N;\n    std::cin &gt;&gt; N;\n\n    // \u521b\u5efa\u65f6\u949f\n    Clock clock;\n\n    // \u6ce8\u518c\u5b66\u751f\u89c2\u5bdf\u8005\n    for (int i = 0; i &lt; N; i++) {\n        std::string studentName;\n        std::cin &gt;&gt; studentName;\n        clock.registerObserver(new Student(studentName));\n    }\n\n    // \u8bfb\u53d6\u65f6\u949f\u66f4\u65b0\u6b21\u6570\n    int updates;\n    std::cin &gt;&gt; updates;\n\n    // \u6a21\u62df\u65f6\u949f\u6bcf\u9694\u4e00\u4e2a\u5c0f\u65f6\u66f4\u65b0\u4e00\u6b21\n    for (int i = 0; i &lt; updates; i++) {\n        clock.tick();\n    }\n\n    // \u91ca\u653e\u52a8\u6001\u5206\u914d\u7684\u89c2\u5bdf\u8005\u5bf9\u8c61\n    for (Observer* observer : clock.getObservers()) {\n        delete observer;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from typing import List\n\n# \u89c2\u5bdf\u8005\u63a5\u53e3\nclass Observer:\n    def update(self, hour: int):\n        pass\n\n# \u4e3b\u9898\u63a5\u53e3\nclass Subject:\n    def register_observer(self, observer: Observer):\n        pass\n\n    def remove_observer(self, observer: Observer):\n        pass\n\n    def notify_observers(self):\n        pass\n\n# \u5177\u4f53\u4e3b\u9898\u5b9e\u73b0\nclass Clock(Subject):\n    def __init__(self):\n        self.observers: List[Observer] = []\n        self.hour = 0\n\n    def register_observer(self, observer: Observer):\n        self.observers.append(observer)\n\n    def remove_observer(self, observer: Observer):\n        self.observers.remove(observer)\n\n    def notify_observers(self):\n        for observer in self.observers:\n            observer.update(self.hour)\n\n    def tick(self):\n        self.hour = (self.hour + 1) % 24  # \u6a21\u62df\u65f6\u95f4\u7684\u63a8\u79fb\n        self.notify_observers()\n\n# \u5177\u4f53\u89c2\u5bdf\u8005\u5b9e\u73b0\nclass Student(Observer):\n    def __init__(self, name: str):\n        self.name = name\n\n    def update(self, hour: int):\n        print(f\"{self.name} {hour}\")\n\nif __name__ == \"__main__\":\n    # \u8bfb\u53d6\u5b66\u751f\u6570\u91cf\n    N = int(input())\n\n    # \u521b\u5efa\u65f6\u949f\n    clock = Clock()\n\n    # \u6ce8\u518c\u5b66\u751f\u89c2\u5bdf\u8005\n    for _ in range(N):\n        student_name = input()\n        clock.register_observer(Student(student_name))\n\n    # \u8bfb\u53d6\u65f6\u949f\u66f4\u65b0\u6b21\u6570\n    updates = int(input())\n\n    # \u6a21\u62df\u65f6\u949f\u6bcf\u9694\u4e00\u4e2a\u5c0f\u65f6\u66f4\u65b0\u4e00\u6b21\n    for _ in range(updates):\n        clock.tick()\n</code></pre>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#go","title":"GO","text":"Go<pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\n// \u89c2\u5bdf\u8005\u63a5\u53e3\ntype Observer interface {\n    Update(hour int)\n}\n\n// \u4e3b\u9898\u63a5\u53e3\ntype Subject interface {\n    RegisterObserver(observer Observer)\n    RemoveObserver(observer Observer)\n    NotifyObservers()\n}\n\n// \u5177\u4f53\u4e3b\u9898\u5b9e\u73b0\ntype Clock struct {\n    observers []Observer\n    hour      int\n}\n\nfunc (c *Clock) RegisterObserver(observer Observer) {\n    c.observers = append(c.observers, observer)\n}\n\nfunc (c *Clock) RemoveObserver(observer Observer) {\n    for i, obs := range c.observers {\n        if obs == observer {\n            c.observers = append(c.observers[:i], c.observers[i+1:]...)\n            break\n        }\n    }\n}\n\nfunc (c *Clock) NotifyObservers() {\n    for _, observer := range c.observers {\n        observer.Update(c.hour)\n    }\n}\n\nfunc (c *Clock) Tick() {\n    c.hour = (c.hour + 1) % 24 // \u6a21\u62df\u65f6\u95f4\u7684\u63a8\u79fb\n    c.NotifyObservers()\n}\n\n// \u5177\u4f53\u89c2\u5bdf\u8005\u5b9e\u73b0\ntype Student struct {\n    name string\n}\n\nfunc NewStudent(name string) *Student {\n    return &amp;Student{name: name}\n}\n\nfunc (s *Student) Update(hour int) {\n    fmt.Println(s.name, hour)\n}\n\nfunc main() {\n    // \u8bfb\u53d6\u5b66\u751f\u6570\u91cf\n    var N int\n    fmt.Scan(&amp;N)\n\n    // \u521b\u5efa\u65f6\u949f\n    clock := &amp;Clock{}\n\n    // \u6ce8\u518c\u5b66\u751f\u89c2\u5bdf\u8005\n    for i := 0; i &lt; N; i++ {\n        var studentName string\n        fmt.Scan(&amp;studentName)\n        clock.RegisterObserver(NewStudent(studentName))\n    }\n\n    // \u8bfb\u53d6\u65f6\u949f\u66f4\u65b0\u6b21\u6570\n    var updates int\n    fmt.Scan(&amp;updates)\n\n    // \u6a21\u62df\u65f6\u949f\u6bcf\u9694\u4e00\u4e2a\u5c0f\u65f6\u66f4\u65b0\u4e00\u6b21\n    for i := 0; i &lt; updates; i++ {\n        clock.Tick()\n    }\n}\n</code></pre>"},{"location":"DesignPattern/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#typescript","title":"Typescript","text":"TypeScript<pre><code>interface ISubject {\n  add(observer: IObserver): void;\n  remove(observer: IObserver): void;\n  notify(msg: string): void;\n}\n\ninterface IObserver {\n  update(msg: string): void;\n}\n\nclass Clock implements ISubject {\n  private observers: IObserver[]\n\n  constructor() {\n    this.observers = [];\n  }\n\n  add(observer: IObserver) {\n    this.observers.push(observer);\n  }\n\n  remove(observer: IObserver) {\n    this.observers = this.observers.filter((item) =&gt; item!== observer);\n  }\n\n  notify(msg: string) {\n    this.observers.forEach((item) =&gt; {\n      item.update(msg);\n    });\n  }\n}\n\nclass Student implements IObserver {\n  name: string;\n  constructor(name: string) {\n    this.name = name;\n  }\n  update(msg: string) {\n    console.log(`${this.name} ${msg}`);\n  }\n}\n\n// @ts-ignore\nentry(2, (...args) =&gt; {\n  return (time: number) =&gt; {\n    const timeSubject = new Clock();\n    args.forEach((item) =&gt; {\n      timeSubject.add(new Student(item));\n    });\n\n    for (let i = 1; i &lt;= time; i++) {\n      timeSubject.notify(i.toString());\n    }\n  };\n})(\"Alice\")(\"Bob\")(3);\n\nfunction entry(count: number, fn: (...args: any) =&gt; void) {\n  function dfs(...args) {\n    if (args.length &lt; count) {\n      return (arg) =&gt; dfs(...args, arg);\n    }\n    return fn(...args);\n  }\n  return dfs;\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/","title":"\u7b56\u7565\u6a21\u5f0f","text":"<p> \u7ea6 564 \u4e2a\u5b57  519 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#_2","title":"\u4ec0\u4e48\u662f\u7b56\u7565\u6a21\u5f0f","text":"<p>\u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u7b97\u6cd5\uff08\u8fd9\u4e9b\u7b97\u6cd5\u5b8c\u6210\u7684\u662f\u76f8\u540c\u7684\u5de5\u4f5c\uff0c\u53ea\u662f\u5b9e\u73b0\u4e0d\u540c\uff09\uff0c\u5e76\u5c06\u6bcf\u4e2a\u7b97\u6cd5\u5c01\u88c5\u8d77\u6765\uff0c\u4f7f\u5b83\u4eec\u53ef\u4ee5\u76f8\u4e92\u66ff\u6362\uff0c\u800c\u4e14\u7b97\u6cd5\u7684\u53d8\u5316\u4e0d\u4f1a\u5f71\u54cd\u4f7f\u7528\u7b97\u6cd5\u7684\u5ba2\u6237\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u7535\u5546\u7f51\u7ad9\u5bf9\u4e8e\u5546\u54c1\u7684\u6298\u6263\u7b56\u7565\u6709\u4e0d\u540c\u7684\u7b97\u6cd5\uff0c\u6bd4\u5982\u65b0\u7528\u6237\u6ee1\u51cf\u4f18\u60e0\uff0c\u4e0d\u540c\u7b49\u7ea7\u4f1a\u5458\u7684\u6253\u6298\u60c5\u51b5\u4e0d\u540c\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f1a\u4ea7\u751f\u5927\u91cf\u7684<code>if-else\u8bed\u53e5</code>, \u5e76\u4e14\u5982\u679c\u4f18\u60e0\u653f\u7b56\u4fee\u6539\u65f6\uff0c\u8fd8\u9700\u8981\u4fee\u6539\u539f\u6765\u7684\u4ee3\u7801\uff0c\u4e0d\u7b26\u5408\u5f00\u95ed\u539f\u5219\u3002</p> <p>\u8fd9\u5c31\u53ef\u4ee5\u5c06\u4e0d\u540c\u7684\u4f18\u60e0\u7b97\u6cd5\u5c01\u88c5\u6210\u72ec\u7acb\u7684\u7c7b\u6765\u907f\u514d\u5927\u91cf\u7684\u6761\u4ef6\u8bed\u53e5\uff0c\u5982\u679c\u65b0\u589e\u4f18\u60e0\u7b97\u6cd5\uff0c\u53ef\u4ee5\u6dfb\u52a0\u65b0\u7684\u7b56\u7565\u7c7b\u6765\u5b9e\u73b0\uff0c\u5ba2\u6237\u7aef\u5728\u8fd0\u884c\u65f6\u9009\u62e9\u4e0d\u540c\u7684\u5177\u4f53\u7b56\u7565\uff0c\u800c\u4e0d\u5fc5\u4fee\u6539\u5ba2\u6237\u7aef\u4ee3\u7801\u6539\u53d8\u4f18\u60e0\u7b56\u7565\u3002</p> <p></p>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u7b56\u7565\u6a21\u5f0f\u5305\u542b\u4e0b\u9762\u51e0\u4e2a\u7ed3\u6784\uff1a</p> <ul> <li>\u7b56\u7565\u7c7b<code>Strategy</code>: \u5b9a\u4e49\u6240\u6709\u652f\u6301\u7684\u7b97\u6cd5\u7684\u516c\u5171\u63a5\u53e3\u3002</li> <li>\u5177\u4f53\u7b56\u7565\u7c7b<code>ConcreteStrategy</code>: \u5b9e\u73b0\u4e86\u7b56\u7565\u63a5\u53e3\uff0c\u63d0\u4f9b\u5177\u4f53\u7684\u7b97\u6cd5\u5b9e\u73b0\u3002</li> <li>\u4e0a\u4e0b\u6587\u7c7b<code>Context</code>: \u5305\u542b\u4e00\u4e2a\u7b56\u7565\u5b9e\u4f8b\uff0c\u5e76\u5728\u9700\u8981\u65f6\u8c03\u7528\u7b56\u7565\u5bf9\u8c61\u7684\u65b9\u6cd5\u3002</li> </ul> <p></p>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u5355\u5b9e\u73b0","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u7b56\u7565\u6a21\u5f0f\u7684\u57fa\u672c\u5b9e\u73b0:</p> Java<pre><code>// 1. \u62bd\u8c61\u7b56\u7565\u62bd\u8c61\u7c7b\nabstract class Strategy {\n    // \u62bd\u8c61\u65b9\u6cd5\n    public abstract void algorithmInterface();\n}\n\n// 2. \u5177\u4f53\u7b56\u7565\u7c7b1\nclass ConcreteStrategyA extends Strategy {\n    @Override\n    public void algorithmInterface() {\n        System.out.println(\"Strategy A\");\n        // \u5177\u4f53\u7684\u7b56\u75651\u6267\u884c\u903b\u8f91\n    }\n}\n\n// 3. \u5177\u4f53\u7b56\u7565\u7c7b2\nclass ConcreteStrategyB extends Strategy {\n    @Override\n    public void algorithmInterface() {\n        System.out.println(\"Strategy B\");\n        // \u5177\u4f53\u7684\u7b56\u75652\u6267\u884c\u903b\u8f91\n    }\n}\n\n// 4. \u4e0a\u4e0b\u6587\u7c7b\nclass Context {\n    private Strategy strategy;\n\n    // \u8bbe\u7f6e\u5177\u4f53\u7684\u7b56\u7565\n     public Context(Strategy strategy) {\n        this.strategy = strategy;\n     }\n\n    // \u6267\u884c\u7b56\u7565\n    public void contextInterface() {\n        strategy.algorithmlnterface();\n    }\n}\n\n// 5. \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Main{\n    public static void main(String[] args) {\n        // \u521b\u5efa\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c\u5e76\u8bbe\u7f6e\u5177\u4f53\u7684\u7b56\u7565\n        Context contextA = new Context(new ConcreteStrategyA());\n        // \u6267\u884c\u7b56\u7565\n        contextA.contextInterface();\n\n        Context contextB = new Context(new ConcreteStrategyB());\n        contextB.contextInterface();u\n    }\n}\n</code></pre>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u90a3\u4ec0\u4e48\u65f6\u5019\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u5462\uff1f</p> <ul> <li> <p>\u5f53\u4e00\u4e2a\u7cfb\u7edf\u6839\u636e\u4e1a\u52a1\u573a\u666f\u9700\u8981\u52a8\u6001\u5730\u5728\u51e0\u79cd\u7b97\u6cd5\u4e2d\u9009\u62e9\u4e00\u79cd\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\u3002\u4f8b\u5982\uff0c\u6839\u636e\u7528\u6237\u7684\u884c\u4e3a\u9009\u62e9\u4e0d\u540c\u7684\u8ba1\u8d39\u7b56\u7565\u3002</p> </li> <li> <p>\u5f53\u4ee3\u7801\u4e2d\u5b58\u5728\u5927\u91cf\u6761\u4ef6\u5224\u65ad\uff0c\u6761\u4ef6\u5224\u65ad\u7684\u533a\u522b\u4ec5\u4ec5\u5728\u4e8e\u884c\u4e3a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7b56\u7565\u6a21\u5f0f\u6765\u6d88\u9664\u8fd9\u4e9b\u6761\u4ef6\u8bed\u53e5\u3002</p> </li> </ul> <p>\u5728\u5df2\u6709\u7684\u5de5\u5177\u5e93\u4e2d\uff0cJava \u6807\u51c6\u5e93\u4e2d\u7684 <code>Comparator</code> \u63a5\u53e3\u5c31\u4f7f\u7528\u4e86\u7b56\u7565\u6a21\u5f0f\uff0c\u901a\u8fc7\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3\uff0c\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u6bd4\u8f83\u5668\uff08\u6307\u5b9a\u4e0d\u540c\u7684\u6392\u5e8f\u7b56\u7565\uff09\u6765\u6ee1\u8db3\u4e0d\u540c\u7684\u6392\u5e8f\u9700\u6c42\u3002</p>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u62bd\u8c61\u8d2d\u7269\u4f18\u60e0\u7b56\u7565\u63a5\u53e3\ninterface DiscountStrategy {\n    int applyDiscount(int originalPrice);\n}\n\n// \u4e5d\u6298\u4f18\u60e0\u7b56\u7565\nclass DiscountStrategy1 implements DiscountStrategy {\n    @Override\n    public int applyDiscount(int originalPrice) {\n        return (int) Math.round(originalPrice * 0.9);\n    }\n}\n\n// \u6ee1\u51cf\u4f18\u60e0\u7b56\u7565\nclass DiscountStrategy2 implements DiscountStrategy {\n    private int[] thresholds = {100, 150, 200, 300};\n    private int[] discounts = {5, 15, 25, 40};\n\n    @Override\n    public int applyDiscount(int originalPrice) {\n        for (int i = thresholds.length - 1; i &gt;= 0; i--) {\n            if (originalPrice &gt;= thresholds[i]) {\n                return originalPrice - discounts[i];\n            }\n        }\n        return originalPrice;\n    }\n}\n\n// \u4e0a\u4e0b\u6587\u7c7b\nclass DiscountContext {\n    private DiscountStrategy discountStrategy;\n\n    public void setDiscountStrategy(DiscountStrategy discountStrategy) {\n        this.discountStrategy = discountStrategy;\n    }\n\n    public int applyDiscount(int originalPrice) {\n        return discountStrategy.applyDiscount(originalPrice);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u8bfb\u53d6\u9700\u8981\u8ba1\u7b97\u4f18\u60e0\u7684\u6b21\u6570\n        int N = Integer.parseInt(scanner.nextLine());\n\n        for (int i = 0; i &lt; N; i++) {\n            // \u8bfb\u53d6\u5546\u54c1\u4ef7\u683c\u548c\u4f18\u60e0\u7b56\u7565\n            String[] input = scanner.nextLine().split(\" \");\n            int M = Integer.parseInt(input[0]);\n            int strategyType = Integer.parseInt(input[1]);\n\n            // \u6839\u636e\u4f18\u60e0\u7b56\u7565\u8bbe\u7f6e\u76f8\u5e94\u7684\u6253\u6298\u7b56\u7565\n            DiscountStrategy discountStrategy;\n            switch (strategyType) {\n                case 1:\n                    discountStrategy = new DiscountStrategy1();\n                    break;\n                case 2:\n                    discountStrategy = new DiscountStrategy2();\n                    break;\n                default:\n                    // \u5904\u7406\u672a\u77e5\u7b56\u7565\u7c7b\u578b\n                    System.out.println(\"Unknown strategy type\");\n                    return;\n            }\n\n            // \u8bbe\u7f6e\u6253\u6298\u7b56\u7565\n            DiscountContext context = new DiscountContext();\n            context.setDiscountStrategy(discountStrategy);\n\n            // \u5e94\u7528\u6253\u6298\u7b56\u7565\u5e76\u8f93\u51fa\u4f18\u60e0\u540e\u7684\u4ef7\u683c\n            int discountedPrice = context.applyDiscount(M);\n            System.out.println(discountedPrice);\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u4f7f\u7528\u7b56\u7565\u679a\u4e3e\u7c7b\u5b9e\u73b0 Java<pre><code>import java.util.Scanner;\n\ninterface Strategy {\n    void preferentialMethod(int price);\n}\n\n//\u7b56\u7565\u679a\u4e3e\u7c7b\nenum DiscountStrategy implements Strategy {\n    STRATEGY1 {\n        @Override\n        public void preferentialMethod(int price) {\n            double discountedPrice = 0.9 * price;\n            System.out.println((int) discountedPrice);\n        }\n    },\n    STRATEGY2 {\n        @Override\n        public void preferentialMethod(int price) {\n            int[][] discountRules = {\n                {300, 40},\n                {200, 25},\n                {150, 15},\n                {100, 5}\n            };\n\n            for (int[] rule : discountRules) {\n                if (price &gt;= rule[0]) {\n                    price -= rule[1];\n                    break;\n                }\n            }\n            System.out.println(price);\n        }\n    };\n\n    public static DiscountStrategy fromType(int type) {\n        switch (type) {\n            case 1:\n                return STRATEGY1;\n            case 2:\n                return STRATEGY2;\n            default:\n                throw new IllegalArgumentException(\"\u65e0\u6548\u9009\u62e9\uff0c\u8bf7\u8f93\u51651\u62162\");\n        }\n    }\n}\n\nclass Context {\n    private Strategy strategy;\n\n    public Context(Strategy strategy) {\n        this.strategy = strategy;\n    }\n\n    public void executeStrategy(int price) {\n        strategy.preferentialMethod(price);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        try {\n            int num = scanner.nextInt();\n            scanner.nextLine();\n\n            for (int i = 0; i &lt; num; i++) {\n                try {\n                    String input = scanner.nextLine();\n                    String[] parts = input.split(\" \");\n\n                    if (parts.length != 2) {\n                        System.out.println(\"\u8f93\u5165\u9519\u8bef\uff01\");\n                        continue;\n                    }\n\n                    int price = Integer.parseInt(parts[0]);\n                    int type = Integer.parseInt(parts[1]);\n\n                    DiscountStrategy strategy = DiscountStrategy.fromType(type);\n                    Context context = new Context(strategy);\n                    context.executeStrategy(price);\n                } catch (NumberFormatException e) {\n                    System.out.println(\"\u8f93\u5165\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u8f93\u5165\u6709\u6548\u7684\u4ef7\u683c\u548c\u7c7b\u578b\uff01\");\n                } catch (IllegalArgumentException e) {\n                    System.out.println(e.getMessage());\n                }\n            }\n        } catch (Exception e) {\n            System.out.println(\"An error occurred: \" + e.getMessage());\n        } finally {\n            scanner.close();\n        }\n    }\n}\n</code></pre></p>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cmath&gt;\n\n// \u62bd\u8c61\u8d2d\u7269\u4f18\u60e0\u7b56\u7565\u63a5\u53e3\nclass DiscountStrategy {\npublic:\n    virtual int applyDiscount(int originalPrice) = 0;\n    virtual ~DiscountStrategy() = default; // \u6dfb\u52a0\u865a\u6790\u6784\u51fd\u6570\n};\n\n// \u4e5d\u6298\u4f18\u60e0\u7b56\u7565\nclass DiscountStrategy1 : public DiscountStrategy {\npublic:\n    int applyDiscount(int originalPrice) override {\n        return static_cast&lt;int&gt;(std::round(originalPrice * 0.9));\n    }\n};\n\n// \u6ee1\u51cf\u4f18\u60e0\u7b56\u7565\nclass DiscountStrategy2 : public DiscountStrategy {\nprivate:\n    int thresholds[4] = {100, 150, 200, 300};\n    int discounts[4] = {5, 15, 25, 40};\n\npublic:\n    int applyDiscount(int originalPrice) override {\n        for (int i = sizeof(thresholds) / sizeof(thresholds[0]) - 1; i &gt;= 0; i--) {\n            if (originalPrice &gt;= thresholds[i]) {\n                return originalPrice - discounts[i];\n            }\n        }\n        return originalPrice;\n    }\n};\n\n// \u4e0a\u4e0b\u6587\u7c7b\nclass DiscountContext {\nprivate:\n    DiscountStrategy* discountStrategy;\n\npublic:\n    void setDiscountStrategy(DiscountStrategy* discountStrategy) {\n        this-&gt;discountStrategy = discountStrategy;\n    }\n\n    int applyDiscount(int originalPrice) {\n        return discountStrategy-&gt;applyDiscount(originalPrice);\n    }\n};\n\nint main() {\n    // \u8bfb\u53d6\u9700\u8981\u8ba1\u7b97\u4f18\u60e0\u7684\u6b21\u6570\n    int N;\n    std::cin &gt;&gt; N;\n    std::cin.ignore(); // \u5ffd\u7565\u6362\u884c\u7b26\n\n    for (int i = 0; i &lt; N; i++) {\n        // \u8bfb\u53d6\u5546\u54c1\u4ef7\u683c\u548c\u4f18\u60e0\u7b56\u7565\n        int M, strategyType;\n        std::cin &gt;&gt; M &gt;&gt; strategyType;\n\n        // \u6839\u636e\u4f18\u60e0\u7b56\u7565\u8bbe\u7f6e\u76f8\u5e94\u7684\u6253\u6298\u7b56\u7565\n        DiscountStrategy* discountStrategy;\n        switch (strategyType) {\n            case 1:\n                discountStrategy = new DiscountStrategy1();\n                break;\n            case 2:\n                discountStrategy = new DiscountStrategy2();\n                break;\n            default:\n                // \u5904\u7406\u672a\u77e5\u7b56\u7565\u7c7b\u578b\n                std::cout &lt;&lt; \"Unknown strategy type\" &lt;&lt; std::endl;\n                return 1;\n        }\n\n        // \u8bbe\u7f6e\u6253\u6298\u7b56\u7565\n        DiscountContext context;\n        context.setDiscountStrategy(discountStrategy);\n\n        // \u5e94\u7528\u6253\u6298\u7b56\u7565\u5e76\u8f93\u51fa\u4f18\u60e0\u540e\u7684\u4ef7\u683c\n        int discountedPrice = context.applyDiscount(M);\n        std::cout &lt;&lt; discountedPrice &lt;&lt; std::endl;\n\n        // \u91ca\u653e\u52a8\u6001\u5206\u914d\u7684\u6253\u6298\u7b56\u7565\u5bf9\u8c61\n        delete discountStrategy;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>class DiscountStrategy:\n    def apply_discount(self, original_price):\n        pass\n\nclass DiscountStrategy1(DiscountStrategy):\n    def apply_discount(self, original_price):\n        return round(original_price * 0.9)\n\nclass DiscountStrategy2(DiscountStrategy):\n    def __init__(self):\n        self.thresholds = [100, 150, 200, 300]\n        self.discounts = [5, 15, 25, 40]\n\n    def apply_discount(self, original_price):\n        for threshold, discount in zip(reversed(self.thresholds), reversed(self.discounts)):\n            if original_price &gt;= threshold:\n                return original_price - discount\n        return original_price\n\nclass DiscountContext:\n    def __init__(self):\n        self.discount_strategy = None\n\n    def set_discount_strategy(self, discount_strategy):\n        self.discount_strategy = discount_strategy\n\n    def apply_discount(self, original_price):\n        return self.discount_strategy.apply_discount(original_price)\n\nif __name__ == \"__main__\":\n    # \u8bfb\u53d6\u9700\u8981\u8ba1\u7b97\u4f18\u60e0\u7684\u6b21\u6570\n    N = int(input())\n\n    for _ in range(N):\n        # \u8bfb\u53d6\u5546\u54c1\u4ef7\u683c\u548c\u4f18\u60e0\u7b56\u7565\n        input_data = input().split(\" \")\n        M = int(input_data[0])\n        strategy_type = int(input_data[1])\n\n        # \u6839\u636e\u4f18\u60e0\u7b56\u7565\u8bbe\u7f6e\u76f8\u5e94\u7684\u6253\u6298\u7b56\u7565\n        if strategy_type == 1:\n            discount_strategy = DiscountStrategy1()\n        elif strategy_type == 2:\n            discount_strategy = DiscountStrategy2()\n        else:\n            # \u5904\u7406\u672a\u77e5\u7b56\u7565\u7c7b\u578b\n            print(\"Unknown strategy type\")\n            break\n\n        # \u8bbe\u7f6e\u6253\u6298\u7b56\u7565\n        context = DiscountContext()\n        context.set_discount_strategy(discount_strategy)\n\n        # \u5e94\u7528\u6253\u6298\u7b56\u7565\u5e76\u8f93\u51fa\u4f18\u60e0\u540e\u7684\u4ef7\u683c\n        discounted_price = context.apply_discount(M)\n        print(discounted_price)\n</code></pre>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// \u62bd\u8c61\u8d2d\u7269\u4f18\u60e0\u7b56\u7565\u63a5\u53e3\ntype DiscountStrategy interface {\n    applyDiscount(originalPrice int) int\n}\n\n// \u4e5d\u6298\u4f18\u60e0\u7b56\u7565\ntype DiscountStrategy1 struct{}\n\nfunc (d *DiscountStrategy1) applyDiscount(originalPrice int) int {\n    return int(float64(originalPrice) * 0.9)\n}\n\n// \u6ee1\u51cf\u4f18\u60e0\u7b56\u7565\ntype DiscountStrategy2 struct {\n    thresholds []int\n    discounts  []int\n}\n\nfunc (d *DiscountStrategy2) applyDiscount(originalPrice int) int {\n    for i := len(d.thresholds) - 1; i &gt;= 0; i-- {\n        if originalPrice &gt;= d.thresholds[i] {\n            return originalPrice - d.discounts[i]\n        }\n    }\n    return originalPrice\n}\n\n// \u4e0a\u4e0b\u6587\u7c7b\ntype DiscountContext struct {\n    discountStrategy DiscountStrategy\n}\n\nfunc (d *DiscountContext) setDiscountStrategy(discountStrategy DiscountStrategy) {\n    d.discountStrategy = discountStrategy\n}\n\nfunc (d *DiscountContext) applyDiscount(originalPrice int) int {\n    return d.discountStrategy.applyDiscount(originalPrice)\n}\n\nfunc main() {\n    // \u8bfb\u53d6\u9700\u8981\u8ba1\u7b97\u4f18\u60e0\u7684\u6b21\u6570\n    var N int\n    fmt.Scan(&amp;N)\n\n    for i := 0; i &lt; N; i++ {\n        // \u8bfb\u53d6\u5546\u54c1\u4ef7\u683c\u548c\u4f18\u60e0\u7b56\u7565\n        var M, strategyType int\n        fmt.Scan(&amp;M, &amp;strategyType)\n\n        // \u6839\u636e\u4f18\u60e0\u7b56\u7565\u8bbe\u7f6e\u76f8\u5e94\u7684\u6253\u6298\u7b56\u7565\n        var discountStrategy DiscountStrategy\n        switch strategyType {\n        case 1:\n            discountStrategy = &amp;DiscountStrategy1{}\n        case 2:\n            discountStrategy = &amp;DiscountStrategy2{\n                thresholds: []int{100, 150, 200, 300},\n                discounts:  []int{5, 15, 25, 40},\n            }\n        default:\n            // \u5904\u7406\u672a\u77e5\u7b56\u7565\u7c7b\u578b\n            fmt.Println(\"Unknown strategy type\")\n            return\n        }\n\n        // \u8bbe\u7f6e\u6253\u6298\u7b56\u7565\n        context := &amp;DiscountContext{}\n        context.setDiscountStrategy(discountStrategy)\n\n        // \u5e94\u7528\u6253\u6298\u7b56\u7565\u5e76\u8f93\u51fa\u4f18\u60e0\u540e\u7684\u4ef7\u683c\n        discountedPrice := context.applyDiscount(M)\n        fmt.Println(discountedPrice)\n    }\n}\n</code></pre>"},{"location":"DesignPattern/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/#typescript","title":"Typescript","text":"TypeScript<pre><code>interface Strategy {\n  algorithm(price: number): void;\n}\n\nclass NinePercentDiscount implements Strategy {\n  algorithm(price) {\n    console.log(price * 0.9);\n  }\n}\n\nclass FullDiscount implements Strategy {\n  private priceMap = {\n    100: 5,\n    150: 15,\n    200: 25,\n    300: 40,\n  };\n\n  algorithm(price) {\n    console.log(price - this.priceMap[price]);\n  }\n}\n\nclass StrategyContext {\n  private discountStrategy: Strategy;\n\n  constructor(way) {\n    switch (way) {\n      case 1:\n        this.discountStrategy = new NinePercentDiscount();\n        break;\n      case 2:\n        this.discountStrategy = new FullDiscount();\n        break;\n      default:\n        throw \"1 or 2\";\n    }\n  }\n\n  discount(price) {\n    this.discountStrategy.algorithm(price);\n  }\n}\n\n// @ts-ignore\nentry(4, (...args) =&gt; {\n  args.forEach(([price, way]) =&gt; {\n    new StrategyContext(way).discount(price);\n  });\n})([100, 1])([200, 2])([300, 1])([300, 2]);\n\n\nexport function entry(count: number, fn: (...args: any) =&gt; void) {\n  function dfs(...args) {\n    if (args.length &lt; count) {\n      return (arg) =&gt; dfs(...args, arg);\n    }\n\n    return fn(...args);\n  }\n  return dfs;\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/","title":"\u547d\u4ee4\u6a21\u5f0f","text":"<p> \u7ea6 1034 \u4e2a\u5b57  539 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u547d\u4ee4\u6a21\u5f0f\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5176\u5141\u8bb8 \u5c06\u8bf7\u6c42\u5c01\u88c5\u6210\u4e00\u4e2a\u5bf9\u8c61 (\u547d\u4ee4\u5bf9\u8c61\uff0c\u5305\u542b\u6267\u884c\u64cd\u4f5c\u6240\u9700\u7684\u6240\u6709\u4fe1\u606f)\uff0c \u5e76\u5c06\u547d\u4ee4\u5bf9\u8c61\u6309\u7167\u4e00\u5b9a\u7684\u987a\u5e8f\u5b58\u50a8\u5728\u961f\u5217\u4e2d\uff0c\u7136\u540e\u518d\u9010\u4e00\u8c03\u7528\u6267\u884c\uff0c\u8fd9\u4e9b\u547d\u4ee4\u4e5f\u53ef\u4ee5\u652f\u6301\u53cd\u5411\u64cd\u4f5c\uff0c\u8fdb\u884c\u64a4\u9500\u548c\u91cd\u505a\u3002 </p> <p>\u8fd9\u6837\u4e00\u6765\uff0c\u53d1\u9001\u8005\u53ea\u9700\u8981\u89e6\u53d1\u547d\u4ee4\u5c31\u53ef\u4ee5\u5b8c\u6210\u64cd\u4f5c\uff0c\u4e0d\u9700\u8981\u77e5\u9053\u63a5\u53d7\u8005\u7684\u5177\u4f53\u64cd\u4f5c\uff0c\u4ece\u800c\u5b9e\u73b0\u4e24\u8005\u95f4\u7684\u89e3\u8026\u3002</p> <p>\u4e3e\u4e2a\u73b0\u5b9e\u4e2d\u7684\u5e94\u7528\u573a\u666f\uff0c\u9065\u63a7\u5668\u53ef\u4ee5\u63a7\u5236\u4e0d\u540c\u7684\u8bbe\u5907\uff0c\u5728\u547d\u4ee4\u6a21\u5f0f\u4e2d\uff0c\u53ef\u4ee5\u5047\u5b9a\u6bcf\u4e2a\u6309\u94ae\u90fd\u662f\u4e00\u4e2a\u547d\u4ee4\u5bf9\u8c61\uff0c\u5305\u542b\u6267\u884c\u7279\u5b9a\u64cd\u4f5c\u7684\u547d\u4ee4\uff0c\u4e0d\u540c\u8bbe\u5907\u5bf9\u540c\u4e00\u547d\u4ee4\u7684\u5177\u4f53\u64cd\u4f5c\u4e5f\u4e0d\u540c\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u65b9\u4fbf\u7684\u6dfb\u52a0\u8bbe\u5907\u548c\u547d\u4ee4\u5bf9\u8c61\u3002</p>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u547d\u4ee4\u6a21\u5f0f\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u57fa\u672c\u89d2\u8272\uff1a</p> <p></p> <ul> <li>\u547d\u4ee4\u63a5\u53e3<code>Command</code>\uff1a\u63a5\u53e3\u6216\u8005\u62bd\u8c61\u7c7b\uff0c\u5b9a\u4e49\u6267\u884c\u64cd\u4f5c\u7684\u63a5\u53e3\u3002</li> <li>\u5177\u4f53\u547d\u4ee4\u7c7b<code>ConcreteCommand</code>: \u5b9e\u73b0\u547d\u4ee4\u63a5\u53e3\uff0c\u6267\u884c\u5177\u4f53\u64cd\u4f5c\uff0c\u5728\u8c03\u7528<code>execute</code>\u65b9\u6cd5\u65f6\u4f7f\u201c\u63a5\u6536\u8005\u5bf9\u8c61\u201d\u6839\u636e\u547d\u4ee4\u5b8c\u6210\u5177\u4f53\u7684\u4efb\u52a1\uff0c\u6bd4\u5982\u9065\u63a7\u5668\u4e2d\u7684\u201c\u5f00\u673a\u201d\uff0c\u201c\u5173\u673a\u201d\u547d\u4ee4\u3002</li> <li>\u63a5\u6536\u8005\u7c7b<code>Receiver</code>: \u63a5\u53d7\u5e76\u6267\u884c\u547d\u4ee4\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u662f\u4efb\u4f55\u5bf9\u8c61\uff0c\u9065\u63a7\u5668\u53ef\u4ee5\u63a7\u5236\u7a7a\u8c03\uff0c\u4e5f\u53ef\u4ee5\u63a7\u5236\u7535\u89c6\u673a\uff0c\u7535\u89c6\u673a\u548c\u7a7a\u8c03\u8d1f\u8d23\u6267\u884c\u5177\u4f53\u64cd\u4f5c\uff0c\u662f\u63a5\u6536\u8005\u3002</li> <li>\u8c03\u7528\u8005\u7c7b<code>Invoker</code>:   \u53d1\u8d77\u8bf7\u6c42\u7684\u5bf9\u8c61\uff0c\u6709\u4e00\u4e2a\u5c06\u547d\u4ee4\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7684\u65b9\u6cd5\u3002\u5b83\u4e0d\u5173\u5fc3\u547d\u4ee4\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u53ea\u8d1f\u8d23\u8c03\u7528\u547d\u4ee4\u5bf9\u8c61\u7684 <code>execute()</code> \u65b9\u6cd5\u6765\u4f20\u9012\u8bf7\u6c42\uff0c\u5728\u672c\u4f8b\u4e2d\uff0c\u63a7\u5236\u9065\u63a7\u5668\u7684\u201c\u4eba\u201d\u5c31\u662f\u8c03\u7528\u8005\u3002 </li> <li>\u5ba2\u6237\u7aef\uff1a\u521b\u5efa\u5177\u4f53\u7684\u547d\u4ee4\u5bf9\u8c61\u548c\u63a5\u6536\u8005\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u7ec4\u88c5\u8d77\u6765\u3002</li> </ul>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<ol> <li>\u5b9a\u4e49\u6267\u884c\u64cd\u4f5c\u7684\u63a5\u53e3\uff1a\u5305\u542b\u4e00\u4e2a<code>execute</code>\u65b9\u6cd5\u3002\u6709\u7684\u65f6\u5019\u8fd8\u4f1a\u5305\u62ec<code>unExecute</code>\u65b9\u6cd5\uff0c\u8868\u793a\u64a4\u9500\u547d\u4ee4\u3002</li> </ol> Java<pre><code>public interface Command {\n    void execute();\n}\n</code></pre> <ol> <li>\u5b9e\u73b0\u547d\u4ee4\u63a5\u53e3\uff0c\u6267\u884c\u5177\u4f53\u7684\u64cd\u4f5c\u3002</li> </ol> Java<pre><code>public class ConcreteCommand implements Command {\n    // \u63a5\u6536\u8005\u5bf9\u8c61\n    private Receiver receiver;\n\n    public ConcreteCommand(Receiver receiver) {\n        this.receiver = receiver;\n    }\n\n    @Override\n    public void execute() {\n        // \u8c03\u7528\u63a5\u6536\u8005\u76f8\u5e94\u7684\u64cd\u4f5c\n        receiver.action();\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u63a5\u53d7\u8005\u7c7b\uff0c\u77e5\u9053\u5982\u4f55\u5b9e\u65bd\u4e0e\u6267\u884c\u4e00\u4e2a\u8bf7\u6c42\u76f8\u5173\u7684\u64cd\u4f5c\u3002</li> </ol> Java<pre><code>public class Receiver {\n    public void action() {\n        // \u6267\u884c\u64cd\u4f5c\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u8c03\u7528\u8005\u7c7b\uff0c\u8c03\u7528\u547d\u4ee4\u5bf9\u8c61\u6267\u884c\u8bf7\u6c42\u3002</li> </ol> Java<pre><code>public class Invoker {\n    private Command command;\n\n    public Invoker(Command command) {\n        this.command = command;\n    }\n\n    public void executeCommand() {\n        command.execute();\n    }\n}\n</code></pre> <p>\u8c03\u7528\u8005\u7c7b\u4e2d\u53ef\u4ee5\u7ef4\u62a4\u4e00\u4e2a\u547d\u4ee4\u961f\u5217\u6216\u8005\u201c\u64a4\u9500\u6808\u201d\uff0c\u4ee5\u652f\u6301\u6279\u5904\u7406\u548c\u64a4\u9500\u547d\u4ee4\u3002</p> Java<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Stack;\n\n// \u8c03\u7528\u8005\u7c7b\uff1a\u547d\u4ee4\u961f\u5217\u548c\u64a4\u9500\u8bf7\u6c42\nclass Invoker {\n    private Queue&lt;Command&gt; commandQueue; // \u547d\u4ee4\u961f\u5217\n    private Stack&lt;Command&gt; undoStack;    // \u64a4\u9500\u6808\n\n    public Invoker() {\n        this.commandQueue = new LinkedList&lt;&gt;();\n        this.undoStack = new Stack&lt;&gt;();\n    }\n\n    // \u8bbe\u7f6e\u547d\u4ee4\u5e76\u6267\u884c\n    public void setAndExecuteCommand(Command command) {\n        command.execute();\n        commandQueue.offer(command);\n        undoStack.push(command);\n    }\n\n    // \u64a4\u9500\u4e0a\u4e00\u4e2a\u547d\u4ee4\n    public void undoLastCommand() {\n        if (!undoStack.isEmpty()) {\n            Command lastCommand = undoStack.pop();\n            lastCommand.undo(); // \u9700\u8981\u547d\u4ee4\u7c7b\u5b9e\u73b0 undo \u65b9\u6cd5\n            commandQueue.remove(lastCommand);\n        } else {\n            System.out.println(\"No command to undo.\");\n        }\n    }\n\n    // \u6267\u884c\u547d\u4ee4\u961f\u5217\u4e2d\u7684\u6240\u6709\u547d\u4ee4\n    public void executeCommandsInQueue() {\n        for (Command command : commandQueue) {\n            command.execute();\n        }\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u4f7f\u7528\uff0c\u521b\u5efa\u5177\u4f53\u7684\u547d\u4ee4\u5bf9\u8c61\u548c\u63a5\u6536\u8005\u5bf9\u8c61\uff0c\u7136\u540e\u8fdb\u884c\u7ec4\u88c5\u3002</li> </ol> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        Receiver receiver = new Receiver();\n        Command command = new ConcreteCommand(receiver);\n        Invoker invoker = new Invoker(command);\n\n        invoker.executeCommand();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f18\u7f3a\u70b9\u548c\u4f7f\u7528\u573a\u666f","text":"<p>\u547d\u4ee4\u6a21\u5f0f\u5728\u9700\u8981\u5c06\u8bf7\u6c42\u5c01\u88c5\u6210\u5bf9\u8c61\u3001\u652f\u6301\u64a4\u9500\u548c\u91cd\u505a\u3001\u8bbe\u8ba1\u547d\u4ee4\u961f\u5217\u7b49\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u4e00\u4e2a\u6709\u6548\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002</p> <ul> <li>\u64a4\u9500\u64cd\u4f5c\uff1a  \u9700\u8981\u652f\u6301\u64a4\u9500\u64cd\u4f5c\uff0c\u547d\u4ee4\u6a21\u5f0f\u53ef\u4ee5\u5b58\u50a8\u5386\u53f2\u547d\u4ee4\uff0c\u8f7b\u677e\u5b9e\u73b0\u64a4\u9500\u529f\u80fd\u3002</li> <li>\u961f\u5217\u8bf7\u6c42\uff1a  \u547d\u4ee4\u6a21\u5f0f\u53ef\u4ee5\u5c06\u8bf7\u6c42\u6392\u961f\uff0c\u5f62\u6210\u4e00\u4e2a\u547d\u4ee4\u961f\u5217\uff0c\u4f9d\u6b21\u6267\u884c\u547d\u4ee4\u3002</li> <li>\u53ef\u6269\u5c55\u6027\uff1a  \u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u6dfb\u52a0\u65b0\u7684\u547d\u4ee4\u7c7b\u548c\u63a5\u6536\u8005\u7c7b\uff0c\u800c\u4e0d\u5f71\u54cd\u73b0\u6709\u7684\u4ee3\u7801\u3002\u65b0\u589e\u547d\u4ee4\u4e0d\u9700\u8981\u4fee\u6539\u73b0\u6709\u4ee3\u7801\uff0c\u7b26\u5408\u5f00\u95ed\u539f\u5219\u3002</li> </ul> <p>\u4f46\u662f\u5bf9\u4e8e\u6bcf\u4e2a\u547d\u4ee4\uff0c\u90fd\u4f1a\u6709\u4e00\u4e2a\u5177\u4f53\u547d\u4ee4\u7c7b\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u7c7b\u7684\u6570\u91cf\u6025\u5267\u589e\u52a0\uff0c\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u6027\u3002</p> <p>\u547d\u4ee4\u6a21\u5f0f\u540c\u6837\u6709\u7740\u5f88\u591a\u73b0\u5b9e\u573a\u666f\u7684\u5e94\u7528\uff0c\u6bd4\u5982Git\u4e2d\u7684\u5f88\u591a\u64cd\u4f5c\uff0c\u5982\u63d0\u4ea4\uff08commit\uff09\u3001\u5408\u5e76\uff08merge\uff09\u7b49\uff0c\u90fd\u53ef\u4ee5\u770b\u4f5c\u662f\u547d\u4ee4\u6a21\u5f0f\u7684\u5e94\u7528\uff0c\u7528\u6237\u901a\u8fc7\u6267\u884c\u76f8\u5e94\u7684\u547d\u4ee4\u6765\u64cd\u4f5c\u7248\u672c\u5e93\u3002Java\u7684GUI\u7f16\u7a0b\u4e2d\uff0c\u5f88\u591a\u4e8b\u4ef6\u5904\u7406\u673a\u5236\u4e5f\u90fd\u4f7f\u7528\u4e86\u547d\u4ee4\u6a21\u5f0f\u3002\u4f8b\u5982\uff0c\u6bcf\u4e2a\u6309\u94ae\u90fd\u6709\u4e00\u4e2a\u5173\u8054\u7684 <code>Action</code>\uff0c\u5b83\u4ee3\u8868\u4e00\u4e2a\u547d\u4ee4\uff0c\u6309\u94ae\u7684\u70b9\u51fb\u89e6\u53d1 <code>Action</code> \u7684\u6267\u884c\u3002</p>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u547d\u4ee4\u63a5\u53e3\ninterface Command {\n    void execute();\n}\n\n// \u5177\u4f53\u547d\u4ee4\u7c7b - \u70b9\u9910\u547d\u4ee4\nclass OrderCommand implements Command {\n    private String drinkName;\n    private DrinkMaker receiver;\n\n    public OrderCommand(String drinkName, DrinkMaker receiver) {\n        this.drinkName = drinkName;\n        this.receiver = receiver;\n    }\n\n    @Override\n    public void execute() {\n        receiver.makeDrink(drinkName);\n    }\n}\n\n// \u63a5\u6536\u8005\u7c7b - \u5236\u4f5c\u996e\u54c1\nclass DrinkMaker {\n    public void makeDrink(String drinkName) {\n        System.out.println(drinkName + \" is ready!\");\n    }\n}\n\n// \u8c03\u7528\u8005\u7c7b - \u70b9\u9910\u673a\nclass OrderMachine {\n    private Command command;\n\n    public void setCommand(Command command) {\n        this.command = command;\n    }\n\n    public void executeOrder() {\n        command.execute();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u521b\u5efa\u63a5\u6536\u8005\u548c\u547d\u4ee4\u5bf9\u8c61\n        DrinkMaker drinkMaker = new DrinkMaker();\n\n        // \u8bfb\u53d6\u547d\u4ee4\u6570\u91cf\n        int n = scanner.nextInt();\n        scanner.nextLine();\n\n        while (n-- &gt; 0) {\n            // \u8bfb\u53d6\u547d\u4ee4\n            String drinkName = scanner.next();\n\n            // \u521b\u5efa\u547d\u4ee4\u5bf9\u8c61\n            Command command = new OrderCommand(drinkName, drinkMaker);\n\n            // \u6267\u884c\u547d\u4ee4\n            OrderMachine orderMachine = new OrderMachine();\n            orderMachine.setCommand(command);\n            orderMachine.executeOrder();\n        }\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u4f7f\u7528\u547d\u4ee4\u6a21\u5f0f+\u5de5\u5382\u6a21\u5f0f\uff0c\u8fdb\u4e00\u6b65\u5c06\u7a0b\u5e8f\u8fdb\u884c\u89e3\u8026\uff0c\u4e3b\u7a0b\u5e8f\u4e0d\u9700\u8981\u77e5\u9053\u5177\u4f53\u547d\u4ee4\u7c7b\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u540e\u7eed\u589e\u52a0\u65b0\u547d\u4ee4\u6216\u996e\u6599\u7c7b\u578b\u65f6\uff0c\u53ea\u9700\u4fee\u6539\u5de5\u5382\u7c7b\uff0c\u4e0d\u4f1a\u5f71\u54cd\u4e3b\u7a0b\u5e8f\u7684\u7ed3\u6784\u3002</p> Java<pre><code>import java.util.Scanner;\n\n// \u547d\u4ee4\u63a5\u53e3\ninterface Command {\n    void execute();\n}\n\n// \u5177\u4f53\u547d\u4ee4\u7c7b - \u70b9\u9910\u547d\u4ee4\nclass OrderCommand implements Command {\n    private String drinkName;\n    private DrinkMaker receiver;\n\n    public OrderCommand(String drinkName, DrinkMaker receiver) {\n        this.drinkName = drinkName;\n        this.receiver = receiver;\n    }\n\n    @Override\n    public void execute() {\n        receiver.makeDrink(drinkName);\n    }\n}\n\n// \u63a5\u6536\u8005\u7c7b - \u5236\u4f5c\u996e\u54c1\nclass DrinkMaker {\n    public void makeDrink(String drinkName) {\n        System.out.println(drinkName + \" is ready!\");\n    }\n}\n\n// \u8c03\u7528\u8005\u7c7b - \u70b9\u9910\u673a\nclass OrderMachine {\n    private Command command;\n\n    public void setCommand(Command command) {\n        this.command = command;\n    }\n\n    public void executeOrder() {\n        if (command != null) {\n            command.execute();\n        } else {\n            System.out.println(\"\u672a\u8bbe\u7f6e\u547d\u4ee4.\");\n        }\n    }\n}\n\n// \u547d\u4ee4\u5de5\u5382\u7c7b\nclass CommandFactory {\n    private DrinkMaker drinkMaker;\n\n    public CommandFactory(DrinkMaker drinkMaker) {\n        this.drinkMaker = drinkMaker;\n    }\n\n    public Command createCommand(String drinkName) {\n        return new OrderCommand(drinkName, drinkMaker);\n    }\n}\n\n// \u4e3b\u7c7b\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u521b\u5efa\u63a5\u6536\u8005\u548c\u5de5\u5382\u5bf9\u8c61\n        DrinkMaker drinkMaker = new DrinkMaker();\n        CommandFactory commandFactory = new CommandFactory(drinkMaker);\n        OrderMachine orderMachine = new OrderMachine();\n\n        // \u8bfb\u53d6\u547d\u4ee4\u6570\u91cf\n        int n = scanner.nextInt();\n        scanner.nextLine();\n\n        while (n-- &gt; 0) {\n            // \u8bfb\u53d6\u547d\u4ee4\n            String drinkName = scanner.nextLine().trim();\n\n            if (drinkName.isEmpty()) {\n                System.out.println(\"\u65e0\u6548\u8f93\u5165\uff0c\u8bf7\u8f93\u5165\u996e\u54c1\u540d.\");\n                continue;\n            }\n\n            // \u4f7f\u7528\u5de5\u5382\u521b\u5efa\u547d\u4ee4\u5bf9\u8c61\n            Command command = commandFactory.createCommand(drinkName);\n\n            // \u8bbe\u7f6e\u547d\u4ee4\u5e76\u6267\u884c\n            orderMachine.setCommand(command);\n            orderMachine.executeOrder();\n        }\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n\nclass DrinkMaker; // \u524d\u5411\u58f0\u660e\n\n// \u547d\u4ee4\u63a5\u53e3\nclass Command {\npublic:\n    virtual void execute() = 0;\n    virtual ~Command() = default; // \u6dfb\u52a0\u865a\u6790\u6784\u51fd\u6570\n};\n\n// \u5177\u4f53\u547d\u4ee4\u7c7b - \u70b9\u9910\u547d\u4ee4\nclass OrderCommand : public Command {\nprivate:\n    std::string drinkName;\n    DrinkMaker* receiver; // \u4f7f\u7528\u524d\u5411\u58f0\u660e\n\npublic:\n    OrderCommand(const std::string&amp; drinkName, DrinkMaker* receiver);\n    void execute() override;\n};\n\n// \u63a5\u6536\u8005\u7c7b - \u5236\u4f5c\u996e\u54c1\nclass DrinkMaker {\npublic:\n    void makeDrink(const std::string&amp; drinkName) {\n        std::cout &lt;&lt; drinkName &lt;&lt; \" is ready!\" &lt;&lt; std::endl;\n    }\n};\n\n// \u5b9e\u73b0 OrderCommand \u7684\u6784\u9020\u51fd\u6570\u548c execute \u51fd\u6570\nOrderCommand::OrderCommand(const std::string&amp; drinkName, DrinkMaker* receiver) : drinkName(drinkName), receiver(receiver) {}\n\nvoid OrderCommand::execute() {\n    receiver-&gt;makeDrink(drinkName);\n}\n\n// \u8c03\u7528\u8005\u7c7b - \u70b9\u9910\u673a\nclass OrderMachine {\nprivate:\n    Command* command;\n\npublic:\n    void setCommand(Command* command) {\n        this-&gt;command = command;\n    }\n\n    void executeOrder() {\n        command-&gt;execute();\n    }\n};\n\nint main() {\n    // \u521b\u5efa\u63a5\u6536\u8005\u548c\u547d\u4ee4\u5bf9\u8c61\n    DrinkMaker drinkMaker;\n\n    // \u8bfb\u53d6\u547d\u4ee4\u6570\u91cf\n    int n;\n    std::cin &gt;&gt; n;\n    std::cin.ignore(); // \u6d88\u8017\u6389\u6362\u884c\u7b26\n\n    while (n-- &gt; 0) {\n        // \u8bfb\u53d6\u547d\u4ee4\n        std::string drinkName;\n        std::cin &gt;&gt; drinkName;\n\n        // \u521b\u5efa\u547d\u4ee4\u5bf9\u8c61\n        Command* command = new OrderCommand(drinkName, &amp;drinkMaker);\n\n        // \u6267\u884c\u547d\u4ee4\n        OrderMachine orderMachine;\n        orderMachine.setCommand(command);\n        orderMachine.executeOrder();\n\n        // \u91ca\u653e\u52a8\u6001\u5206\u914d\u7684\u547d\u4ee4\u5bf9\u8c61\n        delete command;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from abc import ABC, abstractmethod\n\n# \u547d\u4ee4\u63a5\u53e3\nclass Command(ABC):\n    @abstractmethod\n    def execute(self):\n        pass\n\n# \u5177\u4f53\u547d\u4ee4\u7c7b - \u70b9\u9910\u547d\u4ee4\nclass OrderCommand(Command):\n    def __init__(self, drink_name, receiver):\n        self.drink_name = drink_name\n        self.receiver = receiver\n\n    def execute(self):\n        self.receiver.make_drink(self.drink_name)\n\n# \u63a5\u6536\u8005\u7c7b - \u5236\u4f5c\u996e\u54c1\nclass DrinkMaker:\n    def make_drink(self, drink_name):\n        print(f\"{drink_name} is ready!\")\n\n# \u8c03\u7528\u8005\u7c7b - \u70b9\u9910\u673a\nclass OrderMachine:\n    def __init__(self):\n        self.command = None\n\n    def set_command(self, command):\n        self.command = command\n\n    def execute_order(self):\n        self.command.execute()\n\nif __name__ == \"__main__\":\n    # \u521b\u5efa\u63a5\u6536\u8005\u548c\u547d\u4ee4\u5bf9\u8c61\n    drink_maker = DrinkMaker()\n\n    # \u8bfb\u53d6\u547d\u4ee4\u6570\u91cf\n    n = int(input())\n\n    for _ in range(n):\n        # \u8bfb\u53d6\u547d\u4ee4\n        drink_name = input()\n\n        # \u521b\u5efa\u547d\u4ee4\u5bf9\u8c61\n        command = OrderCommand(drink_name, drink_maker)\n\n        # \u6267\u884c\u547d\u4ee4\n        order_machine = OrderMachine()\n        order_machine.set_command(command)\n        order_machine.execute_order()\n</code></pre>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// Command \u63a5\u53e3\ntype Command interface {\n    Execute()\n}\n\n// OrderCommand \u5177\u4f53\u547d\u4ee4\u7c7b - \u70b9\u9910\u547d\u4ee4\ntype OrderCommand struct {\n    DrinkName string\n    Receiver  *DrinkMaker\n}\n\nfunc (oc *OrderCommand) Execute() {\n    oc.Receiver.MakeDrink(oc.DrinkName)\n}\n\n// DrinkMaker \u63a5\u6536\u8005\u7c7b - \u5236\u4f5c\u996e\u54c1\ntype DrinkMaker struct{}\n\nfunc (dm *DrinkMaker) MakeDrink(drinkName string) {\n    fmt.Println(drinkName + \" is ready!\")\n}\n\n// OrderMachine \u8c03\u7528\u8005\u7c7b - \u70b9\u9910\u673a\ntype OrderMachine struct {\n    Command Command\n}\n\nfunc (om *OrderMachine) SetCommand(command Command) {\n    om.Command = command\n}\n\nfunc (om *OrderMachine) ExecuteOrder() {\n    om.Command.Execute()\n}\n\nfunc main() {\n    // \u521b\u5efa\u63a5\u6536\u8005\u548c\u547d\u4ee4\u5bf9\u8c61\n    drinkMaker := &amp;DrinkMaker{}\n\n    // \u8bfb\u53d6\u547d\u4ee4\u6570\u91cf\n    var n int\n    fmt.Scan(&amp;n)\n\n    for i := 0; i &lt; n; i++ {\n        // \u8bfb\u53d6\u547d\u4ee4\n        var drinkName string\n        fmt.Scan(&amp;drinkName)\n\n        // \u521b\u5efa\u547d\u4ee4\u5bf9\u8c61\n        command := &amp;OrderCommand{DrinkName: drinkName, Receiver: drinkMaker}\n\n        // \u6267\u884c\u547d\u4ee4\n        orderMachine := &amp;OrderMachine{}\n        orderMachine.SetCommand(command)\n        orderMachine.ExecuteOrder()\n    }\n}\n</code></pre>"},{"location":"DesignPattern/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/#typescript","title":"Typescript","text":"TypeScript<pre><code>abstract class Command {\n  protected receiver: Receiver;\n\n  constructor(receiver: Receiver) {\n    this.receiver = receiver;\n  }\n\n  abstract execute(): void;\n}\n\nclass Receiver {\n  milkTea() {\n    console.log(\"MileTea is Ready!\");\n  }\n  coffee() {\n    console.log(\"Coffee is Ready!\");\n  }\n  cola() {\n    console.log(\"Cola is Ready!\");\n  }\n}\n\nclass MileTeaCommand extends Command {\n  constructor(receiver: Receiver) {\n    super(receiver);\n  }\n\n  execute(): void {\n    this.receiver.milkTea();\n  }\n}\nclass CoffeeCommand extends Command {\n  constructor(receiver: Receiver) {\n    super(receiver);\n  }\n\n  execute(): void {\n    this.receiver.coffee();\n  }\n}\nclass ColaCommand extends Command {\n  constructor(receiver: Receiver) {\n    super(receiver);\n  }\n\n  execute(): void {\n    this.receiver.cola();\n  }\n}\n\nclass Invoke {\n  private command: Command;\n\n  constructor(command: Command) {\n    this.command = command;\n  }\n\n  setOrder(command: Command) {\n    this.command = command;\n  }\n\n  invokeCommand() {\n    this.command.execute();\n  }\n}\n\n// @ts-ignore\nentry(4, (...args) =&gt; {\n  const machine = new Receiver();\n  let waiter: Invoke;\n  let command: Command;\n\n  args.forEach((type) =&gt; {\n    if (type === \"MilkTea\") {\n      command = new MileTeaCommand(machine);\n    } else if (type === \"Coffee\") {\n      command = new CoffeeCommand(machine);\n    } else if (type === \"Cola\") {\n      command = new ColaCommand(machine);\n    }\n\n    if (!waiter) {\n      waiter = new Invoke(command);\n      waiter.invokeCommand();\n    } else {\n      waiter.setOrder(command);\n      waiter.invokeCommand();\n    }\n  });\n})(\"MilkTea\")(\"Coffee\")(\"Cola\")(\"MilkTea\");\n\nfunction entry(count: number, fn: (...args: any) =&gt; void) {\n  function dfs(...args) {\n    if (args.length &lt; count) {\n      return (arg) =&gt; dfs(...args, arg);\n    }\n\n    return fn(...args);\n  }\n  return dfs;\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/","title":"\u4e2d\u4ecb\u8005\u6a21\u5f0f","text":"<p> \u7ea6 817 \u4e2a\u5b57  536 \u884c\u4ee3\u7801  3 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u4e2d\u4ecb\u8005\u6a21\u5f0f\uff08Mediator Pattern\uff09\u4e5f\u88ab\u79f0\u4e3a\u8c03\u505c\u8005\u6a21\u5f0f\uff0c\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u901a\u8fc7\u4e00\u4e2a\u4e2d\u4ecb\u5bf9\u8c61\u6765\u5c01\u88c5\u4e00\u7ec4\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u4ece\u800c\u4f7f\u8fd9\u4e9b\u5bf9\u8c61\u4e0d\u9700\u8981\u76f4\u63a5\u76f8\u4e92\u5f15\u7528\u3002\u8fd9\u6837\u53ef\u4ee5\u964d\u4f4e\u5bf9\u8c61\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\uff0c\u4f7f\u7cfb\u7edf\u66f4\u5bb9\u6613\u7ef4\u62a4\u548c\u6269\u5c55\u3002</p> <p>\u5f53\u4e00\u4e2a\u7cfb\u7edf\u4e2d\u7684\u5bf9\u8c61\u6709\u5f88\u591a\u4e14\u591a\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u6709\u590d\u6742\u7684\u76f8\u4e92\u4f9d\u8d56\u5173\u7cfb\u65f6\uff0c\u5176\u7ed3\u6784\u56fe\u53ef\u80fd\u662f\u4e0b\u9762\u8fd9\u6837\u7684\u3002</p> <p></p> <p>\u8fd9\u79cd\u4f9d\u8d56\u5173\u7cfb\u5f88\u96be\u7406\u6e05\uff0c\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u5f15\u5165\u4e00\u4e2a\u4e2d\u4ecb\u8005\u5bf9\u8c61\u6765\u8fdb\u884c\u534f\u8c03\u548c\u4ea4\u4e92\u3002\u4e2d\u4ecb\u8005\u6a21\u5f0f\u53ef\u4ee5\u4f7f\u5f97\u7cfb\u7edf\u7684\u7f51\u72b6\u7ed3\u6784\u53d8\u6210\u4ee5\u4e2d\u4ecb\u8005\u4e3a\u4e2d\u5fc3\u7684\u661f\u5f62\u7ed3\u6784\uff0c\u6bcf\u4e2a\u5177\u4f53\u5bf9\u8c61\u4e0d\u518d\u901a\u8fc7\u76f4\u63a5\u7684\u8054\u7cfb\u4e0e\u53e6\u4e00\u4e2a\u5bf9\u8c61\u53d1\u751f\u76f8\u4e92\u4f5c\u7528\uff0c\u800c\u662f\u901a\u8fc7\u201c\u4e2d\u4ecb\u8005\u201d\u5bf9\u8c61\u4e0e\u53e6\u4e00\u4e2a\u5bf9\u8c61\u53d1\u751f\u76f8\u4e92\u4f5c\u7528\u3002</p> <p></p>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u4e2d\u4ecb\u8005\u6a21\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u89d2\u8272\uff1a</p> <p></p> <ul> <li> <p>\u62bd\u8c61\u4e2d\u4ecb\u8005\uff08Mediator\uff09\uff1a  \u5b9a\u4e49\u4e2d\u4ecb\u8005\u7684\u63a5\u53e3\uff0c\u7528\u4e8e\u5404\u4e2a\u5177\u4f53\u540c\u4e8b\u5bf9\u8c61\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p> </li> <li> <p>\u5177\u4f53\u4e2d\u4ecb\u8005\uff08Concrete Mediator\uff09\uff1a  \u5b9e\u73b0\u62bd\u8c61\u4e2d\u4ecb\u8005\u63a5\u53e3\uff0c\u8d1f\u8d23\u534f\u8c03\u5404\u4e2a\u5177\u4f53\u540c\u4e8b\u5bf9\u8c61\u7684\u4ea4\u4e92\u5173\u7cfb\uff0c\u5b83\u9700\u8981\u77e5\u9053\u6240\u6709\u5177\u4f53\u540c\u4e8b\u7c7b\uff0c\u5e76\u4ece\u5177\u4f53\u540c\u4e8b\u63a5\u6536\u6d88\u606f\uff0c\u5411\u5177\u4f53\u540c\u4e8b\u5bf9\u8c61\u53d1\u51fa\u547d\u4ee4\u3002</p> </li> <li> <p>\u62bd\u8c61\u540c\u4e8b\u7c7b\uff08Colleague\uff09\uff1a  \u5b9a\u4e49\u540c\u4e8b\u7c7b\u7684\u63a5\u53e3\uff0c\u7ef4\u62a4\u4e00\u4e2a\u5bf9\u4e2d\u4ecb\u8005\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u7528\u4e8e\u901a\u4fe1\u3002</p> </li> <li> <p>\u5177\u4f53\u540c\u4e8b\u7c7b\uff08Concrete Colleague\uff09\uff1a  \u5b9e\u73b0\u62bd\u8c61\u540c\u4e8b\u7c7b\u63a5\u53e3\uff0c\u6bcf\u4e2a\u5177\u4f53\u540c\u4e8b\u7c7b\u53ea\u77e5\u9053\u81ea\u5df1\u7684\u884c\u4e3a\uff0c\u800c\u4e0d\u4e86\u89e3\u5176\u4ed6\u540c\u4e8b\u7c7b\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u5b83\u4eec\u90fd\u9700\u8981\u4e0e\u4e2d\u4ecb\u8005\u901a\u4fe1\uff0c\u901a\u8fc7\u4e2d\u4ecb\u8005\u534f\u8c03\u4e0e\u5176\u4ed6\u540c\u4e8b\u5bf9\u8c61\u7684\u4ea4\u4e92\u3002</p> </li> </ul>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"Java<pre><code>// \u62bd\u8c61\u4e2d\u4ecb\u8005\npublic abstract class Mediator {\n    void register(Colleague colleague);\n    // \u5b9a\u4e49\u4e00\u4e2a\u62bd\u8c61\u7684\u53d1\u9001\u6d88\u606f\u65b9\u6cd5\n    public abstract void send(String message, Player player);\n\n}\n\n// \u5177\u4f53\u4e2d\u4ecb\u8005\npublic class ConcreteMediator extends Mediator {\n    private List&lt;Colleague&gt; colleagues = new ArrayList&lt;&gt;();\n\n    public void register((Colleague colleague) {\n        colleagues.add(colleague);\n    }\n\n    @Override\n    public void send(String message, Colleague colleague) {\n        for (Colleague c : colleagues) {\n            // \u6392\u9664\u53d1\u9001\u6d88\u606f\u7684\u540c\u4e8b\u5bf9\u8c61\n            if (c != colleague) {\n                c.receive(message);\n            }\n        }\n    }\n}\n\n// \u540c\u4e8b\u5bf9\u8c61\nabstract class Colleague {\n    protected Mediator mediator;\n\n    public Colleague(Mediator mediator) {\n        this.mediator = mediator;\n    }\n\n    // \u53d1\u9001\u6d88\u606f\n    public abstract void send(String message);\n\n    // \u63a5\u6536\u6d88\u606f\n    public abstract void receive(String message);\n}\n\n// \u5177\u4f53\u540c\u4e8b\u5bf9\u8c611\nclass ConcreteColleague1 extends Colleague {\n    public ConcreteColleague1(Mediator mediator) {\n        super(mediator);\n    }\n\n    @Override\n    public void send(String message) {\n        mediator.send(message, this);\n    }\n\n    @Override\n    public void receive(String message) {\n        System.out.println(\"ConcreteColleague1 received: \" + message);\n    }\n}\n\n// \u5177\u4f53\u540c\u4e8b\u5bf9\u8c612\nclass ConcreteColleague2 extends Colleague {\n    public ConcreteColleague2(Mediator mediator) {\n        super(mediator);\n    }\n\n    @Override\n    public void send(String message) {\n        mediator.send(message, this);\n    }\n\n    @Override\n    public void receive(String message) {\n        System.out.println(\"ConcreteColleague2 received: \" + message);\n    }\n}\n\n// \u5ba2\u6237\u7aef\npublic class Main{\n    public static void main(String[] args) {\n        // \u521b\u5efa\u4e2d\u4ecb\u8005\n        Mediator mediator = new ConcreteMediator();\n\n        // \u521b\u5efa\u540c\u4e8b\u5bf9\u8c61\n        Colleague colleague1 = new ConcreteColleague1(mediator);\n        Colleague colleague2 = new ConcreteColleague2(mediator);\n\n        // \u6ce8\u518c\u540c\u4e8b\u5bf9\u8c61\u5230\u4e2d\u4ecb\u8005\n        mediator.register(colleague1);\n        mediator.register(colleague2);\n\n        // \u540c\u4e8b\u5bf9\u8c61\u4e4b\u95f4\u53d1\u9001\u6d88\u606f\n        colleague1.send(\"Hello from Colleague1!\");\n        colleague2.send(\"Hi from Colleague2!\");\n    }\n}\n</code></pre>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u4e2d\u4ecb\u8005\u6a21\u5f0f\u4f7f\u5f97\u540c\u4e8b\u5bf9\u8c61\u4e0d\u9700\u8981\u77e5\u9053\u5f7c\u6b64\u7684\u7ec6\u8282\uff0c\u53ea\u9700\u8981\u4e0e\u4e2d\u4ecb\u8005\u8fdb\u884c\u901a\u4fe1\uff0c\u7b80\u5316\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u4e5f\u964d\u4f4e\u4e86\u5404\u5bf9\u8c61\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\uff0c\u4f46\u662f\u8fd9\u4e5f\u4f1a\u4f7f\u5f97\u4e2d\u4ecb\u8005\u5bf9\u8c61\u53d8\u5f97\u8fc7\u4e8e\u5e9e\u5927\u548c\u590d\u6742\uff0c\u5982\u679c\u4e2d\u4ecb\u8005\u5bf9\u8c61\u51fa\u73b0\u95ee\u9898\uff0c\u6574\u4e2a\u7cfb\u7edf\u53ef\u80fd\u4f1a\u53d7\u5230\u5f71\u54cd\u3002</p> <p>\u4e2d\u4ecb\u8005\u6a21\u5f0f\u9002\u7528\u4e8e\u5f53\u7cfb\u7edf\u5bf9\u8c61\u4e4b\u95f4\u5b58\u5728\u590d\u6742\u7684\u4ea4\u4e92\u5173\u7cfb\u6216\u8005\u7cfb\u7edf\u9700\u8981\u5728\u4e0d\u540c\u5bf9\u8c61\u4e4b\u95f4\u8fdb\u884c\u7075\u6d3b\u7684\u901a\u4fe1\u65f6\u4f7f\u7528\uff0c\u53ef\u4ee5\u4f7f\u5f97\u95ee\u9898\u7b80\u5316\uff0c</p>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.*;\n\n// \u62bd\u8c61\u4e2d\u4ecb\u8005\ninterface ChatRoomMediator {\n    void sendMessage(String sender, String message);\n    void addUser(ChatUser user); \n    Map&lt;String, ChatUser&gt; getUsers(); \n}\n\n// \u5177\u4f53\u4e2d\u4ecb\u8005\nclass ChatRoomMediatorImpl implements ChatRoomMediator {\n    private Map&lt;String, ChatUser&gt; users = new LinkedHashMap&lt;&gt;(); \n\n    @Override\n    public void sendMessage(String sender, String message) {\n        for (ChatUser user : users.values()) {\n            if (!user.getName().equals(sender)) {\n                user.receiveMessage(sender, message);\n            }\n        }\n    }\n\n    @Override\n    public void addUser(ChatUser user) {\n        users.put(user.getName(), user);\n    }\n\n    @Override\n    public Map&lt;String, ChatUser&gt; getUsers() {\n        return users;\n    }\n}\n\n// \u62bd\u8c61\u540c\u4e8b\u7c7b\nabstract class ChatUser { \n    private String name;\n    private ChatRoomMediator mediator;\n    private List&lt;String&gt; receivedMessages = new ArrayList&lt;&gt;();\n\n    public ChatUser(String name, ChatRoomMediator mediator) {\n        this.name = name;\n        this.mediator = mediator;\n        mediator.addUser(this);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void sendMessage(String message) {\n        mediator.sendMessage(name, message);\n    }\n\n    public abstract void receiveMessage(String sender, String message);\n\n    public List&lt;String&gt; getReceivedMessages() {\n        return receivedMessages;\n    }\n\n    protected void addReceivedMessage(String message) {\n        receivedMessages.add(message);\n    }\n}\n\n// \u5177\u4f53\u540c\u4e8b\u7c7b\nclass ConcreteChatUser extends ChatUser {\n    public ConcreteChatUser(String name, ChatRoomMediator mediator) {\n        super(name, mediator);\n    }\n\n    @Override\n    public void receiveMessage(String sender, String message) {\n        String receivedMessage = getName() + \" received: \" + message;\n        addReceivedMessage(receivedMessage);\n        System.out.println(receivedMessage); \n    }\n}\n\n// \u5ba2\u6237\u7aef\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int N = scanner.nextInt();\n        List&lt;String&gt; userNames = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; N; i++) {\n            userNames.add(scanner.next());\n        }\n\n        ChatRoomMediator mediator = new ChatRoomMediatorImpl();\n\n        // \u521b\u5efa\u7528\u6237\u5bf9\u8c61\n        for (String userName : userNames) {\n            new ConcreteChatUser(userName, mediator);\n        }\n\n        // \u53d1\u9001\u6d88\u606f\u5e76\u8f93\u51fa\n        while (scanner.hasNext()) {\n            String sender = scanner.next();\n            String message = scanner.next();\n\n            ChatUser user = mediator.getUsers().get(sender);\n            if (user != null) {\n                user.sendMessage(message);\n            }\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#_7","title":"\u6269\u5c55\uff1a\u548c\u4ee3\u7406\u6a21\u5f0f\u7684\u533a\u522b","text":"<p>\u4e2d\u4ecb\u8005\u6a21\u5f0f\uff08Mediator Pattern\uff09\u548c\u4ee3\u7406\u6a21\u5f0f\uff08Proxy Pattern) \u5728\u67d0\u4e9b\u8868\u8ff0\u4e0a\u6709\u4e9b\u7c7b\u4f3c\uff0c\u4f46\u662f\u4ed6\u4eec\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u4e24\u4e2a\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u76ee\u7684\u662f\u964d\u4f4e\u7cfb\u7edf\u4e2d\u5404\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u7684\u76f4\u63a5\u8026\u5408\uff0c\u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u4e2d\u4ecb\u8005\u5bf9\u8c61\uff0c\u4f7f\u5bf9\u8c61\u4e4b\u95f4\u7684\u901a\u4fe1\u96c6\u4e2d\u5728\u4e2d\u4ecb\u8005\u4e0a\u3002\u800c\u5728\u4ee3\u7406\u6a21\u5f0f\u4e2d\uff0c\u5ba2\u6237\u7aef\u901a\u8fc7\u4ee3\u7406\u4e0e\u76ee\u6807\u5bf9\u8c61\u8fdb\u884c\u901a\u4fe1\u3002\u4ee3\u7406\u53ef\u4ee5\u5728\u8c03\u7528\u76ee\u6807\u5bf9\u8c61\u7684\u65b9\u6cd5\u524d\u540e\u8fdb\u884c\u4e00\u4e9b\u989d\u5916\u7684\u64cd\u4f5c\uff0c\u5176\u76ee\u7684\u662f\u63a7\u5236\u5bf9\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u5b83\u4eec\u5206\u522b\u89e3\u51b3\u4e86\u4e0d\u540c\u7c7b\u578b\u7684\u95ee\u9898\u3002</p>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#_8","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;map&gt;\n#include &lt;list&gt;\n\n// \u62bd\u8c61\u4e2d\u4ecb\u8005\nclass ChatRoomMediator;\n\n// \u62bd\u8c61\u540c\u4e8b\u7c7b\nclass ChatUser {\nprivate:\n    std::string name;\n    ChatRoomMediator* mediator;\n    std::list&lt;std::string&gt; receivedMessages;\n\npublic:\n    ChatUser(const std::string&amp; name, ChatRoomMediator* mediator);\n\n    std::string getName() const {\n        return name;\n    }\n\n    void sendMessage(const std::string&amp; message);\n\n    virtual void receiveMessage(const std::string&amp; sender, const std::string&amp; message) = 0;\n\n    std::list&lt;std::string&gt; getReceivedMessages() const {\n        return receivedMessages;\n    }\n\nprotected:\n    void addReceivedMessage(const std::string&amp; message) {\n        receivedMessages.push_back(message);\n    }\n};\n\n// \u5177\u4f53\u540c\u4e8b\u7c7b\nclass ConcreteChatUser : public ChatUser {\npublic:\n    ConcreteChatUser(const std::string&amp; name, ChatRoomMediator* mediator);\n\n    void receiveMessage(const std::string&amp; sender, const std::string&amp; message) override;\n};\n\n// \u62bd\u8c61\u4e2d\u4ecb\u8005\nclass ChatRoomMediator {\npublic:\n    virtual void sendMessage(const std::string&amp; sender, const std::string&amp; message) = 0;\n    virtual void addUser(ChatUser* user) = 0;\n    virtual std::map&lt;std::string, ChatUser*&gt; getUsers() = 0;\n    virtual ~ChatRoomMediator() = default;\n};\n\n// \u5177\u4f53\u4e2d\u4ecb\u8005\nclass ChatRoomMediatorImpl : public ChatRoomMediator {\nprivate:\n    std::map&lt;std::string, ChatUser*&gt; users;\n\npublic:\n    void sendMessage(const std::string&amp; sender, const std::string&amp; message) override {\n        for (const auto&amp; userPair : users) {\n            if (userPair.first != sender) {\n                userPair.second-&gt;receiveMessage(sender, message);\n            }\n        }\n    }\n\n    void addUser(ChatUser* user) override {\n        users[user-&gt;getName()] = user;\n    }\n\n    std::map&lt;std::string, ChatUser*&gt; getUsers() override {\n        return users;\n    }\n};\n\n// \u5b9e\u73b0 ChatUser \u7c7b\u7684\u6210\u5458\u51fd\u6570\nChatUser::ChatUser(const std::string&amp; name, ChatRoomMediator* mediator) : name(name), mediator(mediator) {\n    mediator-&gt;addUser(this);\n}\n\nvoid ChatUser::sendMessage(const std::string&amp; message) {\n    mediator-&gt;sendMessage(name, message);\n}\n\n// \u5b9e\u73b0 ConcreteChatUser \u7c7b\u7684\u6210\u5458\u51fd\u6570\nConcreteChatUser::ConcreteChatUser(const std::string&amp; name, ChatRoomMediator* mediator) : ChatUser(name, mediator) {}\n\nvoid ConcreteChatUser::receiveMessage(const std::string&amp; sender, const std::string&amp; message) {\n    std::string receivedMessage = getName() + \" received: \" + message;\n    addReceivedMessage(receivedMessage);\n    std::cout &lt;&lt; receivedMessage &lt;&lt; std::endl; \n}\n\nint main() {\n    std::vector&lt;std::string&gt; userNames;\n    int N;\n    std::cin &gt;&gt; N;\n\n    for (int i = 0; i &lt; N; i++) {\n        std::string userName;\n        std::cin &gt;&gt; userName;\n        userNames.push_back(userName);\n    }\n\n    ChatRoomMediator* mediator = new ChatRoomMediatorImpl();\n\n    // \u521b\u5efa\u7528\u6237\u5bf9\u8c61\n    for (const auto&amp; userName : userNames) {\n        new ConcreteChatUser(userName, mediator);\n    }\n\n    // \u53d1\u9001\u6d88\u606f\u5e76\u8f93\u51fa\n    std::string sender, message;\n    while (std::cin &gt;&gt; sender &gt;&gt; message) {\n        ChatUser* user = mediator-&gt;getUsers()[sender];\n        if (user != nullptr) {\n            user-&gt;sendMessage(message);\n        }\n    }\n\n    delete mediator; // \u91ca\u653e\u4e2d\u4ecb\u8005\u5bf9\u8c61\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>class ChatRoomMediator:\n    def __init__(self):\n        self.users = {}\n\n    def send_message(self, sender, message):\n        for user in self.users.values():\n            if user.name != sender:\n                user.receive_message(sender, message)\n\n    def add_user(self, user):\n        self.users[user.name] = user\n\nclass ChatUser:\n    def __init__(self, name, mediator):\n        self.name = name\n        self.mediator = mediator\n        self.received_messages = []\n\n    def send_message(self, message):\n        self.mediator.send_message(self.name, message)\n\n    def receive_message(self, sender, message):\n        received_message = f\"{self.name} received: {message}\"\n        self.received_messages.append(received_message)\n        print(received_message)\n\nif __name__ == \"__main__\":\n    # \u8bfb\u53d6\u7528\u6237\u6570\u91cf\n    N = int(input())\n\n    # \u8bfb\u53d6\u7528\u6237\u5217\u8868\n    user_names = input().split()\n\n    # \u521b\u5efa\u4e2d\u4ecb\u8005\n    mediator = ChatRoomMediator()\n\n    # \u521b\u5efa\u7528\u6237\u5bf9\u8c61\u5e76\u6ce8\u518c\u5230\u4e2d\u4ecb\u8005\n    for user_name in user_names:\n        user = ChatUser(user_name, mediator)\n        mediator.add_user(user)\n\n    # \u5904\u7406\u6d88\u606f\u8f93\u5165\n    while True:\n        try:\n            sender, message = input().split()\n            user = mediator.users.get(sender)\n            if user:\n                user.send_message(message)\n\n        except EOFError:\n            break\n</code></pre>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\ntype ChatRoomMediator struct {\n    users map[string]*ChatUser\n}\n\nfunc NewChatRoomMediator() *ChatRoomMediator {\n    return &amp;ChatRoomMediator{\n        users: make(map[string]*ChatUser),\n    }\n}\n\nfunc (m *ChatRoomMediator) SendMessage(sender, message string) {\n    for _, user := range m.users {\n        if user.name != sender {\n            user.ReceiveMessage(sender, message)\n        }\n    }\n}\n\nfunc (m *ChatRoomMediator) AddUser(user *ChatUser) {\n    m.users[user.name] = user\n}\n\ntype ChatUser struct {\n    name              string\n    mediator          *ChatRoomMediator\n    receivedMessages []string\n}\n\nfunc NewChatUser(name string, mediator *ChatRoomMediator) *ChatUser {\n    return &amp;ChatUser{\n        name:              name,\n        mediator:          mediator,\n        receivedMessages: make([]string, 0),\n    }\n}\n\nfunc (u *ChatUser) SendMessage(message string) {\n    u.mediator.SendMessage(u.name, message)\n}\n\nfunc (u *ChatUser) ReceiveMessage(sender, message string) {\n    receivedMessage := fmt.Sprintf(\"%s received: %s\", u.name, message)\n    u.receivedMessages = append(u.receivedMessages, receivedMessage)\n    fmt.Println(receivedMessage)\n}\n\nfunc main() {\n    var N int\n    fmt.Scan(&amp;N)\n\n    userNames := make([]string, N)\n    for i := 0; i &lt; N; i++ {\n        fmt.Scan(&amp;userNames[i])\n    }\n\n    mediator := NewChatRoomMediator()\n\n    for _, userName := range userNames {\n        user := NewChatUser(userName, mediator)\n        mediator.AddUser(user)\n    }\n\n    for {\n        var sender, message string\n        _, err := fmt.Scan(&amp;sender, &amp;message)\n        if err != nil {\n            break\n        }\n\n        user, ok := mediator.users[sender]\n        if ok {\n            user.SendMessage(message)\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/16-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/#typescript","title":"Typescript","text":"TypeScript<pre><code>abstract class Colleague {\n  private name: string;\n\n  get cname() {\n    return this.name;\n  }\n\n  constructor(name: string) {\n    this.name = name;\n  }\n\n  send(msg: string) {\n    console.log(`${this.name} received: ${msg}`);\n  }\n}\n\nabstract class Mediator {\n  protected colleagues: Colleague[] = [];\n\n  constructor(...colleagues: Colleague[]) {\n    this.addColleague(...colleagues);\n  }\n\n  addColleague(...colleagues: Colleague[]) {\n    this.colleagues.push(...colleagues);\n  }\n\n  abstract notify(name: string, msg: string): void;\n}\n\nclass ChatRoomMediator extends Mediator {\n  constructor(...colleagues: Colleague[]) {\n    super(...colleagues);\n  }\n\n  notify(name: string, msg: string) {\n    this.colleagues.forEach((item) =&gt; {\n      if (item.cname !== name) {\n        item.send(msg);\n      }\n    });\n  }\n}\n\nclass UserColleague extends Colleague {\n  constructor(name: string) {\n    super(name);\n  }\n}\n\n// @ts-ignore\nentry(3, (...args) =&gt; {\n  const chatRoom = new ChatRoomMediator();\n  args.forEach((uname) =&gt; {\n    chatRoom.addColleague(new UserColleague(uname));\n  });\n\n  function dfs([name, msg]: [string, string]) {\n    chatRoom.notify(name, msg);\n    return dfs;\n  }\n\n  return dfs;\n})(\"User1\")(\"User2\")(\"User3\")([\"User1\", \"Hello_All!\"])([\"User2\", \"Hi_User1!\"])([\"User3\",\"How_is_everyone?\"]);\n\nfunction entry(count: number, fn: (...args: any) =&gt; void) {\n  function dfs(...args) {\n    if (args.length &lt; count) {\n      return (arg) =&gt; dfs(...args, arg);\n    }\n\n    return fn(...args);\n  }\n  return dfs;\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/","title":"18. \u5907\u5fd8\u5f55\u6a21\u5f0f-\u8ba1\u6570\u5668\u5e94\u7528","text":"<p> \u7ea6 543 \u4e2a\u5b57  460 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u5907\u5fd8\u5f55\u6a21\u5f0f\uff08Memento Pattern\uff09\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u5141\u8bb8\u5728 \u4e0d\u66b4\u9732\u5bf9\u8c61\u5b9e\u73b0\u7684\u60c5\u51b5\u4e0b\u6355\u83b7\u5bf9\u8c61\u7684\u5185\u90e8\u72b6\u6001 \u5e76 \u5728\u5bf9\u8c61\u4e4b\u5916\u4fdd\u5b58\u8fd9\u4e2a\u72b6\u6001 \uff0c\u4ee5\u4fbf\u7a0d\u540e\u53ef\u4ee5\u5c06\u5176\u8fd8\u539f\u5230\u5148\u524d\u7684\u72b6\u6001\u3002</p> <p></p>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u5907\u5fd8\u5f55\u6a21\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u89d2\u8272\uff1a</p> <ul> <li> <p>\u53d1\u8d77\u4eba<code>Originator</code>\uff1a \u9700\u8981\u8fd8\u539f\u72b6\u6001\u7684\u90a3\u4e2a\u5bf9\u8c61\uff0c\u8d1f\u8d23\u521b\u5efa\u4e00\u4e2a\u3010\u5907\u5fd8\u5f55\u3011\uff0c\u5e76\u4f7f\u7528\u5907\u5fd8\u5f55\u8bb0\u5f55\u5f53\u524d\u65f6\u523b\u7684\u5185\u90e8\u72b6\u6001\u3002</p> </li> <li> <p>\u5907\u5fd8\u5f55<code>Memento</code>:  \u5b58\u50a8\u53d1\u8d77\u4eba\u5bf9\u8c61\u7684\u5185\u90e8\u72b6\u6001\uff0c\u5b83\u53ef\u4ee5\u5305\u542b\u53d1\u8d77\u4eba\u7684\u90e8\u5206\u6216\u5168\u90e8\u72b6\u6001\u4fe1\u606f\uff0c\u4f46\u662f\u5bf9\u5916\u90e8\u662f\u4e0d\u53ef\u89c1\u7684\uff0c\u53ea\u6709\u53d1\u8d77\u4eba\u80fd\u591f\u8bbf\u95ee\u5907\u5fd8\u5f55\u5bf9\u8c61\u7684\u72b6\u6001\u3002</p> </li> </ul> <p>\u5907\u5fd8\u5f55\u6709\u4e24\u4e2a\u63a5\u53e3\uff0c\u53d1\u8d77\u4eba\u80fd\u591f\u901a\u8fc7\u5bbd\u63a5\u53e3\u8bbf\u95ee\u6570\u636e\uff0c\u7ba1\u7406\u8005\u53ea\u80fd\u770b\u5230\u7a84\u63a5\u53e3\uff0c\u5e76\u5c06\u5907\u5fd8\u5f55\u4f20\u9012\u7ed9\u5176\u4ed6\u5bf9\u8c61\u3002</p> <ul> <li> <p>\u7ba1\u7406\u8005<code>Caretaker</code>:  \u8d1f\u8d23\u5b58\u50a8\u5907\u5fd8\u5f55\u5bf9\u8c61\uff0c\u4f46\u5e76\u4e0d\u4e86\u89e3\u5176\u5185\u90e8\u7ed3\u6784\uff0c\u7ba1\u7406\u8005\u53ef\u4ee5\u5b58\u50a8\u591a\u4e2a\u5907\u5fd8\u5f55\u5bf9\u8c61\u3002</p> </li> <li> <p>\u5ba2\u6237\u7aef\uff1a\u5728\u9700\u8981\u6062\u590d\u72b6\u6001\u65f6\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u4ece\u7ba1\u7406\u8005\u90a3\u91cc\u83b7\u53d6\u5907\u5fd8\u5f55\u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u4f20\u9012\u7ed9\u53d1\u8d77\u4eba\u8fdb\u884c\u72b6\u6001\u7684\u6062\u590d\u3002</p> </li> </ul> <p></p>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u5b9e\u73b0","text":"<ol> <li>\u521b\u5efa\u53d1\u8d77\u4eba\u7c7b\uff1a\u53ef\u4ee5\u521b\u5efa\u5907\u5fd8\u5f55\u5bf9\u8c61</li> </ol> Java<pre><code>class Originator {\n    private String state;\n\n    public void setState(String state) {\n        this.state = state;\n    }\n    public String getState() {\n        return state;\n    }\n    // \u521b\u5efa\u5907\u5fd8\u5f55\u5bf9\u8c61\n    public Memento createMemento() {\n        return new Memento(state);\n    }\n    // \u901a\u8fc7\u5907\u5fd8\u5f55\u5bf9\u8c61\u6062\u590d\u72b6\u6001\n    public void restoreFromMemento(Memento memento) {\n        state = memento.getState();\n    }\n}\n</code></pre> <ol> <li>\u521b\u5efa\u5907\u5fd8\u5f55\u7c7b\uff1a\u4fdd\u5b58\u53d1\u8d77\u4eba\u5bf9\u8c61\u7684\u72b6\u6001</li> </ol> Java<pre><code>class Memento {\n\n    private String state;\n    // \u4fdd\u5b58\u53d1\u8d77\u4eba\u7684\u72b6\u6001\n    public Memento(String state) {\n        this.state = state;\n    }\n\n    public String getState() {\n        return state;\n    }\n}\n</code></pre> <ol> <li>\u521b\u5efa\u7ba1\u7406\u8005\uff1a\u7ef4\u62a4\u4e00\u7ec4\u5907\u5fd8\u5f55\u5bf9\u8c61</li> </ol> Java<pre><code>class Caretaker {\n    private List&lt;Memento&gt; mementos = new ArrayList&lt;&gt;();\n\n    public void addMemento(Memento memento) {\n        mementos.add(memento);\n    }\n\n    public Memento getMemento(int index) {\n        return mementos.get(index);\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u4f7f\u7528\u5907\u5fd8\u5f55\u6a21\u5f0f</li> </ol> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u53d1\u8d77\u4eba\u5bf9\u8c61\n        Originator originator = new Originator();\n        originator.setState(\"State 1\");\n\n        // \u521b\u5efa\u7ba1\u7406\u8005\u5bf9\u8c61\n        Caretaker caretaker = new Caretaker();\n\n        // \u4fdd\u5b58\u5f53\u524d\u72b6\u6001\n        caretaker.addMemento(originator.createMemento());\n\n        // \u4fee\u6539\u72b6\u6001\n        originator.setState(\"State 2\");\n\n        // \u518d\u6b21\u4fdd\u5b58\u5f53\u524d\u72b6\u6001\n        caretaker.addMemento(originator.createMemento());\n\n        // \u6062\u590d\u5230\u5148\u524d\u72b6\u6001\n        originator.restoreFromMemento(caretaker.getMemento(0));\n\n        System.out.println(\"Current State: \" + originator.getState());\n    }\n}\n</code></pre>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#_4","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u5907\u5fd8\u5f55\u6a21\u5f0f\u5728\u4fdd\u8bc1\u4e86\u5bf9\u8c61\u5185\u90e8\u72b6\u6001\u7684\u5c01\u88c5\u548c\u79c1\u6709\u6027\u524d\u63d0\u4e0b\u53ef\u4ee5\u8f7b\u677e\u5730\u6dfb\u52a0\u65b0\u7684\u5907\u5fd8\u5f55\u548c\u53d1\u8d77\u4eba\uff0c\u5b9e\u73b0\u201c\u5907\u4efd\u201d\uff0c\u4e0d\u8fc7 \u5907\u4efd\u5bf9\u8c61\u5f80\u5f80\u4f1a\u6d88\u8017\u8f83\u591a\u7684\u5185\u5b58\uff0c\u8d44\u6e90\u6d88\u8017\u589e\u52a0\u3002</p> <p>\u5907\u5fd8\u5f55\u6a21\u5f0f\u5e38\u5e38\u7528\u6765\u5b9e\u73b0\u64a4\u9500\u548c\u91cd\u505a\u529f\u80fd\uff0c\u6bd4\u5982\u5728Java Swing GUI\u7f16\u7a0b\u4e2d\uff0c<code>javax.swing.undo</code>\u5305\u4e2d\u7684\u64a4\u9500\uff08undo\uff09\u548c\u91cd\u505a\uff08redo\uff09\u673a\u5236\u4f7f\u7528\u4e86\u5907\u5fd8\u5f55\u6a21\u5f0f\u3002<code>UndoManager</code>\u548c<code>UndoableEdit</code>\u63a5\u53e3\u662f\u4e0e\u5907\u5fd8\u5f55\u6a21\u5f0f\u76f8\u5173\u7684\u4e3b\u8981\u7c7b\u548c\u63a5\u53e3\u3002</p>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#_5","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\nimport java.util.Stack;\n\n// \u5907\u5fd8\u5f55\nclass Memento {\n    private int value;\n\n    public Memento(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n}\n\n// \u53d1\u8d77\u4eba\uff08Originator\uff09\nclass Counter {\n    private int value;\n    private Stack&lt;Memento&gt; undoStack = new Stack&lt;&gt;();\n    private Stack&lt;Memento&gt; redoStack = new Stack&lt;&gt;();\n\n    public void increment() {\n        redoStack.clear();\n        undoStack.push(new Memento(value));\n        value++;\n    }\n\n    public void decrement() {\n        redoStack.clear();\n        undoStack.push(new Memento(value));\n        value--;\n    }\n\n    public void undo() {\n        if (!undoStack.isEmpty()) {\n            redoStack.push(new Memento(value));\n            value = undoStack.pop().getValue();\n        }\n    }\n\n    public void redo() {\n        if (!redoStack.isEmpty()) {\n            undoStack.push(new Memento(value));\n            value = redoStack.pop().getValue();\n        }\n    }\n\n    public int getValue() {\n        return value;\n    }\n}\n\n// \u5ba2\u6237\u7aef\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        Counter counter = new Counter();\n\n        // \u5904\u7406\u8ba1\u6570\u5668\u5e94\u7528\u7684\u8f93\u5165\n        while (scanner.hasNext()) {\n            String operation = scanner.next();\n            switch (operation) {\n                case \"Increment\":\n                    counter.increment();\n                    break;\n                case \"Decrement\":\n                    counter.decrement();\n                    break;\n                case \"Undo\":\n                    counter.undo();\n                    break;\n                case \"Redo\":\n                    counter.redo();\n                    break;\n            }\n\n            // \u8f93\u51fa\u5f53\u524d\u8ba1\u6570\u5668\u7684\u503c\n            System.out.println(counter.getValue());\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#_6","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;stack&gt;\n\n// \u5907\u5fd8\u5f55\nclass Memento {\nprivate:\n    int value;\n\npublic:\n    Memento(int val) : value(val) {}\n\n    int getValue() const {\n        return value;\n    }\n};\n\n// \u53d1\u8d77\u4eba\uff08Originator\uff09\nclass Counter {\nprivate:\n    int value;\n    std::stack&lt;Memento&gt; undoStack;\n    std::stack&lt;Memento&gt; redoStack;\n\npublic:\n    void increment() {\n        redoStack = std::stack&lt;Memento&gt;(); // \u6e05\u7a7a redoStack\n        undoStack.push(Memento(value));\n        value++;\n    }\n\n    void decrement() {\n        redoStack = std::stack&lt;Memento&gt;(); // \u6e05\u7a7a redoStack\n        undoStack.push(Memento(value));\n        value--;\n    }\n\n    void undo() {\n        if (!undoStack.empty()) {\n            redoStack.push(Memento(value));\n            value = undoStack.top().getValue();\n            undoStack.pop();\n        }\n    }\n\n    void redo() {\n        if (!redoStack.empty()) {\n            undoStack.push(Memento(value));\n            value = redoStack.top().getValue();\n            redoStack.pop();\n        }\n    }\n\n    int getValue() const {\n        return value;\n    }\n};\n\nint main() {\n    Counter counter;\n\n    // \u5904\u7406\u8ba1\u6570\u5668\u5e94\u7528\u7684\u8f93\u5165\n    std::string operation;\n    while (std::cin &gt;&gt; operation) {\n        if (operation == \"Increment\") {\n            counter.increment();\n        } else if (operation == \"Decrement\") {\n            counter.decrement();\n        } else if (operation == \"Undo\") {\n            counter.undo();\n        } else if (operation == \"Redo\") {\n            counter.redo();\n        }\n\n        // \u8f93\u51fa\u5f53\u524d\u8ba1\u6570\u5668\u7684\u503c\n        std::cout &lt;&lt; counter.getValue() &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>import sys\nclass Memento:\n    def __init__(self, value):\n        self.value = value\n\n    def get_value(self):\n        return self.value\n\n\nclass Counter:\n    def __init__(self):\n        self.value = 0\n        self.undo_stack = []\n        self.redo_stack = []\n\n    def increment(self):\n        self.redo_stack = []  # \u6e05\u7a7a redo_stack\n        self.undo_stack.append(Memento(self.value))\n        self.value += 1\n\n    def decrement(self):\n        self.redo_stack = []  # \u6e05\u7a7a redo_stack\n        self.undo_stack.append(Memento(self.value))\n        self.value -= 1\n\n    def undo(self):\n        if self.undo_stack:\n            self.redo_stack.append(Memento(self.value))\n            self.value = self.undo_stack.pop().get_value()\n\n    def redo(self):\n        if self.redo_stack:\n            self.undo_stack.append(Memento(self.value))\n            self.value = self.redo_stack.pop().get_value()\n\n    def get_value(self):\n        return self.value\n\n\n# \u5ba2\u6237\u7aef\ncounter = Counter()\n\n# \u5904\u7406\u8ba1\u6570\u5668\u5e94\u7528\u7684\u8f93\u5165\nfor line in sys.stdin:\n    operation = line.strip()\n    if operation == \"Increment\":\n        counter.increment()\n    elif operation == \"Decrement\":\n        counter.decrement()\n    elif operation == \"Undo\":\n        counter.undo()\n    elif operation == \"Redo\":\n        counter.redo()\n\n    # \u8f93\u51fa\u5f53\u524d\u8ba1\u6570\u5668\u7684\u503c\n    print(counter.get_value())\n</code></pre>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"bufio\"\n    \"fmt\"\n    \"os\"\n)\n\n// \u5907\u5fd8\u5f55\ntype Memento struct {\n    value int\n}\n\n// \u53d1\u8d77\u4eba\uff08Originator\uff09\ntype Counter struct {\n    value      int\n    undoStack  []*Memento\n    redoStack  []*Memento\n}\n\nfunc (c *Counter) increment() {\n    c.redoStack = nil\n    c.undoStack = append(c.undoStack, &amp;Memento{value: c.value})\n    c.value++\n}\n\nfunc (c *Counter) decrement() {\n    c.redoStack = nil\n    c.undoStack = append(c.undoStack, &amp;Memento{value: c.value})\n    c.value--\n}\n\nfunc (c *Counter) undo() {\n    if len(c.undoStack) &gt; 0 {\n        c.redoStack = append(c.redoStack, &amp;Memento{value: c.value})\n        c.value = c.undoStack[len(c.undoStack)-1].value\n        c.undoStack = c.undoStack[:len(c.undoStack)-1]\n    }\n}\n\nfunc (c *Counter) redo() {\n    if len(c.redoStack) &gt; 0 {\n        c.undoStack = append(c.undoStack, &amp;Memento{value: c.value})\n        c.value = c.redoStack[len(c.redoStack)-1].value\n        c.redoStack = c.redoStack[:len(c.redoStack)-1]\n    }\n}\n\nfunc (c *Counter) getValue() int {\n    return c.value\n}\n\n// \u5ba2\u6237\u7aef\nfunc main() {\n    scanner := bufio.NewScanner(os.Stdin)\n    counter := &amp;Counter{}\n\n    // \u5904\u7406\u8ba1\u6570\u5668\u5e94\u7528\u7684\u8f93\u5165\n    for scanner.Scan() {\n        operation := scanner.Text()\n        switch operation {\n        case \"Increment\":\n            counter.increment()\n        case \"Decrement\":\n            counter.decrement()\n        case \"Undo\":\n            counter.undo()\n        case \"Redo\":\n            counter.redo()\n        }\n\n        // \u8f93\u51fa\u5f53\u524d\u8ba1\u6570\u5668\u7684\u503c\n        fmt.Println(counter.getValue())\n    }\n\n    if err := scanner.Err(); err != nil {\n        fmt.Fprintln(os.Stderr, \"reading standard input:\", err)\n    }\n}\n</code></pre>"},{"location":"DesignPattern/17-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/#typescript","title":"Typescript","text":"TypeScript<pre><code>class CounterMemento {\n  private state: number;\n\n  constructor(state: number) {\n    this.state = state;\n  }\n\n  getState() {\n    return this.state;\n  }\n}\n\nclass Counter {\n  private state: number;\n  private redoAction = \"\";\n  private counterCaretaker: CounterCaretaker;\n  constructor(state: number, counterCaretaker: CounterCaretaker) {\n    this.state = state;\n    this.counterCaretaker = counterCaretaker;\n  }\n\n  increment() {\n    this.counterCaretaker.addMemento(new CounterMemento(this.state));\n    this.state += 1;\n    this.redoAction = \"INCREMENT\";\n  }\n\n  decrement() {\n    this.counterCaretaker.addMemento(new CounterMemento(this.state));\n    this.state -= 1;\n    this.redoAction = \"DECREMENT\";\n  }\n\n  undo() {\n    const state = this.counterCaretaker.getMemento()?.getState();\n    if (state) {\n      this.state = state;\n    }\n    this.redoAction = \"UNDO\";\n  }\n\n  // \u8fd9\u91cc\u5b9e\u73b0\u7684\u662f\u91cd\u590d\u4e0a\u4e00\u6b21\u6267\u884c\u7684\u547d\u4ee4\n  redo() {\n    if (this.redoAction === \"INCREMENT\") {\n      this.increment();\n    } else if (this.redoAction === \"DECREMENT\") {\n      this.decrement();\n    } else if (this.redoAction === \"UNDO\") {\n      this.undo();\n    } else {\n      throw \"error action\";\n    }\n  }\n\n  createMemento() {\n    return new CounterMemento(this.state);\n  }\n\n  setMemento(memento: CounterMemento) {\n    this.state = memento.getState();\n  }\n\n  restoreFromMemento(memento: CounterMemento) {\n    this.state = memento.getState();\n  }\n\n  show() {\n    console.log(this.state);\n  }\n}\n\nclass CounterCaretaker {\n  private actionStack: CounterMemento[] = [];\n\n  addMemento(memento: CounterMemento) {\n    this.actionStack.push(memento);\n  }\n\n  getMemento() {\n    return this.actionStack.pop();\n  }\n}\n\n(function () {\n  const caretaker = new CounterCaretaker();\n  let originator = new Counter(0, caretaker);\n\n  (function doIt(action: string) {\n    originator[action]();\n    originator.show();\n\n    return doIt;\n  })(\"increment\")(\"increment\")(\"decrement\")(\"undo\")(\"redo\")(\"increment\");\n})();\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/","title":"\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f","text":"<p> \u7ea6 769 \u4e2a\u5b57  539 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\uff08Template Method Pattern\uff09\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f, \u5b83\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7b97\u6cd5\u7684\u9aa8\u67b6\uff0c\u5c06 \u4e00\u4e9b\u6b65\u9aa4\u7684\u5b9e\u73b0\u5ef6\u8fdf\u5230\u5b50\u7c7b\u3002 \u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u4f7f\u5f97\u5b50\u7c7b\u53ef\u4ee5\u5728\u4e0d\u6539\u53d8\u7b97\u6cd5\u7ed3\u6784\u7684\u60c5\u51b5\u4e0b\uff0c\u91cd\u65b0\u5b9a\u4e49\u7b97\u6cd5\u4e2d\u7684\u67d0\u4e9b\u6b65\u9aa4\u3002\u3010\u5f15\u7528\u81ea\u5927\u8bdd\u8bbe\u8ba1\u7b2c10\u7ae0\u3011</p> <p>\u4e3e\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u505a\u4e00\u9053\u83dc\u901a\u5e38\u90fd\u9700\u8981\u5305\u542b\u81f3\u5c11\u4e09\u6b65\uff1a</p> <ul> <li>\u51c6\u5907\u98df\u6750</li> <li>\u4ea8\u996a\u8fc7\u7a0b</li> <li>\u4e0a\u83dc</li> </ul> <p>\u4e0d\u540c\u83dc\u54c1\u7684\u4ea8\u996a\u8fc7\u7a0b\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u5148\u5b9a\u4e49\u4e00\u4e2a\u201d\u9aa8\u67b6\u201d\uff0c\u5305\u542b\u8fd9\u4e09\u4e2a\u6b65\u9aa4\uff0c\u4ea8\u996a\u8fc7\u7a0b\u7684\u8fc7\u7a0b\u653e\u5230\u5177\u4f53\u7684\u7092\u83dc\u7c7b\u4e2d\u53bb\u5b9e\u73b0\uff0c\u8fd9\u6837\uff0c\u65e0\u8bba\u7092\u4ec0\u4e48\u83dc\uff0c\u90fd\u53ef\u4ee5\u6cbf\u7528\u76f8\u540c\u7684\u7092\u83dc\u7b97\u6cd5\uff0c\u53ea\u9700\u5728\u5b50\u7c7b\u4e2d\u5b9e\u73b0\u5177\u4f53\u7684\u7092\u83dc\u6b65\u9aa4\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u590d\u7528\u6027\u3002</p>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u7684\u57fa\u672c\u7ed3\u6784\u5305\u542b\u4ee5\u4e0b\u4e24\u4e2a\u89d2\u8272\uff1a</p> <p></p> <ul> <li>\u6a21\u677f\u7c7b<code>AbstractClass</code>\uff1a\u7531\u4e00\u4e2a\u6a21\u677f\u65b9\u6cd5\u548c\u82e5\u5e72\u4e2a\u57fa\u672c\u65b9\u6cd5\u6784\u6210\uff0c\u6a21\u677f\u65b9\u6cd5\u5b9a\u4e49\u4e86\u903b\u8f91\u7684\u9aa8\u67b6\uff0c\u6309\u7167\u987a\u5e8f\u8c03\u7528\u5305\u542b\u7684\u57fa\u672c\u65b9\u6cd5\uff0c\u57fa\u672c\u65b9\u6cd5\u901a\u5e38\u662f\u4e00\u4e9b \u62bd\u8c61\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u7531\u5b50\u7c7b\u53bb\u5b9e\u73b0 \u3002\u57fa\u672c\u65b9\u6cd5\u8fd8\u5305\u542b\u4e00\u4e9b\u5177\u4f53\u65b9\u6cd5\uff0c\u5b83\u4eec\u662f\u7b97\u6cd5\u7684\u4e00\u90e8\u5206\u4f46\u5df2\u7ecf\u6709\u9ed8\u8ba4\u5b9e\u73b0\uff0c\u5728\u5177\u4f53\u5b50\u7c7b\u4e2d\u53ef\u4ee5\u7ee7\u627f\u6216\u8005\u91cd\u5199\u3002</li> <li>\u5177\u4f53\u7c7b<code>ConcreteClass</code>\uff1a\u7ee7\u627f\u81ea\u6a21\u677f\u7c7b\uff0c\u5b9e\u73b0\u4e86\u5728\u6a21\u677f\u7c7b\u4e2d\u5b9a\u4e49\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c\u4ee5\u5b8c\u6210\u7b97\u6cd5\u4e2d\u7279\u5b9a\u6b65\u9aa4\u7684\u5177\u4f53\u5b9e\u73b0\u3002</li> </ul>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<p>\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u7684\u7b80\u5355\u793a\u4f8b\u5982\u4e0b\uff1a</p> <ol> <li>\u5b9a\u4e49\u6a21\u677f\u7c7b\uff0c\u5305\u542b\u6a21\u677f\u65b9\u6cd5\uff0c\u5b9a\u4e49\u4e86\u7b97\u6cd5\u7684\u9aa8\u67b6, \u4e00\u822c\u90fd\u52a0\u4e0a<code>final</code>\u5173\u952e\u5b57\uff0c\u907f\u514d\u5b50\u7c7b\u91cd\u5199\u3002</li> </ol> Java<pre><code>// \u6a21\u677f\u7c7b\nabstract class AbstractClass {\n    // \u6a21\u677f\u65b9\u6cd5\uff0c\u5b9a\u4e49\u4e86\u7b97\u6cd5\u7684\u9aa8\u67b6\n    public final void templateMethod() {\n        step1();\n        step2();\n        step3();\n    }\n\n    // \u62bd\u8c61\u65b9\u6cd5\uff0c\u7531\u5b50\u7c7b\u5b9e\u73b0\n    protected abstract void step1();\n    protected abstract void step2();\n    protected abstract void step3();\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u5177\u4f53\u7c7b, \u5b9e\u73b0\u6a21\u677f\u7c7b\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5</li> </ol> Java<pre><code>// \u5177\u4f53\u7c7b\nclass ConcreteClass extends AbstractClass {\n    @Override\n    protected void step1() {\n        System.out.println(\"Step 1 \");\n    }\n\n    @Override\n    protected void step2() {\n        System.out.println(\"Step 2 \");\n    }\n\n    @Override\n    protected void step3() {\n        System.out.println(\"Step 3\");\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u5b9e\u73b0</li> </ol> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        AbstractClass concreteTemplate = new ConcreteClass();\n        // \u89e6\u53d1\u6574\u4e2a\u7b97\u6cd5\u7684\u6267\u884c\n        concreteTemplate.templateMethod();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_5","title":"\u5e94\u7528\u573a\u666f","text":"<p>\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u5c06\u7b97\u6cd5\u7684\u4e0d\u53d8\u90e8\u5206\u88ab\u5c01\u88c5\u5728\u6a21\u677f\u65b9\u6cd5\u4e2d\uff0c\u800c\u53ef\u53d8\u90e8\u5206\u7b97\u6cd5\u7531\u5b50\u7c7b\u7ee7\u627f\u5b9e\u73b0\uff0c\u8fd9\u6837\u505a\u53ef\u4ee5\u5f88\u597d\u7684\u63d0\u9ad8\u4ee3\u7801\u7684\u590d\u7528\u6027\uff0c\u4f46\u662f\u5f53\u7b97\u6cd5\u7684\u6846\u67b6\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u4fee\u6539\u6a21\u677f\u7c7b\uff0c\u8fd9\u4e5f\u4f1a\u5f71\u54cd\u5230\u6240\u6709\u7684\u5b50\u7c7b\u3002</p> <p>\u603b\u4f53\u6765\u8bf4\uff0c\u5f53\u7b97\u6cd5\u7684\u6574\u4f53\u6b65\u9aa4\u5f88\u56fa\u5b9a\uff0c\u4f46\u662f\u4e2a\u522b\u6b65\u9aa4\u5728\u66f4\u8be6\u7ec6\u7684\u5c42\u6b21\u4e0a\u7684\u5b9e\u73b0\u53ef\u80fd\u4e0d\u540c\u65f6\uff0c\u901a\u5e38\u8003\u8651\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\u6765\u5904\u7406\u3002\u5728\u5df2\u6709\u7684\u5de5\u5177\u548c\u5e93\u4e2d\uff0c Spring\u6846\u67b6\u4e2d\u7684<code>JdbcTemplate</code>\u7c7b\u4f7f\u7528\u4e86\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\uff0c\u5176\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e9b\u6267\u884c\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u6a21\u677f\u65b9\u6cd5\uff0c\u5177\u4f53\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u7531\u56de\u8c03\u51fd\u6570\u63d0\u4f9b\u3002\u800c\u5728Java\u7684JDK\u6e90\u7801\u4e2d\uff0c<code>AbstractList</code> \u7c7b\u4e5f\u4f7f\u7528\u4e86\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e9b\u901a\u7528\u7684\u65b9\u6cd5\uff0c\u5176\u4e2d\u5305\u62ec\u4e00\u4e9b\u6a21\u677f\u65b9\u6cd5\u3002\u5177\u4f53\u7684\u5217\u8868\u64cd\u4f5c\u7531\u5b50\u7c7b\u5b9e\u73b0\u3002</p>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u62bd\u8c61\u7c7b\nabstract class CoffeeMakerTemplate {\n    private String coffeeName; // \u6dfb\u52a0\u5496\u5561\u540d\u79f0\u5b57\u6bb5\n\n    // \u6784\u9020\u51fd\u6570\uff0c\u63a5\u53d7\u5496\u5561\u540d\u79f0\u53c2\u6570\n    public CoffeeMakerTemplate(String coffeeName) {\n        this.coffeeName = coffeeName;\n    }\n\n    // \u6a21\u677f\u65b9\u6cd5\u5b9a\u4e49\u5496\u5561\u5236\u4f5c\u8fc7\u7a0b\n    final void makeCoffee() {\n        System.out.println(\"Making \" + coffeeName + \":\");\n        grindCoffeeBeans();\n        brewCoffee();\n        addCondiments();\n        System.out.println();\n    }\n\n    // \u5177\u4f53\u6b65\u9aa4\u7684\u5177\u4f53\u5b9e\u73b0\u7531\u5b50\u7c7b\u63d0\u4f9b\n    abstract void grindCoffeeBeans();\n    abstract void brewCoffee();\n\n    // \u6dfb\u52a0\u8c03\u6599\u7684\u9ed8\u8ba4\u5b9e\u73b0\n    void addCondiments() {\n        System.out.println(\"Adding condiments\");\n    }\n}\n\n// \u5177\u4f53\u7684\u7f8e\u5f0f\u5496\u5561\u7c7b\nclass AmericanCoffeeMaker extends CoffeeMakerTemplate {\n    // \u6784\u9020\u51fd\u6570\u4f20\u9012\u5496\u5561\u540d\u79f0\n    public AmericanCoffeeMaker() {\n        super(\"American Coffee\");\n    }\n\n    @Override\n    void grindCoffeeBeans() {\n        System.out.println(\"Grinding coffee beans\");\n    }\n\n    @Override\n    void brewCoffee() {\n        System.out.println(\"Brewing coffee\");\n    }\n}\n\n// \u5177\u4f53\u7684\u62ff\u94c1\u5496\u5561\u7c7b\nclass LatteCoffeeMaker extends CoffeeMakerTemplate {\n    // \u6784\u9020\u51fd\u6570\u4f20\u9012\u5496\u5561\u540d\u79f0\n    public LatteCoffeeMaker() {\n        super(\"Latte\");\n    }\n\n    @Override\n    void grindCoffeeBeans() {\n        System.out.println(\"Grinding coffee beans\");\n    }\n\n    @Override\n    void brewCoffee() {\n        System.out.println(\"Brewing coffee\");\n    }\n\n    // \u6dfb\u52a0\u8c03\u6599\u7684\u7279\u5b9a\u5b9e\u73b0\n    @Override\n    void addCondiments() {\n        System.out.println(\"Adding milk\");\n        System.out.println(\"Adding condiments\");\n    }\n}\n\n// \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        while (scanner.hasNext()) {\n            int coffeeType = scanner.nextInt();\n\n            CoffeeMakerTemplate coffeeMaker = null; \n\n            if (coffeeType == 1) {\n                coffeeMaker = new AmericanCoffeeMaker();\n            } else if (coffeeType == 2) {\n                coffeeMaker = new LatteCoffeeMaker();\n            } else {\n                System.out.println(\"Invalid coffee type\");\n                continue;\n            }\n\n            // \u5236\u4f5c\u5496\u5561\n            coffeeMaker.makeCoffee();\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u6dfb\u52a0\u94a9\u5b50\u51fd\u6570\uff0c\u4e5f\u53ef\u7531\u7528\u6237\u6765\u786e\u5b9a\u662f\u5426\u6dfb\u52a0\u725b\u5976\u6216\u5176\u5b83\u914d\u6599\u3002</p> Java<pre><code>import java.util.Scanner;\n\n// \u62bd\u8c61\u7c7b\uff0c\u5b9a\u4e49\u5496\u5561\u5236\u4f5c\u7684\u57fa\u672c\u6b65\u9aa4\nabstract class CoffeeModel {\n    private String coffeeName;\n\n    // \u6784\u9020\u51fd\u6570\uff0c\u63a5\u53d7\u5496\u5561\u540d\u79f0\u53c2\u6570\n    public CoffeeModel(String coffeeName) {\n        this.coffeeName = coffeeName;\n    }\n\n    protected abstract void grind();\n    protected abstract void brew();\n    protected abstract void addCondiments();\n\n    // \u6dfb\u52a0\u5176\u4ed6\u8c03\u6599\u53ef\u4f7f\u7528\u8be5\u7c7b\n    public void addThings(){};\n\n    // \u6a21\u677f\u65b9\u6cd5\uff0c\u5b9a\u4e49\u5496\u5561\u5236\u4f5c\u7684\u6d41\u7a0b\n    public final void createCoffeeTemplate() {\n        System.out.println(\"Making \" + coffeeName + \":\");\n        grind();\n        brew();\n        //\u6839\u636e\u60c5\u51b5\uff0c\u662f\u5426\u8c03\u7528\u6dfb\u52a0\u66f4\u591a\u8c03\u6599\n        if (isAddThings()) {\n            addThings(); \n        }\n        addCondiments();\n        System.out.println();\n    }\n\n    // \u9ed8\u8ba4\u4e0d\u6dfb\u52a0\u5176\u4ed6\u8c03\u6599\u3002\u5982\u725b\u5976\u7b49\n    public boolean isAddThings() {\n        return false;\n    }\n}\n\n//\u7f8e\u5f0f\u5496\u5561\u7c7b\u5b9e\u73b0\nclass CreateAmericanCoffee extends CoffeeModel {\n    public CreateAmericanCoffee() {\n        super(\"American Coffee\");\n    }\n\n    @Override\n    protected void grind() {\n        System.out.println(\"Grinding coffee beans\");\n    }\n\n    @Override\n    protected void brew() {\n        System.out.println(\"Brewing coffee\");\n    }\n\n    @Override\n    protected void addCondiments() {\n        System.out.println(\"Adding condiments\");\n    }\n\n    // \u7f8e\u5f0f\u5496\u5561\u9ed8\u8ba4\u4e0d\u6dfb\u52a0\u5176\u4ed6\u8c03\u6599\uff0c\u5982\u725b\u5976\u7b49\n    @Override\n    public boolean isAddThings() {\n        return false; \n    }\n}\n\n//\u62ff\u94c1\u7c7b\u5b9e\u73b0\nclass CreateLatte extends CoffeeModel {\n    private boolean addThingsFlag = true;\n\n    public CreateLatte() {\n        super(\"Latte\");\n    }\n\n    @Override\n    protected void grind() {\n        System.out.println(\"Grinding coffee beans\");\n    }\n\n    @Override\n    protected void brew() {\n        System.out.println(\"Brewing coffee\");\n    }\n\n    @Override\n    protected void addCondiments() {\n        System.out.println(\"Adding condiments\");\n    }\n\n    //\u9700\u8981\u6dfb\u52a0\u8c03\u6599\uff0c\u725b\u5976\n    @Override\n    public void addThings(){\n        System.out.println(\"Adding milk\");\n    }\n\n    // \u62ff\u94c1\u9ed8\u8ba4\u6dfb\u52a0\u725b\u5976\n    @Override\n    public boolean isAddThings() {\n        return this.addThingsFlag; \n    }\n\n    // \u5916\u90e8\u8c03\u7528\u4ee5\u6539\u53d8\u662f\u5426\u6dfb\u52a0\u725b\u5976\u7684\u72b6\u6001\uff0c\u94a9\u5b50\u51fd\u6570\n    public void setAddThingsFlag(boolean flag) {\n        this.addThingsFlag = flag;\n    }\n}\n\n//\u5ba2\u6237\u7aef\npublic class Main {\n    public static void main(String[] args) {\n        try (Scanner scanner = new Scanner(System.in)) {\n            while (scanner.hasNextInt()) {\n                int input = scanner.nextInt();\n                CoffeeModel coffee;\n                switch (input) {\n                    case 1:\n                        coffee = new CreateAmericanCoffee();\n                        break;\n                    case 2:\n                        coffee = new CreateLatte();\n                        break;\n                    default:\n                        System.out.println(\"\u65e0\u6548\u9009\u62e9\uff0c\u8bf7\u8f93\u51651\u62162\");\n                        continue;\n                }\n                coffee.createCoffeeTemplate();\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;memory&gt;\n\n// \u62bd\u8c61\u7c7b\nclass CoffeeMakerTemplate {\nprivate:\n    std::string coffeeName;\n\npublic:\n    // \u6784\u9020\u51fd\u6570\uff0c\u63a5\u53d7\u5496\u5561\u540d\u79f0\u53c2\u6570\n    CoffeeMakerTemplate(const std::string&amp; coffeeName) : coffeeName(coffeeName) {}\n\n    // \u6a21\u677f\u65b9\u6cd5\u5b9a\u4e49\u5496\u5561\u5236\u4f5c\u8fc7\u7a0b\n    virtual void makeCoffee() {\n        std::cout &lt;&lt; \"Making \" &lt;&lt; coffeeName &lt;&lt; \":\\n\";\n        grindCoffeeBeans();\n        brewCoffee();\n        addCondiments();\n        std::cout &lt;&lt; '\\n';\n    }\n\n    // \u5177\u4f53\u6b65\u9aa4\u7684\u5177\u4f53\u5b9e\u73b0\u7531\u5b50\u7c7b\u63d0\u4f9b\n    virtual void grindCoffeeBeans() = 0;\n    virtual void brewCoffee() = 0;\n\n    // \u6dfb\u52a0\u8c03\u6599\u7684\u9ed8\u8ba4\u5b9e\u73b0\n    virtual void addCondiments() {\n        std::cout &lt;&lt; \"Adding condiments\\n\";\n    }\n};\n\n// \u5177\u4f53\u7684\u7f8e\u5f0f\u5496\u5561\u7c7b\nclass AmericanCoffeeMaker : public CoffeeMakerTemplate {\npublic:\n    // \u6784\u9020\u51fd\u6570\u4f20\u9012\u5496\u5561\u540d\u79f0\n    AmericanCoffeeMaker() : CoffeeMakerTemplate(\"American Coffee\") {}\n\n    void grindCoffeeBeans() override {\n        std::cout &lt;&lt; \"Grinding coffee beans\\n\";\n    }\n\n    void brewCoffee() override {\n        std::cout &lt;&lt; \"Brewing coffee\\n\";\n    }\n};\n\n// \u5177\u4f53\u7684\u62ff\u94c1\u5496\u5561\u7c7b\nclass LatteCoffeeMaker : public CoffeeMakerTemplate {\npublic:\n    // \u6784\u9020\u51fd\u6570\u4f20\u9012\u5496\u5561\u540d\u79f0\n    LatteCoffeeMaker() : CoffeeMakerTemplate(\"Latte\") {}\n\n    void grindCoffeeBeans() override {\n        std::cout &lt;&lt; \"Grinding coffee beans\\n\";\n    }\n\n    void brewCoffee() override {\n        std::cout &lt;&lt; \"Brewing coffee\\n\";\n    }\n\n    // \u6dfb\u52a0\u8c03\u6599\u7684\u7279\u5b9a\u5b9e\u73b0\n    void addCondiments() override {\n        std::cout &lt;&lt; \"Adding milk\\n\";\n        std::cout &lt;&lt; \"Adding condiments\\n\";\n    }\n};\n\nint main() {\n    std::unique_ptr&lt;CoffeeMakerTemplate&gt; coffeeMaker;\n\n    int coffeeType;\n    while (std::cin &gt;&gt; coffeeType) {\n        if (coffeeType == 1) {\n            coffeeMaker = std::make_unique&lt;AmericanCoffeeMaker&gt;();\n        } else if (coffeeType == 2) {\n            coffeeMaker = std::make_unique&lt;LatteCoffeeMaker&gt;();\n        } else {\n            std::cout &lt;&lt; \"Invalid coffee type\\n\";\n            continue;\n        }\n\n        // \u5236\u4f5c\u5496\u5561\n        coffeeMaker-&gt;makeCoffee();\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from abc import ABC, abstractmethod\n\n# \u62bd\u8c61\u7c7b\nclass CoffeeMakerTemplate(ABC):\n    # \u6784\u9020\u51fd\u6570\uff0c\u63a5\u53d7\u5496\u5561\u540d\u79f0\u53c2\u6570\n    def __init__(self, coffee_name):\n        self.coffee_name = coffee_name\n\n    # \u6a21\u677f\u65b9\u6cd5\u5b9a\u4e49\u5496\u5561\u5236\u4f5c\u8fc7\u7a0b\n    def make_coffee(self):\n        print(f\"Making {self.coffee_name}:\")\n        self.grind_coffee_beans()\n        self.brew_coffee()\n        self.add_condiments()\n        print()\n\n    # \u5177\u4f53\u6b65\u9aa4\u7684\u5177\u4f53\u5b9e\u73b0\u7531\u5b50\u7c7b\u63d0\u4f9b\n    @abstractmethod\n    def grind_coffee_beans(self):\n        pass\n\n    @abstractmethod\n    def brew_coffee(self):\n        pass\n\n    # \u6dfb\u52a0\u8c03\u6599\u7684\u9ed8\u8ba4\u5b9e\u73b0\n    def add_condiments(self):\n        print(\"Adding condiments\")\n\n\n# \u5177\u4f53\u7684\u7f8e\u5f0f\u5496\u5561\u7c7b\nclass AmericanCoffeeMaker(CoffeeMakerTemplate):\n    # \u6784\u9020\u51fd\u6570\u4f20\u9012\u5496\u5561\u540d\u79f0\n    def __init__(self):\n        super().__init__(\"American Coffee\")\n\n    def grind_coffee_beans(self):\n        print(\"Grinding coffee beans\")\n\n    def brew_coffee(self):\n        print(\"Brewing coffee\")\n\n\n# \u5177\u4f53\u7684\u62ff\u94c1\u5496\u5561\u7c7b\nclass LatteCoffeeMaker(CoffeeMakerTemplate):\n    # \u6784\u9020\u51fd\u6570\u4f20\u9012\u5496\u5561\u540d\u79f0\n    def __init__(self):\n        super().__init__(\"Latte\")\n\n    def grind_coffee_beans(self):\n        print(\"Grinding coffee beans\")\n\n    def brew_coffee(self):\n        print(\"Brewing coffee\")\n\n    # \u6dfb\u52a0\u8c03\u6599\u7684\u7279\u5b9a\u5b9e\u73b0\n    def add_condiments(self):\n        print(\"Adding milk\")\n        print(\"Adding condiments\")\n\n\n# \u5ba2\u6237\u7aef\u4ee3\u7801\nif __name__ == \"__main__\":\n    while True:\n        try:\n            coffee_type = int(input())\n\n            coffee_maker = None\n\n            if coffee_type == 1:\n                coffee_maker = AmericanCoffeeMaker()\n            elif coffee_type == 2:\n                coffee_maker = LatteCoffeeMaker()\n            else:\n                print(\"Invalid coffee type\")\n                continue\n\n            # \u5236\u4f5c\u5496\u5561\n            coffee_maker.make_coffee()\n\n        except EOFError:\n            break\n</code></pre>"},{"location":"DesignPattern/18-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"os\"\n)\n\n// \u62bd\u8c61\u7c7b\u63a5\u53e3\ntype CoffeeMakerTemplate interface {\n    MakeCoffee()\n    GrindCoffeeBeans()\n    BrewCoffee()\n    AddCondiments()\n}\n\n// \u5177\u4f53\u7684\u7f8e\u5f0f\u5496\u5561\u7c7b\ntype AmericanCoffeeMaker struct {\n    coffeeName string\n}\n\n// \u6784\u9020\u51fd\u6570\u4f20\u9012\u5496\u5561\u540d\u79f0\nfunc NewAmericanCoffeeMaker() *AmericanCoffeeMaker {\n    return &amp;AmericanCoffeeMaker{coffeeName: \"American Coffee\"}\n}\n\n// \u5b9e\u73b0\u63a5\u53e3\nfunc (a *AmericanCoffeeMaker) MakeCoffee() {\n    fmt.Printf(\"Making %s:\\n\", a.coffeeName)\n    a.GrindCoffeeBeans()\n    a.BrewCoffee()\n    a.AddCondiments()\n    fmt.Println()\n}\n\nfunc (a *AmericanCoffeeMaker) GrindCoffeeBeans() {\n    fmt.Println(\"Grinding coffee beans\")\n}\n\nfunc (a *AmericanCoffeeMaker) BrewCoffee() {\n    fmt.Println(\"Brewing coffee\")\n}\n\nfunc (a *AmericanCoffeeMaker) AddCondiments() {\n    fmt.Println(\"Adding condiments\")\n}\n\n// \u5177\u4f53\u7684\u62ff\u94c1\u5496\u5561\u7c7b\ntype LatteCoffeeMaker struct {\n    coffeeName string\n}\n\n// \u6784\u9020\u51fd\u6570\u4f20\u9012\u5496\u5561\u540d\u79f0\nfunc NewLatteCoffeeMaker() *LatteCoffeeMaker {\n    return &amp;LatteCoffeeMaker{coffeeName: \"Latte\"}\n}\n\n// \u5b9e\u73b0\u63a5\u53e3\nfunc (l *LatteCoffeeMaker) MakeCoffee() {\n    fmt.Printf(\"Making %s:\\n\", l.coffeeName)\n    l.GrindCoffeeBeans()\n    l.BrewCoffee()\n    l.AddCondiments()\n    fmt.Println()\n}\n\nfunc (l *LatteCoffeeMaker) GrindCoffeeBeans() {\n    fmt.Println(\"Grinding coffee beans\")\n}\n\nfunc (l *LatteCoffeeMaker) BrewCoffee() {\n    fmt.Println(\"Brewing coffee\")\n}\n\nfunc (l *LatteCoffeeMaker) AddCondiments() {\n    fmt.Println(\"Adding milk\")\n    fmt.Println(\"Adding condiments\")\n}\n\nfunc main() {\n    for {\n        var coffeeType int\n        if _, err := fmt.Scan(&amp;coffeeType); err != nil {\n            if err.Error() == \"expected integer\" || err.Error() == \"EOF\" {\n                break\n            }\n            fmt.Println(err)\n            os.Exit(1)\n        }\n\n        var coffeeMaker CoffeeMakerTemplate\n\n        switch coffeeType {\n        case 1:\n            coffeeMaker = NewAmericanCoffeeMaker()\n        case 2:\n            coffeeMaker = NewLatteCoffeeMaker()\n        default:\n            fmt.Println(\"Invalid coffee type\")\n            continue\n        }\n\n        // \u5236\u4f5c\u5496\u5561\n        coffeeMaker.MakeCoffee()\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/","title":"\u8fed\u4ee3\u5668\u6a21\u5f0f","text":"<p> \u7ea6 777 \u4e2a\u5b57  507 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u8fed\u4ee3\u5668\u6a21\u5f0f\u662f\u4e00\u79cd\u884c\u4e3a\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u662f\u4e00\u79cd\u4f7f\u7528\u9891\u7387\u975e\u5e38\u9ad8\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5728\u5404\u4e2a\u8bed\u8a00\u4e2d\u90fd\u6709\u5e94\u7528\uff0c\u5176\u4e3b\u8981\u76ee\u7684\u662f \u63d0\u4f9b\u4e00\u79cd\u7edf\u4e00\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u4e00\u4e2a\u805a\u5408\u5bf9\u8c61\u4e2d\u7684\u5404\u4e2a\u5143\u7d20\uff0c \u800c\u4e0d\u9700\u8981\u66b4\u9732\u8be5\u5bf9\u8c61\u7684\u5185\u90e8\u8868\u793a\u3002\u901a\u8fc7\u8fed\u4ee3\u5668\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u987a\u5e8f\u8bbf\u95ee\u805a\u5408\u5bf9\u8c61\u7684\u5143\u7d20\uff0c\u800c\u65e0\u9700\u4e86\u89e3\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u3002</p> <p>\u8fed\u4ee3\u5668\u6a21\u5f0f\u5e94\u7528\u5e7f\u6cdb\uff0c\u4f46\u662f\u5927\u591a\u6570\u8bed\u8a00\u90fd\u5df2\u7ecf\u5185\u7f6e\u4e86\u8fed\u4ee3\u5668\u63a5\u53e3\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u5b9e\u73b0\u3002</p>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u8fed\u4ee3\u5668\u6a21\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u89d2\u8272</p> <ul> <li>\u8fed\u4ee3\u5668\u63a5\u53e3<code>Iterator</code>\uff1a\u5b9a\u4e49\u8bbf\u95ee\u548c\u904d\u5386\u5143\u7d20\u7684\u63a5\u53e3,  \u901a\u5e38\u4f1a\u5305\u62ec<code>hasNext()</code>\u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u662f\u5426\u8fd8\u6709\u4e0b\u4e00\u4e2a\u5143\u7d20\uff0c\u4ee5\u53ca<code>next()</code>\u65b9\u6cd5\u7528\u4e8e\u83b7\u53d6\u4e0b\u4e00\u4e2a\u5143\u7d20\u3002\u6709\u7684\u8fd8\u4f1a\u5b9e\u73b0\u83b7\u53d6\u7b2c\u4e00\u4e2a\u5143\u7d20\u4ee5\u53ca\u83b7\u53d6\u5f53\u524d\u5143\u7d20\u7684\u65b9\u6cd5\u3002</li> <li>\u5177\u4f53\u8fed\u4ee3\u5668<code>ConcreateIterator</code>\uff1a\u5b9e\u73b0\u8fed\u4ee3\u5668\u63a5\u53e3\uff0c\u5b9e\u73b0\u904d\u5386\u903b\u8f91\u5bf9\u805a\u5408\u5bf9\u8c61\u8fdb\u884c\u904d\u5386\u3002</li> <li>\u62bd\u8c61\u805a\u5408\u7c7b\uff1a\u5b9a\u4e49\u4e86\u521b\u5efa\u8fed\u4ee3\u5668\u7684\u63a5\u53e3\uff0c\u5305\u62ec\u4e00\u4e2a<code>createIterator</code>\u65b9\u6cd5\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\u3002</li> <li>\u5177\u4f53\u805a\u5408\u7c7b\uff1a\u5b9e\u73b0\u5728\u62bd\u8c61\u805a\u5408\u7c7b\u4e2d\u58f0\u660e\u7684<code>createIterator()</code>\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u4e0e\u5177\u4f53\u805a\u5408\u5bf9\u5e94\u7684\u5177\u4f53\u8fed\u4ee3\u5668 </li> </ul> <p></p>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<ol> <li>\u5b9a\u4e49\u8fed\u4ee3\u5668\u63a5\u53e3\uff1a\u901a\u5e38\u4f1a\u6709\u68c0\u67e5\u662f\u5426\u8fd8\u6709\u4e0b\u4e00\u4e2a\u5143\u7d20\u4ee5\u53ca\u83b7\u53d6\u4e0b\u4e00\u4e2a\u5143\u7d20\u7684\u65b9\u6cd5\u3002</li> </ol> Java<pre><code>// \u8fed\u4ee3\u5668\u63a5\u53e3\npublic interface Iterator{\n    // \u68c0\u67e5\u662f\u5426\u8fd8\u4f1a\u6709\u4e0b\u4e00\u4e2a\u5143\u7d20\n    boolean hasNext();\n    // \u83b7\u53d6\u4e0b\u4e00\u4e2a\u5143\u7d20\n    Object next();\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u5177\u4f53\u8fed\u4ee3\u5668\uff1a\u5b9e\u73b0\u8fed\u4ee3\u5668\u63a5\u53e3\uff0c\u904d\u5386\u96c6\u5408\u3002</li> </ol> Java<pre><code>public class ConcreteIterator implements Iterator {\n    private int index;\n    private List&lt;Object&gt; elements;\n\n    // \u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u8fed\u4ee3\u5668\n    public ConcreteIterator(List&lt;Object&gt; elements) {\n        this.elements = elements;\n        this.index = 0;\n    }\n\n    @Override\n    public boolean hasNext() {\n        return index &lt; elements.size();\n    }\n\n    @Override\n    public Object next() {\n        if (hasNext()) {\n            return elements.get(index++);\n        }\n        return null;\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u805a\u5408\u63a5\u53e3\uff1a\u901a\u5e38\u5305\u62ec<code>createIterator()</code>\u65b9\u6cd5\uff0c\u7528\u4e8e\u521b\u5efa\u8fed\u4ee3\u5668</li> </ol> Java<pre><code>public interface Iterable {\n    Iterator createIterator();\n}\n</code></pre> <ol> <li>\u5b9e\u73b0\u5177\u4f53\u805a\u5408\uff1a\u521b\u5efa\u5177\u4f53\u7684\u8fed\u4ee3\u5668</li> </ol> Java<pre><code>// \u5177\u4f53\u805a\u5408\npublic class ConcreteIterable implements Iterable {\n    private List&lt;Object&gt; elements;\n\n    // \u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u53ef\u8fed\u4ee3\u5bf9\u8c61\n    public ConcreteIterable(List&lt;Object&gt; elements) {\n        this.elements = elements;\n    }\n\n    @Override\n    public Iterator createIterator() {\n        return new ConcreteIterator(elements);\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u4f7f\u7528</li> </ol> Java<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class IteratorPatternExample {\n    public static void main(String[] args) {\n        List&lt;Object&gt; elements = new ArrayList&lt;&gt;();\n        elements.add(\"Element 1\");\n        elements.add(\"Element 2\");\n        elements.add(\"Element 3\");\n\n        Iterable iterable = new ConcreteIterable(elements);\n        Iterator iterator = iterable.createIterator();\n\n        while (iterator.hasNext()) {\n            System.out.println(iterator.next());\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u8fed\u4ee3\u5668\u6a21\u5f0f\u662f\u4e00\u79cd\u901a\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5176\u5c01\u88c5\u6027\u5f3a\uff0c\u7b80\u5316\u4e86\u5ba2\u6237\u7aef\u4ee3\u7801\uff0c\u5ba2\u6237\u7aef\u4e0d\u9700\u8981\u77e5\u9053\u96c6\u5408\u7684\u5185\u90e8\u7ed3\u6784\uff0c\u53ea\u9700\u8981\u5173\u5fc3\u8fed\u4ee3\u5668\u548c\u8fed\u4ee3\u63a5\u53e3\u5c31\u53ef\u4ee5\u5b8c\u6210\u5143\u7d20\u7684\u8bbf\u95ee\u3002\u4f46\u662f\u5f15\u5165\u8fed\u4ee3\u5668\u6a21\u5f0f\u4f1a\u589e\u52a0\u989d\u5916\u7684\u7c7b\uff0c\u6bcf\u589e\u52a0\u4e00\u4e2a\u96c6\u5408\u7c7b\uff0c\u90fd\u9700\u8981\u589e\u52a0\u8be5\u96c6\u5408\u5bf9\u5e94\u7684\u8fed\u4ee3\u5668\uff0c\u8fd9\u4e5f\u4f1a\u4f7f\u5f97\u4ee3\u7801\u7ed3\u6784\u53d8\u5f97\u66f4\u52a0\u590d\u6742\u3002</p> <p>\u8bb8\u591a\u7f16\u7a0b\u8bed\u8a00\u548c\u6846\u67b6\u90fd\u4f7f\u7528\u4e86\u8fd9\u4e2a\u6a21\u5f0f\u63d0\u4f9b\u4e00\u81f4\u7684\u904d\u5386\u548c\u8bbf\u95ee\u96c6\u5408\u5143\u7d20\u7684\u673a\u5236\u3002\u4e0b\u9762\u662f\u51e0\u79cd\u5e38\u89c1\u8bed\u8a00\u8fed\u4ee3\u5668\u6a21\u5f0f\u7684\u5b9e\u73b0\u3002</p> <ol> <li>Java\u8bed\u8a00\uff1a\u96c6\u5408\u7c7b\uff08\u5982ArrayList\u3001LinkedList), \u901a\u8fc7<code>Iterator</code>\u63a5\u53e3\uff0c\u53ef\u4ee5\u904d\u5386\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u3002</li> </ol> Java<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nlist.add(\"Item 1\");\nlist.add(\"Item 2\");\nlist.add(\"Item 3\");\n\nIterator&lt;String&gt; iterator = list.iterator();\nwhile (iterator.hasNext()) {\n    System.out.println(iterator.next());\n}\n</code></pre> <ol> <li>Python\u8bed\u8a00\uff1a\u4f7f\u7528\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668\u6765\u5b9e\u73b0\u8fed\u4ee3\u6a21\u5f0f\uff0c<code>iter()</code>\u548c<code>next()</code>\u51fd\u6570\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u548c\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002</li> </ol> Python<pre><code>elements = [\"Element 1\", \"Element 2\", \"Element 3\"]\niterator = iter(elements)\n\nwhile True:\n    try:\n        element = next(iterator)\n        print(element)\n    except StopIteration:\n        break\n</code></pre> <ol> <li>C++\u8bed\u8a00\uff1aC++\u4e2d\u7684STL\u63d0\u4f9b\u4e86\u8fed\u4ee3\u5668\u7684\u652f\u6301\uff0c<code>begin()</code>\u548c<code>end()</code>\u51fd\u6570\u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u5bb9\u5668\u7684\u8d77\u59cb\u548c\u7ed3\u675f\u8fed\u4ee3\u5668\u3002</li> </ol> C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main() {\n    std::vector&lt;std::string&gt; elements = {\"Element 1\", \"Element 2\", \"Element 3\"};\n\n    for (auto it = elements.begin(); it != elements.end(); ++it) {\n        std::cout &lt;&lt; *it &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre> <ol> <li>JavaScript\u8bed\u8a00\uff1aES6\u4e2d\u65b0\u589e\u4e86\u8fed\u4ee3\u5668\u534f\u8bae\uff0c\u4f7f\u5f97\u904d\u5386\u548c\u8bbf\u95ee\u96c6\u5408\u5143\u7d20\u53d8\u5f97\u66f4\u52a0\u65b9\u4fbf\u3002</li> </ol> JavaScript<pre><code>// \u53ef\u8fed\u4ee3\u5bf9\u8c61\u5b9e\u73b0\u53ef\u8fed\u4ee3\u534f\u8bae\nclass IterableObject {\n  constructor() {\n    this.elements = [];\n  }\n  addElement(element) {\n    this.elements.push(element);\n  }\n  [Symbol.iterator]() {\n    let index = 0;\n    // \u8fed\u4ee3\u5668\u5bf9\u8c61\u5b9e\u73b0\u8fed\u4ee3\u5668\u534f\u8bae\n    return {\n      next: () =&gt; {\n        if (index &lt; this.elements.length) {\n          return { value: this.elements[index++], done: false };\n        } else {\n          return { done: true };\n        }\n      }\n    };\n  }\n}\n\n// \u4f7f\u7528\u8fed\u4ee3\u5668\u904d\u5386\u53ef\u8fed\u4ee3\u5bf9\u8c61\nconst iterableObject = new IterableObject();\niterableObject.addElement(\"Element 1\");\niterableObject.addElement(\"Element 2\");\niterableObject.addElement(\"Element 3\");\n\nfor (const element of iterableObject) {\n  console.log(element);\n}\n</code></pre>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\n// \u53ef\u8fed\u4ee3\u5bf9\u8c61\u63a5\u53e3\ninterface StudentCollection {\n    java.util.Iterator&lt;Student&gt; iterator();\n}\n\n// \u5177\u4f53\u53ef\u8fed\u4ee3\u5bf9\u8c61\nclass ConcreteStudentCollection implements StudentCollection {\n    private List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n\n    public void addStudent(Student student) {\n        students.add(student);\n    }\n\n    @Override\n    public java.util.Iterator&lt;Student&gt; iterator() {\n        return new ConcreteStudentIterator(students);\n    }\n}\n\n// \u8fed\u4ee3\u5668\u63a5\u53e3\ninterface Iterator&lt;T&gt; {\n    boolean hasNext();\n\n    T next();\n}\n\n// \u5177\u4f53\u8fed\u4ee3\u5668\nclass ConcreteStudentIterator implements java.util.Iterator&lt;Student&gt; {\n    private List&lt;Student&gt; students;\n    private int currentIndex = 0;\n\n    public ConcreteStudentIterator(List&lt;Student&gt; students) {\n        this.students = students;\n    }\n\n    @Override\n    public boolean hasNext() {\n        return currentIndex &lt; students.size();\n    }\n\n    @Override\n    public Student next() {\n        if (hasNext()) {\n            Student student = students.get(currentIndex);\n            currentIndex++;\n            return student;\n        }\n        return null;\n    }\n}\n\n// \u5b66\u751f\u7c7b\nclass Student {\n    private String name;\n    private String studentId;\n\n    public Student(String name, String studentId) {\n        this.name = name;\n        this.studentId = studentId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getStudentId() {\n        return studentId;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u8bfb\u53d6\u5b66\u751f\u6570\u91cf\n        int n = scanner.nextInt();\n        scanner.nextLine(); // \u8bfb\u53d6\u6362\u884c\u7b26\n\n        // \u521b\u5efa\u5177\u4f53\u53ef\u8fed\u4ee3\u5bf9\u8c61\n        ConcreteStudentCollection studentCollection = new ConcreteStudentCollection();\n\n        // \u8bfb\u53d6\u5b66\u751f\u4fe1\u606f\u5e76\u6dfb\u52a0\u5230\u96c6\u5408\n        for (int i = 0; i &lt; n; i++) {\n            String[] input = scanner.nextLine().split(\" \");\n            if (input.length == 2) {\n                String name = input[0];\n                String studentId = input[1];\n                Student student = new Student(name, studentId);\n                studentCollection.addStudent(student);\n            } else {\n                System.out.println(\"Invalid input\");\n                return;\n            }\n        }\n\n        // \u4f7f\u7528\u8fed\u4ee3\u5668\u904d\u5386\u5b66\u751f\u96c6\u5408\n        java.util.Iterator&lt;Student&gt; iterator = studentCollection.iterator();\n        while (iterator.hasNext()) {\n            Student student = iterator.next();\n            System.out.println(student.getName() + \" \" + student.getStudentId());\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u7248\u672c\u4ee3\u7801","text":""},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>Java \u5185\u7f6e\u7684 List \u63a5\u53e3\u7684 iterator() \u65b9\u6cd5\u5b9e\u73b0\u3002 Java<pre><code>import java.util.*;\n\n// \u5b66\u751f\u7c7b\nclass Student {\n    String name;\n    String id;\n\n    Student(String name, String id) {\n        this.name = name;\n        this.id = id;\n    }\n\n    String getInfo() {\n        return name + \" \" + id;\n    }\n}\n\n// \u5b66\u751f\u5217\u8868\u7cfb\u7edf\nclass StudentListSystem {\n    private List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n\n    void addStudent(String name, String id) {\n        students.add(new Student(name, id));\n    }\n\n    Iterator&lt;Student&gt; iterator() {\n        return students.iterator();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        StudentListSystem studentList = new StudentListSystem();\n\n        int n = scanner.nextInt();\n        scanner.nextLine(); \n\n        for (int i = 0; i &lt; n; i++) {\n            String[] s = scanner.nextLine().split(\" \");\n            studentList.addStudent(s[0], s[1]);\n        }\n\n        Iterator&lt;Student&gt; iterator = studentList.iterator();\n        while (iterator.hasNext()) {\n            Student student = iterator.next();\n            System.out.println(student.getInfo());\n        }\n        scanner.close();\n    }\n}\n</code></pre></p>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\n// \u5b66\u751f\u7c7b\nclass Student {\npublic:\n    Student(const std::string&amp; name, const std::string&amp; studentId) : name(name), studentId(studentId) {}\n\n    std::string getName() const {\n        return name;\n    }\n\n    std::string getStudentId() const {\n        return studentId;\n    }\n\nprivate:\n    std::string name;\n    std::string studentId;\n};\n\n// \u53ef\u8fed\u4ee3\u5bf9\u8c61\u63a5\u53e3\nclass StudentCollection {\npublic:\n    virtual ~StudentCollection() = default;\n\n    virtual std::vector&lt;Student&gt;::iterator begin() = 0;\n    virtual std::vector&lt;Student&gt;::iterator end() = 0;\n};\n\n// \u5177\u4f53\u53ef\u8fed\u4ee3\u5bf9\u8c61\nclass ConcreteStudentCollection : public StudentCollection {\npublic:\n    void addStudent(const Student&amp; student) {\n        students.push_back(student);\n    }\n\n    std::vector&lt;Student&gt;::iterator begin() override {\n        return students.begin();\n    }\n\n    std::vector&lt;Student&gt;::iterator end() override {\n        return students.end();\n    }\n\nprivate:\n    std::vector&lt;Student&gt; students;\n};\n\nint main() {\n    int n;\n    std::cin &gt;&gt; n;\n    std::cin.ignore(); // \u5ffd\u7565\u6362\u884c\u7b26\n\n    ConcreteStudentCollection studentCollection;\n\n    for (int i = 0; i &lt; n; ++i) {\n        std::string name, studentId;\n        std::cin &gt;&gt; name &gt;&gt; studentId;\n        studentCollection.addStudent(Student(name, studentId));\n    }\n\n    // \u4f7f\u7528\u8fed\u4ee3\u5668\u904d\u5386\u5b66\u751f\u96c6\u5408\n    for (auto it = studentCollection.begin(); it != studentCollection.end(); ++it) {\n        const Student&amp; student = *it;\n        std::cout &lt;&lt; student.getName() &lt;&lt; \" \" &lt;&lt; student.getStudentId() &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>class Student:\n    def __init__(self, name, student_id):\n        self.name = name\n        self.student_id = student_id\n\n    def get_name(self):\n        return self.name\n\n    def get_student_id(self):\n        return self.student_id\n\n\nclass StudentCollection:\n    def __init__(self):\n        self.students = []\n\n    def add_student(self, student):\n        self.students.append(student)\n\n    def __iter__(self):\n        return iter(self.students)\n\n\ndef main():\n    n = int(input())\n\n    student_collection = StudentCollection()\n\n    for _ in range(n):\n        inputs = input().split()\n        if len(inputs) == 2:\n            name, student_id = inputs\n            student = Student(name, student_id)\n            student_collection.add_student(student)\n        else:\n            print(\"Invalid input\")\n            return\n\n    # \u4f7f\u7528\u8fed\u4ee3\u5668\u904d\u5386\u5b66\u751f\u96c6\u5408\n    for student in student_collection:\n        print(student.get_name(), student.get_student_id())\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"DesignPattern/19-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"bufio\"\n    \"os\"\n    \"strings\"\n)\n\n// \u53ef\u8fed\u4ee3\u5bf9\u8c61\u63a5\u53e3\ntype StudentCollection interface {\n    Iterator() Iterator\n}\n\n// \u5177\u4f53\u53ef\u8fed\u4ee3\u5bf9\u8c61\ntype ConcreteStudentCollection struct {\n    students []Student\n}\n\nfunc NewConcreteStudentCollection() *ConcreteStudentCollection {\n    return &amp;ConcreteStudentCollection{\n        students: make([]Student, 0),\n    }\n}\n\nfunc (c *ConcreteStudentCollection) AddStudent(student Student) {\n    c.students = append(c.students, student)\n}\n\nfunc (c *ConcreteStudentCollection) Iterator() Iterator {\n    return NewConcreteStudentIterator(c.students)\n}\n\n// \u8fed\u4ee3\u5668\u63a5\u53e3\ntype Iterator interface {\n    HasNext() bool\n    Next() Student\n}\n\n// \u5177\u4f53\u8fed\u4ee3\u5668\ntype ConcreteStudentIterator struct {\n    students    []Student\n    currentIndex int\n}\n\nfunc NewConcreteStudentIterator(students []Student) *ConcreteStudentIterator {\n    return &amp;ConcreteStudentIterator{\n        students:    students,\n        currentIndex: 0,\n    }\n}\n\nfunc (i *ConcreteStudentIterator) HasNext() bool {\n    return i.currentIndex &lt; len(i.students)\n}\n\nfunc (i *ConcreteStudentIterator) Next() Student {\n    if i.HasNext() {\n        student := i.students[i.currentIndex]\n        i.currentIndex++\n        return student\n    }\n    return Student{}\n}\n\n// \u5b66\u751f\u7c7b\ntype Student struct {\n    Name      string\n    StudentID string\n}\n\n// \u4e3b\u51fd\u6570\nfunc main() {\n    scanner := bufio.NewScanner(os.Stdin)\n\n    // \u8bfb\u53d6\u5b66\u751f\u6570\u91cf\n    scanner.Scan()\n    n := 0\n    fmt.Sscanf(scanner.Text(), \"%d\", &amp;n)\n\n    // \u521b\u5efa\u5177\u4f53\u53ef\u8fed\u4ee3\u5bf9\u8c61\n    studentCollection := NewConcreteStudentCollection()\n\n    // \u8bfb\u53d6\u5b66\u751f\u4fe1\u606f\u5e76\u6dfb\u52a0\u5230\u96c6\u5408\n    for i := 0; i &lt; n; i++ {\n        scanner.Scan()\n        input := strings.Fields(scanner.Text())\n\n        if len(input) == 2 {\n            name := input[0]\n            studentID := input[1]\n            student := Student{Name: name, StudentID: studentID}\n            studentCollection.AddStudent(student)\n        } else {\n            fmt.Println(\"Invalid input\")\n            return\n        }\n    }\n\n    // \u4f7f\u7528\u8fed\u4ee3\u5668\u904d\u5386\u5b66\u751f\u96c6\u5408\n    iterator := studentCollection.Iterator()\n    for iterator.HasNext() {\n        student := iterator.Next()\n        fmt.Printf(\"%s %s\\n\", student.Name, student.StudentID)\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/","title":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f","text":"<p> \u7ea6 939 \u4e2a\u5b57  616 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_2","title":"\u7b80\u5355\u5de5\u5382\u6a21\u5f0f","text":"<p>\u5728\u4e86\u89e3\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e4b\u524d\uff0c\u6709\u5fc5\u8981\u5bf9\u201c\u7b80\u5355\u5de5\u5382\u201d\u6a21\u5f0f\u8fdb\u884c\u4e00\u5b9a\u7684\u4e86\u89e3\uff0c\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u662f\u4e00\u79cd\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4f46\u5e76\u4e0d\u5c5e\u4e8e23\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u4e00\uff0c\u66f4\u591a\u7684\u662f\u4e00\u79cd\u7f16\u7a0b\u4e60\u60ef\u3002</p> <p>\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u6838\u5fc3\u601d\u60f3\u662f\u5c06\u4ea7\u54c1\u7684\u521b\u5efa\u8fc7\u7a0b\u5c01\u88c5\u5728\u4e00\u4e2a\u5de5\u5382\u7c7b\u4e2d\uff0c\u628a\u521b\u5efa\u5bf9\u8c61\u7684\u6d41\u7a0b\u96c6\u4e2d\u5728\u8fd9\u4e2a\u5de5\u5382\u7c7b\u91cc\u9762\u3002</p> <p>\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u5305\u62ec\u4e09\u4e2a\u4e3b\u8981\u89d2\u8272\uff0c\u5de5\u5382\u7c7b\u3001\u62bd\u8c61\u4ea7\u54c1\u3001\u5177\u4f53\u4ea7\u54c1\uff0c\u4e0b\u9762\u7684\u56fe\u793a\u5219\u5c55\u793a\u4e86\u5de5\u5382\u7c7b\u7684\u57fa\u672c\u7ed3\u6784\u3002</p> <p></p> <ul> <li>\u62bd\u8c61\u4ea7\u54c1\uff0c\u6bd4\u5982\u4e0a\u56fe\u4e2d\u7684<code>Shape</code> \u63a5\u53e3\uff0c\u63cf\u8ff0\u4ea7\u54c1\u7684\u901a\u7528\u884c\u4e3a\u3002</li> <li>\u5177\u4f53\u4ea7\u54c1:  \u5b9e\u73b0\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\u6216\u7ee7\u627f\u62bd\u8c61\u4ea7\u54c1\u7c7b\uff0c\u6bd4\u5982\u4e0a\u9762\u7684<code>Circle</code>\u7c7b\u548c<code>Square</code>\u7c7b\uff0c\u5177\u4f53\u4ea7\u54c1\u901a\u8fc7\u7b80\u5355\u5de5\u5382\u7c7b\u7684<code>if-else</code>\u903b\u8f91\u6765\u5b9e\u4f8b\u5316\u3002</li> <li>\u5de5\u5382\u7c7b\uff1a\u8d1f\u8d23\u521b\u5efa\u4ea7\u54c1\uff0c\u6839\u636e\u4f20\u9012\u7684\u4e0d\u540c\u53c2\u6570\u521b\u5efa\u4e0d\u540c\u7684\u4ea7\u54c1\u793a\u4f8b\u3002</li> </ul> <p>\u7b80\u5355\u5de5\u5382\u7c7b\u7b80\u5316\u4e86\u5ba2\u6237\u7aef\u64cd\u4f5c\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u8c03\u7528\u5de5\u5382\u65b9\u6cd5\u6765\u83b7\u53d6\u5177\u4f53\u4ea7\u54c1\uff0c\u800c\u65e0\u9700\u76f4\u63a5\u4e0e\u5177\u4f53\u4ea7\u54c1\u7c7b\u4ea4\u4e92\uff0c\u964d\u4f4e\u4e86\u8026\u5408\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u95ee\u9898\u5c31\u662f\u4e0d\u591f\u7075\u6d3b\uff0c\u5982\u679c\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u4ea7\u54c1\uff0c\u5c31\u9700\u8981\u4fee\u6539\u5de5\u5382\u7c7b\u7684\u4ee3\u7801\u3002</p>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_3","title":"\u4ec0\u4e48\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f","text":"<p>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e5f\u662f\u4e00\u79cd\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u53ea\u6709\u4e00\u4e2a\u5de5\u5382\u7c7b\uff0c\u8d1f\u8d23\u521b\u5efa\u6240\u6709\u4ea7\u54c1\uff0c\u5982\u679c\u8981\u6dfb\u52a0\u65b0\u7684\u4ea7\u54c1\uff0c\u901a\u5e38\u9700\u8981\u4fee\u6539\u5de5\u5382\u7c7b\u7684\u4ee3\u7801\u3002\u800c\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5f15\u5165\u4e86\u62bd\u8c61\u5de5\u5382\u548c\u5177\u4f53\u5de5\u5382\u7684\u6982\u5ff5\uff0c\u6bcf\u4e2a\u5177\u4f53\u5de5\u5382\u53ea\u8d1f\u8d23\u521b\u5efa\u4e00\u4e2a\u5177\u4f53\u4ea7\u54c1\uff0c\u6dfb\u52a0\u65b0\u7684\u4ea7\u54c1\u53ea\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u5de5\u5382\u7c7b\u800c\u65e0\u9700\u4fee\u6539\u539f\u6765\u7684\u4ee3\u7801\uff0c\u8fd9\u6837\u5c31\u4f7f\u5f97\u4ea7\u54c1\u7684\u751f\u4ea7\u66f4\u52a0\u7075\u6d3b\uff0c\u652f\u6301\u6269\u5c55\uff0c\u7b26\u5408\u5f00\u95ed\u539f\u5219\u3002</p> <p>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u89d2\u8272\uff1a</p> <ul> <li>\u62bd\u8c61\u5de5\u5382\uff1a\u4e00\u4e2a\u63a5\u53e3\uff0c\u5305\u542b\u4e00\u4e2a\u62bd\u8c61\u7684\u5de5\u5382\u65b9\u6cd5\uff08\u7528\u4e8e\u521b\u5efa\u4ea7\u54c1\u5bf9\u8c61\uff09\u3002</li> <li>\u5177\u4f53\u5de5\u5382\uff1a\u5b9e\u73b0\u62bd\u8c61\u5de5\u5382\u63a5\u53e3\uff0c\u521b\u5efa\u5177\u4f53\u7684\u4ea7\u54c1\u3002</li> <li>\u62bd\u8c61\u4ea7\u54c1\uff1a\u5b9a\u4e49\u4ea7\u54c1\u7684\u63a5\u53e3\u3002</li> <li>\u5177\u4f53\u4ea7\u54c1\uff1a\u5b9e\u73b0\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\uff0c\u662f\u5de5\u5382\u521b\u5efa\u7684\u5bf9\u8c61\u3002</li> </ul> <p>\u5b9e\u9645\u4e0a\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e5f\u5f88\u597d\u7406\u89e3\uff0c\u5c31\u62ff\u201c\u624b\u673aPhone\u201d\u8fd9\u4e2a\u4ea7\u54c1\u4e3e\u4f8b\uff0c\u624b\u673a\u662f\u4e00\u4e2a\u62bd\u8c61\u4ea7\u54c1\uff0c\u5c0f\u7c73\u624b\u673a\u3001\u534e\u4e3a\u624b\u673a\u3001\u82f9\u679c\u624b\u673a\u662f\u5177\u4f53\u7684\u4ea7\u54c1\u5b9e\u73b0\uff0c\u800c\u4e0d\u540c\u54c1\u724c\u7684\u624b\u673a\u5728\u5404\u81ea\u7684\u751f\u4ea7\u5382\u5bb6\u751f\u4ea7\u3002</p> <p></p>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_4","title":"\u57fa\u672c\u5b9e\u73b0","text":"<p>\u6839\u636e\u4e0a\u9762\u7684\u7c7b\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u57fa\u672c\u5b9e\u73b0\u3002</p> Java<pre><code>// \u62bd\u8c61\u4ea7\u54c1\ninterface Shape {\n    void draw();\n}\n\n// \u5177\u4f53\u4ea7\u54c1 - \u5706\u5f62\nclass Circle implements Shape {\n    @Override\n    public void draw() {\n        System.out.println(\"Circle\");\n    }\n}\n\n// \u5177\u4f53\u4ea7\u54c1 - \u6b63\u65b9\u5f62\nclass Square implements Shape {\n    @Override\n    public void draw() {\n        System.out.println(\"Square\");\n    }\n}\n\n// \u62bd\u8c61\u5de5\u5382\ninterface ShapeFactory {\n    Shape createShape();\n}\n\n// \u5177\u4f53\u5de5\u5382 - \u521b\u5efa\u5706\u5f62\nclass CircleFactory implements ShapeFactory {\n    @Override\n    public Shape createShape() {\n        return new Circle();\n    }\n}\n\n// \u5177\u4f53\u5de5\u5382 - \u521b\u5efa\u6b63\u65b9\u5f62\nclass SquareFactory implements ShapeFactory {\n    @Override\n    public Shape createShape() {\n        return new Square();\n    }\n}\n\n// \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Client {\n    public static void main(String[] args) {\n        ShapeFactory circleFactory = new CircleFactory();\n        Shape circle = circleFactory.createShape();\n        circle.draw();  // \u8f93\u51fa\uff1aCircle\n\n        ShapeFactory squareFactory = new SquareFactory();\n        Shape square = squareFactory.createShape();\n        square.draw();  // \u8f93\u51fa\uff1aSquare\n    }\n}\n</code></pre>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_5","title":"\u5e94\u7528\u573a\u666f","text":"<p>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4f7f\u5f97\u6bcf\u4e2a\u5de5\u5382\u7c7b\u7684\u804c\u8d23\u5355\u4e00\uff0c\u6bcf\u4e2a\u5de5\u5382\u53ea\u8d1f\u8d23\u521b\u5efa\u4e00\u79cd\u4ea7\u54c1\uff0c\u5f53\u521b\u5efa\u5bf9\u8c61\u6d89\u53ca\u4e00\u7cfb\u5217\u590d\u6742\u7684\u521d\u59cb\u5316\u903b\u8f91\uff0c\u800c\u8fd9\u4e9b\u903b\u8f91\u5728\u4e0d\u540c\u7684\u5b50\u7c7b\u4e2d\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5c06\u8fd9\u4e9b\u521d\u59cb\u5316\u903b\u8f91\u5c01\u88c5\u5728\u5b50\u7c7b\u7684\u5de5\u5382\u4e2d\u3002\u5728\u73b0\u6709\u7684\u5de5\u5177\u3001\u5e93\u4e2d\uff0c\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e5f\u6709\u5e7f\u6cdb\u7684\u5e94\u7528\uff0c\u6bd4\u5982\uff1a</p> <ul> <li>Spring \u6846\u67b6\u4e2d\u7684 Bean \u5de5\u5382\uff1a\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u6216\u6ce8\u89e3\uff0cSpring \u53ef\u4ee5\u6839\u636e\u914d\u7f6e\u4fe1\u606f\u52a8\u6001\u5730\u521b\u5efa\u548c\u7ba1\u7406\u5bf9\u8c61\u3002</li> <li>JDBC \u4e2d\u7684 Connection \u5de5\u5382\uff1a\u5728 Java \u6570\u636e\u5e93\u8fde\u63a5\u4e2d\uff0c<code>DriverManager</code> \u4f7f\u7528\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u6765\u521b\u5efa\u6570\u636e\u5e93\u8fde\u63a5\u3002\u4e0d\u540c\u7684\u6570\u636e\u5e93\u9a71\u52a8\uff08\u5982 MySQL\u3001PostgreSQL \u7b49\uff09\u90fd\u6709\u5bf9\u5e94\u7684\u5de5\u5382\u6765\u521b\u5efa\u8fde\u63a5\u3002</li> </ul>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\n// \u62bd\u8c61\u79ef\u6728\u63a5\u53e3\ninterface Block {\n    void produce();\n}\n\n// \u5177\u4f53\u5706\u5f62\u79ef\u6728\u5b9e\u73b0\nclass CircleBlock implements Block {\n    @Override\n    public void produce() {\n        System.out.println(\"Circle Block\");\n    }\n}\n\n// \u5177\u4f53\u65b9\u5f62\u79ef\u6728\u5b9e\u73b0\nclass SquareBlock implements Block {\n    @Override\n    public void produce() {\n        System.out.println(\"Square Block\");\n    }\n}\n\n// \u62bd\u8c61\u79ef\u6728\u5de5\u5382\u63a5\u53e3\ninterface BlockFactory {\n    Block createBlock();\n}\n\n// \u5177\u4f53\u5706\u5f62\u79ef\u6728\u5de5\u5382\u5b9e\u73b0\nclass CircleBlockFactory implements BlockFactory {\n    @Override\n    public Block createBlock() {\n        return new CircleBlock();\n    }\n}\n\n// \u5177\u4f53\u65b9\u5f62\u79ef\u6728\u5de5\u5382\u5b9e\u73b0\nclass SquareBlockFactory implements BlockFactory {\n    @Override\n    public Block createBlock() {\n        return new SquareBlock();\n    }\n}\n\n// \u79ef\u6728\u5de5\u5382\u7cfb\u7edf\nclass BlockFactorySystem {\n    private List&lt;Block&gt; blocks = new ArrayList&lt;&gt;();\n\n    public void produceBlocks(BlockFactory factory, int quantity) {\n        for (int i = 0; i &lt; quantity; i++) {\n            Block block = factory.createBlock();\n            blocks.add(block);\n            block.produce();\n        }\n    }\n\n    public List&lt;Block&gt; getBlocks() {\n        return blocks;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u521b\u5efa\u79ef\u6728\u5de5\u5382\u7cfb\u7edf\n        BlockFactorySystem factorySystem = new BlockFactorySystem();\n\n        // \u8bfb\u53d6\u751f\u4ea7\u6b21\u6570\n        int productionCount = scanner.nextInt();\n        scanner.nextLine();\n\n        // \u8bfb\u53d6\u6bcf\u6b21\u751f\u4ea7\u7684\u79ef\u6728\u7c7b\u578b\u548c\u6570\u91cf\n        for (int i = 0; i &lt; productionCount; i++) {\n            String[] productionInfo = scanner.nextLine().split(\" \");\n            String blockType = productionInfo[0];\n            int quantity = Integer.parseInt(productionInfo[1]);\n\n            if (blockType.equals(\"Circle\")) {\n                factorySystem.produceBlocks(new CircleBlockFactory(), quantity);\n            } else if (blockType.equals(\"Square\")) {\n                factorySystem.produceBlocks(new SquareBlockFactory(), quantity);\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u5229\u7528\u53cd\u5c04\u5b9e\u73b0\u5de5\u5382\u65b9\u6cd5 Java<pre><code>import java.lang.reflect.Constructor;\nimport java.util.Scanner;\n\n// \u62bd\u8c61\u5de5\u5382\u7c7b\nabstract class BlocksFactory {\n    public abstract blocks createBlocks(Class&lt;blocks&gt; c, String str, int num);\n}\n\n//\u5177\u4f53\u5de5\u5382\u5b9e\u73b0\u7c7b \nclass BlocksFactoryImpl extends BlocksFactory {\n\n    @Override\n    public blocks createBlocks(Class&lt;blocks&gt; c, String str, int num) {\n        try {\n        //\u53cd\u5c04\u83b7\u53d6blocks\u7c7b\u4e2d\u5e26\u6709\u4e24\u4e2a\u53c2\u6570\u7684\u6784\u9020\u5668\n            Constructor&lt;blocks&gt; constructor = c.getConstructor(String.class, int.class);\n            return constructor.newInstance(str, num);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n\n//\u5b9a\u4e49\u79ef\u6728\u63a5\u53e3\ninterface blocks {\n    void blockPrint(String str, int num);\n}\n\n//\u5706\u5f62\u79ef\u6728 \nclass CircleBlocks implements blocks{\n    private String str;\n    private int num;\n\n    public CircleBlocks(String str, int num) {\n        this.str = str;\n        this.num = num;\n    }\n\n    public void blockPrint(String str,int num){\n        for(int i=0;i&lt;num;i++){\n            System.out.println(str+\" Block\");\n        }\n    }\n}\n\n//\u65b9\u5f62\u79ef\u6728 \nclass SquareBlocks implements blocks{\n\n    private String str;\n    private int num;\n\n    public SquareBlocks(String str, int num) {\n        this.str = str;\n        this.num = num;\n    }\n\n    public void blockPrint(String str,int num){\n        for(int i=0;i&lt;num;i++){\n            System.out.println(str+\" Block\");\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int N = scanner.nextInt();\n\n        //\u83b7\u53d6\u5de5\u5382\u5b9e\u4f8b\n        BlocksFactory factory = new BlocksFactoryImpl();\n\n        for (int n = 0; n &lt; N; n++) { \n            String type = scanner.next();//\u7528\u6237\u8f93\u5165\u7c7b\u578b\uff08Circle \u6216 Square\uff09\n            int num = scanner.nextInt();// \u7528\u6237\u8f93\u5165\u6570\u91cf\n\n            //\u6784\u5efa\u6b63\u786e\u7684\u7c7b\u540d\uff0c\u5e76\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5927\u5199\n            String className = type.substring(0, 1).toUpperCase() + type.substring(1) + \"Blocks\"; // \u6784\u9020\u6b63\u786e\u7684\u7c7b\u540d\n            try {\n        //\u4f7f\u7528\u5de5\u5382\u65b9\u6cd5\u521b\u5efa\u5bf9\u8c61\n                blocks block = factory.createBlocks((Class&lt;blocks&gt;) Class.forName(className), type, num);\n                if (block != null) {\n                    block.blockPrint(type, num);\n                }\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n        }\n\n        scanner.close();\n    }\n}\n</code></pre></p>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#cpp","title":"Cpp","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\n// \u62bd\u8c61\u79ef\u6728\u63a5\u53e3\nclass Block {\npublic:\n    virtual void produce() = 0;\n};\n\n// \u5177\u4f53\u5706\u5f62\u79ef\u6728\u5b9e\u73b0\nclass CircleBlock : public Block {\npublic:\n    void produce() override {\n        std::cout &lt;&lt; \"Circle Block\" &lt;&lt; std::endl;\n    }\n};\n\n// \u5177\u4f53\u65b9\u5f62\u79ef\u6728\u5b9e\u73b0\nclass SquareBlock : public Block {\npublic:\n    void produce() override {\n        std::cout &lt;&lt; \"Square Block\" &lt;&lt; std::endl;\n    }\n};\n\n// \u62bd\u8c61\u79ef\u6728\u5de5\u5382\u63a5\u53e3\nclass BlockFactory {\npublic:\n    virtual Block* createBlock() = 0;\n};\n\n// \u5177\u4f53\u5706\u5f62\u79ef\u6728\u5de5\u5382\u5b9e\u73b0\nclass CircleBlockFactory : public BlockFactory {\npublic:\n    Block* createBlock() override {\n        return new CircleBlock();\n    }\n};\n\n// \u5177\u4f53\u65b9\u5f62\u79ef\u6728\u5de5\u5382\u5b9e\u73b0\nclass SquareBlockFactory : public BlockFactory {\npublic:\n    Block* createBlock() override {\n        return new SquareBlock();\n    }\n};\n\n// \u79ef\u6728\u5de5\u5382\u7cfb\u7edf\nclass BlockFactorySystem {\nprivate:\n    std::vector&lt;Block*&gt; blocks;\n\npublic:\n    void produceBlocks(BlockFactory* factory, int quantity) {\n        for (int i = 0; i &lt; quantity; i++) {\n            Block* block = factory-&gt;createBlock();\n            blocks.push_back(block);\n            block-&gt;produce();\n        }\n    }\n\n    const std::vector&lt;Block*&gt;&amp; getBlocks() const {\n        return blocks;\n    }\n\n    ~BlockFactorySystem() {\n        // \u91ca\u653e\u6240\u6709\u52a8\u6001\u5206\u914d\u7684\u79ef\u6728\u5bf9\u8c61\n        for (Block* block : blocks) {\n            delete block;\n        }\n    }\n};\n\nint main() {\n    // \u521b\u5efa\u79ef\u6728\u5de5\u5382\u7cfb\u7edf\n    BlockFactorySystem factorySystem;\n\n    // \u8bfb\u53d6\u751f\u4ea7\u6b21\u6570\n    int productionCount;\n    std::cin &gt;&gt; productionCount;\n\n    // \u8bfb\u53d6\u6bcf\u6b21\u751f\u4ea7\u7684\u79ef\u6728\u7c7b\u578b\u548c\u6570\u91cf\n    for (int i = 0; i &lt; productionCount; i++) {\n        std::string blockType;\n        int quantity;\n        std::cin &gt;&gt; blockType &gt;&gt; quantity;\n\n        if (blockType == \"Circle\") {\n            factorySystem.produceBlocks(new CircleBlockFactory(), quantity);\n        } else if (blockType == \"Square\") {\n            factorySystem.produceBlocks(new SquareBlockFactory(), quantity);\n        }\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from abc import ABC, abstractmethod\n\n# \u62bd\u8c61\u79ef\u6728\u63a5\u53e3\nclass Block(ABC):\n    @abstractmethod\n    def produce(self):\n        pass\n\n# \u5177\u4f53\u5706\u5f62\u79ef\u6728\u5b9e\u73b0\nclass CircleBlock(Block):\n    def produce(self):\n        print(\"Circle Block\")\n\n# \u5177\u4f53\u65b9\u5f62\u79ef\u6728\u5b9e\u73b0\nclass SquareBlock(Block):\n    def produce(self):\n        print(\"Square Block\")\n\n# \u62bd\u8c61\u79ef\u6728\u5de5\u5382\u63a5\u53e3\nclass BlockFactory(ABC):\n    @abstractmethod\n    def create_block(self):\n        pass\n\n# \u5177\u4f53\u5706\u5f62\u79ef\u6728\u5de5\u5382\u5b9e\u73b0\nclass CircleBlockFactory(BlockFactory):\n    def create_block(self):\n        return CircleBlock()\n\n# \u5177\u4f53\u65b9\u5f62\u79ef\u6728\u5de5\u5382\u5b9e\u73b0\nclass SquareBlockFactory(BlockFactory):\n    def create_block(self):\n        return SquareBlock()\n\n# \u79ef\u6728\u5de5\u5382\u7cfb\u7edf\nclass BlockFactorySystem:\n    def __init__(self):\n        self.blocks = []\n\n    def produce_blocks(self, factory, quantity):\n        for _ in range(quantity):\n            block = factory.create_block()\n            self.blocks.append(block)\n            block.produce()\n\n    def get_blocks(self):\n        return self.blocks\n\n# \u4e3b\u51fd\u6570\ndef main():\n    # \u521b\u5efa\u79ef\u6728\u5de5\u5382\u7cfb\u7edf\n    factory_system = BlockFactorySystem()\n\n    # \u8bfb\u53d6\u751f\u4ea7\u6b21\u6570\n    production_count = int(input())\n\n    # \u8bfb\u53d6\u6bcf\u6b21\u751f\u4ea7\u7684\u79ef\u6728\u7c7b\u578b\u548c\u6570\u91cf\n    for _ in range(production_count):\n        block_type, quantity = input().split()\n        quantity = int(quantity)\n\n        if block_type == \"Circle\":\n            factory_system.produce_blocks(CircleBlockFactory(), quantity)\n        elif block_type == \"Square\":\n            factory_system.produce_blocks(SquareBlockFactory(), quantity)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\n// \u62bd\u8c61\u79ef\u6728\u63a5\u53e3\ntype Block interface {\n    produce()\n}\n\n// \u5177\u4f53\u5706\u5f62\u79ef\u6728\u5b9e\u73b0\ntype CircleBlock struct{}\n\nfunc (c *CircleBlock) produce() {\n    fmt.Println(\"Circle Block\")\n}\n\n// \u5177\u4f53\u65b9\u5f62\u79ef\u6728\u5b9e\u73b0\ntype SquareBlock struct{}\n\nfunc (s *SquareBlock) produce() {\n    fmt.Println(\"Square Block\")\n}\n\n// \u62bd\u8c61\u79ef\u6728\u5de5\u5382\u63a5\u53e3\ntype BlockFactory interface {\n    createBlock() Block\n}\n\n// \u5177\u4f53\u5706\u5f62\u79ef\u6728\u5de5\u5382\u5b9e\u73b0\ntype CircleBlockFactory struct{}\n\nfunc (cf *CircleBlockFactory) createBlock() Block {\n    return &amp;CircleBlock{}\n}\n\n// \u5177\u4f53\u65b9\u5f62\u79ef\u6728\u5de5\u5382\u5b9e\u73b0\ntype SquareBlockFactory struct{}\n\nfunc (sf *SquareBlockFactory) createBlock() Block {\n    return &amp;SquareBlock{}\n}\n\n// \u79ef\u6728\u5de5\u5382\u7cfb\u7edf\ntype BlockFactorySystem struct {\n    blocks []Block\n}\n\nfunc (bfs *BlockFactorySystem) produceBlocks(factory BlockFactory, quantity int) {\n    for i := 0; i &lt; quantity; i++ {\n        block := factory.createBlock()\n        bfs.blocks = append(bfs.blocks, block)\n        block.produce()\n    }\n}\n\nfunc (bfs *BlockFactorySystem) getBlocks() []Block {\n    return bfs.blocks\n}\n\nfunc main() {\n    // \u521b\u5efa\u79ef\u6728\u5de5\u5382\u7cfb\u7edf\n    factorySystem := &amp;BlockFactorySystem{}\n\n    // \u8bfb\u53d6\u751f\u4ea7\u6b21\u6570\n    var productionCount int\n    fmt.Scan(&amp;productionCount)\n\n    // \u8bfb\u53d6\u6bcf\u6b21\u751f\u4ea7\u7684\u79ef\u6728\u7c7b\u578b\u548c\u6570\u91cf\n    for i := 0; i &lt; productionCount; i++ {\n        var blockType string\n        var quantity int\n        fmt.Scan(&amp;blockType, &amp;quantity)\n\n        if blockType == \"Circle\" {\n            factorySystem.produceBlocks(&amp;CircleBlockFactory{}, quantity)\n        } else if blockType == \"Square\" {\n            factorySystem.produceBlocks(&amp;SquareBlockFactory{}, quantity)\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#typescript","title":"TypeScript","text":"TypeScript<pre><code>// \u5b9a\u4e49\u79ef\u6728\u63a5\u53e3\uff0c\u6240\u6709\u79ef\u6728\u90fd\u5fc5\u987b\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3\ninterface IBlock {\n  product(): void;  // \u751f\u4ea7\u79ef\u6728\u7684\u65b9\u6cd5\n}\n\n// \u5b9a\u4e49\u5de5\u5382\u63a5\u53e3\uff0c\u6240\u6709\u5de5\u5382\u90fd\u5fc5\u987b\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3\ninterface IFactory {\n  createBlock(): IBlock;  // \u521b\u5efa\u79ef\u6728\u7684\u65b9\u6cd5\n}\n\n// \u5706\u5f62\u79ef\u6728\u7c7b\nclass Circle implements IBlock {\n  product() {\n    console.log('Circle Block');  // \u751f\u4ea7\u5706\u5f62\u79ef\u6728\n  }\n}\n\n// \u65b9\u5f62\u79ef\u6728\u7c7b\nclass Square implements IBlock {\n  product() {\n    console.log('Square Block');  // \u751f\u4ea7\u65b9\u5f62\u79ef\u6728\n  }\n}\n\n// \u5706\u5f62\u79ef\u6728\u5de5\u5382\nclass CircleFactory implements IFactory {\n  createBlock(): IBlock {\n    return new Circle();  // \u521b\u5efa\u5706\u5f62\u79ef\u6728\u5b9e\u4f8b\n  }\n}\n\n// \u65b9\u5f62\u79ef\u6728\u5de5\u5382\nclass SquareFactory implements IFactory {\n  createBlock(): IBlock {\n    return new Square();  // \u521b\u5efa\u65b9\u5f62\u79ef\u6728\u5b9e\u4f8b\n  }\n}\n\n/**\n * \u4e3b\u51fd\u6570\uff1a\u7528\u4e8e\u6279\u91cf\u751f\u4ea7\u79ef\u6728\n * @param count - \u9700\u8981\u751f\u4ea7\u7684\u79ef\u6728\u79cd\u7c7b\u6570\u91cf\n * @returns \u4e00\u4e2a\u51fd\u6570\u94fe\uff0c\u7528\u4e8e\u63a5\u6536\u79ef\u6728\u7c7b\u578b\u548c\u6570\u91cf\n */\nfunction main(count: number) {\n  /**\n   * \u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u51fd\u6570\uff0c\u7528\u4e8e\u6536\u96c6\u79ef\u6728\u751f\u4ea7\u4fe1\u606f\n   * @param args - \u5df2\u6536\u96c6\u7684\u79ef\u6728\u4fe1\u606f\u6570\u7ec4\uff0c\u6bcf\u4e2a\u5143\u7d20\u662f [\u79ef\u6728\u7c7b\u578b, \u6570\u91cf] \u7684\u5143\u7ec4\n   * @returns \u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u7ee7\u7eed\u6536\u96c6\u4fe1\u606f\u6216\u6267\u884c\u751f\u4ea7\n   */\n  function dfs(...args: [string, number][]): (arg: [string, number]) =&gt; any {\n    // \u5982\u679c\u6536\u96c6\u7684\u79ef\u6728\u79cd\u7c7b\u6570\u91cf\u4e0d\u8db3\uff0c\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u7ee7\u7eed\u6536\u96c6\n    if (args.length &lt; count) {\n      return (arg: [string, number]) =&gt; dfs(...args, arg); \n    }\n\n    // \u5f53\u6536\u96c6\u5230\u8db3\u591f\u6570\u91cf\u7684\u79ef\u6728\u4fe1\u606f\u540e\uff0c\u5f00\u59cb\u751f\u4ea7\n    args.forEach(blockAndCount =&gt; {\n      // \u6839\u636e\u79ef\u6728\u7c7b\u578b\u9009\u62e9\u5bf9\u5e94\u7684\u5de5\u5382\n      const factory = blockAndCount[0] === 'Circle' ? new CircleFactory() : new SquareFactory();\n      // \u751f\u4ea7\u6307\u5b9a\u6570\u91cf\u7684\u79ef\u6728\n      for (let i = 0; i &lt; blockAndCount[1]; i++) {\n        factory.createBlock().product();\n      }\n    });\n    return () =&gt; {};  // \u8fd4\u56de\u4e00\u4e2a\u7a7a\u51fd\u6570\uff0c\u4fdd\u6301\u51fd\u6570\u94fe\u7684\u8fde\u7eed\u6027\n  }\n\n  return dfs();  // \u542f\u52a8\u6536\u96c6\u8fc7\u7a0b\n}\n\n// \u4f7f\u7528\u793a\u4f8b\uff1a\u751f\u4ea73\u79cd\u79ef\u6728\n// 1\u4e2a\u5706\u5f62\u79ef\u6728\uff0c2\u4e2a\u65b9\u5f62\u79ef\u6728\uff0c1\u4e2a\u5706\u5f62\u79ef\u6728\nmain(3)([\"Circle\", 1])([\"Square\", 2])([\"Circle\", 1]);\n</code></pre>"},{"location":"DesignPattern/2-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/#javascript","title":"JavaScript","text":"JavaScript<pre><code>// \u5706\u5f62\u79ef\u6728\u7c7b\nclass Circle {\n  product() {\n    console.log('Circle Block');  // \u751f\u4ea7\u5706\u5f62\u79ef\u6728\n  }\n}\n\n// \u65b9\u5f62\u79ef\u6728\u7c7b\nclass Square {\n  product() {\n    console.log('Square Block');  // \u751f\u4ea7\u65b9\u5f62\u79ef\u6728\n  }\n}\n\n// \u5706\u5f62\u79ef\u6728\u5de5\u5382\nclass CircleFactory {\n  createBlock() {\n    return new Circle();  // \u521b\u5efa\u5706\u5f62\u79ef\u6728\u5b9e\u4f8b\n  }\n}\n\n// \u65b9\u5f62\u79ef\u6728\u5de5\u5382\nclass SquareFactory {\n  createBlock() {\n    return new Square();  // \u521b\u5efa\u65b9\u5f62\u79ef\u6728\u5b9e\u4f8b\n  }\n}\n\n/**\n * \u4e3b\u51fd\u6570\uff1a\u7528\u4e8e\u6279\u91cf\u751f\u4ea7\u79ef\u6728\n * @param count - \u9700\u8981\u751f\u4ea7\u7684\u79ef\u6728\u79cd\u7c7b\u6570\u91cf\n * @returns \u4e00\u4e2a\u51fd\u6570\u94fe\uff0c\u7528\u4e8e\u63a5\u6536\u79ef\u6728\u7c7b\u578b\u548c\u6570\u91cf\n */\nfunction main(count) {\n  /**\n   * \u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u51fd\u6570\uff0c\u7528\u4e8e\u6536\u96c6\u79ef\u6728\u751f\u4ea7\u4fe1\u606f\n   * @param args - \u5df2\u6536\u96c6\u7684\u79ef\u6728\u4fe1\u606f\u6570\u7ec4\uff0c\u6bcf\u4e2a\u5143\u7d20\u662f [\u79ef\u6728\u7c7b\u578b, \u6570\u91cf] \u7684\u5143\u7ec4\n   * @returns \u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u7ee7\u7eed\u6536\u96c6\u4fe1\u606f\u6216\u6267\u884c\u751f\u4ea7\n   */\n  function dfs(...args) {\n    // \u5982\u679c\u6536\u96c6\u7684\u79ef\u6728\u79cd\u7c7b\u6570\u91cf\u4e0d\u8db3\uff0c\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u7ee7\u7eed\u6536\u96c6\n    if (args.length &lt; count) {\n      return (arg) =&gt; dfs(...args, arg); \n    }\n\n    // \u5f53\u6536\u96c6\u5230\u8db3\u591f\u6570\u91cf\u7684\u79ef\u6728\u4fe1\u606f\u540e\uff0c\u5f00\u59cb\u751f\u4ea7\n    args.forEach(blockAndCount =&gt; {\n      // \u6839\u636e\u79ef\u6728\u7c7b\u578b\u9009\u62e9\u5bf9\u5e94\u7684\u5de5\u5382\n      const factory = blockAndCount[0] === 'Circle' ? new CircleFactory() : new SquareFactory();\n      // \u751f\u4ea7\u6307\u5b9a\u6570\u91cf\u7684\u79ef\u6728\n      for (let i = 0; i &lt; blockAndCount[1]; i++) {\n        factory.createBlock().product();\n      }\n    });\n    return () =&gt; {};  // \u8fd4\u56de\u4e00\u4e2a\u7a7a\u51fd\u6570\uff0c\u4fdd\u6301\u51fd\u6570\u94fe\u7684\u8fde\u7eed\u6027\n  }\n\n  return dfs();  // \u542f\u52a8\u6536\u96c6\u8fc7\u7a0b\n}\n\n// \u4f7f\u7528\u793a\u4f8b\uff1a\u751f\u4ea73\u79cd\u79ef\u6728\n// 1\u4e2a\u5706\u5f62\u79ef\u6728\uff0c2\u4e2a\u65b9\u5f62\u79ef\u6728\uff0c1\u4e2a\u5706\u5f62\u79ef\u6728\nmain(4)([\"Circle\", 1])([\"Square\", 5])([\"Circle\", 1])([\"Square\", 1]);\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/","title":"\u72b6\u6001\u6a21\u5f0f","text":"<p> \u7ea6 755 \u4e2a\u5b57  353 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u72b6\u6001\u6a21\u5f0f\uff08State Pattern\uff09\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u9002\u7528\u4e8e\u4e00\u4e2a\u5bf9\u8c61\u5728\u5728\u4e0d\u540c\u7684\u72b6\u6001\u4e0b\u6709\u4e0d\u540c\u7684\u884c\u4e3a\u65f6\uff0c\u6bd4\u5982\u8bf4\u7535\u706f\u7684\u5f00\u3001\u5173\u3001\u95ea\u70c1\u662f\u4e0d\u505c\u7684\u72b6\u6001\uff0c\u72b6\u6001\u4e0d\u540c\u65f6\uff0c\u5bf9\u5e94\u7684\u884c\u4e3a\u4e5f\u4e0d\u540c\uff0c\u5728\u6ca1\u6709\u72b6\u6001\u6a21\u5f0f\u7684\u60c5\u51b5\u4e0b\uff0c\u4e3a\u4e86\u6dfb\u52a0\u65b0\u7684\u72b6\u6001\u6216\u4fee\u6539\u73b0\u6709\u7684\u72b6\u6001\uff0c\u5f80\u5f80 \u9700\u8981\u4fee\u6539\u5df2\u6709\u7684\u4ee3\u7801 \uff0c\u8fd9\u8fdd\u80cc\u4e86\u5f00\u95ed\u539f\u5219\uff0c\u800c\u4e14\u5982\u679c\u5bf9\u8c61\u7684\u72b6\u6001\u5207\u6362\u903b\u8f91\u548c\u5404\u4e2a\u72b6\u6001\u7684\u884c\u4e3a\u90fd\u5728\u540c\u4e00\u4e2a\u7c7b\u4e2d\u5b9e\u73b0\uff0c\u5c31\u53ef\u80fd\u5bfc\u81f4\u8be5\u7c7b\u7684\u804c\u8d23\u8fc7\u91cd\uff0c\u4e0d\u7b26\u5408\u5355\u4e00\u804c\u8d23\u539f\u5219\u3002</p> <p>\u800c\u72b6\u6001\u6a21\u5f0f\u5c06\u6bcf\u4e2a\u72b6\u6001\u7684\u884c\u4e3a\u5c01\u88c5\u5728\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\u7c7b\u4e2d\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u72b6\u6001\u7c7b\u76f8\u5bf9\u72ec\u7acb\uff0c\u5e76\u5c06\u5bf9\u8c61\u5728\u4e0d\u540c\u72b6\u6001\u4e0b\u7684\u884c\u4e3a\u8fdb\u884c\u59d4\u6258\uff0c\u4ece\u800c\u4f7f\u5f97\u5bf9\u8c61\u7684\u72b6\u6001\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u6539\u53d8\uff0c\u6bcf\u4e2a\u72b6\u6001\u7684\u5b9e\u73b0\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u72b6\u6001\u3002</p>"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784\uff1a","text":"<p>\u72b6\u6001\u6a21\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u89d2\u8272\uff1a</p> <ul> <li><code>State</code>\uff08\u72b6\u6001\uff09\uff1a \u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\uff0c\u7528\u4e8e\u5c01\u88c5\u4e0eContext\u7684\u4e00\u4e2a\u7279\u5b9a\u72b6\u6001\u76f8\u5173\u7684\u884c\u4e3a\u3002</li> <li> <p><code>ConcreteState</code>\uff08\u5177\u4f53\u72b6\u6001\uff09\uff1a \u8d1f\u8d23\u5904\u7406Context\u5728\u72b6\u6001\u6539\u53d8\u65f6\u7684\u884c\u4e3a, \u6bcf\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\u5b50\u7c7b\u5b9e\u73b0\u4e00\u4e2a\u4e0e<code>Context</code>\u7684\u4e00\u4e2a\u72b6\u6001\u76f8\u5173\u7684\u884c\u4e3a\u3002</p> </li> <li> <p><code>Context</code>\uff08\u4e0a\u4e0b\u6587\uff09:  \u7ef4\u62a4\u4e00\u4e2a\u5177\u4f53\u72b6\u6001\u5b50\u7c7b\u7684\u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u5b9e\u4f8b\u5b9a\u4e49\u5f53\u524d\u7684\u72b6\u6001\u3002</p> </li> </ul> <p></p>"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#_4","title":"\u57fa\u672c\u4f7f\u7528","text":"<ol> <li>\u5b9a\u4e49\u72b6\u6001\u63a5\u53e3\uff1a\u521b\u5efa\u4e00\u4e2a\u72b6\u6001\u63a5\u53e3\uff0c\u8be5\u63a5\u53e3\u58f0\u660e\u4e86\u5bf9\u8c61\u53ef\u80fd\u7684\u5404\u79cd\u72b6\u6001\u5bf9\u5e94\u7684\u65b9\u6cd5\u3002</li> </ol> Java<pre><code>// \u72b6\u6001\u63a5\u53e3\npublic interface State {\n    void handle();\n}\n</code></pre> <ol> <li>\u5b9e\u73b0\u5177\u4f53\u72b6\u6001\u7c7b\uff1a \u4e3a\u5bf9\u8c61\u53ef\u80fd\u7684\u6bcf\u79cd\u72b6\u6001\u521b\u5efa\u5177\u4f53\u7684\u72b6\u6001\u7c7b\uff0c\u5b9e\u73b0\u72b6\u6001\u63a5\u53e3\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002</li> </ol> Java<pre><code>// \u5177\u4f53\u72b6\u6001\u7c7b1\npublic class ConcreteState1 implements State {\n    @Override\n    public void handle() {\n        // \u6267\u884c\u5728\u72b6\u60011\u4e0b\u7684\u64cd\u4f5c\n    }\n}\n\n// \u5177\u4f53\u72b6\u6001\u7c7b2\npublic class ConcreteState2 implements State {\n    @Override\n    public void handle() {\n        // \u6267\u884c\u5728\u72b6\u60012\u4e0b\u7684\u64cd\u4f5c\n    }\n}\n</code></pre> <ol> <li>\u521b\u5efa\u4e0a\u4e0b\u6587\u7c7b\uff1a\u8be5\u7c7b\u5305\u542b\u5bf9\u72b6\u6001\u7684\u5f15\u7528\uff0c\u5e76\u5728\u9700\u8981\u65f6\u8c03\u7528\u5f53\u524d\u72b6\u6001\u7684\u65b9\u6cd5\u3002</li> </ol> Java<pre><code>// \u4e0a\u4e0b\u6587\u7c7b\npublic class Context {\n    private State currentState;\n\n    public void setState(State state) {\n        this.currentState = state;\n    }\n\n    public void request() {\n        currentState.handle();\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u4f7f\u7528\uff1a\u521b\u5efa\u5177\u4f53\u7684\u72b6\u6001\u5bf9\u8c61\u548c\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c\u5e76\u901a\u8fc7\u4e0a\u4e0b\u6587\u5bf9\u8c61\u8c03\u7528\u76f8\u5e94\u7684\u65b9\u6cd5\u3002\u901a\u8fc7\u6539\u53d8\u72b6\u6001\uff0c\u53ef\u4ee5\u6539\u53d8\u4e0a\u4e0b\u6587\u5bf9\u8c61\u7684\u884c\u4e3a</li> </ol> Java<pre><code>public class Client {\n    public static void main(String[] args) {\n        Context context = new Context();\n\n        State state1 = new ConcreteState1();\n        State state2 = new ConcreteState2();\n\n        context.setState(state1);\n        context.request(); // \u6267\u884c\u5728\u72b6\u60011\u4e0b\u7684\u64cd\u4f5c\n\n        context.setState(state2);\n        context.request(); // \u6267\u884c\u5728\u72b6\u60012\u4e0b\u7684\u64cd\u4f5c\n    }\n}\n</code></pre>"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u72b6\u6001\u6a21\u5f0f\u5c06\u6bcf\u4e2a\u72b6\u6001\u7684\u5b9e\u73b0\u90fd\u5c01\u88c5\u5728\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u6bcf\u4e2a\u72b6\u6001\u7c7b\u7684\u5b9e\u73b0\u76f8\u5bf9\u72ec\u7acb\uff0c\u4f7f\u5f97\u6dfb\u52a0\u65b0\u72b6\u6001\u6216\u4fee\u6539\u73b0\u6709\u72b6\u6001\u53d8\u5f97\u66f4\u52a0\u5bb9\u6613\uff0c\u907f\u514d\u4e86\u4f7f\u7528\u5927\u91cf\u7684\u6761\u4ef6\u8bed\u53e5\u6765\u63a7\u5236\u5bf9\u8c61\u7684\u884c\u4e3a\u3002\u4f46\u662f\u5982\u679c\u72b6\u6001\u8fc7\u591a\uff0c\u4f1a\u5bfc\u81f4\u7c7b\u7684\u6570\u91cf\u589e\u52a0\uff0c\u53ef\u80fd\u4f1a\u4f7f\u5f97\u4ee3\u7801\u7ed3\u6784\u590d\u6742\u3002</p> <p>\u603b\u7684\u6765\u8bf4\uff0c\u72b6\u6001\u6a21\u5f0f\u9002\u7528\u4e8e\u6709\u9650\u72b6\u6001\u673a\u7684\u573a\u666f\uff0c\u5176\u4e2d\u5bf9\u8c61\u7684\u884c\u4e3a\u5728\u8fd0\u884c\u65f6\u53ef\u4ee5\u6839\u636e\u5185\u90e8\u72b6\u6001\u7684\u6539\u53d8\u800c\u6539\u53d8\uff0c\u5728\u6e38\u620f\u5f00\u53d1\u4e2d\uff0cUnity3D \u7684 Animator \u63a7\u5236\u5668\u5c31\u662f\u4e00\u4e2a\u72b6\u6001\u673a\u3002\u5b83\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u5b9a\u4e49\u4e0d\u540c\u7684\u72b6\u6001\uff08\u52a8\u753b\u72b6\u6001\uff09\uff0c\u5e76\u901a\u8fc7\u72b6\u6001\u8f6c\u6362\u6765\u5b9e\u73b0\u89d2\u8272\u7684\u52a8\u753b\u63a7\u5236\u548c\u884c\u4e3a\u5207\u6362\u3002</p>"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u72b6\u6001\u63a5\u53e3\ninterface State {\n    String handle(); // // \u5904\u7406\u72b6\u6001\u7684\u65b9\u6cd5\n}\n\n// \u5177\u4f53\u72b6\u6001\u7c7b\nclass OnState implements State {\n    @Override\n    public String handle() {\n        return \"Light is ON\";\n    }\n}\n\nclass OffState implements State {\n    @Override\n    public String handle() {\n        return \"Light is OFF\";\n    }\n}\n\nclass BlinkState implements State {\n    @Override\n    public String handle() {\n        return \"Light is Blinking\";\n    }\n}\n\n// \u4e0a\u4e0b\u6587\u7c7b\nclass Light {\n    private State state; // \u5f53\u524d\u72b6\u6001\n\n    public Light() {\n        this.state = new OffState(); // \u521d\u59cb\u72b6\u6001\u4e3a\u5173\u95ed\n    }\n\n    public void setState(State state) { // \u8bbe\u7f6e\u65b0\u7684\u72b6\u6001\n        this.state = state;\n    }\n\n    public String performOperation() { // \u6267\u884c\u5f53\u524d\u72b6\u6001\u7684\u64cd\u4f5c\n        return state.handle();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u4e00\u4e2aScanner\u5bf9\u8c61\u4ee5\u8bfb\u53d6\u7528\u6237\u8f93\u5165\n        Scanner scanner = new Scanner(System.in);\n\n        int n = scanner.nextInt();\n        scanner.nextLine(); \n\n        Light light = new Light();\n        // \u5904\u7406\u7528\u6237\u8f93\u5165\n        for (int i = 0; i &lt; n; i++) {\n            String command = scanner.nextLine().trim();\n            // \u6839\u636e\u8f93\u5165\u4fee\u6539\u706f\u7684\u72b6\u6001\n            switch (command) {\n                case \"ON\":\n                    light.setState(new OnState());\n                    break;\n                case \"OFF\":\n                    light.setState(new OffState());\n                    break;\n                case \"BLINK\":\n                    light.setState(new BlinkState());\n                    break;\n                default:\n                    System.out.println(\"Invalid command: \" + command);\n                    break;\n            }\n            // \u663e\u793a\u706f\u7684\u5f53\u524d\u72b6\u6001\n            System.out.println(light.performOperation());\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n\n// \u72b6\u6001\u63a5\u53e3\nclass State {\npublic:\n    virtual std::string handle() = 0;  // \u5904\u7406\u72b6\u6001\u7684\u65b9\u6cd5\n};\n\n// \u5177\u4f53\u72b6\u6001\u7c7b\nclass OnState : public State {\npublic:\n    std::string handle() override {\n        return \"Light is ON\";\n    }\n};\n\nclass OffState : public State {\npublic:\n    std::string handle() override {\n        return \"Light is OFF\";\n    }\n};\n\nclass BlinkState : public State {\npublic:\n    std::string handle() override {\n        return \"Light is Blinking\";\n    }\n};\n\n// \u4e0a\u4e0b\u6587\u7c7b\nclass Light {\nprivate:\n    State* state;  // \u5f53\u524d\u72b6\u6001\n\npublic:\n    Light() : state(new OffState()) {}  // \u521d\u59cb\u72b6\u6001\u4e3a\u5173\u95ed\n\n    void setState(State* newState) {  // \u8bbe\u7f6e\u65b0\u7684\u72b6\u6001\n        delete state;  // \u91ca\u653e\u4e4b\u524d\u7684\u72b6\u6001\u5bf9\u8c61\n        state = newState;\n    }\n\n    std::string performOperation() {  // \u6267\u884c\u5f53\u524d\u72b6\u6001\u7684\u64cd\u4f5c\n        return state-&gt;handle();\n    }\n\n    ~Light() {\n        delete state;  // \u91ca\u653e\u5185\u5b58\n    }\n};\n\nint main() {\n    // \u8bfb\u53d6\u8981\u8f93\u5165\u7684\u547d\u4ee4\u6570\u91cf\n    int n;\n    std::cin &gt;&gt; n;\n    std::cin.ignore();  // \u6d88\u8017\u6389\u6574\u6570\u540e\u7684\u6362\u884c\u7b26\n\n    // \u521b\u5efa\u4e00\u4e2aLight\u5bf9\u8c61\n    Light light;\n\n    // \u5904\u7406\u7528\u6237\u8f93\u5165\u7684\u6bcf\u4e2a\u547d\u4ee4\n    for (int i = 0; i &lt; n; i++) {\n        // \u8bfb\u53d6\u547d\u4ee4\u5e76\u53bb\u6389\u9996\u5c3e\u7a7a\u767d\u5b57\u7b26\n        std::string command;\n        std::getline(std::cin, command);\n\n        // \u6839\u636e\u547d\u4ee4\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\n        if (command == \"ON\") {\n            light.setState(new OnState());\n        } else if (command == \"OFF\") {\n            light.setState(new OffState());\n        } else if (command == \"BLINK\") {\n            light.setState(new BlinkState());\n        } else {\n            // \u5904\u7406\u65e0\u6548\u547d\u4ee4\n            std::cout &lt;&lt; \"Invalid command: \" &lt;&lt; command &lt;&lt; std::endl;\n        }\n\n        // \u5728\u6bcf\u4e2a\u547d\u4ee4\u540e\u663e\u793a\u706f\u7684\u5f53\u524d\u72b6\u6001\n        std::cout &lt;&lt; light.performOperation() &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code># \u72b6\u6001\u63a5\u53e3\nclass State:\n    def handle(self):\n        pass\n\n# \u5177\u4f53\u72b6\u6001\u7c7b\nclass OnState(State):\n    def handle(self):\n        return \"Light is ON\"\n\nclass OffState(State):\n    def handle(self):\n        return \"Light is OFF\"\n\nclass BlinkState(State):\n    def handle(self):\n        return \"Light is Blinking\"\n\n# \u4e0a\u4e0b\u6587\u7c7b\nclass Light:\n    def __init__(self):\n        self.state = OffState()  # \u521d\u59cb\u72b6\u6001\u4e3a\u5173\u95ed\n\n    def set_state(self, new_state):\n        self.state = new_state  # \u8bbe\u7f6e\u65b0\u7684\u72b6\u6001\n\n    def perform_operation(self):\n        return self.state.handle()  # \u6267\u884c\u5f53\u524d\u72b6\u6001\u7684\u64cd\u4f5c\n\n# \u5904\u7406\u7528\u6237\u8f93\u5165\ndef main():\n    # \u8bfb\u53d6\u8981\u8f93\u5165\u7684\u547d\u4ee4\u6570\u91cf\n    n = int(input().strip())\n\n    # \u521b\u5efa\u4e00\u4e2aLight\u5bf9\u8c61\n    light = Light()\n\n    # \u5904\u7406\u7528\u6237\u8f93\u5165\u7684\u6bcf\u4e2a\u547d\u4ee4\n    for _ in range(n):\n        # \u8bfb\u53d6\u547d\u4ee4\u5e76\u53bb\u6389\u9996\u5c3e\u7a7a\u767d\u5b57\u7b26\n        command = input().strip()\n\n        # \u6839\u636e\u547d\u4ee4\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\n        if command == \"ON\":\n            light.set_state(OnState())\n        elif command == \"OFF\":\n            light.set_state(OffState())\n        elif command == \"BLINK\":\n            light.set_state(BlinkState())\n        else:\n            # \u5904\u7406\u65e0\u6548\u547d\u4ee4\n            print(\"Invalid command:\", command)\n\n        # \u5728\u6bcf\u4e2a\u547d\u4ee4\u540e\u663e\u793a\u706f\u7684\u5f53\u524d\u72b6\u6001\n        print(light.perform_operation())\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"DesignPattern/20-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"bufio\"\n    \"os\"\n    \"strings\"\n)\n\n// \u72b6\u6001\u63a5\u53e3\ntype State interface {\n    Handle() string // \u5904\u7406\u72b6\u6001\u7684\u65b9\u6cd5\n}\n\n// \u5177\u4f53\u72b6\u6001\u7c7b\ntype OnState struct{}\n\nfunc (s *OnState) Handle() string {\n    return \"Light is ON\"\n}\n\ntype OffState struct{}\n\nfunc (s *OffState) Handle() string {\n    return \"Light is OFF\"\n}\n\ntype BlinkState struct{}\n\nfunc (s *BlinkState) Handle() string {\n    return \"Light is Blinking\"\n}\n\n// \u4e0a\u4e0b\u6587\u7c7b\ntype Light struct {\n    state State // \u5f53\u524d\u72b6\u6001\n}\n\nfunc NewLight() *Light {\n    return &amp;Light{state: &amp;OffState{}} // \u521d\u59cb\u72b6\u6001\u4e3a\u5173\u95ed\n}\n\nfunc (l *Light) SetState(state State) { // \u8bbe\u7f6e\u65b0\u7684\u72b6\u6001\n    l.state = state\n}\n\nfunc (l *Light) PerformOperation() string { // \u6267\u884c\u5f53\u524d\u72b6\u6001\u7684\u64cd\u4f5c\n    return l.state.Handle()\n}\n\n// \u4e3b\u51fd\u6570\nfunc main() {\n    scanner := bufio.NewScanner(os.Stdin)\n\n    // \u8bfb\u53d6\u7528\u6237\u8f93\u5165\n    scanner.Scan()\n    var n int\n    fmt.Sscanf(scanner.Text(), \"%d\", &amp;n)\n\n    light := NewLight()\n\n    // \u5904\u7406\u7528\u6237\u8f93\u5165\n    for i := 0; i &lt; n; i++ {\n        scanner.Scan()\n        command := strings.TrimSpace(scanner.Text())\n\n        // \u6839\u636e\u8f93\u5165\u4fee\u6539\u706f\u7684\u72b6\u6001\n        switch command {\n        case \"ON\":\n            light.SetState(&amp;OnState{})\n        case \"OFF\":\n            light.SetState(&amp;OffState{})\n        case \"BLINK\":\n            light.SetState(&amp;BlinkState{})\n        default:\n            fmt.Println(\"Invalid command:\", command)\n            continue\n        }\n\n        // \u663e\u793a\u706f\u7684\u5f53\u524d\u72b6\u6001\n        fmt.Println(light.PerformOperation())\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/","title":"\u8d23\u4efb\u94fe\u6a21\u5f0f","text":"<p> \u7ea6 655 \u4e2a\u5b57  702 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u8d23\u4efb\u94fe\u6a21\u5f0f\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u5141\u8bb8\u4f60\u6784\u5efa\u4e00\u4e2a\u5bf9\u8c61\u94fe\uff0c\u8ba9\u8bf7\u6c42\u4ece\u94fe\u7684\u4e00\u7aef\u8fdb\u5165\uff0c\u7136\u540e\u6cbf\u7740\u94fe\u4e0a\u7684\u5bf9\u8c61\u4f9d\u6b21\u5904\u7406\uff0c\u76f4\u5230\u94fe\u4e0a\u7684\u67d0\u4e2a\u5bf9\u8c61\u80fd\u591f\u5904\u7406\u8be5\u8bf7\u6c42\u4e3a\u6b62\u3002</p> <p></p> <p>\u804c\u8d23\u94fe\u4e0a\u7684\u5904\u7406\u8005\u5c31\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5bf9\u8bf7\u6c42\u8fdb\u884c\u5904\u7406\u6216\u8005\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u4e0b\u4e00\u4e2a\u8282\u70b9\uff0c\u8fd9\u4e2a\u573a\u666f\u5728\u751f\u6d3b\u4e2d\u5f88\u5e38\u89c1\uff0c\u5c31\u662f\u4e00\u4e2a\u9010\u5c42\u5411\u4e0a\u9012\u4ea4\u7684\u8fc7\u7a0b\uff0c\u6700\u7ec8\u7684\u8bf7\u6c42\u8981\u4e48\u88ab\u5904\u7406\u8005\u6240\u5904\u7406\uff0c\u8981\u4e48\u5904\u7406\u4e0d\u4e86\uff0c\u8fd9\u4e5f\u56e0\u6b64\u53ef\u80fd\u5bfc\u81f4\u8bf7\u6c42\u65e0\u6cd5\u88ab\u5904\u7406\u3002</p>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#_3","title":"\u7ec4\u6210\u7ed3\u6784","text":"<p>\u8d23\u4efb\u94fe\u6a21\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u57fa\u672c\u7ed3\u6784\uff1a</p> <ol> <li>\u5904\u7406\u8005<code>Handler</code> \uff1a\u5b9a\u4e49\u4e00\u4e2a\u5904\u7406\u8bf7\u6c42\u7684\u63a5\u53e3\uff0c\u5305\u542b\u4e00\u4e2a\u5904\u7406\u8bf7\u6c42\u7684\u62bd\u8c61\u65b9\u6cd5\u548c\u4e00\u4e2a\u6307\u5411\u4e0b\u4e00\u4e2a\u5904\u7406\u8005\u7684\u94fe\u63a5\u3002</li> <li>\u5177\u4f53\u5904\u7406\u8005<code>ConcreteHandler</code>: \u5b9e\u73b0\u5904\u7406\u8bf7\u6c42\u7684\u65b9\u6cd5\uff0c\u5e76\u5224\u65ad\u80fd\u5426\u5904\u7406\u8bf7\u6c42\uff0c\u5982\u679c\u80fd\u591f\u5904\u7406\u8bf7\u6c42\u5219\u8fdb\u884c\u5904\u7406\uff0c\u5426\u5219\u5c06\u8bf7\u6c42\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u5904\u7406\u8005\u3002</li> <li>\u5ba2\u6237\u7aef\uff1a\u521b\u5efa\u5e76\u7ec4\u88c5\u5904\u7406\u8005\u5bf9\u8c61\u94fe\uff0c\u5e76\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u94fe\u4e0a\u7684\u7b2c\u4e00\u4e2a\u5904\u7406\u8005\u3002</li> </ol> <p></p>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<ol> <li>\u5904\u7406\u8005\uff1a\u5b9a\u4e49\u5904\u7406\u8bf7\u6c42\u7684\u63a5\u53e3</li> </ol> Java<pre><code>interface Handler {\n    // \u5904\u7406\u8bf7\u6c42\u7684\u65b9\u6cd5\n    void handleRequest(double amount);\n    // \u8bbe\u7f6e\u4e0b\u4e00\u4e2a\u5904\u7406\u8005\u7684\u65b9\u6cd5\n    void setNextHandler(Handler nextHandler);\n}\n</code></pre> <ol> <li>\u5177\u4f53\u5904\u7406\u8005\uff1a\u5b9e\u73b0\u5904\u7406\u8bf7\u6c42</li> </ol> Java<pre><code>class ConcreteHandler implements Handler {\n    private Handler nextHandler;\n\n    @Override\n    public void handleRequest(Request request) {\n        // \u6839\u636e\u5177\u4f53\u60c5\u51b5\u5904\u7406\u8bf7\u6c42\uff0c\u5982\u679c\u65e0\u6cd5\u5904\u7406\u5219\u4ea4\u7ed9\u4e0b\u4e00\u4e2a\u5904\u7406\u8005\n        if (canHandle(request)) {\n            // \u5904\u7406\u8bf7\u6c42\u7684\u903b\u8f91\n        } else if (nextHandler != null) {\n            // \u4ea4\u7ed9\u4e0b\u4e00\u4e2a\u5904\u7406\u8005\u5904\u7406\n            nextHandler.handleRequest(request);\n        } else {\n            // \u65e0\u6cd5\u5904\u7406\u8bf7\u6c42\u7684\u903b\u8f91\n        }\n    }\n\n    @Override\n    public void setNextHandler(Handler nextHandler) {\n        this.nextHandler = nextHandler;\n    }\n\n    // \u5177\u4f53\u5904\u7406\u8005\u81ea\u5df1\u7684\u5224\u65ad\u6761\u4ef6\n    private boolean canHandle(Request request) {\n        // \u6839\u636e\u5177\u4f53\u60c5\u51b5\u5224\u65ad\u662f\u5426\u80fd\u591f\u5904\u7406\u8bf7\u6c42\n        return /* \u5224\u65ad\u6761\u4ef6 */;\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u521b\u5efa\u5e76\u7ec4\u88c5\u5904\u7406\u8005\u5bf9\u8c61\u94fe\uff0c\u5c06\u8bf7\u6c42\u53d1\u9001\u7ed9\u94fe\u4e0a\u7b2c\u4e00\u4e2a\u5904\u7406\u8005</li> </ol> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u5904\u7406\u8005\u5b9e\u4f8b\n        Handler handler1 = new ConcreteHandler();\n        Handler handler2 = new ConcreteHandler();\n        // ...\n\n        // \u6784\u5efa\u8d23\u4efb\u94fe\n        handler1.setNextHandler(handler2);\n        // ...\n\n        // \u53d1\u9001\u8bf7\u6c42\n        Request request = new Request(/* \u8bf7\u6c42\u53c2\u6570 */);\n        handler1.handleRequest(request);\n    }\n}\n</code></pre>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u8d23\u4efb\u94fe\u6a21\u5f0f\u5177\u6709\u4e0b\u9762\u51e0\u4e2a\u4f18\u70b9\uff1a</p> <ul> <li>\u964d\u4f4e\u8026\u5408\u5ea6\uff1a\u5c06\u8bf7\u6c42\u7684\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u89e3\u8026\uff0c\u6bcf\u4e2a\u5177\u4f53\u5904\u7406\u8005\u90fd\u53ea\u8d1f\u8d23\u5904\u7406\u4e0e\u81ea\u5df1\u76f8\u5173\u7684\u8bf7\u6c42\uff0c\u5ba2\u6237\u7aef\u4e0d\u9700\u8981\u77e5\u9053\u5177\u4f53\u662f\u54ea\u4e2a\u5904\u7406\u8005\u5904\u7406\u8bf7\u6c42\u3002</li> <li>\u589e\u5f3a\u7075\u6d3b\u6027\uff1a\u53ef\u4ee5\u52a8\u6001\u5730\u6dfb\u52a0\u6216\u5220\u9664\u5904\u7406\u8005\uff0c\u6539\u53d8\u5904\u7406\u8005\u4e4b\u95f4\u7684\u987a\u5e8f\u4ee5\u6ee1\u8db3\u4e0d\u540c\u9700\u6c42\u3002</li> </ul> <p>\u4f46\u662f\u7531\u4e8e\u4e00\u4e2a\u8bf7\u6c42\u53ef\u80fd\u4f1a\u7ecf\u8fc7\u591a\u4e2a\u5904\u7406\u8005\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u6027\u80fd\u95ee\u9898\uff0c\u5e76\u4e14\u5982\u679c\u6574\u4e2a\u94fe\u4e0a\u4e5f\u6ca1\u6709\u5408\u9002\u7684\u5904\u7406\u8005\u6765\u5904\u7406\u8bf7\u6c42\uff0c\u5c31\u4f1a\u5bfc\u81f4\u8bf7\u6c42\u65e0\u6cd5\u88ab\u5904\u7406\u3002</p> <p>\u8d23\u4efb\u94fe\u6a21\u5f0f\u662f\u8bbe\u8ba1\u6a21\u5f0f\u4e2d\u7b80\u5355\u4e14\u5e38\u89c1\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5728\u65e5\u5e38\u4e2d\u4e5f\u4f1a\u7ecf\u5e38\u4f7f\u7528\u5230\uff0c\u6bd4\u5982Java\u5f00\u53d1\u4e2d\u8fc7\u6ee4\u5668\u7684\u94fe\u5f0f\u5904\u7406\uff0c\u4ee5\u53caSpring\u6846\u67b6\u4e2d\u7684\u62e6\u622a\u5668\uff0c\u90fd\u7ec4\u88c5\u6210\u4e00\u4e2a\u5904\u7406\u94fe\u5bf9\u8bf7\u6c42\u3001\u54cd\u5e94\u8fdb\u884c\u5904\u7406\u3002</p>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u5904\u7406\u8005\uff1a\u5b9a\u4e49\u63a5\u53e3\ninterface LeaveHandler {\n    void handleRequest(LeaveRequest request);\n}\n\n// \u5177\u4f53\u5904\u7406\u8005\uff1a\u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u8d1f\u8d23\u5177\u4f53\u5904\u7406\uff0c\u8fd9\u91cc\u5206\u4e3a Supervisor\u3001Manager\u3001Director\nclass Supervisor implements LeaveHandler {\n    private static final int MAX_DAYS_SUPERVISOR_CAN_APPROVE = 3;\n    private LeaveHandler nextHandler;\n\n    public Supervisor(LeaveHandler nextHandler) {\n        this.nextHandler = nextHandler;\n    }\n\n    @Override\n    public void handleRequest(LeaveRequest request) {\n        if (request.getDays() &lt;= MAX_DAYS_SUPERVISOR_CAN_APPROVE) {\n            System.out.println(request.getName() + \" Approved by Supervisor.\");\n        } else if (nextHandler != null) {\n            nextHandler.handleRequest(request);\n        } else {\n            System.out.println(request.getName() + \" Denied by Supervisor.\");\n        }\n    }\n}\n\nclass Manager implements LeaveHandler {\n    private static final int MAX_DAYS_MANAGER_CAN_APPROVE = 7;\n    private LeaveHandler nextHandler;\n\n    public Manager(LeaveHandler nextHandler) {\n        this.nextHandler = nextHandler;\n    }\n\n    @Override\n    public void handleRequest(LeaveRequest request) {\n        if (request.getDays() &lt;= MAX_DAYS_MANAGER_CAN_APPROVE) {\n            System.out.println(request.getName() + \" Approved by Manager.\");\n        } else if (nextHandler != null) {\n            nextHandler.handleRequest(request);\n        } else {\n            System.out.println(request.getName() + \" Denied by Manager.\");\n        }\n    }\n}\n\nclass Director implements LeaveHandler {\n    private static final int MAX_DAYS_DIRECTOR_CAN_APPROVE = 10;\n\n    @Override\n    public void handleRequest(LeaveRequest request) {\n        if (request.getDays() &lt;= MAX_DAYS_DIRECTOR_CAN_APPROVE) {\n            System.out.println(request.getName() + \" Approved by Director.\");\n        } else {\n            System.out.println(request.getName() + \" Denied by Director.\");\n        }\n    }\n}\n\n// \u8bf7\u6c42\u7c7b\nclass LeaveRequest {\n    private String name;\n    private int days;\n\n    public LeaveRequest(String name, int days) {\n        this.name = name;\n        this.days = days;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getDays() {\n        return days;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int n = scanner.nextInt();\n        scanner.nextLine();  \n        // \u7ec4\u88c5\u804c\u8d23\u94fe\n        LeaveHandler director = new Director();\n        LeaveHandler manager = new Manager(director);\n        LeaveHandler supervisor = new Supervisor(manager);\n\n        for (int i = 0; i &lt; n; i++) {\n            String[] input = scanner.nextLine().split(\" \");\n            if (input.length == 2) {\n                String name = input[0];\n                int days = Integer.parseInt(input[1]);\n                LeaveRequest request = new LeaveRequest(name, days);\n                supervisor.handleRequest(request);\n            } else {\n                System.out.println(\"Invalid input\");\n                return;\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u4f7f\u7528\u679a\u4e3e\u5c01\u88c5\u4e86\u8bf7\u6c42\u7ea7\u522b\u7684\u903b\u8f91\uff0c\u65b9\u4fbf\u672a\u6765\u7684\u4fee\u6539\u548c\u6269\u5c55\u3002</p> Java<pre><code>import java.util.Scanner;\n\n// \u62bd\u8c61\u5904\u7406\u5668\u7c7b\uff0c\u5b9a\u4e49\u4e86\u8d23\u4efb\u94fe\u7684\u57fa\u672c\u7ed3\u6784\nabstract class Handler {\n    public final static int SUPERVISOR_LEVEL_REQUEST = 1;\n    public final static int MANAGER_LEVEL_REQUEST = 2;\n    public final static int DIRECTOR_LEVEL_REQUEST = 3;\n\n    private Handler nextHandler;\n    private int level = 0;\n\n    // \u6784\u9020\u51fd\u6570\uff0c\u8bbe\u7f6e\u5904\u7406\u5668\u7684\u7ea7\u522b\n    public Handler(int _level) {\n        this.level = _level;\n    }\n\n    // \u5904\u7406\u8bf7\u6c42\u7684\u65b9\u6cd5\n    public final Response handleMessage(Request request) {\n        if (this.level == request.getRequestLevel()) {\n            return this.response(request);\n        } else {\n            if (this.nextHandler != null) {\n                return this.nextHandler.handleMessage(request);\n            } else {\n                return new Response(\"Request denied\");\n            }\n        }\n    }\n\n    // \u8bbe\u7f6e\u4e0b\u4e00\u4e2a\u5904\u7406\u5668\n    public void setNext(Handler _handler) {\n        this.nextHandler = _handler;\n    }\n\n    protected abstract Response response(Request request);\n}\n\n// \u4e3b\u7ba1\u5904\u7406\nclass SupervisorHandler extends Handler {\n    public SupervisorHandler() {\n        super(Handler.SUPERVISOR_LEVEL_REQUEST);\n    }\n\n    @Override\n    protected Response response(Request request) {\n        System.out.println(request.getName() + \" Approved by Supervisor.\");\n        return new Response(\"Approved by Supervisor\");\n    }\n}\n\n// \u7ecf\u7406\u5904\u7406\nclass ManagerHandler extends Handler {\n    public ManagerHandler() {\n        super(Handler.MANAGER_LEVEL_REQUEST);\n    }\n\n    @Override\n    protected Response response(Request request) {\n        System.out.println(request.getName() + \" Approved by Manager.\");\n        return new Response(\"Approved by Manager\");\n    }\n}\n\n// \u8463\u4e8b\u5904\u7406\nclass DirectorHandler extends Handler {\n    public DirectorHandler() {\n        super(Handler.DIRECTOR_LEVEL_REQUEST);\n    }\n\n    @Override\n    protected Response response(Request request) {\n        System.out.println(request.getName() + \" Approved by Director.\");\n        return new Response(\"Approved by Director\");\n    }\n}\n\n// \u8bf7\u6c42\u7ea7\u522b\u7684\u679a\u4e3e\uff0c\u5b9a\u4e49\u4e86\u4e0d\u540c\u7ea7\u522b\u7684\u8bf7\u5047\u5929\u6570\u8303\u56f4\nenum RequestLevel {\n    SUPERVISOR(1, 3),\n    MANAGER(4, 5),\n    DIRECTOR(6, 10);\n\n    private final int minDays;\n    private final int maxDays;\n\n    RequestLevel(int minDays, int maxDays) {\n        this.minDays = minDays;\n        this.maxDays = maxDays;\n    }\n\n    // \u6839\u636e\u5929\u6570\u786e\u5b9a\u8bf7\u6c42\u7ea7\u522b\n    public static RequestLevel fromDays(int days) {\n        for (RequestLevel level : values()) {\n            if (days &gt;= level.minDays &amp;&amp; days &lt;= level.maxDays) {\n                return level;\n            }\n        }\n        return null;\n    }\n\n    public int getValue() {\n        return ordinal() + 1;\n    }\n}\n\n// \u8bf7\u6c42\u7c7b\uff0c\u5305\u542b\u8bf7\u6c42\u7684\u8be6\u7ec6\u4fe1\u606f\nclass Request {\n    private String name;\n    private int level;\n    private int nums;\n\n    public Request(String name, int nums) {\n        this.name = name;\n        this.nums = nums;\n        RequestLevel requestLevel = RequestLevel.fromDays(nums);\n        this.level = (requestLevel != null) ? requestLevel.getValue() : -1;\n    }\n\n    public int getRequestLevel() {\n        return this.level;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public int getNums() {\n        return this.nums;\n    }\n}\n\n// \u54cd\u5e94\u7c7b\uff0c\u5305\u542b\u5904\u7406\u7ed3\u679c\nclass Response {\n    private String message;\n\n    public Response(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return this.message;\n    }\n}\n\n// \u4e3b\u7c7b\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u521b\u5efa\u5904\u7406\u5668\u94fe\n        SupervisorHandler supervisorHandler = new SupervisorHandler();\n        ManagerHandler managerHandler = new ManagerHandler();\n        DirectorHandler directorHandler = new DirectorHandler();\n\n        // \u8bbe\u7f6e\u5904\u7406\u5668\u94fe\u7684\u987a\u5e8f\n        supervisorHandler.setNext(managerHandler);\n        managerHandler.setNext(directorHandler);\n\n        int n = scanner.nextInt();\n        scanner.nextLine(); \n\n        // \u5904\u7406\u6bcf\u4e2a\u8bf7\u6c42\n        while (n-- &gt; 0) {\n            String[] s = scanner.nextLine().split(\" \");\n            Request request = new Request(s[0], Integer.parseInt(s[1]));\n            Response response = supervisorHandler.handleMessage(request);\n            if (request.getRequestLevel() == -1) {\n                System.out.println(request.getName() + \" Denied by Director.\");\n            }\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n\nclass LeaveHandler {\npublic:\n    virtual void handleRequest(const std::string&amp; name, int days) = 0;\n};\n\nclass Supervisor : public LeaveHandler {\nprivate:\n    static const int MAX_DAYS_SUPERVISOR_CAN_APPROVE = 3;\n    LeaveHandler* nextHandler;\n\npublic:\n    Supervisor(LeaveHandler* nextHandler) : nextHandler(nextHandler) {}\n\n    void handleRequest(const std::string&amp; name, int days) override {\n        if (days &lt;= MAX_DAYS_SUPERVISOR_CAN_APPROVE) {\n            std::cout &lt;&lt; name &lt;&lt; \" Approved by Supervisor.\" &lt;&lt; std::endl;\n        } else if (nextHandler != nullptr) {\n            nextHandler-&gt;handleRequest(name, days);\n        } else {\n            std::cout &lt;&lt; name &lt;&lt; \" Denied by Supervisor.\" &lt;&lt; std::endl;\n        }\n    }\n};\n\nclass Manager : public LeaveHandler {\nprivate:\n    static const int MAX_DAYS_MANAGER_CAN_APPROVE = 7;\n    LeaveHandler* nextHandler;\n\npublic:\n    Manager(LeaveHandler* nextHandler) : nextHandler(nextHandler) {}\n\n    void handleRequest(const std::string&amp; name, int days) override {\n        if (days &lt;= MAX_DAYS_MANAGER_CAN_APPROVE) {\n            std::cout &lt;&lt; name &lt;&lt; \" Approved by Manager.\" &lt;&lt; std::endl;\n        } else if (nextHandler != nullptr) {\n            nextHandler-&gt;handleRequest(name, days);\n        } else {\n            std::cout &lt;&lt; name &lt;&lt; \" Denied by Manager.\" &lt;&lt; std::endl;\n        }\n    }\n};\n\nclass Director : public LeaveHandler {\nprivate:\n    static const int MAX_DAYS_DIRECTOR_CAN_APPROVE = 10;\n\npublic:\n    void handleRequest(const std::string&amp; name, int days) override {\n        if (days &lt;= MAX_DAYS_DIRECTOR_CAN_APPROVE) {\n            std::cout &lt;&lt; name &lt;&lt; \" Approved by Director.\" &lt;&lt; std::endl;\n        } else {\n            std::cout &lt;&lt; name &lt;&lt; \" Denied by Director.\" &lt;&lt; std::endl;\n        }\n    }\n};\n\nclass LeaveRequest {\nprivate:\n    std::string name;\n    int days;\n\npublic:\n    LeaveRequest(const std::string&amp; name, int days) : name(name), days(days) {}\n\n    std::string getName() const {\n        return name;\n    }\n\n    int getDays() const {\n        return days;\n    }\n};\n\nint main() {\n    int n;\n    std::cin &gt;&gt; n;\n    std::cin.ignore(); \n\n    LeaveHandler* director = new Director();\n    LeaveHandler* manager = new Manager(director);\n    LeaveHandler* supervisor = new Supervisor(manager);\n\n    for (int i = 0; i &lt; n; i++) {\n        std::string input;\n        std::getline(std::cin, input);\n        std::istringstream iss(input);\n\n        std::string name;\n        int days;\n\n        if (iss &gt;&gt; name &gt;&gt; days) {\n            LeaveRequest request(name, days);\n            supervisor-&gt;handleRequest(name, days);\n        } else {\n            std::cout &lt;&lt; \"Invalid input\" &lt;&lt; std::endl;\n            return 1;\n        }\n    }\n\n    delete supervisor;\n    delete manager;\n    delete director;\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>class LeaveHandler:\n    def handle_request(self, name, days):\n        pass\n\nclass Supervisor(LeaveHandler):\n    MAX_DAYS_SUPERVISOR_CAN_APPROVE = 3\n\n    def __init__(self, next_handler=None):\n        self.next_handler = next_handler\n\n    def handle_request(self, name, days):\n        if days &lt;= self.MAX_DAYS_SUPERVISOR_CAN_APPROVE:\n            print(f\"{name} Approved by Supervisor.\")\n        elif self.next_handler:\n            self.next_handler.handle_request(name, days)\n        else:\n            print(f\"{name} Denied by Supervisor.\")\n\n\nclass Manager(LeaveHandler):\n    MAX_DAYS_MANAGER_CAN_APPROVE = 7\n\n    def __init__(self, next_handler=None):\n        self.next_handler = next_handler\n\n    def handle_request(self, name, days):\n        if days &lt;= self.MAX_DAYS_MANAGER_CAN_APPROVE:\n            print(f\"{name} Approved by Manager.\")\n        elif self.next_handler:\n            self.next_handler.handle_request(name, days)\n        else:\n            print(f\"{name} Denied by Manager.\")\n\n\nclass Director(LeaveHandler):\n    MAX_DAYS_DIRECTOR_CAN_APPROVE = 10\n\n    def handle_request(self, name, days):\n        if days &lt;= self.MAX_DAYS_DIRECTOR_CAN_APPROVE:\n            print(f\"{name} Approved by Director.\")\n        else:\n            print(f\"{name} Denied by Director.\")\n\n\nclass LeaveRequest:\n    def __init__(self, name, days):\n        self.name = name\n        self.days = days\n\n    def get_name(self):\n        return self.name\n\n    def get_days(self):\n        return self.days\n\nif __name__ == \"__main__\":\n    n = int(input())\n\n    director = Director()\n    manager = Manager(director)\n    supervisor = Supervisor(manager)\n\n    for _ in range(n):\n        input_data = input().split()\n        if len(input_data) == 2:\n            name, days = input_data\n            days = int(days)\n            request = LeaveRequest(name, days)\n            supervisor.handle_request(name, days)\n        else:\n            print(\"Invalid input\")\n            exit(1)\n</code></pre>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"bufio\"\n    \"os\"\n    \"strconv\"\n    \"strings\"\n)\n\n// \u5904\u7406\u8005\uff1a\u5b9a\u4e49\u63a5\u53e3\ntype LeaveHandler interface {\n    HandleRequest(request LeaveRequest)\n}\n\n// \u5177\u4f53\u5904\u7406\u8005\uff1a\u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u8d1f\u8d23\u5177\u4f53\u5904\u7406\uff0c\u8fd9\u91cc\u5206\u4e3a Supervisor\u3001Manager\u3001Director\ntype Supervisor struct {\n    nextHandler LeaveHandler\n}\n\nconst maxDaysSupervisorCanApprove = 3\n\nfunc NewSupervisor(nextHandler LeaveHandler) *Supervisor {\n    return &amp;Supervisor{nextHandler: nextHandler}\n}\n\nfunc (s *Supervisor) HandleRequest(request LeaveRequest) {\n    if request.Days &lt;= maxDaysSupervisorCanApprove {\n        fmt.Println(request.Name + \" Approved by Supervisor.\")\n    } else if s.nextHandler != nil {\n        s.nextHandler.HandleRequest(request)\n    } else {\n        fmt.Println(request.Name + \" Denied by Supervisor.\")\n    }\n}\n\ntype Manager struct {\n    nextHandler LeaveHandler\n}\n\nconst maxDaysManagerCanApprove = 7\n\nfunc NewManager(nextHandler LeaveHandler) *Manager {\n    return &amp;Manager{nextHandler: nextHandler}\n}\n\nfunc (m *Manager) HandleRequest(request LeaveRequest) {\n    if request.Days &lt;= maxDaysManagerCanApprove {\n        fmt.Println(request.Name + \" Approved by Manager.\")\n    } else if m.nextHandler != nil {\n        m.nextHandler.HandleRequest(request)\n    } else {\n        fmt.Println(request.Name + \" Denied by Manager.\")\n    }\n}\n\ntype Director struct{}\n\nconst maxDaysDirectorCanApprove = 10\n\nfunc (d *Director) HandleRequest(request LeaveRequest) {\n    if request.Days &lt;= maxDaysDirectorCanApprove {\n        fmt.Println(request.Name + \" Approved by Director.\")\n    } else {\n        fmt.Println(request.Name + \" Denied by Director.\")\n    }\n}\n\n// \u8bf7\u6c42\u7c7b\ntype LeaveRequest struct {\n    Name string\n    Days int\n}\n\n// \u4e3b\u51fd\u6570\nfunc main() {\n    scanner := bufio.NewScanner(os.Stdin)\n\n    // \u8bfb\u53d6\u7528\u6237\u8f93\u5165\n    scanner.Scan()\n    var n int\n    fmt.Sscanf(scanner.Text(), \"%d\", &amp;n)\n\n    // \u7ec4\u88c5\u804c\u8d23\u94fe\n    director := &amp;Director{}\n    manager := NewManager(director)\n    supervisor := NewSupervisor(manager)\n\n    for i := 0; i &lt; n; i++ {\n        scanner.Scan()\n        input := strings.Fields(scanner.Text())\n\n        if len(input) == 2 {\n            name := input[0]\n            days, err := strconv.Atoi(input[1])\n            if err != nil {\n                fmt.Println(\"Invalid input\")\n                return\n            }\n\n            request := LeaveRequest{Name: name, Days: days}\n            supervisor.HandleRequest(request)\n        } else {\n            fmt.Println(\"Invalid input\")\n            return\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/21-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/#typescript","title":"Typescript","text":"TypeScript<pre><code>interface IHandler {\n  handleRequest(request: LeaveRequest): void;\n}\n\nclass Supervisor implements IHandler {\n  private nextHandler: IHandler;\n  constructor(handler: IHandler) {\n    this.nextHandler = handler;\n  }\n\n  handleRequest(request: LeaveRequest): void {\n    if (request.getDays() &gt; 3) {\n      // manage.setNext(new Manager());\n      this.nextHandler.handleRequest(request);\n    } else {\n      console.log(`${request.getName()} Approved by Supervisor`);\n    }\n  }\n}\n\nclass Manager implements IHandler {\n  private nextHandler: IHandler;\n  constructor(handler: IHandler) {\n    this.nextHandler = handler;\n  }\n\n  handleRequest(request: LeaveRequest): void {\n    if (request.getDays() &gt; 7) {\n      this.nextHandler.handleRequest(request);\n    } else {\n      console.log(`${request.getName()} Approved by Manager`);\n    }\n  }\n}\n\nclass Director implements IHandler {\n  handleRequest(request: LeaveRequest): void {\n    if (request.getDays() &gt; 10) {\n      console.log(`${request.getName()} Denied by Director`);\n    } else {\n      console.log(`${request.getName()} Approved by Director`);\n    }\n  }\n}\n\nclass LeaveRequest {\n  private name: string;\n  private days: number;\n\n  constructor([name, days]) {\n    this.name = name;\n    this.days = days;\n  }\n\n  getName() {\n    return this.name;\n  }\n\n  getDays() {\n    return this.days;\n  }\n}\n\n// @ts-ignore\nentry(4, (...args) =&gt; {\n  const director = new Director();\n  const manager = new Manager(director);\n  const supervisor = new Supervisor(manager);\n  args.forEach((info) =&gt; {\n    const request = new LeaveRequest(info);\n    supervisor.handleRequest(request);\n  });\n})([\"Alice\", 2])([\"Bob\", 5])([\"Tom\", 10])([\"Jerry\", 12]);\n\nfunction entry(count: number, fn: (...args: any) =&gt; void) {\n  function dfs(...args) {\n    if (args.length &lt; count) {\n      return (arg) =&gt; dfs(...args, arg);\n    }\n\n    return fn(...args);\n  }\n  return dfs;\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/","title":"\u89e3\u91ca\u5668\u6a21\u5f0f","text":"<p> \u7ea6 579 \u4e2a\u5b57  518 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u89e3\u91ca\u5668\u6a21\u5f0f\uff08Interpreter Pattern\uff09\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u5b9a\u4e49\u4e86\u4e00\u4e2a\u8bed\u8a00\u7684\u6587\u6cd5\uff0c\u5e76\u4e14\u5efa\u7acb\u4e00\u4e2a\u3010\u89e3\u91ca\u5668\u3011\u6765\u89e3\u91ca\u8be5\u8bed\u8a00\u4e2d\u7684\u53e5\u5b50\u3002</p> <p>\u6bd4\u5982\u8bf4SQL\u8bed\u6cd5\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8fd9\u4e9b\u5185\u5bb9\u6bd4\u8f83\u7b80\u77ed\uff0c\u4f46\u662f\u8868\u8fbe\u7684\u5185\u5bb9\u53ef\u4e0d\u4ec5\u4ec5\u662f\u5b57\u9762\u4e0a\u7684\u90a3\u4e9b\u7b26\u53f7\uff0c\u8ba1\u7b97\u673a\u60f3\u8981\u7406\u89e3\u8fd9\u4e9b\u8bed\u6cd5\uff0c\u5c31\u9700\u8981\u89e3\u91ca\u8fd9\u4e2a\u8bed\u6cd5\u89c4\u5219\uff0c\u56e0\u6b64\u89e3\u91ca\u5668\u6a21\u5f0f\u5e38\u7528\u4e8e\u5b9e\u73b0\u7f16\u7a0b\u8bed\u8a00\u89e3\u91ca\u5668\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u5904\u7406\u7b49\u573a\u666f\u3002</p>"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#_3","title":"\u7ec4\u6210\u7ed3\u6784","text":"<p>\u89e3\u91ca\u5668\u6a21\u5f0f\u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u89d2\u8272\uff1a</p> <ol> <li>\u62bd\u8c61\u8868\u8fbe\u5f0f\uff08Abstract Expression\uff09\uff1a  \u5b9a\u4e49\u4e86\u89e3\u91ca\u5668\u7684\u63a5\u53e3\uff0c\u5305\u542b\u4e86\u89e3\u91ca\u5668\u7684\u65b9\u6cd5 <code>interpret</code>\u3002</li> <li>\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\uff08Terminal Expression\uff09\uff1a  \u5728\u8bed\u6cd5\u4e2d\u4e0d\u80fd\u518d\u5206\u89e3\u4e3a\u66f4\u5c0f\u5355\u5143\u7684\u7b26\u53f7\u3002</li> <li>\u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\uff08Non-terminal Expression\uff09\uff1a  \u6587\u6cd5\u4e2d\u7684\u590d\u6742\u8868\u8fbe\u5f0f\uff0c\u5b83\u7531\u7ec8\u7ed3\u7b26\u548c\u5176\u4ed6\u975e\u7ec8\u7ed3\u7b26\u7ec4\u6210\u3002</li> <li>\u4e0a\u4e0b\u6587\uff08Context\uff09\uff1a  \u5305\u542b\u89e3\u91ca\u5668\u4e4b\u5916\u7684\u4e00\u4e9b\u5168\u5c40\u4fe1\u606f\uff0c\u53ef\u4ee5\u5b58\u50a8\u89e3\u91ca\u5668\u4e2d\u95f4\u7ed3\u679c\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5411\u89e3\u91ca\u5668\u4f20\u9012\u4fe1\u606f\u3002</li> </ol> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u8868\u8fbe\u5f0f \"3 + 5 * 2\"\uff0c\u6570\u5b57 \"3\" \u548c \"5\"\uff0c \"2\" \u662f\u7ec8\u7ed3\u7b26\uff0c\u800c\u8fd0\u7b97\u7b26 \"+\", \"*\"\u90fd\u9700\u8981\u4e24\u4e2a\u64cd\u4f5c\u6570,  \u5c5e\u4e8e\u975e\u7ec8\u7ed3\u7b26\u3002</p> <p></p>"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<ol> <li>\u521b\u5efa\u62bd\u8c61\u8868\u8fbe\u5f0f\u63a5\u53e3\uff1a  \u5b9a\u4e49\u89e3\u91ca\u5668\u7684\u63a5\u53e3\uff0c\u58f0\u660e\u4e00\u4e2a <code>interpret</code> \u65b9\u6cd5\uff0c\u7528\u4e8e\u89e3\u91ca\u8bed\u8a00\u4e2d\u7684\u8868\u8fbe\u5f0f\u3002</li> </ol> Java<pre><code>// \u62bd\u8c61\u8868\u8fbe\u5f0f\u63a5\u53e3\npublic interface Expression {\n    int interpret();\n}\n</code></pre> <ol> <li>\u521b\u5efa\u5177\u4f53\u7684\u8868\u8fbe\u5f0f\u7c7b\uff1a \u5b9e\u73b0\u62bd\u8c61\u8868\u8fbe\u5f0f\u63a5\u53e3\uff0c\u7528\u4e8e\u8868\u793a\u8bed\u8a00\u4e2d\u7684\u5177\u4f53\u8868\u8fbe\u5f0f\u3002</li> </ol> Java<pre><code>public class TerminalExpression implements Expression {\n    private int value;\n\n    public TerminalExpression(int value) {\n        this.value = value;\n    }\n\n    @Override\n    public int interpret() {\n        return value;\n    }\n}\n</code></pre> <ol> <li>\u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\uff1a\u62bd\u8c61\u8868\u8fbe\u5f0f\u7684\u4e00\u79cd\uff0c\u7528\u4e8e\u8868\u793a\u8bed\u8a00\u4e2d\u7684\u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\uff0c\u901a\u5e38\u5305\u542b\u5176\u4ed6\u8868\u8fbe\u5f0f\u3002</li> </ol> Java<pre><code>public class AddExpression implements Expression {\n    private Expression left;\n    private Expression right;\n\n    public AddExpression(Expression left, Expression right) {\n        this.left = left;\n        this.right = right;\n    }\n\n    @Override\n    public int interpret() {\n        return left.interpret() + right.interpret();\n    }\n}\n</code></pre> <ol> <li>\u4e0a\u4e0b\u6587\uff1a\u5305\u542b\u89e3\u91ca\u5668\u9700\u8981\u7684\u4e00\u4e9b\u5168\u5c40\u4fe1\u606f\u6216\u72b6\u6001\u3002</li> </ol> Java<pre><code>public class Context {\n    // \u53ef\u4ee5\u5728\u4e0a\u4e0b\u6587\u4e2d\u5b58\u50a8\u4e00\u4e9b\u5168\u5c40\u4fe1\u606f\u6216\u72b6\u6001\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\uff1a\u6784\u5efa\u5e76\u7ec4\u5408\u8868\u8fbe\u5f0f\uff0c\u7136\u540e\u89e3\u91ca\u8868\u8fbe\u5f0f\u3002</li> </ol> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        Context context = new Context();\n\n        Expression expression = new AddExpression(\n                new TerminalExpression(1),\n                new TerminalExpression(2)\n        );\n\n        int result = expression.interpret();\n        System.out.println(\"Result: \" + result);\n    }\n}\n</code></pre>"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u5f53\u9700\u8981\u89e3\u91ca\u548c\u6267\u884c\u7279\u5b9a\u9886\u57df\u6216\u4e1a\u52a1\u89c4\u5219\u7684\u8bed\u8a00\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u89e3\u91ca\u5668\u6a21\u5f0f\u3002\u4f8b\u5982\uff0cSQL\u89e3\u91ca\u5668\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u89e3\u91ca\u5668\u7b49\u3002\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\u89e3\u91ca\u5668\u6a21\u5f0f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7c7b\u7684\u5c42\u6b21\u7ed3\u6784\u8f83\u4e3a\u590d\u6742\uff0c\u540c\u65f6\u4e5f\u53ef\u80fd\u4e0d\u591f\u7075\u6d3b\uff0c\u4f7f\u7528\u8981\u614e\u91cd\u3002</p>"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\nimport java.util.Stack;\n\n// \u62bd\u8c61\u8868\u8fbe\u5f0f\u63a5\u53e3\ninterface Expression {\n    int interpret();\n}\n\n// \u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u6570\u5b57\nclass NumberExpression implements Expression {\n    private int number;\n\n    public NumberExpression(int number) {\n        this.number = number;\n    }\n\n    @Override\n    public int interpret() {\n        return number;\n    }\n}\n\n// \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u52a0\u6cd5\nclass AddExpression implements Expression {\n    private Expression left;\n    private Expression right;\n\n    public AddExpression(Expression left, Expression right) {\n        this.left = left;\n        this.right = right;\n    }\n\n    @Override\n    public int interpret() {\n        return left.interpret() + right.interpret();\n    }\n}\n\n// \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u4e58\u6cd5\nclass MultiplyExpression implements Expression {\n    private Expression left;\n    private Expression right;\n\n    public MultiplyExpression(Expression left, Expression right) {\n        this.left = left;\n        this.right = right;\n    }\n\n    @Override\n    public int interpret() {\n        return left.interpret() * right.interpret();\n    }\n}\n\n// \u4e0a\u4e0b\u6587\u7c7b\nclass Context {\n    private Stack&lt;Expression&gt; expressionStack = new Stack&lt;&gt;();\n\n    public void pushExpression(Expression expression) {\n        expressionStack.push(expression);\n    }\n\n    public Expression popExpression() {\n        return expressionStack.pop();\n    }\n}\n\npublic class Main{\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        Context context = new Context();\n\n        // \u5904\u7406\u7528\u6237\u8f93\u5165\u7684\u6570\u5b66\u8868\u8fbe\u5f0f\n        while (scanner.hasNextLine()) {\n            String userInput = scanner.nextLine();\n            Expression expression = parseExpression(userInput);\n            if (expression != null) {\n                context.pushExpression(expression);\n                System.out.println(expression.interpret());\n            } else {\n                System.out.println(\"Invalid expression.\");\n            }\n        }\n\n        scanner.close();\n    }\n\n    // \u89e3\u6790\u7528\u6237\u8f93\u5165\u7684\u6570\u5b66\u8868\u8fbe\u5f0f\u5e76\u8fd4\u56de\u76f8\u5e94\u7684\u62bd\u8c61\u8868\u8fbe\u5f0f\u7c7b\n    private static Expression parseExpression(String userInput) {\n        try {\n            Stack&lt;Expression&gt; expressionStack = new Stack&lt;&gt;();\n            char[] tokens = userInput.toCharArray();\n\n            for (int i = 0; i &lt; tokens.length; i++) {\n                char token = tokens[i];\n\n                if (Character.isDigit(token)) {\n                    expressionStack.push(new NumberExpression(Character.getNumericValue(token)));\n\n                    // \u5982\u679c\u4e0b\u4e00\u4e2a\u5b57\u7b26\u4e0d\u662f\u6570\u5b57\uff0c\u4e14\u6808\u4e2d\u6709\u4e24\u4e2a\u4ee5\u4e0a\u7684\u5143\u7d20\uff0c\u8bf4\u660e\u53ef\u4ee5\u8fdb\u884c\u8fd0\u7b97\n                    if (i + 1 &lt; tokens.length &amp;&amp; !Character.isDigit(tokens[i + 1]) &amp;&amp; expressionStack.size() &gt;= 2) {\n                        Expression right = expressionStack.pop();\n                        Expression left = expressionStack.pop();\n                        char operator = tokens[i + 1];\n\n                        if (operator == '+') {\n                            expressionStack.push(new AddExpression(left, right));\n                        } else if (operator == '*') {\n                            expressionStack.push(new MultiplyExpression(left, right));\n                        }\n\n                        i++; // \u8df3\u8fc7\u4e0b\u4e00\u4e2a\u5b57\u7b26\uff0c\u56e0\u4e3a\u5df2\u7ecf\u5904\u7406\u8fc7\u4e86\n                    }\n                } else {\n                    return null; \n                }\n            }\n\n            return expressionStack.pop();\n        } catch (Exception e) {\n            return null;\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;stack&gt;\n#include &lt;vector&gt;\n#include &lt;stdexcept&gt;\n#include &lt;iterator&gt;\n#include &lt;regex&gt;\n\n// \u62bd\u8c61\u8868\u8fbe\u5f0f\u7c7b\nclass Expression {\npublic:\n    virtual int interpret() = 0;\n    virtual ~Expression() {}\n};\n\n// \u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u6570\u5b57\nclass NumberExpression : public Expression {\nprivate:\n    int value;\n\npublic:\n    NumberExpression(int val) : value(val) {}\n\n    int interpret() override {\n        return value;\n    }\n};\n\n// \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u52a0\u6cd5\u64cd\u4f5c\nclass AddExpression : public Expression {\nprivate:\n    Expression* left;\n    Expression* right;\n\npublic:\n    AddExpression(Expression* l, Expression* r) : left(l), right(r) {}\n\n    int interpret() override {\n        return left-&gt;interpret() + right-&gt;interpret();\n    }\n};\n\n// \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u4e58\u6cd5\u64cd\u4f5c\nclass MultiplyExpression : public Expression {\nprivate:\n    Expression* left;\n    Expression* right;\n\npublic:\n    MultiplyExpression(Expression* l, Expression* r) : left(l), right(r) {}\n\n    int interpret() override {\n        return left-&gt;interpret() * right-&gt;interpret();\n    }\n};\n\n// \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u64cd\u4f5c\u7b26\nclass OperatorExpression : public Expression {\nprivate:\n    std::string oper;\n\npublic:\n    OperatorExpression(const std::string&amp; op) : oper(op) {}\n\n    int interpret() override {\n        throw std::runtime_error(\"OperatorExpression does not support interpretation\");\n    }\n\n    std::string getOperator() const {\n        return oper;\n    }\n};\n\n// \u89e3\u6790\u8868\u8fbe\u5f0f\u5b57\u7b26\u4e32\nint parseExpression(const std::string&amp; expressionStr) {\n    std::istringstream iss(expressionStr);\n    std::vector&lt;std::string&gt; elements(std::istream_iterator&lt;std::string&gt;{iss}, std::istream_iterator&lt;std::string&gt;());\n\n    std::stack&lt;Expression*&gt; stack;\n\n    for (const auto&amp; element : elements) {\n        if (std::regex_match(element, std::regex(\"\\\\d+\"))) {\n            stack.push(new NumberExpression(std::stoi(element)));\n        } else if (element == \"+\" || element == \"*\") {\n            stack.push(new OperatorExpression(element));\n        } else {\n            throw std::invalid_argument(\"Invalid element in expression: \" + element);\n        }\n    }\n\n    while (stack.size() &gt; 1) {\n        Expression* right = stack.top();\n        stack.pop();\n        Expression* operatorExp = stack.top();\n        stack.pop();\n        Expression* left = stack.top();\n        stack.pop();\n\n        if (auto* opExp = dynamic_cast&lt;OperatorExpression*&gt;(operatorExp)) {\n            std::string op = opExp-&gt;getOperator();\n            if (op == \"+\") {\n                stack.push(new AddExpression(left, right));\n            } else if (op == \"*\") {\n                stack.push(new MultiplyExpression(left, right));\n            }\n        } else {\n            throw std::invalid_argument(\"Invalid operator type in expression\");\n        }\n    }\n\n    int result = stack.top()-&gt;interpret();\n    delete stack.top(); \n    return result;\n}\n\nint main() {\n    std::vector&lt;std::string&gt; input_lines;\n    std::string line;\n\n    while (std::getline(std::cin, line) &amp;&amp; !line.empty()) {\n        input_lines.push_back(line);\n    }\n\n    for (size_t i = 0; i &lt; input_lines.size(); ++i) {\n        try {\n            int result = parseExpression(input_lines[i]);\n            std::cout &lt;&lt; result &lt;&lt; std::endl;\n        } catch (const std::exception&amp; e) {\n            std::cout &lt;&lt; \"Error - \" &lt;&lt; e.what() &lt;&lt; std::endl;\n        }\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code># \u62bd\u8c61\u8868\u8fbe\u5f0f\u7c7b\nclass Expression:\n    def interpret(self):\n        pass\n\n# \u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u6570\u5b57\nclass NumberExpression(Expression):\n    def __init__(self, value):\n        self.value = int(value)\n\n    def interpret(self):\n        return self.value\n\n# \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u52a0\u6cd5\u64cd\u4f5c\nclass AddExpression(Expression):\n    def __init__(self, left, right):\n        self.left = left\n        self.right = right\n\n    def interpret(self):\n        return self.left.interpret() + self.right.interpret()\n\n# \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u4e58\u6cd5\u64cd\u4f5c\nclass MultiplyExpression(Expression):\n    def __init__(self, left, right):\n        self.left = left\n        self.right = right\n\n    def interpret(self):\n        return self.left.interpret() * self.right.interpret()\n\n# \u5ba2\u6237\u7aef\u4ee3\u7801\ndef parse_expression(expression_str):\n    elements = expression_str.split()\n    stack = []\n\n    for element in elements:\n        if element.isdigit():\n            stack.append(NumberExpression(element))\n        elif element == '+':\n            if len(stack) &lt; 2:\n                raise ValueError(\"Invalid expression format\")\n            right = stack.pop()\n            left = stack.pop()\n            stack.append(AddExpression(left, right))\n        elif element == '*':\n            if len(stack) &lt; 2:\n                raise ValueError(\"Invalid expression format\")\n            right = stack.pop()\n            left = stack.pop()\n            stack.append(MultiplyExpression(left, right))\n        else:\n            raise ValueError(f\"Invalid element in expression: {element}\")\n\n    if len(stack) != 1:\n        raise ValueError(\"Invalid expression format\")\n\n    return str(stack.pop().interpret())\n\n# \u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u8f93\u5165\ninput_lines = []\nwhile True:\n    try:\n        line = input().strip()\n        if not line:\n            break\n        input_lines.append(line)\n    except EOFError:\n        break\n\n# \u8f93\u51fa\u8ba1\u7b97\u7ed3\u679c\u5230\u6807\u51c6\u8f93\u51fa\nfor i, input_line in enumerate(input_lines, start=1):\n    try:\n        result = parse_expression(input_line)\n        print(f\"Case {i}: {result}\")\n    except ValueError as e:\n        print(f\"Case {i}: Error - {e}\")\n</code></pre>"},{"location":"DesignPattern/22-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"bufio\"\n    \"fmt\"\n    \"os\"\n    \"regexp\"\n    \"strconv\"\n    \"strings\"\n)\n\n// \u62bd\u8c61\u8868\u8fbe\u5f0f\u7c7b\ntype Expression interface {\n    interpret() int\n}\n\n// \u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u6570\u5b57\ntype NumberExpression struct {\n    value int\n}\n\nfunc NewNumberExpression(val int) *NumberExpression {\n    return &amp;NumberExpression{value: val}\n}\n\nfunc (n *NumberExpression) interpret() int {\n    return n.value\n}\n\n// \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u52a0\u6cd5\u64cd\u4f5c\ntype AddExpression struct {\n    left  Expression\n    right Expression\n}\n\nfunc NewAddExpression(left, right Expression) *AddExpression {\n    return &amp;AddExpression{left, right}\n}\n\nfunc (a *AddExpression) interpret() int {\n    return a.left.interpret() + a.right.interpret()\n}\n\n// \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u4e58\u6cd5\u64cd\u4f5c\ntype MultiplyExpression struct {\n    left  Expression\n    right Expression\n}\n\nfunc NewMultiplyExpression(left, right Expression) *MultiplyExpression {\n    return &amp;MultiplyExpression{left, right}\n}\n\nfunc (m *MultiplyExpression) interpret() int {\n    return m.left.interpret() * m.right.interpret()\n}\n\n// \u975e\u7ec8\u7ed3\u7b26\u8868\u8fbe\u5f0f\u7c7b - \u64cd\u4f5c\u7b26\ntype OperatorExpression struct {\n    oper string\n}\n\nfunc NewOperatorExpression(op string) *OperatorExpression {\n    return &amp;OperatorExpression{oper: op}\n}\n\nfunc (o *OperatorExpression) interpret() int {\n    panic(\"OperatorExpression does not support interpretation\")\n}\n\nfunc (o *OperatorExpression) getOperator() string {\n    return o.oper\n}\n\n// \u89e3\u6790\u8868\u8fbe\u5f0f\u5b57\u7b26\u4e32\nfunc parseExpression(expressionStr string) (int, error) {\n    elements := strings.Fields(expressionStr)\n    stack := make([]Expression, 0)\n\n    for _, element := range elements {\n        if regexp.MustCompile(`^\\d+$`).MatchString(element) {\n            val, _ := strconv.Atoi(element)\n            stack = append(stack, NewNumberExpression(val))\n        } else if element == \"+\" || element == \"*\" {\n            stack = append(stack, NewOperatorExpression(element))\n        } else {\n            return 0, fmt.Errorf(\"Invalid element in expression: %s\", element)\n        }\n    }\n\n    for len(stack) &gt; 1 {\n        right := stack[len(stack)-1]\n        stack = stack[:len(stack)-1]\n        operatorExp := stack[len(stack)-1]\n        stack = stack[:len(stack)-1]\n        left := stack[len(stack)-1]\n        stack = stack[:len(stack)-1]\n\n        if opExp, ok := operatorExp.(*OperatorExpression); ok {\n            op := opExp.getOperator()\n            if op == \"+\" {\n                stack = append(stack, NewAddExpression(left, right))\n            } else if op == \"*\" {\n                stack = append(stack, NewMultiplyExpression(left, right))\n            }\n        } else {\n            return 0, fmt.Errorf(\"Invalid operator type in expression\")\n        }\n    }\n\n    result := stack[0].interpret()\n    return result, nil\n}\n\nfunc main() {\n    scanner := bufio.NewScanner(os.Stdin)\n\n    for scanner.Scan() {\n        expression := scanner.Text()\n        if expression == \"\" {\n            continue\n        }\n        result, err := parseExpression(expression)\n        if err != nil {\n            fmt.Printf(\"Error - %s\\n\", err)\n        } else {\n            fmt.Println(result)\n        }\n    }\n\n    if err := scanner.Err(); err != nil {\n        fmt.Println(\"Error reading standard input:\", err)\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/","title":"\u8bbf\u95ee\u8005\u6a21\u5f0f","text":"<p> \u7ea6 627 \u4e2a\u5b57  596 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u8bbf\u95ee\u8005\u6a21\u5f0f\uff08Visitor Pattern\uff09\u662f\u4e00\u79cd\u884c\u4e3a\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u53ef\u4ee5\u5728\u4e0d\u6539\u53d8\u5bf9\u8c61\u7ed3\u6784\u7684\u524d\u63d0\u4e0b\uff0c\u5bf9\u5bf9\u8c61\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u65b0\u7684\u64cd\u4f5c\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u52a8\u7269\u56ed\uff0c\u91cc\u9762\u6709\u4e0d\u540c\u79cd\u7c7b\u7684\u52a8\u7269\uff0c\u6bd4\u5982\u72ee\u5b50\u3001\u5927\u8c61\u3001\u7334\u5b50\u7b49\u3002\u6bcf\u4e2a\u52a8\u7269\u90fd\u4f1a\u88ab\u533b\u751f\u68c0\u67e5\u8eab\u4f53\uff0c\u88ab\u7ba1\u7406\u5458\u6295\u5582\uff0c\u88ab\u6e38\u5ba2\u89c2\u770b\uff0c\u533b\u751f\uff0c\u6e38\u5ba2\uff0c\u7ba1\u7406\u5458\u90fd\u5c5e\u4e8e\u8bbf\u95ee\u8005\u3002</p> Java<pre><code>// \u5b9a\u4e49\u52a8\u7269\u63a5\u53e3\ninterface Animal {\n    void accept(Visitor visitor);\n}\n\n// \u5177\u4f53\u5143\u7d20\u7c7b\uff1a\u72ee\u5b50\nclass Lion implements Element {\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n\n// \u5177\u4f53\u5143\u7d20\u7c7b\uff1a\u5927\u8c61\nclass Elephant implements Element {\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n\n// \u5177\u4f53\u5143\u7d20\u7c7b\uff1a\u7334\u5b50\nclass Monkey implements Element {\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n</code></pre> <p>\u5982\u679c\u4f60\u60f3\u5bf9\u52a8\u7269\u56ed\u4e2d\u7684\u6bcf\u4e2a\u52a8\u7269\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u6bd4\u5982\u533b\u751f\u5065\u5eb7\u68c0\u67e5\u3001\u7ba1\u7406\u5458\u5582\u98df\u3001\u6e38\u5ba2\u89c2\u8d4f\u7b49\u3002\u5c31\u53ef\u4ee5\u4f7f\u7528\u8bbf\u95ee\u8005\u6a21\u5f0f\u6765\u5b9e\u73b0\u8fd9\u4e9b\u64cd\u4f5c\u3002</p> Java<pre><code>// \u5b9a\u4e49\u8bbf\u95ee\u8005\u63a5\u53e3\ninterface Visitor {\n    void visit(Animal animal);\n}\n\n// \u5177\u4f53\u8bbf\u95ee\u8005\u7c7b\uff1a\u533b\u751f\nclass Vet implements Visitor {\n    @Override\n    public void visit(Animal animal) {\n\n    }\n}\n\n// \u5177\u4f53\u8bbf\u95ee\u8005\u7c7b\uff1a\u7ba1\u7406\u5458\nclass Zookeeper implements Visitor {\n    @Override\n    public void visit(Animal animal) {\n    }\n}\n\n// \u5177\u4f53\u8bbf\u95ee\u8005\u7c7b\uff1a\u6e38\u5ba2\nclass VisitorPerson implements Visitor {\n    @Override\n    public void visit(Animal animal) {\n    }\n}\n</code></pre> <p>\u5c06\u8fd9\u4e9b\u8bbf\u95ee\u8005\u5e94\u7528\u5230\u52a8\u7269\u56ed\u7684\u6bcf\u4e2a\u52a8\u7269\u4e0a</p> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        Animal lion = new Lion();\n        Animal elephant = new Elephant();\n        Animal monkey = new Monkey();\n\n        Visitor vet = new Vet();\n        Visitor zookeeper = new Zookeeper();\n        Visitor visitorPerson = new VisitorPerson();\n\n        // \u52a8\u7269\u63a5\u53d7\u8bbf\u95ee\u8005\u7684\u8bbf\u95ee\n        lion.accept(vet);\n        elephant.accept(zookeeper);\n        monkey.accept(visitorPerson);\n    }\n}\n</code></pre>"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784\uff1a","text":"<p>\u8bbf\u95ee\u8005\u6a21\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u57fa\u672c\u89d2\u8272\uff1a</p> <ul> <li> <p>\u62bd\u8c61\u8bbf\u95ee\u8005\uff08Visitor\uff09\uff1a  \u58f0\u660e\u4e86\u8bbf\u95ee\u8005\u53ef\u4ee5\u8bbf\u95ee\u54ea\u4e9b\u5143\u7d20\uff0c\u4ee5\u53ca\u5982\u4f55\u8bbf\u95ee\u5b83\u4eec\u7684\u65b9\u6cd5<code>visit</code>\u3002</p> </li> <li> <p>\u5177\u4f53\u8bbf\u95ee\u8005\uff08ConcreteVisitor\uff09\uff1a  \u5b9e\u73b0\u4e86\u62bd\u8c61\u8bbf\u95ee\u8005\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0c\u4e0d\u540c\u7684\u5143\u7d20\u7c7b\u578b\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u8bbf\u95ee\u884c\u4e3a\u3002\u533b\u751f\u3001\u7ba1\u7406\u5458\u3001\u6e38\u5ba2\u90fd\u5c5e\u4e8e\u5177\u4f53\u7684\u8bbf\u95ee\u8005\uff0c\u5b83\u4eec\u7684\u8bbf\u95ee\u884c\u4e3a\u4e0d\u540c\u3002</p> </li> <li> <p>\u62bd\u8c61\u5143\u7d20\uff08Element\uff09\uff1a  \u5b9a\u4e49\u4e86\u4e00\u4e2aaccept\u65b9\u6cd5\uff0c\u7528\u4e8e\u63a5\u53d7\u8bbf\u95ee\u8005\u7684\u8bbf\u95ee\u3002</p> </li> <li> <p>\u5177\u4f53\u5143\u7d20\uff08ConcreteElement\uff09\uff1a  \u5b9e\u73b0\u4e86accept\u65b9\u6cd5\uff0c\u662f\u8bbf\u95ee\u8005\u8bbf\u95ee\u7684\u76ee\u6807\u3002</p> </li> <li> <p>\u5bf9\u8c61\u7ed3\u6784\uff08Object Structure\uff09\uff1a  \u5305\u542b\u5143\u7d20\u7684\u96c6\u5408\uff0c\u53ef\u4ee5\u662f\u4e00\u4e2a\u5217\u8868\u3001\u4e00\u4e2a\u96c6\u5408\u6216\u8005\u5176\u4ed6\u6570\u636e\u7ed3\u6784\u3002\u8d1f\u8d23\u904d\u5386\u5143\u7d20\uff0c\u5e76\u8c03\u7528\u5143\u7d20\u7684\u63a5\u53d7\u65b9\u6cd5\u3002</p> </li> </ul> <p></p>"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0\uff1a","text":"<ol> <li>\u5b9a\u4e49\u62bd\u8c61\u8bbf\u95ee\u8005:  \u58f0\u660e\u90a3\u4e9b\u5143\u7d20\u53ef\u4ee5\u8bbf\u95ee</li> </ol> Java<pre><code>// \u62bd\u8c61\u8bbf\u95ee\u8005\ninterface Visitor {\n    void visit(ConcreteElementA element);\n    void visit(ConcreteElementB element);\n}\n</code></pre> <ol> <li>\u5b9e\u73b0\u5177\u4f53\u8bbf\u95ee\u8005\uff1a\u5b9e\u73b0\u5177\u4f53\u7684\u8bbf\u95ee\u903b\u8f91</li> </ol> Java<pre><code>// \u5177\u4f53\u8bbf\u95ee\u8005A\nclass ConcreteVisitorA implements Visitor {\n    @Override\n    public void visit(ConcreteElementA element) {\n        System.out.println(\"ConcreteVisitorA Visit ConcreteElementA\");\n    }\n\n    @Override\n    public void visit(ConcreteElementB element) {\n        System.out.println(\"ConcreteVisitorA Visit ConcreteElementB\");\n    }\n}\n\n// \u5177\u4f53\u8bbf\u95ee\u8005B\nclass ConcreteVisitorB implements Visitor {\n    @Override\n    public void visit(ConcreteElementA element) {\n        System.out.println(\"ConcreteVisitorB Visit ConcreteElementA\");\n    }\n\n    @Override\n    public void visit(ConcreteElementB element) {\n        System.out.println(\"ConcreteVisitorB Visit ConcreteElementB\");\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u5143\u7d20\u63a5\u53e3\uff1a\u58f0\u660e\u63a5\u6536\u8bbf\u95ee\u8005\u7684\u65b9\u6cd5\u3002</li> </ol> Java<pre><code>// \u62bd\u8c61\u5143\u7d20\ninterface Element {\n    void accept(Visitor visitor);\n}\n</code></pre> <ol> <li>\u5b9e\u73b0\u5177\u4f53\u5143\u7d20\uff1a\u5b9e\u73b0\u63a5\u53d7\u8bbf\u95ee\u8005\u7684\u65b9\u6cd5</li> </ol> Java<pre><code>// \u5177\u4f53\u5143\u7d20A\nclass ConcreteElementA implements Element {\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n\n// \u5177\u4f53\u5143\u7d20B\nclass ConcreteElementB implements Element {\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n</code></pre> <ol> <li>\u521b\u5efa\u5bf9\u8c61\u7ed3\u6784\uff1a\u63d0\u4f9b\u4e00\u4e2a\u63a5\u53e3\u8ba9\u8bbf\u95ee\u8005\u8bbf\u95ee\u5b83\u7684\u5143\u7d20\u3002</li> </ol> Java<pre><code>// \u5bf9\u8c61\u7ed3\u6784\nclass ObjectStructure {\n    private List&lt;Element&gt; elements = new ArrayList&lt;&gt;();\n\n    public void attach(Element element) {\n        elements.add(element);\n    }\n\n    public void detach(Element element) {\n        elements.remove(element);\n    }\n\n    public void accept(Visitor visitor) {\n        for (Element element : elements) {\n            element.accept(visitor);\n        }\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u8c03\u7528</li> </ol> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        ObjectStructure objectStructure = new ObjectStructure();\n        objectStructure.attach(new ConcreteElementA());\n        objectStructure.attach(new ConcreteElementB());\n\n        Visitor visitorA = new ConcreteVisitorA();\n        Visitor visitorB = new ConcreteVisitorB();\n\n        objectStructure.accept(visitorA);\n        objectStructure.accept(visitorB);\n    }\n}\n</code></pre>"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u8bbf\u95ee\u8005\u6a21\u5f0f\u7ed3\u6784\u8f83\u4e3a\u590d\u6742\uff0c\u4f46\u662f\u8bbf\u95ee\u8005\u6a21\u5f0f\u5c06\u540c\u4e00\u7c7b\u64cd\u4f5c\u5c01\u88c5\u5728\u4e00\u4e2a\u8bbf\u95ee\u8005\u4e2d\uff0c\u4f7f\u5f97\u76f8\u5173\u7684\u64cd\u4f5c\u5f7c\u6b64\u96c6\u4e2d\uff0c\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u7ef4\u62a4\u6027\u3002\u5b83\u5e38\u7528\u4e8e \u5bf9\u8c61\u7ed3\u6784\u6bd4\u8f83\u7a33\u5b9a\uff0c\u4f46\u7ecf\u5e38\u9700\u8981\u5728\u6b64\u5bf9\u8c61\u7ed3\u6784\u4e0a\u5b9a\u4e49\u65b0\u7684\u64cd\u4f5c \uff0c\u8fd9\u6837\u5c31\u65e0\u9700\u4fee\u6539\u73b0\u6709\u7684\u5143\u7d20\u7c7b\uff0c\u53ea\u9700\u8981\u5b9a\u4e49\u65b0\u7684\u8bbf\u95ee\u8005\u6765\u6dfb\u52a0\u65b0\u7684\u64cd\u4f5c\u3002</p>"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u5143\u7d20\u63a5\u53e3\ninterface Shape {\n    void accept(Visitor visitor);\n}\n\n// \u5177\u4f53\u5143\u7d20\u7c7b\nclass Circle implements Shape {\n    private int radius;\n\n    public Circle(int radius) {\n        this.radius = radius;\n    }\n\n    public int getRadius() {\n        return radius;\n    }\n\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n\nclass Rectangle implements Shape {\n    private int width;\n    private int height;\n\n    public Rectangle(int width, int height) {\n        this.width = width;\n        this.height = height;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    @Override\n    public void accept(Visitor visitor) {\n        visitor.visit(this);\n    }\n}\n\n// \u8bbf\u95ee\u8005\u63a5\u53e3\ninterface Visitor {\n    void visit(Circle circle);\n\n    void visit(Rectangle rectangle);\n}\n\n\n// \u5177\u4f53\u8bbf\u95ee\u8005\u7c7b\nclass AreaCalculator implements Visitor {\n    @Override\n    public void visit(Circle circle) {\n        double area = 3.14 * Math.pow(circle.getRadius(), 2);\n        System.out.println(area);\n    }\n\n    @Override\n    public void visit(Rectangle rectangle) {\n        int area = rectangle.getWidth() * rectangle.getHeight();\n        System.out.println(area);\n    }\n}\n\n// \u5bf9\u8c61\u7ed3\u6784\u7c7b\nclass Drawing {\n    private Shape[] shapes;\n\n    public Drawing(Shape[] shapes) {\n        this.shapes = shapes;\n    }\n\n    public void accept(Visitor visitor) {\n        for (Shape shape : shapes) {\n            shape.accept(visitor);\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int n = scanner.nextInt();\n        scanner.nextLine();  \n        // \u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\u6765\u5b58\u50a8\u56fe\u5f62\u5bf9\u8c61\n        Shape[] shapes = new Shape[n];\n        // \u6839\u636e\u7528\u6237\u8f93\u5165\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684\u56fe\u5f62\u5bf9\u8c61\n        for (int i = 0; i &lt; n; i++) {\n            String[] input = scanner.nextLine().split(\" \");\n            if (input[0].equals(\"Circle\")) {\n                int radius = Integer.parseInt(input[1]);\n                shapes[i] = new Circle(radius);\n            } else if (input[0].equals(\"Rectangle\")) {\n                int width = Integer.parseInt(input[1]);\n                int height = Integer.parseInt(input[2]);\n                shapes[i] = new Rectangle(width, height);\n            } else {\n                System.out.println(\"Invalid input\");\n                return;\n            }\n        }\n        // \u521b\u5efa\u4e00\u4e2a\u56fe\u5f62\u96c6\u5408\n        Drawing drawing = new Drawing(shapes);\n        // \u521b\u5efa\u4e00\u4e2a\u9762\u79ef\u8ba1\u7b97\u8bbf\u95ee\u8005\n        Visitor areaCalculator = new AreaCalculator();\n        // \u8bbf\u95ee\u56fe\u5f62\u96c6\u5408\u5e76\u8ba1\u7b97\u9762\u79ef\n        drawing.accept(areaCalculator);\n    }\n}\n</code></pre>"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;vector&gt;\n\nclass Shape;\n\n// \u8bbf\u95ee\u8005\u63a5\u53e3\nclass Visitor {\npublic:\n    virtual void visit(class Circle&amp; circle) = 0;\n    virtual void visit(class Rectangle&amp; rectangle) = 0;\n};\n\n// \u5143\u7d20\u63a5\u53e3\nclass Shape {\npublic:\n    virtual ~Shape() {} // \u6dfb\u52a0\u865a\u6790\u6784\u51fd\u6570\n    virtual void accept(Visitor&amp; visitor) = 0;\n};\n\n// \u5177\u4f53\u5143\u7d20\u7c7b\nclass Circle : public Shape {\nprivate:\n    int radius;\n\npublic:\n    Circle(int radius) : radius(radius) {}\n\n    int getRadius() const {\n        return radius;\n    }\n\n    void accept(Visitor&amp; visitor) override;\n};\n\n// \u5177\u4f53\u5143\u7d20\u7c7b\nclass Rectangle : public Shape {\nprivate:\n    int width;\n    int height;\n\npublic:\n    Rectangle(int width, int height) : width(width), height(height) {}\n\n    int getWidth() const {\n        return width;\n    }\n\n    int getHeight() const {\n        return height;\n    }\n\n    void accept(Visitor&amp; visitor) override;\n};\n\n// \u5177\u4f53\u8bbf\u95ee\u8005\u7c7b\nclass AreaCalculator : public Visitor {\npublic:\n    void visit(Circle&amp; circle) override;\n    void visit(Rectangle&amp; rectangle) override;\n};\n\n// \u5bf9\u8c61\u7ed3\u6784\u7c7b\nclass Drawing {\nprivate:\n    std::vector&lt;Shape*&gt; shapes;\n\npublic:\n    Drawing(const std::vector&lt;Shape*&gt;&amp; shapes) : shapes(shapes) {}\n\n    void accept(Visitor&amp; visitor) {\n        for (Shape* shape : shapes) {\n            shape-&gt;accept(visitor);\n        }\n    }\n};\n\n// \u5b9e\u73b0 accept \u51fd\u6570\nvoid Circle::accept(Visitor&amp; visitor) {\n    visitor.visit(*this);\n}\n\nvoid Rectangle::accept(Visitor&amp; visitor) {\n    visitor.visit(*this);\n}\n\n// \u5b9e\u73b0 visit \u51fd\u6570\nvoid AreaCalculator::visit(Circle&amp; circle) {\n    double area = 3.14 * std::pow(circle.getRadius(), 2);\n    std::cout &lt;&lt; area &lt;&lt; std::endl;\n}\n\nvoid AreaCalculator::visit(Rectangle&amp; rectangle) {\n    int area = rectangle.getWidth() * rectangle.getHeight();\n    std::cout &lt;&lt; area &lt;&lt; std::endl;\n}\n\nint main() {\n    int n;\n    std::cin &gt;&gt; n;\n\n    std::vector&lt;Shape*&gt; shapes;\n\n    for (int i = 0; i &lt; n; i++) {\n        std::string type;\n        std::cin &gt;&gt; type;\n\n        if (type == \"Circle\") {\n            int radius;\n            std::cin &gt;&gt; radius;\n            shapes.push_back(new Circle(radius));\n        } else if (type == \"Rectangle\") {\n            int width, height;\n            std::cin &gt;&gt; width &gt;&gt; height;\n            shapes.push_back(new Rectangle(width, height));\n        } else {\n            // \u5904\u7406\u65e0\u6548\u8f93\u5165\n            std::cout &lt;&lt; \"Invalid input\" &lt;&lt; std::endl;\n            return 1;\n        }\n    }\n\n    Drawing drawing(shapes);\n    AreaCalculator areaCalculator;\n    drawing.accept(areaCalculator);\n\n    // \u91ca\u653e\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\n    for (Shape* shape : shapes) {\n        delete shape;\n    }\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from abc import ABC, abstractmethod\n\n# \u8bbf\u95ee\u8005\u63a5\u53e3\nclass Visitor(ABC):\n    @abstractmethod\n    def visit_circle(self, circle):\n        pass\n\n    @abstractmethod\n    def visit_rectangle(self, rectangle):\n        pass\n\n# \u5143\u7d20\u63a5\u53e3\nclass Shape(ABC):\n    @abstractmethod\n    def accept(self, visitor):\n        pass\n\n# \u5177\u4f53\u5143\u7d20\u7c7b\nclass Circle(Shape):\n    def __init__(self, radius):\n        self.radius = radius\n\n    def get_radius(self):\n        return self.radius\n\n    def accept(self, visitor):\n        visitor.visit_circle(self)\n\n# \u5177\u4f53\u5143\u7d20\u7c7b\nclass Rectangle(Shape):\n    def __init__(self, width, height):\n        self.width = width\n        self.height = height\n\n    def get_width(self):\n        return self.width\n\n    def get_height(self):\n        return self.height\n\n    def accept(self, visitor):\n        visitor.visit_rectangle(self)\n\n# \u5177\u4f53\u8bbf\u95ee\u8005\u7c7b\nclass AreaCalculator(Visitor):\n    def visit_circle(self, circle):\n        area = 3.14 * circle.get_radius()**2\n        print(area)\n\n    def visit_rectangle(self, rectangle):\n        area = rectangle.get_width() * rectangle.get_height()\n        print(area)\n\n# \u5bf9\u8c61\u7ed3\u6784\u7c7b\nclass Drawing:\n    def __init__(self, shapes):\n        self.shapes = shapes\n\n    def accept(self, visitor):\n        for shape in self.shapes:\n            shape.accept(visitor)\n\n# \u793a\u4f8b\u7528\u6cd5\nif __name__ == \"__main__\":\n    n = int(input())\n    shapes = []\n\n    for _ in range(n):\n        shape_type, *params = input().split()\n\n        if shape_type == \"Circle\":\n            radius = int(params[0])\n            shapes.append(Circle(radius))\n        elif shape_type == \"Rectangle\":\n            width, height = map(int, params)\n            shapes.append(Rectangle(width, height))\n        else:\n            print(\"invalid input\")\n            exit(1)\n\n    drawing = Drawing(shapes)\n    area_calculator = AreaCalculator()\n    drawing.accept(area_calculator)\n</code></pre>"},{"location":"DesignPattern/23-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"bufio\"\n    \"fmt\"\n    \"os\"\n    \"math\"\n    \"strconv\"\n    \"strings\"\n)\n\n// \u5143\u7d20\u63a5\u53e3\ntype Shape interface {\n    accept(Visitor)\n}\n\n// \u5177\u4f53\u5143\u7d20\u7c7b\ntype Circle struct {\n    radius int\n}\n\nfunc NewCircle(radius int) *Circle {\n    return &amp;Circle{radius}\n}\n\nfunc (c *Circle) getRadius() int {\n    return c.radius\n}\n\nfunc (c *Circle) accept(visitor Visitor) {\n    visitor.visit(c)\n}\n\ntype Rectangle struct {\n    width, height int\n}\n\nfunc NewRectangle(width, height int) *Rectangle {\n    return &amp;Rectangle{width, height}\n}\n\nfunc (r *Rectangle) getWidth() int {\n    return r.width\n}\n\nfunc (r *Rectangle) getHeight() int {\n    return r.height\n}\n\nfunc (r *Rectangle) accept(visitor Visitor) {\n    visitor.visit(r)\n}\n\n// \u8bbf\u95ee\u8005\u63a5\u53e3\ntype Visitor interface {\n    visit(shape Shape)\n}\n\n// \u5177\u4f53\u8bbf\u95ee\u8005\u7c7b\ntype AreaCalculator struct{}\n\nfunc (ac *AreaCalculator) visit(shape Shape) {\n    switch concreteShape := shape.(type) {\n    case *Circle:\n        area := 3.14 * math.Pow(float64(concreteShape.getRadius()), 2)\n        fmt.Println(area)\n    case *Rectangle:\n        area := concreteShape.getWidth() * concreteShape.getHeight()\n        fmt.Println(area)\n    }\n}\n\n// \u5bf9\u8c61\u7ed3\u6784\u7c7b\ntype Drawing struct {\n    shapes []Shape\n}\n\nfunc NewDrawing(shapes []Shape) *Drawing {\n    return &amp;Drawing{shapes}\n}\n\nfunc (d *Drawing) accept(visitor Visitor) {\n    for _, shape := range d.shapes {\n        shape.accept(visitor)\n    }\n}\n\nfunc main() {\n    var n int\n    fmt.Scan(&amp;n)\n\n    shapes := make([]Shape, n)\n    scanner := bufio.NewScanner(os.Stdin)\n    for i := 0; i &lt; n; i++ {\n        scanner.Scan()\n        input := strings.Split(scanner.Text(), \" \")\n        if input[0] == \"Circle\" {\n            radius, _ := strconv.Atoi(input[1])\n            shapes[i] = NewCircle(radius)\n        } else if input[0] == \"Rectangle\" {\n            width, _ := strconv.Atoi(input[1])\n            height, _ := strconv.Atoi(input[2])\n            shapes[i] = NewRectangle(width, height)\n        } else {\n            fmt.Println(\"Invalid input\")\n            return\n        }\n    }\n\n    drawing := NewDrawing(shapes)\n    areaCalculator := &amp;AreaCalculator{}\n    drawing.accept(areaCalculator)\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/","title":"\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f","text":"<p> \u7ea6 1118 \u4e2a\u5b57  599 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#_2","title":"\u4ec0\u4e48\u662f\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f","text":"<p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u4e5f\u662f\u4e00\u79cd\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u521b\u5efa\u4e00\u7cfb\u5217\u76f8\u5173\u6216\u76f8\u4e92\u4f9d\u8d56\u5bf9\u8c61\u7684\u63a5\u53e3\uff0c\u800c\u65e0\u9700\u6307\u5b9a\u5b83\u4eec\u5177\u4f53\u7684\u7c7b\u3010\u5f15\u7528\u81ea\u5927\u8bdd\u8bbe\u8ba1\u6a21\u5f0f\u7b2c15\u7ae0\u3011</p> <p>\u8fd9\u6837\u7684\u63cf\u8ff0\u4f3c\u4e4e\u7406\u89e3\u8d77\u6765\u5f88\u56f0\u96be\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u4e0e\u3010\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u3011\u8054\u7cfb\u8d77\u6765\u770b\u3002</p> <p>\u4e4b\u524d\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u201c\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u201d\uff0c\u90a3\u4e3a\u4ec0\u4e48\u8fd8\u6709\u8981\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u5462\uff1f</p> <p>\u8fd9\u5c31\u6d89\u53ca\u5230\u521b\u5efa\u201c\u591a\u7c7b\u201d\u5bf9\u8c61\u4e86\uff0c\u5728\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u4e2d\uff0c\u6bcf\u4e2a\u5177\u4f53\u5de5\u5382\u53ea\u8d1f\u8d23\u521b\u5efa \u5355\u4e00 \u7684\u4ea7\u54c1\u3002\u4f46\u662f\u5982\u679c\u6709\u591a\u7c7b\u4ea7\u54c1\u5462\uff0c\u6bd4\u5982\u8bf4\u201c\u624b\u673a\u201d\uff0c\u4e00\u4e2a\u54c1\u724c\u7684\u624b\u673a\u6709\u9ad8\u7aef\u673a\u3001\u4e2d\u4f4e\u7aef\u673a\u4e4b\u5206\uff0c\u8fd9\u4e9b\u5177\u4f53\u7684\u4ea7\u54c1\u90fd\u9700\u8981\u5efa\u7acb\u4e00\u4e2a\u5355\u72ec\u7684\u5de5\u5382\u7c7b\uff0c\u4f46\u662f\u5b83\u4eec\u90fd\u662f\u76f8\u4e92\u5173\u8054\u7684\uff0c\u90fd\u5171\u540c\u5c5e\u4e8e\u540c\u4e00\u4e2a\u54c1\u724c\uff0c\u8fd9\u5c31\u53ef\u4ee5\u4f7f\u7528\u5230\u3010\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u3011\u3002</p> <p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u53ef\u4ee5\u786e\u4fdd\u4e00\u7cfb\u5217\u76f8\u5173\u7684\u4ea7\u54c1\u88ab\u4e00\u8d77\u521b\u5efa\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u80fd\u591f\u76f8\u4e92\u914d\u5408\u4f7f\u7528\uff0c\u518d\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6709\u4e00\u4e9b\u5bb6\u5177\uff0c\u6bd4\u5982\u6c99\u53d1\u3001\u8336\u51e0\u3001\u6905\u5b50\uff0c\u90fd\u5177\u6709\u53e4\u5178\u98ce\u683c\u7684\u548c\u73b0\u4ee3\u98ce\u683c\u7684\uff0c\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u53ef\u4ee5\u5c06\u751f\u4ea7\u73b0\u4ee3\u98ce\u683c\u7684\u5bb6\u5177\u653e\u5728\u4e00\u4e2a\u5de5\u5382\u7c7b\u4e2d\uff0c\u5c06\u751f\u4ea7\u53e4\u5178\u98ce\u683c\u7684\u5bb6\u5177\u653e\u5728\u53e6\u4e00\u4e2a\u5de5\u5382\u7c7b\u4e2d\uff0c\u8fd9\u6837\u6bcf\u4e2a\u5de5\u5382\u7c7b\u5c31\u53ef\u4ee5\u751f\u4ea7\u4e00\u7cfb\u5217\u7684\u5bb6\u5177\u3002</p>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u5305\u542b\u591a\u4e2a\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\uff0c\u591a\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\uff0c\u4e00\u4e2a\u62bd\u8c61\u5de5\u5382\u63a5\u53e3\u548c\u591a\u4e2a\u5177\u4f53\u5de5\u5382\uff0c\u6bcf\u4e2a\u5177\u4f53\u5de5\u5382\u8d1f\u8d23\u521b\u5efa\u4e00\u7ec4\u76f8\u5173\u7684\u4ea7\u54c1\u3002</p> <ul> <li>\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3<code>AbstractProduct</code>:  \u5b9a\u4e49\u4ea7\u54c1\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\uff0c\u6bd4\u5982\u8bf4\u6c99\u53d1\u3001\u6905\u5b50\u3001\u8336\u51e0\u90fd\u662f\u62bd\u8c61\u4ea7\u54c1\u3002</li> <li>\u5177\u4f53\u4ea7\u54c1\u7c7b<code>ConcreteProduct</code>: \u5b9e\u73b0\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\uff0c\u4ea7\u54c1\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u53e4\u5178\u98ce\u683c\u548c\u6c99\u53d1\u548c\u73b0\u4ee3\u98ce\u683c\u7684\u6c99\u53d1\u90fd\u662f\u5177\u4f53\u4ea7\u54c1\u3002</li> <li>\u62bd\u8c61\u5de5\u5382\u63a5\u53e3<code>AbstractFactory</code>:  \u58f0\u660e\u4e00\u7ec4\u7528\u4e8e\u521b\u5efa\u4ea7\u54c1\u7684\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u65b9\u6cd5\u5bf9\u5e94\u4e00\u4e2a\u4ea7\u54c1\u3002</li> <li>\u5177\u4f53\u5de5\u5382\u7c7b<code>ConcreteFactory</code>\uff1a \u5b9e\u73b0\u62bd\u8c61\u5de5\u5382\u63a5\u53e3\uff0c\u8d1f\u8d23\u521b\u5efa\u4e00\u7ec4\u5177\u4f53\u4ea7\u54c1\u7684\u5bf9\u8c61\uff0c\u5728\u672c\u4f8b\u4e2d\uff0c\u751f\u4ea7\u53e4\u5178\u98ce\u683c\u7684\u5de5\u5382\u548c\u751f\u4ea7\u73b0\u4ee3\u98ce\u683c\u7684\u5de5\u5382\u90fd\u662f\u5177\u4f53\u5b9e\u4f8b\u3002</li> </ul> <p></p> <p>\u5728\u4e0a\u9762\u7684\u56fe\u793a\u4e2d\uff1a<code>AbstractProductA/B/C</code> \u5c31\u662f\u62bd\u8c61\u4ea7\u54c1\uff0c<code>ConcreteProductA2/A2/B1/B2/C1/C2</code>\u5c31\u662f\u62bd\u8c61\u4ea7\u54c1\u7684\u5b9e\u73b0\uff0c<code>AbstractFactory</code>\u5b9a\u4e49\u4e86\u62bd\u8c61\u5de5\u5382\u63a5\u53e3\uff0c\u63a5\u53e3\u91cc\u7684\u65b9\u6cd5\u7528\u4e8e\u521b\u5efa\u5177\u4f53\u7684\u4ea7\u54c1\uff0c\u800c<code>ConcreteFactory</code>\u5c31\u662f\u5177\u4f53\u5de5\u5382\u7c7b\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u7ec4\u76f8\u5173\u7684\u4ea7\u54c1\u3002</p>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#_4","title":"\u57fa\u672c\u5b9e\u73b0","text":"<p>\u60f3\u8981\u5b9e\u73b0\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\uff0c\u9700\u8981\u9075\u5faa\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ul> <li>\u5b9a\u4e49\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\uff08\u53ef\u4ee5\u6709\u591a\u4e2a\uff09\uff0c\u63a5\u53e3\u4e2d\u58f0\u660e\u4ea7\u54c1\u7684\u516c\u5171\u65b9\u6cd5\u3002</li> <li>\u5b9e\u73b0\u5177\u4f53\u4ea7\u54c1\u7c7b\uff0c\u5728\u7c7b\u4e2d\u5b9e\u73b0\u62bd\u8c61\u4ea7\u54c1\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u3002</li> <li>\u5b9a\u4e49\u62bd\u8c61\u5de5\u5382\u63a5\u53e3\uff0c\u58f0\u660e\u4e00\u7ec4\u7528\u4e8e\u521b\u5efa\u4ea7\u54c1\u7684\u65b9\u6cd5\u3002</li> <li>\u5b9e\u73b0\u5177\u4f53\u5de5\u5382\u7c7b\uff0c\u5206\u522b\u5b9e\u73b0\u62bd\u8c61\u5de5\u5382\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u65b9\u6cd5\u8d1f\u8d23\u521b\u5efa\u4e00\u7ec4\u76f8\u5173\u7684\u4ea7\u54c1\u3002</li> <li>\u5728\u5ba2\u6237\u7aef\u4e2d\u4f7f\u7528\u62bd\u8c61\u5de5\u5382\u548c\u62bd\u8c61\u4ea7\u54c1\uff0c\u800c\u4e0d\u76f4\u63a5\u4f7f\u7528\u5177\u4f53\u4ea7\u54c1\u7684\u7c7b\u540d\u3002</li> </ul> Java<pre><code>// 1. \u5b9a\u4e49\u62bd\u8c61\u4ea7\u54c1\n// \u62bd\u8c61\u4ea7\u54c1A\ninterface ProductA {\n    void display();\n}\n\n// \u62bd\u8c61\u4ea7\u54c1B\ninterface ProductB {\n    void show();\n}\n\n// 2. \u5b9e\u73b0\u5177\u4f53\u4ea7\u54c1\u7c7b \n// \u5177\u4f53\u4ea7\u54c1A1\nclass ConcreteProductA1 implements ProductA {\n    @Override\n    public void display() {\n        System.out.println(\"Concrete Product A1\");\n    }\n}\n\n// \u5177\u4f53\u4ea7\u54c1A2\nclass ConcreteProductA2 implements ProductA {\n    @Override\n    public void display() {\n        System.out.println(\"Concrete Product A2\");\n    }\n}\n\n// \u5177\u4f53\u4ea7\u54c1B1\nclass ConcreteProductB1 implements ProductB {\n    @Override\n    public void show() {\n        System.out.println(\"Concrete Product B1\");\n    }\n}\n\n// \u5177\u4f53\u4ea7\u54c1B2\nclass ConcreteProductB2 implements ProductB {\n    @Override\n    public void show() {\n        System.out.println(\"Concrete Product B2\");\n    }\n}\n\n// 3. \u5b9a\u4e49\u62bd\u8c61\u5de5\u5382\u63a5\u53e3\ninterface AbstractFactory {\n    ProductA createProductA();\n    ProductB createProductB();\n}\n// 4. \u5b9e\u73b0\u5177\u4f53\u5de5\u5382\u7c7b\n// \u5177\u4f53\u5de5\u53821\uff0c\u751f\u4ea7\u4ea7\u54c1A1\u548cB1\nclass ConcreteFactory1 implements AbstractFactory {\n    @Override\n    public ProductA createProductA() {\n        return new ConcreteProductA1();\n    }\n\n    @Override\n    public ProductB createProductB() {\n        return new ConcreteProductB1();\n    }\n}\n\n// \u5177\u4f53\u5de5\u53822,\u751f\u4ea7\u4ea7\u54c1A2\u548cB2\nclass ConcreteFactory2 implements AbstractFactory {\n    @Override\n    public ProductA createProductA() {\n        return new ConcreteProductA2();\n    }\n\n    @Override\n    public ProductB createProductB() {\n        return new ConcreteProductB2();\n    }\n}\n\n// \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class AbstractFactoryExample {\n    public static void main(String[] args) {\n        // \u4f7f\u7528\u5de5\u53821\u521b\u5efa\u4ea7\u54c1A1\u548c\u4ea7\u54c1B1\n        AbstractFactory factory1 = new ConcreteFactory1();\n        ProductA productA1 = factory1.createProductA();\n        ProductB productB1 = factory1.createProductB();\n        productA1.display();\n        productB1.show();\n\n        // \u4f7f\u7528\u5de5\u53822\u521b\u5efa\u4ea7\u54c1A2\u548c\u4ea7\u54c1B2\n        AbstractFactory factory2 = new ConcreteFactory2();\n        ProductA productA2 = factory2.createProductA();\n        ProductB productB2 = factory2.createProductB();\n        productA2.display();\n        productB2.show();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#_5","title":"\u5e94\u7528\u573a\u666f","text":"<p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u80fd\u591f\u4fdd\u8bc1\u4e00\u7cfb\u5217\u76f8\u5173\u7684\u4ea7\u54c1\u4e00\u8d77\u4f7f\u7528\uff0c\u5e76\u4e14\u5728\u4e0d\u4fee\u6539\u5ba2\u6237\u7aef\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u66ff\u6362\u6574\u4e2a\u4ea7\u54c1\u7cfb\u5217\u3002\u4f46\u662f\u5f53\u9700\u8981\u589e\u52a0\u65b0\u7684\u4ea7\u54c1\u7c7b\u65f6\uff0c\u9664\u4e86\u8981\u589e\u52a0\u65b0\u7684\u5177\u4f53\u4ea7\u54c1\u7c7b\uff0c\u8fd8\u9700\u8981\u4fee\u6539\u62bd\u8c61\u5de5\u5382\u63a5\u53e3\u53ca\u5176\u6240\u6709\u7684\u5177\u4f53\u5de5\u5382\u7c7b\uff0c\u6269\u5c55\u6027\u76f8\u5bf9\u8f83\u5dee\u3002\u56e0\u6b64\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7279\u522b\u9002\u7528\u4e8e\u4e00\u7cfb\u5217\u76f8\u5173\u6216\u76f8\u4e92\u4f9d\u8d56\u7684\u4ea7\u54c1\u88ab\u4e00\u8d77\u521b\u5efa\u7684\u60c5\u51b5\uff0c\u5178\u578b\u7684\u5e94\u7528\u573a\u666f\u662f \u4f7f\u7528\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u6765\u521b\u5efa\u4e0e\u4e0d\u540c\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5bf9\u8c61\u3002 </p>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#_6","title":"\u7b80\u5355\u5de5\u5382\u3001\u5de5\u5382\u65b9\u6cd5\u3001\u62bd\u8c61\u5de5\u5382\u7684\u533a\u522b","text":"<ul> <li> <p>\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\uff1a\u4e00\u4e2a\u5de5\u5382\u65b9\u6cd5\u521b\u5efa\u6240\u6709\u5177\u4f53\u4ea7\u54c1</p> </li> <li> <p>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\uff1a\u4e00\u4e2a\u5de5\u5382\u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u5177\u4f53\u4ea7\u54c1</p> </li> <li> <p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\uff1a\u4e00\u4e2a\u5de5\u5382\u65b9\u6cd5\u53ef\u4ee5\u521b\u5efa\u4e00\u7c7b\u5177\u4f53\u4ea7\u54c1</p> </li> </ul>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#_7","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u62bd\u8c61\u6905\u5b50\u63a5\u53e3\ninterface Chair {\n    void showInfo();\n}\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u6905\u5b50\nclass ModernChair implements Chair {\n    @Override\n    public void showInfo() {\n        System.out.println(\"modern chair\");\n    }\n}\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u6905\u5b50\nclass ClassicalChair implements Chair {\n    @Override\n    public void showInfo() {\n        System.out.println(\"classical chair\");\n    }\n}\n\n// \u62bd\u8c61\u6c99\u53d1\u63a5\u53e3\ninterface Sofa {\n    void displayInfo();\n}\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u6c99\u53d1\nclass ModernSofa implements Sofa {\n    @Override\n    public void displayInfo() {\n        System.out.println(\"modern sofa\");\n    }\n}\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u6c99\u53d1\nclass ClassicalSofa implements Sofa {\n    @Override\n    public void displayInfo() {\n        System.out.println(\"classical sofa\");\n    }\n}\n\n// \u62bd\u8c61\u5bb6\u5c45\u5de5\u5382\u63a5\u53e3\ninterface FurnitureFactory {\n    Chair createChair();\n    Sofa createSofa();\n}\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u5bb6\u5c45\u5de5\u5382\nclass ModernFurnitureFactory implements FurnitureFactory {\n    @Override\n    public Chair createChair() {\n        return new ModernChair();\n    }\n\n    @Override\n    public Sofa createSofa() {\n        return new ModernSofa();\n    }\n}\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u5bb6\u5c45\u5de5\u5382\nclass ClassicalFurnitureFactory implements FurnitureFactory {\n    @Override\n    public Chair createChair() {\n        return new ClassicalChair();\n    }\n\n    @Override\n    public Sofa createSofa() {\n        return new ClassicalSofa();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u8bfb\u53d6\u8ba2\u5355\u6570\u91cf\n        int N = scanner.nextInt();\n\n        // \u5904\u7406\u6bcf\u4e2a\u8ba2\u5355\n        for (int i = 0; i &lt; N; i++) {\n            // \u8bfb\u53d6\u5bb6\u5177\u7c7b\u578b\n            String furnitureType = scanner.next();\n\n            // \u521b\u5efa\u76f8\u5e94\u98ce\u683c\u7684\u5bb6\u5c45\u88c5\u9970\u54c1\u5de5\u5382\n            FurnitureFactory factory = null;\n            if (furnitureType.equals(\"modern\")) {\n                factory = new ModernFurnitureFactory();\n            } else if (furnitureType.equals(\"classical\")) {\n                factory = new ClassicalFurnitureFactory();\n            }\n\n            // \u6839\u636e\u5de5\u5382\u751f\u4ea7\u6905\u5b50\u548c\u6c99\u53d1\n            Chair chair = factory.createChair();\n            Sofa sofa = factory.createSofa();\n\n            // \u8f93\u51fa\u5bb6\u5177\u4fe1\u606f\n            chair.showInfo();\n            sofa.displayInfo();\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#_8","title":"\u5176\u4ed6\u8bed\u8a00\u4ee3\u7801","text":""},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u4e09\u5143\u8fd0\u7b97\u7b26\u7b80\u5316\u5de5\u5382\u9009\u62e9\u7684\u903b\u8f91\u3002</p> Java<pre><code>import java.util.Scanner;\n\n// \u5b9a\u4e49\u4e00\u4e2a\u5bb6\u5177\u5de5\u5382\u63a5\u53e3\uff0c\u53ef\u4ee5\u521b\u5efa\u6905\u5b50\u548c\u6c99\u53d1\ninterface FurnitureFactory{\n    Chair createChair();\n    Sofa createSofa();\n}\n\n// \u5b9e\u73b0\u53e4\u5178\u5bb6\u5177\u5de5\u5382\uff0c\u751f\u4ea7\u53e4\u5178\u98ce\u683c\u7684\u6905\u5b50\u548c\u6c99\u53d1\nclass ClassicalFurnitureFactory implements FurnitureFactory{\n    @Override\n    public Chair createChair(){\n        return new ClassicalChair();\n    }\n\n    @Override\n    public Sofa createSofa(){\n        return new ClassicalSofa();\n    }\n}\n\n// \u5b9e\u73b0\u73b0\u4ee3\u5bb6\u5177\u5de5\u5382\uff0c\u751f\u4ea7\u73b0\u4ee3\u98ce\u683c\u7684\u6905\u5b50\u548c\u6c99\u53d1\nclass ModernFurnitureFactory implements FurnitureFactory{\n    @Override\n    public Chair createChair(){\n        return new ModernChair();\n    }\n\n    @Override\n    public Sofa createSofa(){\n        return new ModernSofa();\n    }\n}\n\n// \u5b9a\u4e49\u6905\u5b50\u63a5\u53e3\uff0c\u5305\u542b\u751f\u4ea7\u6905\u5b50\u7684\u65b9\u6cd5\ninterface Chair{\n    void produceChair();\n}\n\n// \u5b9e\u73b0\u53e4\u5178\u6905\u5b50\u7c7b\uff0c\u7ee7\u627f\u6905\u5b50\u63a5\u53e3\nclass ClassicalChair implements Chair{\n    @Override\n    public void produceChair(){\n        System.out.println(\"classical chair\");\n    }\n}\n\n// \u5b9e\u73b0\u73b0\u4ee3\u6905\u5b50\u7c7b\uff0c\u7ee7\u627f\u6905\u5b50\u63a5\u53e3\nclass ModernChair implements Chair{\n    @Override\n    public void produceChair(){\n        System.out.println(\"modern chair\");\n    }\n}\n\n// \u5b9a\u4e49\u6c99\u53d1\u63a5\u53e3\uff0c\u5305\u542b\u751f\u4ea7\u6c99\u53d1\u7684\u65b9\u6cd5\ninterface Sofa{\n    void produceSofa();\n}\n\n// \u5b9e\u73b0\u53e4\u5178\u6c99\u53d1\u7c7b\uff0c\u7ee7\u627f\u6c99\u53d1\u63a5\u53e3\nclass ClassicalSofa implements Sofa{\n    @Override\n    public void produceSofa(){\n        System.out.println(\"classical sofa\");\n    }\n}\n\n// \u5b9e\u73b0\u73b0\u4ee3\u6c99\u53d1\u7c7b\uff0c\u7ee7\u627f\u6c99\u53d1\u63a5\u53e3\nclass ModernSofa implements Sofa{\n    @Override\n    public void produceSofa(){\n        System.out.println(\"modern sofa\");\n    }\n}\n\n//\u4e3b\u7a0b\u5e8f\u7c7b\npublic class Main{\n    public static void main (String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u521b\u5efa\u53e4\u5178\u548c\u73b0\u4ee3\u5bb6\u5177\u5de5\u5382\u5b9e\u4f8b\n        FurnitureFactory classicalFurnitureFactory = new ClassicalFurnitureFactory();\n        FurnitureFactory modernFurnitureFactory = new ModernFurnitureFactory();\n\n        // \u8bfb\u53d6\u751f\u4ea7\u6b21\u6570\n        int productionCount = scanner.nextInt();\n        scanner.nextLine();\n\n        for (int i = 0; i &lt; productionCount; i++) {\n            String type = scanner.nextLine();\n\n             // \u6839\u636e\u7528\u6237\u8f93\u5165\u9009\u62e9\u76f8\u5e94\u7684\u5bb6\u5177\u5de5\u5382\uff0c\u5e76\u521b\u5efa\u5bb6\u5177\n            FurnitureFactory factory = (type.equals(\"modern\")) ? modernFurnitureFactory : classicalFurnitureFactory;\n            Chair chair = factory.createChair();\n            chair.produceChair(); \n            Sofa sofa = factory.createSofa();\n            sofa.produceSofa(); \n        }\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#cpp","title":"Cpp","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\n// \u62bd\u8c61\u6905\u5b50\u63a5\u53e3\nclass Chair {\npublic:\n    virtual void showInfo() = 0;\n};\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u6905\u5b50\nclass ModernChair : public Chair {\npublic:\n    void showInfo() override {\n        std::cout &lt;&lt; \"modern chair\" &lt;&lt; std::endl;\n    }\n};\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u6905\u5b50\nclass ClassicalChair : public Chair {\npublic:\n    void showInfo() override {\n        std::cout &lt;&lt; \"classical chair\" &lt;&lt; std::endl;\n    }\n};\n\n// \u62bd\u8c61\u6c99\u53d1\u63a5\u53e3\nclass Sofa {\npublic:\n    virtual void displayInfo() = 0;\n};\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u6c99\u53d1\nclass ModernSofa : public Sofa {\npublic:\n    void displayInfo() override {\n        std::cout &lt;&lt; \"modern sofa\" &lt;&lt; std::endl;\n    }\n};\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u6c99\u53d1\nclass ClassicalSofa : public Sofa {\npublic:\n    void displayInfo() override {\n        std::cout &lt;&lt; \"classical sofa\" &lt;&lt; std::endl;\n    }\n};\n\n// \u62bd\u8c61\u5bb6\u5c45\u5de5\u5382\u63a5\u53e3\nclass FurnitureFactory {\npublic:\n    virtual Chair* createChair() = 0;\n    virtual Sofa* createSofa() = 0;\n};\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u5bb6\u5c45\u5de5\u5382\nclass ModernFurnitureFactory : public FurnitureFactory {\npublic:\n    Chair* createChair() override {\n        return new ModernChair();\n    }\n\n    Sofa* createSofa() override {\n        return new ModernSofa();\n    }\n};\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u5bb6\u5c45\u5de5\u5382\nclass ClassicalFurnitureFactory : public FurnitureFactory {\npublic:\n    Chair* createChair() override {\n        return new ClassicalChair();\n    }\n\n    Sofa* createSofa() override {\n        return new ClassicalSofa();\n    }\n};\n\nint main() {\n    // \u8bfb\u53d6\u8ba2\u5355\u6570\u91cf\n    int N;\n    std::cin &gt;&gt; N;\n\n    // \u5904\u7406\u6bcf\u4e2a\u8ba2\u5355\n    for (int i = 0; i &lt; N; i++) {\n        // \u8bfb\u53d6\u5bb6\u5177\u7c7b\u578b\n        std::string furnitureType;\n        std::cin &gt;&gt; furnitureType;\n\n        // \u521b\u5efa\u76f8\u5e94\u98ce\u683c\u7684\u5bb6\u5c45\u88c5\u9970\u54c1\u5de5\u5382\n        FurnitureFactory* factory = nullptr;\n        if (furnitureType == \"modern\") {\n            factory = new ModernFurnitureFactory();\n        } else if (furnitureType == \"classical\") {\n            factory = new ClassicalFurnitureFactory();\n        }\n\n        // \u6839\u636e\u5de5\u5382\u751f\u4ea7\u6905\u5b50\u548c\u6c99\u53d1\n        Chair* chair = factory-&gt;createChair();\n        Sofa* sofa = factory-&gt;createSofa();\n\n        // \u8f93\u51fa\u5bb6\u5177\u4fe1\u606f\n        chair-&gt;showInfo();\n        sofa-&gt;displayInfo();\n\n        // \u91ca\u653e\u52a8\u6001\u5206\u914d\u7684\u5bf9\u8c61\n        delete chair;\n        delete sofa;\n        delete factory;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from abc import ABC, abstractmethod\n\n# \u62bd\u8c61\u6905\u5b50\u63a5\u53e3\nclass Chair(ABC):\n    @abstractmethod\n    def show_info(self):\n        pass\n\n# \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u6905\u5b50\nclass ModernChair(Chair):\n    def show_info(self):\n        print(\"modern chair\")\n\n# \u5177\u4f53\u53e4\u5178\u98ce\u683c\u6905\u5b50\nclass ClassicalChair(Chair):\n    def show_info(self):\n        print(\"classical chair\")\n\n# \u62bd\u8c61\u6c99\u53d1\u63a5\u53e3\nclass Sofa(ABC):\n    @abstractmethod\n    def display_info(self):\n        pass\n\n# \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u6c99\u53d1\nclass ModernSofa(Sofa):\n    def display_info(self):\n        print(\"modern sofa\")\n\n# \u5177\u4f53\u53e4\u5178\u98ce\u683c\u6c99\u53d1\nclass ClassicalSofa(Sofa):\n    def display_info(self):\n        print(\"classical sofa\")\n\n# \u62bd\u8c61\u5bb6\u5c45\u5de5\u5382\u63a5\u53e3\nclass FurnitureFactory(ABC):\n    @abstractmethod\n    def create_chair(self):\n        pass\n\n    @abstractmethod\n    def create_sofa(self):\n        pass\n\n# \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u5bb6\u5c45\u5de5\u5382\nclass ModernFurnitureFactory(FurnitureFactory):\n    def create_chair(self):\n        return ModernChair()\n\n    def create_sofa(self):\n        return ModernSofa()\n\n# \u5177\u4f53\u53e4\u5178\u98ce\u683c\u5bb6\u5c45\u5de5\u5382\nclass ClassicalFurnitureFactory(FurnitureFactory):\n    def create_chair(self):\n        return ClassicalChair()\n\n    def create_sofa(self):\n        return ClassicalSofa()\n\ndef main():\n    # \u8bfb\u53d6\u8ba2\u5355\u6570\u91cf\n    N = int(input())\n\n    # \u5904\u7406\u6bcf\u4e2a\u8ba2\u5355\n    for _ in range(N):\n        # \u8bfb\u53d6\u5bb6\u5177\u7c7b\u578b\n        furniture_type = input()\n\n        # \u521b\u5efa\u76f8\u5e94\u98ce\u683c\u7684\u5bb6\u5c45\u88c5\u9970\u54c1\u5de5\u5382\n        factory = None\n        if furniture_type == \"modern\":\n            factory = ModernFurnitureFactory()\n        elif furniture_type == \"classical\":\n            factory = ClassicalFurnitureFactory()\n\n        # \u6839\u636e\u5de5\u5382\u751f\u4ea7\u6905\u5b50\u548c\u6c99\u53d1\n        chair = factory.create_chair()\n        sofa = factory.create_sofa()\n\n        # \u8f93\u51fa\u5bb6\u5177\u4fe1\u606f\n        chair.show_info()\n        sofa.display_info()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"DesignPattern/3-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// \u62bd\u8c61\u6905\u5b50\u63a5\u53e3\ntype Chair interface {\n    showInfo()\n}\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u6905\u5b50\ntype ModernChair struct{}\n\nfunc (mc *ModernChair) showInfo() {\n    fmt.Println(\"modern chair\")\n}\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u6905\u5b50\ntype ClassicalChair struct{}\n\nfunc (cc *ClassicalChair) showInfo() {\n    fmt.Println(\"classical chair\")\n}\n\n// \u62bd\u8c61\u6c99\u53d1\u63a5\u53e3\ntype Sofa interface {\n    displayInfo()\n}\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u6c99\u53d1\ntype ModernSofa struct{}\n\nfunc (ms *ModernSofa) displayInfo() {\n    fmt.Println(\"modern sofa\")\n}\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u6c99\u53d1\ntype ClassicalSofa struct{}\n\nfunc (cs *ClassicalSofa) displayInfo() {\n    fmt.Println(\"classical sofa\")\n}\n\n// \u62bd\u8c61\u5bb6\u5c45\u5de5\u5382\u63a5\u53e3\ntype FurnitureFactory interface {\n    createChair() Chair\n    createSofa() Sofa\n}\n\n// \u5177\u4f53\u73b0\u4ee3\u98ce\u683c\u5bb6\u5c45\u5de5\u5382\ntype ModernFurnitureFactory struct{}\n\nfunc (mf *ModernFurnitureFactory) createChair() Chair {\n    return &amp;ModernChair{}\n}\n\nfunc (mf *ModernFurnitureFactory) createSofa() Sofa {\n    return &amp;ModernSofa{}\n}\n\n// \u5177\u4f53\u53e4\u5178\u98ce\u683c\u5bb6\u5c45\u5de5\u5382\ntype ClassicalFurnitureFactory struct{}\n\nfunc (cf *ClassicalFurnitureFactory) createChair() Chair {\n    return &amp;ClassicalChair{}\n}\n\nfunc (cf *ClassicalFurnitureFactory) createSofa() Sofa {\n    return &amp;ClassicalSofa{}\n}\n\nfunc main() {\n    // \u8bfb\u53d6\u8ba2\u5355\u6570\u91cf\n    var N int\n    fmt.Scan(&amp;N)\n\n    // \u5904\u7406\u6bcf\u4e2a\u8ba2\u5355\n    for i := 0; i &lt; N; i++ {\n        // \u8bfb\u53d6\u5bb6\u5177\u7c7b\u578b\n        var furnitureType string\n        fmt.Scan(&amp;furnitureType)\n\n        // \u521b\u5efa\u76f8\u5e94\u98ce\u683c\u7684\u5bb6\u5c45\u88c5\u9970\u54c1\u5de5\u5382\n        var factory FurnitureFactory\n        if furnitureType == \"modern\" {\n            factory = &amp;ModernFurnitureFactory{}\n        } else if furnitureType == \"classical\" {\n            factory = &amp;ClassicalFurnitureFactory{}\n        }\n\n        // \u6839\u636e\u5de5\u5382\u751f\u4ea7\u6905\u5b50\u548c\u6c99\u53d1\n        chair := factory.createChair()\n        sofa := factory.createSofa()\n\n        // \u8f93\u51fa\u5bb6\u5177\u4fe1\u606f\n        chair.showInfo()\n        sofa.displayInfo()\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/","title":"\u5efa\u9020\u8005\u6a21\u5f0f","text":"<p> \u7ea6 1032 \u4e2a\u5b57  632 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#_2","title":"\u4ec0\u4e48\u662f\u5efa\u9020\u8005\u6a21\u5f0f","text":"<p>\u5efa\u9020\u8005\u6a21\u5f0f\uff08\u4e5f\u88ab\u6210\u4e3a\u751f\u6210\u5668\u6a21\u5f0f\uff09\uff0c\u662f\u4e00\u79cd\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u8f6f\u4ef6\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u6709\u7684\u65f6\u5019\u9700\u8981\u521b\u5efa\u5f88\u590d\u6742\u7684\u5bf9\u8c61\uff0c\u800c\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u4e3b\u8981\u601d\u60f3\u662f \u5c06\u5bf9\u8c61\u7684\u6784\u5efa\u8fc7\u7a0b\u5206\u4e3a\u591a\u4e2a\u6b65\u9aa4\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u6b65\u9aa4\u5b9a\u4e49\u4e00\u4e2a\u62bd\u8c61\u7684\u63a5\u53e3\u3002\u5177\u4f53\u7684\u6784\u5efa\u8fc7\u7a0b\u7531\u5b9e\u73b0\u4e86\u8fd9\u4e9b\u63a5\u53e3\u7684\u5177\u4f53\u5efa\u9020\u8005\u7c7b\u6765\u5b8c\u6210\u3002 \u540c\u65f6\u6709\u4e00\u4e2a\u6307\u5bfc\u8005\u7c7b\u8d1f\u8d23\u534f\u8c03\u5efa\u9020\u8005\u7684\u5de5\u4f5c\uff0c\u6309\u7167\u4e00\u5b9a\u7684\u987a\u5e8f\u6216\u903b\u8f91\u6765\u6267\u884c\u6784\u5efa\u6b65\u9aa4\uff0c\u6700\u7ec8\u751f\u6210\u4ea7\u54c1\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u5982\u6211\u4eec\u8981\u521b\u5efa\u4e00\u4e2a\u8ba1\u7b97\u673a\u5bf9\u8c61\uff0c\u8ba1\u7b97\u673a\u7531\u5f88\u591a\u7ec4\u4ef6\u7ec4\u6210\uff0c\u4f8b\u5982 CPU\u3001\u5185\u5b58\u3001\u786c\u76d8\u3001\u663e\u5361\u7b49\u3002\u6bcf\u4e2a\u7ec4\u4ef6\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u578b\u53f7\u3001\u914d\u7f6e\u548c\u5236\u9020\uff0c\u8fd9\u4e2a\u65f6\u5019\u8ba1\u7b97\u673a\u5c31\u53ef\u4ee5\u88ab\u89c6\u4e3a\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\uff0c\u6784\u5efa\u8fc7\u7a0b\u76f8\u5bf9\u590d\u6742\uff0c\u800c\u6211\u4eec\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\u5c06\u8ba1\u7b97\u673a\u7684\u6784\u5efa\u8fc7\u7a0b\u5c01\u88c5\u5728\u4e00\u4e2a\u5177\u4f53\u7684\u5efa\u9020\u8005\u7c7b\u4e2d\uff0c\u800c\u6307\u5bfc\u8005\u7c7b\u5219\u8d1f\u8d23\u6307\u5bfc\u6784\u5efa\u7684\u6b65\u9aa4\u548c\u987a\u5e8f\u3002\u6bcf\u4e2a\u5177\u4f53\u7684\u5efa\u9020\u8005\u7c7b\u53ef\u4ee5\u8d1f\u8d23\u6784\u5efa\u4e0d\u540c\u578b\u53f7\u6216\u914d\u7f6e\u7684\u8ba1\u7b97\u673a\uff0c\u5ba2\u6237\u7aef\u4ee3\u7801\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u4e0d\u540c\u7684\u5efa\u9020\u8005\u6765\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684\u8ba1\u7b97\u673a\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6784\u5efa\u4e0d\u540c\u8868\u793a\u7684\u590d\u6742\u5bf9\u8c61\uff0c\u66f4\u52a0\u7075\u6d3b\u3002</p>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u5efa\u9020\u8005\u6a21\u5f0f\u6709\u4e0b\u9762\u51e0\u4e2a\u5173\u952e\u89d2\u8272\uff1a</p> <ul> <li>\u4ea7\u54c1<code>Product</code>\uff1a\u88ab\u6784\u5efa\u7684\u590d\u6742\u5bf9\u8c61, \u5305\u542b\u591a\u4e2a\u7ec4\u6210\u90e8\u5206\u3002</li> <li>\u62bd\u8c61\u5efa\u9020\u8005<code>Builder</code>: \u5b9a\u4e49\u6784\u5efa\u4ea7\u54c1\u5404\u4e2a\u90e8\u5206\u7684\u62bd\u8c61\u63a5\u53e3\u548c\u4e00\u4e2a\u8fd4\u56de\u590d\u6742\u4ea7\u54c1\u7684\u65b9\u6cd5<code>getResult</code></li> <li>\u5177\u4f53\u5efa\u9020\u8005<code>Concrete Builder</code>\uff1a\u5b9e\u73b0\u62bd\u8c61\u5efa\u9020\u8005\u63a5\u53e3\uff0c\u6784\u5efa\u4ea7\u54c1\u7684\u5404\u4e2a\u7ec4\u6210\u90e8\u5206\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u65b9\u6cd5\u8fd4\u56de\u6700\u7ec8\u7684\u4ea7\u54c1\u3002</li> <li>\u6307\u5bfc\u8005<code>Director</code>\uff1a\u8c03\u7528\u5177\u4f53\u5efa\u9020\u8005\u7684\u65b9\u6cd5\uff0c\u6309\u7167\u4e00\u5b9a\u7684\u987a\u5e8f\u6216\u903b\u8f91\u6765\u6784\u5efa\u4ea7\u54c1\u3002</li> </ul> <p>\u5728\u5ba2\u6237\u7aef\u4e2d\uff0c\u901a\u8fc7\u6307\u5bfc\u8005\u6765\u6784\u5efa\u4ea7\u54c1\uff0c\u800c\u5e76\u4e0d\u548c\u5177\u4f53\u5efa\u9020\u8005\u8fdb\u884c\u76f4\u63a5\u7684\u4ea4\u4e92\u3002</p> <p></p>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<p>\u5efa\u9020\u8005\u6a21\u5f0f\u7684\u5b9e\u73b0\u6b65\u9aa4\u901a\u5e38\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u9636\u6bb5</p> <ol> <li>\u5b9a\u4e49\u4ea7\u54c1\u7c7b\uff1a\u4ea7\u54c1\u7c7b\u5e94\u8be5\u5305\u542b\u591a\u4e2a\u7ec4\u6210\u90e8\u5206\uff0c\u8fd9\u4e9b\u90e8\u5206\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u6784\u6210\u4e86\u4ea7\u54c1\u7684\u63a5\u53e3</li> </ol> Java<pre><code>// \u4ea7\u54c1\u7c7b\nclass Product {\n    private String part1;\n    private String part2;\n\n    public void setPart1(String part1) {\n        this.part1 = part1;\n    }\n\n    public void setPart2(String part2) {\n        this.part2 = part2;\n    }\n\n    // \u5176\u4ed6\u5c5e\u6027\u548c\u65b9\u6cd5\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u62bd\u8c61\u5efa\u9020\u8005\u63a5\u53e3\uff1a\u521b\u5efa\u4e00\u4e2a\u63a5\u53e3\uff0c\u5305\u542b\u6784\u5efa\u4ea7\u54c1\u5404\u4e2a\u90e8\u5206\u7684\u62bd\u8c61\u65b9\u6cd5\u3002\u8fd9\u4e9b\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u8bbe\u7f6e\u4ea7\u54c1\u7684\u5404\u4e2a\u5c5e\u6027\u3002</li> </ol> Java<pre><code>// \u62bd\u8c61\u5efa\u9020\u8005\u63a5\u53e3\ninterface Builder {\n    void buildPart1(String part1);\n    void buildPart2(String part2);\n    Product getResult();\n}\n</code></pre> <ol> <li>\u521b\u5efa\u5177\u4f53\u5efa\u9020\u8005\uff1a\u5b9e\u73b0\u62bd\u8c61\u5efa\u9020\u8005\u63a5\u53e3\uff0c\u6784\u5efa\u5177\u4f53\u7684\u4ea7\u54c1\u3002</li> </ol> Java<pre><code>// \u5177\u4f53\u5efa\u9020\u8005\u7c7b\nclass ConcreteBuilder implements Builder {\n    private Product product = new Product();\n\n    @Override\n    public void buildPart1(String part1) {\n        product.setPart1(part1);\n    }\n\n    @Override\n    public void buildPart2(String part2) {\n        product.setPart2(part2);\n    }\n\n    @Override\n    public Product getResult() {\n        return product;\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49<code>Director</code>\u7c7b\uff1a \u6307\u5bfc\u8005\u7c7b\u6765\u63a7\u5236\u6784\u5efa\u4ea7\u54c1\u7684\u987a\u5e8f\u548c\u6b65\u9aa4\u3002</li> </ol> Java<pre><code>// \u6307\u5bfc\u8005\u7c7b\nclass Director {\n    private Builder builder;\n\n    public Director(Builder builder) {\n        this.builder = builder;\n    }\n    // \u8c03\u7528\u65b9\u6cd5\u6784\u5efa\u4ea7\u54c1\n    public void construct() {\n        builder.buildPart1(\"Part1\");\n        builder.buildPart2(\"Part2\");\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\uff1a\u5728\u5ba2\u6237\u7aef\u4e2d\u521b\u5efa\u3010\u5177\u4f53\u5efa\u9020\u8005\u5bf9\u8c61\u3011\u548c\u3010\u6307\u5bfc\u8005\u5bf9\u8c61\u3011\uff0c\u901a\u8fc7\u6307\u5bfc\u8005\u6765\u6784\u5efa\u4ea7\u54c1\u3002</li> </ol> Java<pre><code>// \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Main{\n    public static void main(String[] args) {\n        // \u521b\u5efa\u5177\u4f53\u5efa\u9020\u8005\n        Builder builder = new ConcreteBuilder();\n\n        // \u521b\u5efa\u6307\u5bfc\u8005\n        Director director = new Director(builder);\n\n        // \u6307\u5bfc\u8005\u6784\u5efa\u4ea7\u54c1\n        director.construct();\n\n        // \u83b7\u53d6\u6784\u5efa\u597d\u7684\u4ea7\u54c1\n        Product product = builder.getResult();\n\n        // \u8f93\u51fa\u4ea7\u54c1\u4fe1\u606f\n        System.out.println(product);\n    }\n}\n</code></pre>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\u6709\u4e0b\u9762\u51e0\u5904\u4f18\u70b9\uff1a</p> <ul> <li> <p>\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\u53ef\u4ee5 \u5c06\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u4e0e\u5176\u8868\u793a\u5206\u79bb\uff0c \u901a\u8fc7\u5c06\u6784\u5efa\u590d\u6742\u5bf9\u8c61\u7684\u8fc7\u7a0b\u62bd\u8c61\u51fa\u6765\uff0c\u53ef\u4ee5\u4f7f\u5ba2\u6237\u7aef\u4ee3\u7801\u4e0e\u5177\u4f53\u7684\u6784\u5efa\u8fc7\u7a0b\u89e3\u8026</p> </li> <li> <p>\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u8868\u793a \uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\u5177\u4f53\u7684\u5efa\u9020\u8005(\u76f8\u4e92\u72ec\u7acb\uff09\uff0c\u53ef\u4ee5\u66f4\u52a0\u7075\u6d3b\u5730\u521b\u5efa\u4e0d\u540c\u7ec4\u5408\u7684\u5bf9\u8c61\u3002</p> </li> </ul> <p>\u5bf9\u5e94\u7684\uff0c\u5efa\u9020\u8005\u6a21\u5f0f\u9002\u7528\u4e8e\u590d\u6742\u5bf9\u8c61\u7684\u521b\u5efa\uff0c\u5f53\u5bf9\u8c61\u6784\u5efa\u8fc7\u7a0b\u76f8\u5bf9\u590d\u6742\u65f6\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u5efa\u9020\u8005\u6a21\u5f0f\uff0c\u4f46\u662f\u5f53\u4ea7\u54c1\u7684\u6784\u5efa\u8fc7\u7a0b\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u540c\u65f6\u4fee\u6539\u6307\u5bfc\u7c7b\u548c\u5efa\u9020\u8005\u7c7b\uff0c\u8fd9\u5c31\u4f7f\u5f97\u91cd\u6784\u53d8\u5f97\u76f8\u5bf9\u56f0\u96be\u3002</p> <p>\u5efa\u9020\u8005\u6a21\u5f0f\u5728\u73b0\u6709\u7684\u5de5\u5177\u548c\u5e93\u4e2d\u4e5f\u6709\u7740\u5e7f\u6cdb\u7684\u5e94\u7528\uff0c\u6bd4\u5982JUnit \u4e2d\u7684\u6d4b\u8bd5\u6784\u5efa\u5668<code>TestBuilder</code>\u5c31\u91c7\u7528\u4e86\u5efa\u9020\u8005\u6a21\u5f0f\uff0c\u7528\u4e8e\u6784\u5efa\u6d4b\u8bd5\u5bf9\u8c61\u3002</p>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u81ea\u884c\u8f66\u4ea7\u54c1\nclass Bike {\n    private String frame;\n    private String tires;\n\n    public void setFrame(String frame) {\n        this.frame = frame;\n    }\n\n    public void setTires(String tires) {\n        this.tires = tires;\n    }\n\n    @Override\n    public String toString() {\n        return frame + \" \" + tires;\n    }\n}\n\n// \u81ea\u884c\u8f66\u5efa\u9020\u8005\u63a5\u53e3\ninterface BikeBuilder {\n    void buildFrame();\n    void buildTires();\n    Bike getResult();\n}\n\n// \u5c71\u5730\u81ea\u884c\u8f66\u5efa\u9020\u8005\nclass MountainBikeBuilder implements BikeBuilder {\n    private Bike bike;\n\n    public MountainBikeBuilder() {\n        this.bike = new Bike();\n    }\n\n    @Override\n    public void buildFrame() {\n        bike.setFrame(\"Aluminum Frame\");\n    }\n\n    @Override\n    public void buildTires() {\n        bike.setTires(\"Knobby Tires\");\n    }\n\n    @Override\n    public Bike getResult() {\n        return bike;\n    }\n}\n\n// \u516c\u8def\u81ea\u884c\u8f66\u5efa\u9020\u8005\nclass RoadBikeBuilder implements BikeBuilder {\n    private Bike bike;\n\n    public RoadBikeBuilder() {\n        this.bike = new Bike();\n    }\n\n    @Override\n    public void buildFrame() {\n        bike.setFrame(\"Carbon Frame\");\n    }\n\n    @Override\n    public void buildTires() {\n        bike.setTires(\"Slim Tires\");\n    }\n\n    @Override\n    public Bike getResult() {\n        return bike;\n    }\n}\n\n// \u81ea\u884c\u8f66Director\uff0c\u8d1f\u8d23\u6784\u5efa\u81ea\u884c\u8f66\nclass BikeDirector {\n    public Bike construct(BikeBuilder builder) {\n        builder.buildFrame();\n        builder.buildTires();\n        return builder.getResult();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int N = scanner.nextInt();  // \u8ba2\u5355\u6570\u91cf\n        scanner.nextLine();\n\n        BikeDirector director = new BikeDirector();\n\n        for (int i = 0; i &lt; N; i++) {\n            String bikeType = scanner.nextLine();\n\n            BikeBuilder builder;\n            // \u6839\u636e\u8f93\u5165\u7c7b\u522b\uff0c\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684\u5177\u4f53\u5efa\u9020\u8005\n            if (bikeType.equals(\"mountain\")) {\n                builder = new MountainBikeBuilder();\n            } else {\n                builder = new RoadBikeBuilder();\n            }\n            // Director\u8d1f\u8d23\u6307\u5bfc\u751f\u4ea7\u4ea7\u54c1\n            Bike bike = director.construct(builder);\n            System.out.println(bike);\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u4ee3\u7801","text":""},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u4f7f\u7528\u6a21\u7248\u65b9\u6cd5\u6a21\u5f0f\u548c\u5efa\u9020\u8005\u6a21\u5f0f\u5b9e\u73b0\u81ea\u884c\u8f66\u5de5\u5382\u3002</p> Java<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\n//\u62bd\u8c61\u7c7b\uff0c\u6a21\u7248\u65b9\u6cd5\u6a21\u5f0f\u521b\u5efa\nabstract class Bicycle{\n    private ArrayList&lt;String&gt; fittingsList = new ArrayList&lt;String&gt;();\n\n    //\u9009\u7528\u4e0d\u540c\u914d\u4ef6\u7684\u65b9\u6cd5\n    protected void useAluminumFrame(){};\n    protected void useKnobbyTires(){};\n    protected void useCarbonFrame(){};\n    protected void useSlimTires(){};\n\n    //\u8bbe\u7f6e\u914d\u4ef6\u5217\u8868\n    public final void setFittingsList(ArrayList&lt;String&gt; list){\n        this.fittingsList = list;\n    }\n\n    //\u9009\u7528\u914d\u4ef6\uff0c\u6784\u5efa\u81ea\u884c\u8f66\n    public final void maker(){\n    for (String fitting : fittingsList) {\n            switch (fitting) {\n                case \"useAluminumFrame\":\n                    useAluminumFrame();\n                    break;\n                case \"useKnobbyTires\":\n                    useKnobbyTires();\n                    break;\n                case \"useCarbonFrame\":\n                    useCarbonFrame();\n                    break;\n                case \"useSlimTires\":\n                    useSlimTires();\n                    break;\n                default:\n                    System.out.println(\"\u4e0d\u6e05\u695a\u7684\u914d\u4ef6\uff1a\" + fitting + \"\u8bf7\u91cd\u65b0\u8f93\u5165\uff01\");\n            }\n        }\n    }\n}\n\n//\u5c71\u5730\u81ea\u884c\u8f66\u7c7b\uff0c\u5e76\u91cd\u5199\u7236\u7c7b\u65b9\u6cd5\nclass MountainBicycle extends Bicycle{\n    @Override\n    protected void useAluminumFrame(){\n        System.out.print(\"Aluminum Frame \");\n    }\n    @Override\n    protected void useKnobbyTires(){\n        System.out.println(\"Knobby Tires \");\n    }\n}\n\n//\u516c\u8def\u81ea\u884c\u8f66\u7c7b\uff0c\u5e76\u91cd\u5199\u7236\u7c7b\u65b9\u6cd5\nclass RoadBicycle extends Bicycle{\n    @Override\n    protected void useCarbonFrame(){\n        System.out.print(\"Carbon Frame \");\n    }\n    @Override\n    protected void useSlimTires(){\n        System.out.println(\"Slim Tires \");\n    }\n}\n\n//\u5b9a\u4e49\u5efa\u9020\u8005\u63a5\u53e3\ninterface Builder{\n    void setFittingList(ArrayList&lt;String&gt; list);\n    Bicycle getBicycle();\n}\n\n//\u5c71\u5730\u81ea\u884c\u8f66\u5efa\u9020\u7c7b\nclass MountainBicycleBuilder implements Builder{\n    private MountainBicycle mountainBicycle = new MountainBicycle();\n\n    public void setFittingList(ArrayList&lt;String&gt; list){\n        this.mountainBicycle.setFittingsList(list);\n    }\n\n    public Bicycle getBicycle(){\n        return this.mountainBicycle;\n    }\n}\n\n//\u516c\u8def\u81ea\u884c\u8f66\u5efa\u9020\u8005\u7c7b\nclass RoadBicycleBuilder implements Builder{\n    private RoadBicycle roadBicycle = new RoadBicycle();\n\n    public void setFittingList(ArrayList&lt;String&gt; list){\n        this.roadBicycle.setFittingsList(list);\n    }\n\n    public Bicycle getBicycle(){\n        return this.roadBicycle;\n    }\n}\n\n//\u5bfc\u6f14\u7c7b\nclass Director{\n    private ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\n    private MountainBicycleBuilder mountainBicycleBuilder = new MountainBicycleBuilder();\n    private RoadBicycleBuilder roadBicycleBuilder = new RoadBicycleBuilder();\n\n    public MountainBicycle getMountainBicycle(){\n    //\u6e05\u7406\u573a\u666f\n        this.arrayList.clear();\n        //\u9009\u7528\u914d\u4ef6\n        this.arrayList.add(\"useAluminumFrame\");\n        this.arrayList.add(\"useKnobbyTires\");\n        this.mountainBicycleBuilder.setFittingList(this.arrayList);\n        return (MountainBicycle)this.mountainBicycleBuilder.getBicycle();\n    }\n\n    public RoadBicycle getRoadBicycle(){\n            //\u6e05\u7406\u573a\u666f\n        this.arrayList.clear();\n        //\u9009\u7528\u914d\u4ef6\n        this.arrayList.add(\"useCarbonFrame\");\n        this.arrayList.add(\"useSlimTires\");\n        this.roadBicycleBuilder.setFittingList(this.arrayList);\n        return (RoadBicycle)this.roadBicycleBuilder.getBicycle();\n    }\n\n}\n\n//\u4e3b\u7a0b\u5e8f\u7c7b\npublic class Main{\n    public static void main (String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        try {\n            int num = scanner.nextInt();\n            scanner.nextLine();\n            Director director = new Director();\n\n            for (int i = 0; i &lt; num; i++) {\n                String type = scanner.nextLine().toLowerCase().trim();\n                Bicycle bicycle;\n                if (\"mountain\".equals(type)) {\n                    bicycle = director.getMountainBicycle();\n                } else if (\"road\".equals(type)) {\n                    bicycle = director.getRoadBicycle();\n                } else {\n                    System.out.println(\"\u65e0\u6548\u8f93\u5165. \u8bf7\u8f93\u5165 'mountain' \u6216 'road'.\");\n                    continue;\n                }\n                bicycle.maker(); \n            }\n        } catch (Exception e) {\n            System.out.println(\"An error occurred: \" + e.getMessage());\n        } finally {\n            scanner.close(); \n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#cpp","title":"Cpp","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\n// \u81ea\u884c\u8f66\u4ea7\u54c1\nclass Bike {\npublic:\n    std::string frame;\n    std::string tires;\n\n    void setFrame(const std::string&amp; frame) {\n        this-&gt;frame = frame;\n    }\n\n    void setTires(const std::string&amp; tires) {\n        this-&gt;tires = tires;\n    }\n\n    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Bike&amp; bike) {\n        os &lt;&lt; bike.frame &lt;&lt; \" \" &lt;&lt; bike.tires;\n        return os;\n    }\n};\n\n// \u81ea\u884c\u8f66\u5efa\u9020\u8005\u63a5\u53e3\nclass BikeBuilder {\npublic:\n    virtual void buildFrame() = 0;\n    virtual void buildTires() = 0;\n    virtual Bike getResult() = 0;\n};\n\n// \u5c71\u5730\u81ea\u884c\u8f66\u5efa\u9020\u8005\nclass MountainBikeBuilder : public BikeBuilder {\nprivate:\n    Bike bike;\n\npublic:\n    void buildFrame() override {\n        bike.setFrame(\"Aluminum Frame\");\n    }\n\n    void buildTires() override {\n        bike.setTires(\"Knobby Tires\");\n    }\n\n    Bike getResult() override {\n        return bike;\n    }\n};\n\n// \u516c\u8def\u81ea\u884c\u8f66\u5efa\u9020\u8005\nclass RoadBikeBuilder : public BikeBuilder {\nprivate:\n    Bike bike;\n\npublic:\n    void buildFrame() override {\n        bike.setFrame(\"Carbon Frame\");\n    }\n\n    void buildTires() override {\n        bike.setTires(\"Slim Tires\");\n    }\n\n    Bike getResult() override {\n        return bike;\n    }\n};\n\n// \u81ea\u884c\u8f66Director\uff0c\u8d1f\u8d23\u6784\u5efa\u81ea\u884c\u8f66\nclass BikeDirector {\npublic:\n    Bike construct(BikeBuilder&amp; builder) {\n        builder.buildFrame();\n        builder.buildTires();\n        return builder.getResult();\n    }\n};\n\nint main() {\n    int N;\n    std::cin &gt;&gt; N;  // \u8ba2\u5355\u6570\u91cf\n\n    BikeDirector director;\n\n    for (int i = 0; i &lt; N; i++) {\n        std::string bikeType;\n        std::cin &gt;&gt; bikeType;\n\n        BikeBuilder* builder;\n\n        // \u6839\u636e\u8f93\u5165\u7c7b\u522b\uff0c\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684\u5177\u4f53\u5efa\u9020\u8005\n        if (bikeType == \"mountain\") {\n            builder = new MountainBikeBuilder();\n        } else {\n            builder = new RoadBikeBuilder();\n        }\n\n        // Director\u8d1f\u8d23\u6307\u5bfc\u751f\u4ea7\u4ea7\u54c1\n        Bike bike = director.construct(*builder);\n        std::cout &lt;&lt; bike &lt;&lt; std::endl;\n\n        // \u91ca\u653e\u52a8\u6001\u5206\u914d\u7684\u5bf9\u8c61\n        delete builder;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code># \u81ea\u884c\u8f66\u4ea7\u54c1\nclass Bike:\n    def __init__(self):\n        self.frame = None\n        self.tires = None\n\n    def set_frame(self, frame):\n        self.frame = frame\n\n    def set_tires(self, tires):\n        self.tires = tires\n\n    def __str__(self):\n        return f\"{self.frame} {self.tires}\"\n\n# \u81ea\u884c\u8f66\u5efa\u9020\u8005\u63a5\u53e3\nclass BikeBuilder:\n    def build_frame(self):\n        pass\n\n    def build_tires(self):\n        pass\n\n    def get_result(self):\n        pass\n\n# \u5c71\u5730\u81ea\u884c\u8f66\u5efa\u9020\u8005\nclass MountainBikeBuilder(BikeBuilder):\n    def __init__(self):\n        self.bike = Bike()\n\n    def build_frame(self):\n        self.bike.set_frame(\"Aluminum Frame\")\n\n    def build_tires(self):\n        self.bike.set_tires(\"Knobby Tires\")\n\n    def get_result(self):\n        return self.bike\n\n# \u516c\u8def\u81ea\u884c\u8f66\u5efa\u9020\u8005\nclass RoadBikeBuilder(BikeBuilder):\n    def __init__(self):\n        self.bike = Bike()\n\n    def build_frame(self):\n        self.bike.set_frame(\"Carbon Frame\")\n\n    def build_tires(self):\n        self.bike.set_tires(\"Slim Tires\")\n\n    def get_result(self):\n        return self.bike\n\n# \u81ea\u884c\u8f66Director\uff0c\u8d1f\u8d23\u6784\u5efa\u81ea\u884c\u8f66\nclass BikeDirector:\n    def construct(self, builder):\n        builder.build_frame()\n        builder.build_tires()\n        return builder.get_result()\n\ndef main():\n    N = int(input())  # \u8ba2\u5355\u6570\u91cf\n\n    director = BikeDirector()\n\n    for _ in range(N):\n        bike_type = input()\n\n        # \u6839\u636e\u8f93\u5165\u7c7b\u522b\uff0c\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684\u5177\u4f53\u5efa\u9020\u8005\n        if bike_type == \"mountain\":\n            builder = MountainBikeBuilder()\n        else:\n            builder = RoadBikeBuilder()\n\n        # Director\u8d1f\u8d23\u6307\u5bfc\u751f\u4ea7\u4ea7\u54c1\n        bike = director.construct(builder)\n        print(bike)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"DesignPattern/4-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// \u81ea\u884c\u8f66\u4ea7\u54c1\ntype Bike struct {\n    frame string\n    tires string\n}\n\nfunc (b *Bike) setFrame(frame string) {\n    b.frame = frame\n}\n\nfunc (b *Bike) setTires(tires string) {\n    b.tires = tires\n}\n\nfunc (b *Bike) String() string {\n    return b.frame + \" \" + b.tires\n}\n\n// \u81ea\u884c\u8f66\u5efa\u9020\u8005\u63a5\u53e3\ntype BikeBuilder interface {\n    buildFrame()\n    buildTires()\n    getResult() *Bike\n}\n\n// \u5c71\u5730\u81ea\u884c\u8f66\u5efa\u9020\u8005\ntype MountainBikeBuilder struct {\n    bike *Bike\n}\n\nfunc NewMountainBikeBuilder() *MountainBikeBuilder {\n    return &amp;MountainBikeBuilder{\n        bike: &amp;Bike{},\n    }\n}\n\nfunc (mbb *MountainBikeBuilder) buildFrame() {\n    mbb.bike.setFrame(\"Aluminum Frame\")\n}\n\nfunc (mbb *MountainBikeBuilder) buildTires() {\n    mbb.bike.setTires(\"Knobby Tires\")\n}\n\nfunc (mbb *MountainBikeBuilder) getResult() *Bike {\n    return mbb.bike\n}\n\n// \u516c\u8def\u81ea\u884c\u8f66\u5efa\u9020\u8005\ntype RoadBikeBuilder struct {\n    bike *Bike\n}\n\nfunc NewRoadBikeBuilder() *RoadBikeBuilder {\n    return &amp;RoadBikeBuilder{\n        bike: &amp;Bike{},\n    }\n}\n\nfunc (rbb *RoadBikeBuilder) buildFrame() {\n    rbb.bike.setFrame(\"Carbon Frame\")\n}\n\nfunc (rbb *RoadBikeBuilder) buildTires() {\n    rbb.bike.setTires(\"Slim Tires\")\n}\n\nfunc (rbb *RoadBikeBuilder) getResult() *Bike {\n    return rbb.bike\n}\n\n// \u81ea\u884c\u8f66Director\uff0c\u8d1f\u8d23\u6784\u5efa\u81ea\u884c\u8f66\ntype BikeDirector struct{}\n\nfunc (bd *BikeDirector) construct(builder BikeBuilder) *Bike {\n    builder.buildFrame()\n    builder.buildTires()\n    return builder.getResult()\n}\n\nfunc main() {\n    var N int\n    fmt.Scan(&amp;N) // \u8ba2\u5355\u6570\u91cf\n\n    director := &amp;BikeDirector{}\n\n    for i := 0; i &lt; N; i++ {\n        var bikeType string\n        fmt.Scan(&amp;bikeType)\n\n        var builder BikeBuilder\n        // \u6839\u636e\u8f93\u5165\u7c7b\u522b\uff0c\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684\u5177\u4f53\u5efa\u9020\u8005\n        if bikeType == \"mountain\" {\n            builder = NewMountainBikeBuilder()\n        } else {\n            builder = NewRoadBikeBuilder()\n        }\n        // Director\u8d1f\u8d23\u6307\u5bfc\u751f\u4ea7\u4ea7\u54c1\n        bike := director.construct(builder)\n        fmt.Println(bike)\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/","title":"\u539f\u578b\u6a21\u5f0f","text":"<p> \u7ea6 928 \u4e2a\u5b57  420 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#_2","title":"\u4ec0\u4e48\u662f\u539f\u578b\u6a21\u5f0f","text":"<p>\u539f\u578b\u6a21\u5f0f\u4e00\u79cd\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u8be5\u6a21\u5f0f\u7684\u6838\u5fc3\u601d\u60f3\u662f\u57fa\u4e8e\u73b0\u6709\u7684\u5bf9\u8c61\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u4ece\u5934\u5f00\u59cb\u521b\u5efa\u3002</p> <p>\u5728\u539f\u578b\u6a21\u5f0f\u4e2d\uff0c\u901a\u5e38\u6709\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61\uff0c\u5b83\u88ab\u7528\u4f5c\u521b\u5efa\u65b0\u5bf9\u8c61\u7684\u6a21\u677f\u3002\u65b0\u5bf9\u8c61\u901a\u8fc7\u590d\u5236\u539f\u578b\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u72b6\u6001\u6765\u521b\u5efa\uff0c\u800c\u65e0\u9700\u77e5\u9053\u5177\u4f53\u7684\u521b\u5efa\u7ec6\u8282\u3002</p>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#_3","title":"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u539f\u578b\u6a21\u5f0f","text":"<p>\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b\u6bd4\u8f83\u590d\u6742\u65f6\uff08\u6bd4\u5982\u9700\u8981\u7ecf\u8fc7\u4e00\u7cfb\u5217\u7684\u8ba1\u7b97\u548c\u8d44\u6e90\u6d88\u8017\uff09\uff0c\u90a3\u6bcf\u6b21\u521b\u5efa\u8be5\u5bf9\u8c61\u90fd\u9700\u8981\u6d88\u8017\u8d44\u6e90\uff0c\u800c\u901a\u8fc7\u539f\u578b\u6a21\u5f0f\u5c31\u53ef\u4ee5\u590d\u5236\u73b0\u6709\u7684\u4e00\u4e2a\u5bf9\u8c61\u6765\u8fc5\u901f\u521b\u5efa/\u514b\u9686\u4e00\u4e2a\u65b0\u5bf9\u8c61\uff0c\u4e0d\u5fc5\u5173\u5fc3\u5177\u4f53\u7684\u521b\u5efa\u7ec6\u8282\uff0c\u53ef\u4ee5\u964d\u4f4e\u5bf9\u8c61\u521b\u5efa\u7684\u6210\u672c\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u77ed\u7684Python\u4ee3\u7801\u793a\u4f8b\u4e86\u6a21\u62df\u4e86\u4e0a\u9762\u7684\u95ee\u9898\uff1a</p> Python<pre><code>import copy\n\nclass ComplexObject:\n    def __init__(self, data):\n        # \u8017\u65f6\u7684\u8d44\u6e90\u578b\u64cd\u4f5c\n        self.data = data\n\n    def clone(self):\n        # \u590d\u5236\n        return copy.deepcopy(self)\n# \u521b\u5efa\u539f\u578b\u5bf9\u8c61\noriginal_object = ComplexObject(data=\"large date\")\n# \u521b\u5efa\u65b0\u5bf9\u8c61\uff0c\u76f4\u63a5\u62f7\u8d1d\u539f\u5bf9\u8c61\nnew_object = original_object.clone()\n</code></pre>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#_4","title":"\u539f\u578b\u6a21\u5f0f\u7684\u57fa\u672c\u7ed3\u6784","text":"<p>\u5b9e\u73b0\u539f\u578b\u6a21\u5f0f\u9700\u8981\u7ed9\u3010\u539f\u578b\u5bf9\u8c61\u3011\u58f0\u660e\u4e00\u4e2a\u514b\u9686\u65b9\u6cd5\uff0c\u6267\u884c\u8be5\u65b9\u6cd5\u4f1a\u521b\u5efa\u4e00\u4e2a\u5f53\u524d\u7c7b\u7684\u65b0\u5bf9\u8c61\uff0c\u5e76\u5c06\u539f\u59cb\u5bf9\u8c61\u4e2d\u7684\u6210\u5458\u53d8\u91cf\u590d\u5236\u5230\u65b0\u751f\u6210\u7684\u5bf9\u8c61\u4e2d\uff0c\u800c\u4e0d\u5fc5\u5b9e\u4f8b\u5316\u3002\u5e76\u4e14\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u53ea\u9700\u8981\u8c03\u7528\u539f\u578b\u5bf9\u8c61\u7684\u514b\u9686\u65b9\u6cd5\uff0c\u800c\u65e0\u9700\u77e5\u9053\u539f\u578b\u5bf9\u8c61\u7684\u5177\u4f53\u7c7b\u578b\u3002</p> <p>\u539f\u578b\u6a21\u5f0f\u5305\u542b\u4e24\u4e2a\u91cd\u70b9\u6a21\u5757\uff1a</p> <ul> <li>\u62bd\u8c61\u539f\u578b\u63a5\u53e3<code>prototype</code>: \u58f0\u660e\u4e00\u4e2a\u514b\u9686\u81ea\u8eab\u7684\u65b9\u6cd5<code>clone</code></li> <li>\u5177\u4f53\u539f\u578b\u7c7b<code>ConcretePrototype</code>:  \u5b9e\u73b0<code>clone</code>\u65b9\u6cd5\uff0c\u590d\u5236\u5f53\u524d\u5bf9\u8c61\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u5bf9\u8c61\u3002</li> </ul> <p>\u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u4e2d\uff0c\u53ef\u4ee5\u58f0\u660e\u4e00\u4e2a\u5177\u4f53\u539f\u578b\u7c7b\u7684\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528<code>clone()</code>\u65b9\u6cd5\u590d\u5236\u539f\u5bf9\u8c61\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u3002</p> <p></p>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#_5","title":"\u539f\u578b\u6a21\u5f0f\u7684\u57fa\u672c\u5b9e\u73b0","text":"<p>\u539f\u578b\u6a21\u5f0f\u7684\u5b9e\u73b0\u8fc7\u7a0b\u5373\u4e0a\u9762\u63cf\u8ff0\u6a21\u5757\u7684\u5b9e\u73b0\u8fc7\u7a0b\uff1a</p> <ul> <li>\u521b\u5efa\u4e00\u4e2a\u62bd\u8c61\u7c7b\u6216\u63a5\u53e3\uff0c\u58f0\u660e\u4e00\u4e2a\u514b\u9686\u65b9\u6cd5<code>clone</code></li> <li>\u5b9e\u73b0\u5177\u4f53\u539f\u578b\u7c7b\uff0c\u91cd\u5199\u514b\u9686\u65b9\u6cd5</li> <li>\u5ba2\u6237\u7aef\u4e2d\u5b9e\u4f8b\u5316\u5177\u4f53\u539f\u578b\u7c7b\u7684\u5bf9\u8c61\uff0c\u5e76\u8c03\u7528\u5176\u514b\u9686\u65b9\u6cd5\u6765\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\u3002</li> </ul> Java<pre><code>// 1. \u5b9a\u4e49\u62bd\u8c61\u539f\u578b\u7c7b\npublic abstract class Prototype implements Cloneable {\n    public abstract Prototype clone();\n}\n\n// 2. \u521b\u5efa\u5177\u4f53\u539f\u578b\u7c7b\npublic class ConcretePrototype extends Prototype {\n    private String data;\n\n    public ConcretePrototype(String data) {\n        this.data = data;\n    }\n\n    @Override\n    public Prototype clone() {\n        return new ConcretePrototype(this.data);\n    }\n\n    public String getData() {\n        return data;\n    }\n}\n\n// 3. \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Client {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u539f\u578b\u5bf9\u8c61\n        Prototype original = new ConcretePrototype(\"Original Data\");\n\n        // \u514b\u9686\u539f\u578b\u5bf9\u8c61\n        Prototype clone = original.clone();\n\n        // \u8f93\u51fa\u514b\u9686\u5bf9\u8c61\u7684\u6570\u636e\n        System.out.println(\"Clone Data: \" + ((ConcretePrototype) clone).getData());\n    }\n}\n</code></pre>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#_6","title":"\u4ec0\u4e48\u65f6\u5019\u5b9e\u73b0\u539f\u578b\u6a21\u5f0f","text":"<p>\u76f8\u6bd4\u4e8e\u76f4\u63a5\u5b9e\u4f8b\u5316\u5bf9\u8c61\uff0c\u901a\u8fc7\u539f\u578b\u6a21\u5f0f\u590d\u5236\u5bf9\u8c61\u53ef\u4ee5\u51cf\u5c11\u8d44\u6e90\u6d88\u8017\uff0c\u63d0\u9ad8\u6027\u80fd\uff0c\u5c24\u5176\u5728\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b\u590d\u6742\u6216\u5bf9\u8c61\u7684\u521b\u5efa\u4ee3\u4ef7\u8f83\u5927\u7684\u60c5\u51b5\u4e0b\u3002\u5f53\u9700\u8981\u9891\u7e41\u521b\u5efa\u76f8\u4f3c\u5bf9\u8c61\u3001\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u514b\u9686\u907f\u514d\u91cd\u590d\u521d\u59cb\u5316\u5de5\u4f5c\u7684\u573a\u666f\u65f6\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u539f\u578b\u6a21\u5f0f\uff0c\u5728\u514b\u9686\u5bf9\u8c61\u7684\u65f6\u5019\u8fd8\u53ef\u4ee5\u52a8\u6001\u5730\u6dfb\u52a0\u6216\u5220\u9664\u539f\u578b\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u521b\u9020\u51fa\u76f8\u4f3c\u4f46\u4e0d\u5b8c\u5168\u76f8\u540c\u7684\u5bf9\u8c61\uff0c\u63d0\u9ad8\u4e86\u7075\u6d3b\u6027\u3002</p> <p>\u4f46\u662f\u4f7f\u7528\u539f\u578b\u6a21\u5f0f\u4e5f\u9700\u8981\u8003\u8651\u5230\u5982\u679c\u5bf9\u8c61\u7684\u5185\u90e8\u72b6\u6001\u5305\u542b\u4e86\u5f15\u7528\u7c7b\u578b\u7684\u6210\u5458\u53d8\u91cf\uff0c\u90a3\u4e48\u5b9e\u73b0\u6df1\u62f7\u8d1d\u5c31\u4f1a\u53d8\u5f97\u8f83\u4e3a\u590d\u6742\uff0c\u9700\u8981\u8003\u8651\u5f15\u7528\u7c7b\u578b\u5bf9\u8c61\u7684\u514b\u9686\u95ee\u9898\u3002</p> <p>\u539f\u578b\u6a21\u5f0f\u5728\u73b0\u6709\u7684\u5f88\u591a\u8bed\u8a00\u4e2d\u90fd\u6709\u5e94\u7528\uff0c\u6bd4\u5982\u4ee5\u4e0b\u51e0\u4e2a\u7ecf\u5178\u4f8b\u5b50\u3002</p> <ul> <li> <p>Java \u63d0\u4f9b\u4e86 <code>Object</code> \u7c7b\u7684 <code>clone()</code> \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u8c61\u7684\u6d45\u62f7\u8d1d\u3002\u7c7b\u9700\u8981\u5b9e\u73b0 <code>Cloneable</code> \u63a5\u53e3\u5e76\u91cd\u5199 <code>clone()</code> \u65b9\u6cd5\u3002</p> </li> <li> <p>\u5728 .NET \u4e2d\uff0c<code>ICloneable</code> \u63a5\u53e3\u63d0\u4f9b\u4e86 <code>Clone</code> \u65b9\u6cd5\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u5bf9\u8c61\u7684\u514b\u9686\u3002</p> </li> <li> <p>Spring \u6846\u67b6\u4e2d\u7684 Bean \u7684\u4f5c\u7528\u57df\u4e4b\u4e00\u662f\u539f\u578b\u4f5c\u7528\u57df\uff08Prototype Scope\uff09\uff0c\u5728\u8fd9\u4e2a\u4f5c\u7528\u57df\u4e0b\uff0cSpring \u6846\u67b6\u4f1a\u4e3a\u6bcf\u6b21\u8bf7\u6c42\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Bean \u5b9e\u4f8b\uff0c\u7c7b\u4f3c\u4e8e\u539f\u578b\u6a21\u5f0f\u3002</p> </li> </ul>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#_7","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u62bd\u8c61\u539f\u578b\u7c7b\nabstract class Prototype implements Cloneable {\n    public abstract Prototype clone();\n    public abstract String getDetails();\n\n    // \u516c\u5171\u7684 clone \u65b9\u6cd5\n    public Prototype clonePrototype() {\n        try {\n            return (Prototype) super.clone();\n        } catch (CloneNotSupportedException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n\n// \u5177\u4f53\u77e9\u5f62\u539f\u578b\u7c7b\nclass RectanglePrototype extends Prototype {\n    private String color;\n    private int width;\n    private int height;\n\n    // \u6784\u9020\u65b9\u6cd5\n    public RectanglePrototype(String color, int width, int height) {\n        this.color = color;\n        this.width = width;\n        this.height = height;\n    }\n\n    // \u514b\u9686\u65b9\u6cd5\n    @Override\n    public Prototype clone() {\n        return clonePrototype();\n    }\n\n    // \u83b7\u53d6\u77e9\u5f62\u7684\u8be6\u7ec6\u4fe1\u606f\n    @Override\n    public String getDetails() {\n        return \"Color: \" + color + \", Width: \" + width + \", Height: \" + height;\n    }\n}\n\n// \u5ba2\u6237\u7aef\u7a0b\u5e8f\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u8bfb\u53d6\u9700\u8981\u521b\u5efa\u7684\u77e9\u5f62\u6570\u91cf\n        int N = scanner.nextInt();\n\n        // \u8bfb\u53d6\u6bcf\u4e2a\u77e9\u5f62\u7684\u5c5e\u6027\u4fe1\u606f\u5e76\u521b\u5efa\u77e9\u5f62\u5bf9\u8c61\n        for (int i = 0; i &lt; N; i++) {\n            String color = scanner.next();\n            int width = scanner.nextInt();\n            int height = scanner.nextInt();\n\n            // \u521b\u5efa\u539f\u578b\u5bf9\u8c61\n            Prototype originalRectangle = new RectanglePrototype(color, width, height);\n\n            // \u514b\u9686\u5bf9\u8c61\u5e76\u8f93\u51fa\u8be6\u7ec6\u4fe1\u606f\n            Prototype clonedRectangle = originalRectangle.clone();\n            System.out.println(clonedRectangle.getDetails());\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#_8","title":"\u5176\u4ed6\u8bed\u8a00\u4ee3\u7801","text":""},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u4f7f\u7528\u539f\u578b\u6ce8\u518c\u8868\u6765\u5b9e\u73b0 Java<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\n// \u539f\u578b\u6a21\u5f0f\u62bd\u8c61\u7c7bShape\uff0c\u8868\u793a\u5f62\u72b6\u7684\u57fa\u7c7b\nabstract class Shape {\n    protected int height;\n    protected int width;\n    protected String color;\n\n    public Shape() {}\n\n    public Shape(int height, int width, String color) {\n        this.height = height;\n        this.width = width;\n        this.color = color;\n    }\n\n    // \u62bd\u8c61\u65b9\u6cd5 clone\uff0c\u7528\u4e8e\u514b\u9686\u5f62\u72b6\n    public abstract Shape clone();\n\n    //get\u3001set\u65b9\u6cd5\u3002\n    public int getHeight() {\n        return height;\n    }\n\n    public void setHeight(int height) {\n        this.height = height;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public void setWidth(int width) {\n        this.width = width;\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(String color) {\n        this.color = color;\n    }\n}\n\n// Rectangle \u7c7b\uff0c\u7ee7\u627f\u81ea Shape \u8868\u793a\u77e9\u5f62\nclass Rectangle extends Shape {\n    public Rectangle(int height, int width, String color) {\n        super(height, width, color);\n    }\n\n    // \u514b\u9686\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u77e9\u5f62\u5bf9\u8c61\n    @Override\n    public Shape clone() {\n        return new Rectangle(this.height, this.width, this.color);\n    }\n}\n\n// \u539f\u578b\u6ce8\u518c\u8868\u7c7b\uff0c\u7528\u4e8e\u5b58\u50a8\u548c\u7ba1\u7406\u5f62\u72b6\nclass ShapeRegistry {\n    private Map&lt;String, Shape&gt; shapeMap = new HashMap&lt;&gt;();\n\n    // \u6ce8\u518c\u5f62\u72b6\uff0c\u4f7f\u7528\u5f62\u72b6 ID \u4f5c\u4e3a\u952e\n    public void registerShape(String shapeId, Shape shape) {\n        shapeMap.put(shapeId, shape);\n    }\n    // \u83b7\u53d6\u5f62\u72b6\uff0c\u901a\u8fc7\u514b\u9686\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\n    public Shape getShape(String shapeId) {\n        Shape shape = shapeMap.get(shapeId);\n        return shape != null ? shape.clone() : null;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        ShapeRegistry shapeRegistry = new ShapeRegistry();\n\n        // \u6ce8\u518c\u4e00\u4e2a\u9ed8\u8ba4\u7684\u77e9\u5f62\u5f62\u72b6\n        shapeRegistry.registerShape(\"defaultRectangle\", new Rectangle(10, 20, \"red\"));\n\n        String input = scanner.nextLine();\n        String[] parts = input.split(\" \");\n        if (parts.length == 3) {\n            String color = parts[0];\n            try {\n                int width = Integer.parseInt(parts[1]);\n                int height = Integer.parseInt(parts[2]);\n\n                //\u521b\u5efa\u5e76\u6ce8\u518c\u4e00\u4e2a\u65b0\u7684\u77e9\u5f62\n                Shape newRectangle = new Rectangle(height, width, color);\n                shapeRegistry.registerShape(\"userRectangle\", newRectangle);\n\n                int num = scanner.nextInt();\n                for (int i = 0; i &lt; num; i++) {\n                    Shape clonedShape = shapeRegistry.getShape(\"userRectangle\");\n                    if (clonedShape != null) {\n                        System.out.println(\"Color: \" + clonedShape.getColor() + \n                                 \", Width: \" + clonedShape.getWidth() + \n                                \", Height: \" + clonedShape.getHeight());\n                    } else {\n                        System.out.println(\"\u5728\u6ce8\u518c\u8868\u4e2d\u627e\u4e0d\u5230\u5f62\u72b6.\");\n                    }\n                }\n            } catch (NumberFormatException e) {\n                System.out.println(\"\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165.\");\n            }\n        } else {\n            System.out.println(\"\u8f93\u5165\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u6309\u683c\u5f0f\u8f93\u5165\uff1a\u989c\u8272 \u5bbd\u5ea6 \u9ad8\u5ea6.\");\n        }\n        scanner.close();\n    }\n}\n</code></pre></p>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\n// \u62bd\u8c61\u539f\u578b\u7c7b\nclass Prototype {\npublic:\n    virtual Prototype* clone() const = 0;\n    virtual std::string getDetails() const = 0;\n    virtual ~Prototype() {}\n};\n\n// \u5177\u4f53\u77e9\u5f62\u539f\u578b\u7c7b\nclass RectanglePrototype : public Prototype {\nprivate:\n    std::string color;\n    int width;\n    int height;\n\npublic:\n    // \u6784\u9020\u65b9\u6cd5\n    RectanglePrototype(std::string color, int width, int height) : color(color), width(width), height(height) {}\n\n    // \u514b\u9686\u65b9\u6cd5\n    Prototype* clone() const override {\n        return new RectanglePrototype(*this);\n    }\n\n    // \u83b7\u53d6\u77e9\u5f62\u7684\u8be6\u7ec6\u4fe1\u606f\n    std::string getDetails() const override {\n        return \"Color: \" + color + \", Width: \" + std::to_string(width) + \", Height: \" + std::to_string(height);\n    }\n};\n\n// \u5ba2\u6237\u7aef\u7a0b\u5e8f\nint main() {\n    std::vector&lt;Prototype*&gt; rectangles;\n\n    // \u8bfb\u53d6\u9700\u8981\u521b\u5efa\u7684\u77e9\u5f62\u6570\u91cf\n    int N;\n    std::cin &gt;&gt; N;\n\n    // \u8bfb\u53d6\u6bcf\u4e2a\u77e9\u5f62\u7684\u5c5e\u6027\u4fe1\u606f\u5e76\u521b\u5efa\u77e9\u5f62\u5bf9\u8c61\n    for (int i = 0; i &lt; N; i++) {\n        std::string color;\n        int width, height;\n\n        std::cin &gt;&gt; color &gt;&gt; width &gt;&gt; height;\n\n        // \u521b\u5efa\u539f\u578b\u5bf9\u8c61\n        Prototype* originalRectangle = new RectanglePrototype(color, width, height);\n\n        // \u5c06\u539f\u578b\u5bf9\u8c61\u4fdd\u5b58\u5230\u5411\u91cf\u4e2d\n        rectangles.push_back(originalRectangle);\n    }\n\n    // \u514b\u9686\u5bf9\u8c61\u5e76\u8f93\u51fa\u8be6\u7ec6\u4fe1\u606f\n    for (const auto&amp; rectangle : rectangles) {\n        Prototype* clonedRectangle = rectangle-&gt;clone();\n        std::cout &lt;&lt; clonedRectangle-&gt;getDetails() &lt;&lt; std::endl;\n\n        // \u91ca\u653e\u514b\u9686\u5bf9\u8c61\u7684\u5185\u5b58\n        delete clonedRectangle;\n    }\n\n    // \u91ca\u653e\u539f\u578b\u5bf9\u8c61\u7684\u5185\u5b58\n    for (const auto&amp; rectangle : rectangles) {\n        delete rectangle;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from abc import ABC, abstractmethod\n\n# \u62bd\u8c61\u539f\u578b\u7c7b\nclass Prototype(ABC):\n    @abstractmethod\n    def clone(self):\n        pass\n\n    @abstractmethod\n    def get_details(self):\n        pass\n\n    # \u516c\u5171\u7684 clone \u65b9\u6cd5\n    def clone_prototype(self):\n        try:\n            return self.clone()\n        except Exception as e:\n            print(e)\n            return None\n\n# \u5177\u4f53\u77e9\u5f62\u539f\u578b\u7c7b\nclass RectanglePrototype(Prototype):\n    def __init__(self, color, width, height):\n        self.color = color\n        self.width = width\n        self.height = height\n\n    # \u514b\u9686\u65b9\u6cd5\n    def clone(self):\n        return RectanglePrototype(self.color, self.width, self.height)\n\n    # \u83b7\u53d6\u77e9\u5f62\u7684\u8be6\u7ec6\u4fe1\u606f\n    def get_details(self):\n        return f\"Color: {self.color}, Width: {self.width}, Height: {self.height}\"\n\n# \u5ba2\u6237\u7aef\u7a0b\u5e8f\nif __name__ == \"__main__\":\n    # \u8bfb\u53d6\u9700\u8981\u521b\u5efa\u7684\u77e9\u5f62\u6570\u91cf\n    N = int(input())\n\n    # \u8bfb\u53d6\u6bcf\u4e2a\u77e9\u5f62\u7684\u5c5e\u6027\u4fe1\u606f\u5e76\u521b\u5efa\u77e9\u5f62\u5bf9\u8c61\n    for _ in range(N):\n        line = input()\n        parts = line.split()\n        color = parts[0]\n        width = int(parts[1])\n        height = int(parts[2])\n\n        # \u521b\u5efa\u539f\u578b\u5bf9\u8c61\n        original_rectangle = RectanglePrototype(color, width, height)\n\n        # \u514b\u9686\u5bf9\u8c61\u5e76\u8f93\u51fa\u8be6\u7ec6\u4fe1\u606f\n        cloned_rectangle = original_rectangle.clone()\n        print(cloned_rectangle.get_details())\n</code></pre>"},{"location":"DesignPattern/5-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\n// \u62bd\u8c61\u539f\u578b\u7c7b\ntype Prototype interface {\n    clone() Prototype\n    getDetails() string\n}\n\n// \u5177\u4f53\u77e9\u5f62\u539f\u578b\u7c7b\ntype RectanglePrototype struct {\n    color  string\n    width  int\n    height int\n}\n\n// \u6784\u9020\u65b9\u6cd5\nfunc NewRectanglePrototype(color string, width, height int) *RectanglePrototype {\n    return &amp;RectanglePrototype{\n        color:  color,\n        width:  width,\n        height: height,\n    }\n}\n\n// \u5b9e\u73b0 Prototype \u63a5\u53e3\u7684 clone \u65b9\u6cd5\nfunc (r *RectanglePrototype) clone() Prototype {\n    return &amp;RectanglePrototype{\n        color:  r.color,\n        width:  r.width,\n        height: r.height,\n    }\n}\n\n// \u83b7\u53d6\u77e9\u5f62\u7684\u8be6\u7ec6\u4fe1\u606f\nfunc (r *RectanglePrototype) getDetails() string {\n    return fmt.Sprintf(\"Color: %s, Width: %d, Height: %d\", r.color, r.width, r.height)\n}\n\n// \u5ba2\u6237\u7aef\u7a0b\u5e8f\nfunc main() {\n    // \u8bfb\u53d6\u9700\u8981\u521b\u5efa\u7684\u77e9\u5f62\u6570\u91cf\n    var N int\n    fmt.Scan(&amp;N)\n\n    // \u8bfb\u53d6\u6bcf\u4e2a\u77e9\u5f62\u7684\u5c5e\u6027\u4fe1\u606f\u5e76\u521b\u5efa\u77e9\u5f62\u5bf9\u8c61\n    for i := 0; i &lt; N; i++ {\n        var color string\n        var width, height int\n        fmt.Scan(&amp;color, &amp;width, &amp;height)\n\n        // \u521b\u5efa\u539f\u578b\u5bf9\u8c61\n        originalRectangle := NewRectanglePrototype(color, width, height)\n\n        // \u514b\u9686\u5bf9\u8c61\u5e76\u8f93\u51fa\u8be6\u7ec6\u4fe1\u606f\n        clonedRectangle := originalRectangle.clone()\n        fmt.Println(clonedRectangle.getDetails())\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/","title":"\u9002\u914d\u5668\u6a21\u5f0f","text":"<p> \u7ea6 627 \u4e2a\u5b57  319 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#_2","title":"\u4ec0\u4e48\u662f\u9002\u914d\u5668","text":"<p>\u9002\u914d\u5668\u6a21\u5f0f<code>Adapter</code>\u662f\u4e00\u79cd\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5b83\u53ef\u4ee5\u5c06\u4e00\u4e2a\u7c7b\u7684\u63a5\u53e3\u8f6c\u6362\u6210\u5ba2\u6237\u5e0c\u671b\u7684\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u5145\u5f53\u4e24\u4e2a\u4e0d\u540c\u63a5\u53e3\u4e4b\u95f4\u7684\u6865\u6881\uff0c\u4f7f\u5f97\u539f\u672c\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u7c7b\u80fd\u591f\u4e00\u8d77\u5de5\u4f5c\u3002</p>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u9002\u914d\u5668\u6a21\u5f0f\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u57fa\u672c\u89d2\u8272\uff1a</p> <p>\u53ef\u4ee5\u628a\u9002\u914d\u5668\u6a21\u5f0f\u7406\u89e3\u6210\u62d3\u5c55\u575e\uff0c\u8d77\u5230\u8f6c\u63a5\u7684\u4f5c\u7528\uff0c\u539f\u6709\u7684\u63a5\u53e3\u662fUSB\uff0c\u4f46\u662f\u5ba2\u6237\u7aef\u9700\u8981\u4f7f\u7528<code>type-c</code>\uff0c \u4fbf\u4f7f\u7528\u62d3\u5c55\u575e\u63d0\u4f9b\u4e00\u4e2a<code>type-c</code>\u63a5\u53e3\u7ed9\u5ba2\u6237\u7aef\u4f7f\u7528</p> <p></p> <ul> <li>\u76ee\u6807\u63a5\u53e3<code>Target</code>:  \u5ba2\u6237\u7aef\u5e0c\u671b\u4f7f\u7528\u7684\u63a5\u53e3</li> <li>\u9002\u914d\u5668\u7c7b<code>Adapter</code>: \u5b9e\u73b0\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u76ee\u6807\u63a5\u53e3\uff0c\u6301\u6709\u4e00\u4e2a\u9700\u8981\u9002\u914d\u7684\u7c7b\u5b9e\u4f8b\u3002</li> <li>\u88ab\u9002\u914d\u8005<code>Adaptee</code>: \u9700\u8981\u88ab\u9002\u914d\u7684\u7c7b</li> </ul> <p>\u8fd9\u6837\uff0c\u5ba2\u6237\u7aef\u5c31\u53ef\u4ee5\u4f7f\u7528\u76ee\u6807\u63a5\u53e3\uff0c\u800c\u4e0d\u9700\u8981\u5bf9\u539f\u6765\u7684<code>Adaptee</code>\u8fdb\u884c\u4fee\u6539\uff0c<code>Adapter</code>\u8d77\u5230\u4e00\u4e2a\u8f6c\u63a5\u6269\u5c55\u7684\u4f5c\u7528\u3002</p>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#_4","title":"\u57fa\u672c\u5b9e\u73b0","text":"Java<pre><code>// \u76ee\u6807\u63a5\u53e3\ninterface Target {\n    void request();\n}\n\n// \u88ab\u9002\u914d\u8005\u7c7b\nclass Adaptee {\n    void specificRequest() {\n        System.out.println(\"Specific request\");\n    }\n}\n\n// \u9002\u914d\u5668\u7c7b\nclass Adapter implements Target {\n    // \u6301\u6709\u4e00\u4e2a\u88ab\u9002\u914d\u8005\u5b9e\u4f8b\n    private Adaptee adaptee;\n\n    public Adapter(Adaptee adaptee) {\n        this.adaptee = adaptee;\n    }\n\n    @Override\n    public void request() {\n        // \u8c03\u7528\u88ab\u9002\u914d\u8005\u7c7b\u7684\u65b9\u6cd5\n        adaptee.specificRequest();\n    }\n}\n\n// \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Client {\n    public static void main(String[] args) {\n        Target target = new Adapter(new Adaptee());\n        target.request();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#_5","title":"\u5e94\u7528\u573a\u666f","text":"<p>\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u9002\u914d\u5668\u6a21\u5f0f\u5f80\u5f80\u626e\u6f14\u8005\u201c\u8865\u6551\u201d\u548c\u201c\u6269\u5c55\u201d\u7684\u89d2\u8272\uff1a</p> <ul> <li> <p>\u5f53\u4f7f\u7528\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7c7b\uff0c\u4f46\u662f\u5b83\u7684\u63a5\u53e3\u4e0e\u4f60\u7684\u4ee3\u7801\u4e0d\u517c\u5bb9\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u9002\u914d\u5668\u6a21\u5f0f\u3002</p> </li> <li> <p>\u5728\u7cfb\u7edf\u6269\u5c55\u9636\u6bb5\u9700\u8981\u589e\u52a0\u65b0\u7684\u7c7b\u65f6\uff0c\u5e76\u4e14\u7c7b\u7684\u63a5\u53e3\u548c\u7cfb\u7edf\u73b0\u6709\u7684\u7c7b\u4e0d\u4e00\u81f4\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u9002\u914d\u5668\u6a21\u5f0f\u3002</p> </li> </ul> <p>\u4f7f\u7528\u9002\u914d\u5668\u6a21\u5f0f\u53ef\u4ee5\u5c06\u5ba2\u6237\u7aef\u4ee3\u7801\u4e0e\u5177\u4f53\u7684\u7c7b\u89e3\u8026\uff0c\u5ba2\u6237\u7aef\u4e0d\u9700\u8981\u77e5\u9053\u88ab\u9002\u914d\u8005\u7684\u7ec6\u8282\uff0c\u5ba2\u6237\u7aef\u4ee3\u7801\u4e5f\u4e0d\u9700\u8981\u4fee\u6539\uff0c\u8fd9\u4f7f\u5f97\u5b83\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\uff0c\u4f46\u662f\u8fd9\u4e5f\u52bf\u5fc5\u5bfc\u81f4\u7cfb\u7edf\u53d8\u5f97\u66f4\u52a0\u590d\u6742\u3002</p> <p>\u5177\u4f53\u6765\u8bf4\uff0c\u9002\u914d\u5668\u6a21\u5f0f\u6709\u7740\u4ee5\u4e0b\u5e94\u7528\uff1a</p> <ul> <li> <p>\u4e0d\u540c\u7684\u9879\u76ee\u548c\u5e93\u53ef\u80fd\u4f7f\u7528\u4e0d\u540c\u7684\u65e5\u5fd7\u6846\u67b6\uff0c\u4e0d\u540c\u7684\u65e5\u5fd7\u6846\u67b6\u63d0\u4f9b\u7684API\u4e5f\u4e0d\u540c\uff0c\u56e0\u6b64\u5f15\u5165\u4e86\u9002\u914d\u5668\u6a21\u5f0f\u4f7f\u5f97\u4e0d\u540c\u7684API\u9002\u914d\u4e3a\u7edf\u4e00\u63a5\u53e3\u3002</p> </li> <li> <p>Spring MVC\u4e2d\uff0c<code>HandlerAdapter</code> \u63a5\u53e3\u662f\u9002\u914d\u5668\u6a21\u5f0f\u7684\u4e00\u79cd\u5e94\u7528\u3002\u5b83\u8d1f\u8d23\u5c06\u5904\u7406\u5668\uff08Handler\uff09\u9002\u914d\u5230\u6846\u67b6\u4e2d\uff0c\u4f7f\u5f97\u4e0d\u540c\u7c7b\u578b\u7684\u5904\u7406\u5668\u80fd\u591f\u7edf\u4e00\u5904\u7406\u8bf7\u6c42\u3002</p> </li> <li>\u5728<code>.NET</code>\u4e2d\uff0c<code>DataAdapter</code> \u7528\u4e8e\u5728\u6570\u636e\u6e90\uff08\u5982\u6570\u636e\u5e93\uff09\u548c <code>DataSet</code> \u4e4b\u95f4\u5efa\u7acb\u9002\u914d\u5668\uff0c\u5c06\u6570\u636e\u4ece\u6570\u636e\u6e90\u9002\u914d\u5230 <code>DataSet</code> \u4e2d\uff0c\u4ee5\u4fbf\u5728.NET\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u3002</li> </ul>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>// \u6d4b\u8bd5\u7a0b\u5e8f\nimport java.util.Scanner;\n// USB \u63a5\u53e3\ninterface USB {\n    void charge();\n}\n\n// TypeC \u63a5\u53e3\ninterface TypeC {\n    void chargeWithTypeC();\n}\n\n// \u9002\u914d\u5668\u7c7b\nclass TypeCAdapter implements USB {\n    private TypeC typeC;\n\n    public TypeCAdapter(TypeC typeC) {\n        this.typeC = typeC;\n    }\n\n    @Override\n    public void charge() {\n        typeC.chargeWithTypeC();\n    }\n}\n\n// \u65b0\u7535\u8111\u7c7b\uff0c\u4f7f\u7528 TypeC \u63a5\u53e3\nclass NewComputer implements TypeC {\n    @Override\n    public void chargeWithTypeC() {\n        System.out.println(\"TypeC\");\n    }\n}\n\n// \u9002\u914d\u5668\u5145\u7535\u5668\u7c7b\uff0c\u4f7f\u7528 USB \u63a5\u53e3\nclass AdapterCharger implements USB {\n    @Override\n    public void charge() {\n        System.out.println(\"USB Adapter\");\n    }\n}\n\n\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u8bfb\u53d6\u8fde\u63a5\u6b21\u6570\n        int N = scanner.nextInt();\n        scanner.nextLine(); // \u6d88\u8017\u6362\u884c\u7b26\n\n        for (int i = 0; i &lt; N; i++) {\n            // \u8bfb\u53d6\u7528\u6237\u9009\u62e9\n            int choice = scanner.nextInt();\n\n            // \u6839\u636e\u7528\u6237\u7684\u9009\u62e9\u521b\u5efa\u76f8\u5e94\u5bf9\u8c61\n            if (choice == 1) {\n                TypeC newComputer = new NewComputer();\n                newComputer.chargeWithTypeC();\n            } else if (choice == 2) {\n                USB usbAdapter = new AdapterCharger();\n                usbAdapter.charge();\n            }\n        }\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u4ee3\u7801","text":""},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u7c7b\u9002\u914d\u5668\u6a21\u5f0f\u4ee3\u7801\uff1a</p> Java<pre><code>import java.util.*;\n\n// \u5b9a\u4e49\u8ba1\u7b97\u673a\u7aef\u53e3\u63a5\u53e3\ninterface ComputerPort {\n    void connect();\n}\n\n// TypeC\u7aef\u53e3\u7c7b\u5b9e\u73b0ComputerPort\u63a5\u53e3\nclass TypeCPort implements ComputerPort {\n    @Override\n    public void connect() {\n        System.out.println(\"TypeC\");\n    }\n}\n\n// USB\u8bbe\u5907\u7c7b\nclass USBDevice {\n    public void connectUSB() {\n        System.out.println(\"USB Adapter\");\n    }\n}\n\n// TypeC\u5230USB\u9002\u914d\u5668\u7c7b\nclass TypeCToUSBAdapter extends USBDevice implements ComputerPort {\n    @Override\n    public void connect() {\n        super.connectUSB();\n    }\n}\n\npublic class Main{\n    public static void main(String[] args) {\n        Scanner inputScanner = new Scanner(System.in);\n\n        Map&lt;Integer, ComputerPort&gt; connectionModes = new HashMap&lt;&gt;();\n        connectionModes.put(1, new TypeCPort());\n        connectionModes.put(2, new TypeCToUSBAdapter());\n\n        int totalConnections = inputScanner.nextInt();\n        inputScanner.nextLine();\n\n        while (inputScanner.hasNextInt()) {\n            int choice = inputScanner.nextInt();\n            connectionModes.getOrDefault(choice, () -&gt; System.out.println(\"\")).connect();\n        }\n\n        inputScanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n\n// USB \u63a5\u53e3\nclass USB {\npublic:\n    virtual void charge() = 0;\n};\n\n// TypeC \u63a5\u53e3\nclass TypeC {\npublic:\n    virtual void chargeWithTypeC() = 0;\n};\n\n// \u9002\u914d\u5668\u7c7b\nclass TypeCAdapter : public USB {\nprivate:\n    TypeC* typeC;\n\npublic:\n    TypeCAdapter(TypeC* typeC) : typeC(typeC) {}\n\n    void charge() override {\n        typeC-&gt;chargeWithTypeC();\n    }\n};\n\n// \u65b0\u7535\u8111\u7c7b\uff0c\u4f7f\u7528 TypeC \u63a5\u53e3\nclass NewComputer : public TypeC {\npublic:\n    void chargeWithTypeC() override {\n        std::cout &lt;&lt; \"TypeC\" &lt;&lt; std::endl;\n    }\n};\n\n// \u9002\u914d\u5668\u5145\u7535\u5668\u7c7b\uff0c\u4f7f\u7528 USB \u63a5\u53e3\nclass AdapterCharger : public USB {\npublic:\n    void charge() override {\n        std::cout &lt;&lt; \"USB Adapter\" &lt;&lt; std::endl;\n    }\n};\n\nint main() {\n    // \u8bfb\u53d6\u8fde\u63a5\u6b21\u6570\n    int N;\n    std::cin &gt;&gt; N;\n    std::cin.ignore(); // \u6d88\u8017\u6362\u884c\u7b26\n\n    for (int i = 0; i &lt; N; i++) {\n        // \u8bfb\u53d6\u7528\u6237\u9009\u62e9\n        int choice;\n        std::cin &gt;&gt; choice;\n\n        // \u6839\u636e\u7528\u6237\u7684\u9009\u62e9\u521b\u5efa\u76f8\u5e94\u5bf9\u8c61\n        if (choice == 1) {\n            TypeC* newComputer = new NewComputer();\n            newComputer-&gt;chargeWithTypeC();\n            delete newComputer;\n        } else if (choice == 2) {\n            USB* usbAdapter = new AdapterCharger();\n            usbAdapter-&gt;charge();\n            delete usbAdapter;\n        }\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code># USB \u63a5\u53e3\nclass USB:\n    def charge(self):\n        pass\n\n# TypeC \u63a5\u53e3\nclass TypeC:\n    def charge_with_type_c(self):\n        pass\n\n# \u9002\u914d\u5668\u7c7b\nclass TypeCAdapter(USB):\n    def __init__(self, type_c):\n        self.type_c = type_c\n\n    def charge(self):\n        self.type_c.charge_with_type_c()\n\n# \u65b0\u7535\u8111\u7c7b\uff0c\u4f7f\u7528 TypeC \u63a5\u53e3\nclass NewComputer(TypeC):\n    def charge_with_type_c(self):\n        print(\"TypeC\")\n\n# \u9002\u914d\u5668\u5145\u7535\u5668\u7c7b\uff0c\u4f7f\u7528 USB \u63a5\u53e3\nclass AdapterCharger(USB):\n    def charge(self):\n        print(\"USB Adapter\")\n\nif __name__ == \"__main__\":\n    # \u8bfb\u53d6\u8fde\u63a5\u6b21\u6570\n    N = int(input())\n\n    for _ in range(N):\n        # \u8bfb\u53d6\u7528\u6237\u9009\u62e9\n        choice = int(input())\n\n        # \u6839\u636e\u7528\u6237\u7684\u9009\u62e9\u521b\u5efa\u76f8\u5e94\u5bf9\u8c61\n        if choice == 1:\n            new_computer = NewComputer()\n            new_computer.charge_with_type_c()\n        elif choice == 2:\n            usb_adapter = AdapterCharger()\n            usb_adapter.charge()\n</code></pre>"},{"location":"DesignPattern/6-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// USB \u63a5\u53e3\ntype USB interface {\n    charge()\n}\n\n// TypeC \u63a5\u53e3\ntype TypeC interface {\n    chargeWithTypeC()\n}\n\n// \u9002\u914d\u5668\u7c7b\ntype TypeCAdapter struct {\n    typeC TypeC\n}\n\nfunc (tca *TypeCAdapter) charge() {\n    tca.typeC.chargeWithTypeC()\n}\n\n// \u65b0\u7535\u8111\u7c7b\uff0c\u4f7f\u7528 TypeC \u63a5\u53e3\ntype NewComputer struct{}\n\nfunc (nc *NewComputer) chargeWithTypeC() {\n    fmt.Println(\"TypeC\")\n}\n\n// \u9002\u914d\u5668\u5145\u7535\u5668\u7c7b\uff0c\u4f7f\u7528 USB \u63a5\u53e3\ntype AdapterCharger struct{}\n\nfunc (ac *AdapterCharger) charge() {\n    fmt.Println(\"USB Adapter\")\n}\n\nfunc main() {\n    var N int\n    fmt.Scan(&amp;N) // \u8bfb\u53d6\u8fde\u63a5\u6b21\u6570\n\n    for i := 0; i &lt; N; i++ {\n        var choice int\n        fmt.Scan(&amp;choice) // \u8bfb\u53d6\u7528\u6237\u9009\u62e9\n\n        // \u6839\u636e\u7528\u6237\u7684\u9009\u62e9\u521b\u5efa\u76f8\u5e94\u5bf9\u8c61\n        if choice == 1 {\n            newComputer := &amp;NewComputer{}\n            adapter := &amp;TypeCAdapter{typeC: newComputer}\n            adapter.charge()\n        } else if choice == 2 {\n            usbAdapter := &amp;AdapterCharger{}\n            usbAdapter.charge()\n        }\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/","title":"\u4ee3\u7406\u6a21\u5f0f","text":"<p> \u7ea6 1033 \u4e2a\u5b57  195 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u4ee3\u7406\u6a21\u5f0f<code>Proxy Pattern</code>\u662f\u4e00\u79cd\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7528\u4e8e\u63a7\u5236\u5bf9\u5176\u4ed6\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002</p> <p>\u5728\u4ee3\u7406\u6a21\u5f0f\u4e2d\uff0c\u5141\u8bb8\u4e00\u4e2a\u5bf9\u8c61\uff08\u4ee3\u7406\uff09\u5145\u5f53\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff08\u771f\u5b9e\u5bf9\u8c61\uff09\u7684\u63a5\u53e3\uff0c\u4ee5\u63a7\u5236\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002\u901a\u5e38\u7528\u4e8e\u5728\u8bbf\u95ee\u67d0\u4e2a\u5bf9\u8c61\u65f6\u5f15\u5165\u4e00\u4e9b\u95f4\u63a5\u5c42(\u4e2d\u4ecb\u7684\u4f5c\u7528)\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u8bbf\u95ee\u5bf9\u8c61\u65f6\u6dfb\u52a0\u989d\u5916\u7684\u63a7\u5236\u903b\u8f91\uff0c\u6bd4\u5982\u9650\u5236\u8bbf\u95ee\u6743\u9650\uff0c\u5ef6\u8fdf\u52a0\u8f7d\u3002</p> <p>\u6bd4\u5982\u8bf4\u6709\u4e00\u4e2a\u6587\u4ef6\u52a0\u8f7d\u7684\u573a\u666f\uff0c\u4e3a\u4e86\u907f\u514d\u76f4\u63a5\u8bbf\u95ee\u201c\u6587\u4ef6\u201d\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u65b0\u589e\u4e00\u4e2a\u4ee3\u7406\u5bf9\u8c61\uff0c\u4ee3\u7406\u5bf9\u8c61\u4e2d\u6709\u4e00\u4e2a\u5bf9\u201c\u6587\u4ef6\u5bf9\u8c61\u201d\u7684\u5f15\u7528\uff0c\u5728\u4ee3\u7406\u5bf9\u8c61\u7684 <code>load</code> \u65b9\u6cd5\u4e2d\uff0c\u53ef\u4ee5\u5728\u8bbf\u95ee\u771f\u5b9e\u7684\u6587\u4ef6\u5bf9\u8c61\u4e4b\u524d\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u6bd4\u5982\u6743\u9650\u68c0\u67e5\uff0c\u7136\u540e\u8c03\u7528\u771f\u5b9e\u6587\u4ef6\u5bf9\u8c61\u7684 <code>load</code> \u65b9\u6cd5\uff0c\u6700\u540e\u5728\u8bbf\u95ee\u771f\u5b9e\u5bf9\u8c61\u540e\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\uff0c\u6bd4\u5982\u8bb0\u5f55\u8bbf\u95ee\u65e5\u5fd7\u3002</p>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u4ee3\u7406\u6a21\u5f0f\u7684\u4e3b\u8981\u89d2\u8272\u6709\uff1a</p> <p></p> <ul> <li> <p>Subject\uff08\u62bd\u8c61\u4e3b\u9898\uff09\uff1a \u62bd\u8c61\u7c7b\uff0c\u901a\u8fc7\u63a5\u53e3\u6216\u62bd\u8c61\u7c7b\u58f0\u660e\u771f\u5b9e\u4e3b\u9898\u548c\u4ee3\u7406\u5bf9\u8c61\u5b9e\u73b0\u7684\u4e1a\u52a1\u65b9\u6cd5\u3002</p> </li> <li> <p>RealSubject\uff08\u771f\u5b9e\u4e3b\u9898\uff09\uff1a\u5b9a\u4e49\u4e86Proxy\u6240\u4ee3\u8868\u7684\u771f\u5b9e\u5bf9\u8c61\uff0c\u662f\u5ba2\u6237\u7aef\u6700\u7ec8\u8981\u8bbf\u95ee\u7684\u5bf9\u8c61\u3002</p> </li> <li>Proxy\uff08\u4ee3\u7406\uff09\uff1a\u5305\u542b\u4e00\u4e2a\u5f15\u7528\uff0c\u8be5\u5f15\u7528\u53ef\u4ee5\u662fRealSubject\u7684\u5b9e\u4f8b\uff0c\u63a7\u5236\u5bf9RealSubject\u7684\u8bbf\u95ee\uff0c\u5e76\u53ef\u80fd\u8d1f\u8d23\u521b\u5efa\u548c\u5220\u9664RealSubject\u7684\u5b9e\u4f8b\u3002</li> </ul>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#_4","title":"\u5b9e\u73b0\u65b9\u5f0f","text":"<p>\u4ee3\u7406\u6a21\u5f0f\u7684\u57fa\u672c\u5b9e\u73b0\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u5b9a\u4e49\u62bd\u8c61\u4e3b\u9898,  \u4e00\u822c\u662f\u63a5\u53e3\u6216\u8005\u62bd\u8c61\u7c7b\uff0c\u58f0\u660e\u771f\u5b9e\u4e3b\u9898\u548c\u4ee3\u7406\u5bf9\u8c61\u5b9e\u73b0\u7684\u4e1a\u52a1\u65b9\u6cd5\u3002</li> </ol> Java<pre><code>// 1. \u5b9a\u4e49\u62bd\u8c61\u4e3b\u9898\ninterface Subject {\n    void request();\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u771f\u5b9e\u4e3b\u9898\uff0c\u5b9e\u73b0\u62bd\u8c61\u4e3b\u9898\u4e2d\u7684\u5177\u4f53\u4e1a\u52a1</li> </ol> Java<pre><code>// 2. \u5b9a\u4e49\u771f\u5b9e\u4e3b\u9898\nclass RealSubject implements Subject {\n    @Override\n    public void request() {\n        System.out.println(\"RealSubject handles the request.\");\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u4ee3\u7406\u7c7b\uff0c\u5305\u542b\u5bf9<code>RealSubject</code>\u7684\u5f15\u7528\uff0c\u5e76\u63d0\u4f9b\u548c\u771f\u5b9e\u4e3b\u9898\u76f8\u540c\u7684\u63a5\u53e3\uff0c\u8fd9\u6837\u4ee3\u7406\u5c31\u53ef\u4ee5\u66ff\u4ee3\u771f\u5b9e\u4e3b\u9898\uff0c\u5e76\u5bf9\u771f\u5b9e\u4e3b\u9898\u8fdb\u884c\u529f\u80fd\u6269\u5c55\u3002</li> </ol> Java<pre><code>// 3. \u5b9a\u4e49\u4ee3\u7406\nclass Proxy implements Subject {\n    // \u5305\u542b\u4e00\u4e2a\u5f15\u7528\n    private RealSubject realSubject;\n\n    @Override\n    public void request() {\n        // \u5728\u8bbf\u95ee\u771f\u5b9e\u4e3b\u9898\u4e4b\u524d\u53ef\u4ee5\u6dfb\u52a0\u989d\u5916\u7684\u903b\u8f91\n        if (realSubject == null) {\n            realSubject = new RealSubject();\n        }\n        // \u8c03\u7528\u771f\u5b9e\u4e3b\u9898\u7684\u65b9\u6cd5\n        realSubject.request();\n\n        // \u5728\u8bbf\u95ee\u771f\u5b9e\u4e3b\u9898\u4e4b\u540e\u53ef\u4ee5\u6dfb\u52a0\u989d\u5916\u7684\u903b\u8f91\n    }\n}\n</code></pre> <ol> <li>\u5ba2\u6237\u7aef\u4f7f\u7528\u4ee3\u7406</li> </ol> Java<pre><code>// 4. \u5ba2\u6237\u7aef\u4f7f\u7528\u4ee3\u7406\npublic class Main {\n    public static void main(String[] args) {\n        // \u4f7f\u7528\u4ee3\u7406\n        Subject proxy = new Proxy();\n        proxy.request();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<p>\u4ee3\u7406\u6a21\u5f0f\u53ef\u4ee5\u63a7\u5236\u5ba2\u6237\u7aef\u5bf9\u771f\u5b9e\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0c\u4ece\u800c\u9650\u5236\u67d0\u4e9b\u5ba2\u6237\u7aef\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u6b64\u5916\u4ee3\u7406\u6a21\u5f0f\u8fd8\u5e38\u7528\u5728\u8bbf\u95ee\u771f\u5b9e\u5bf9\u8c61\u4e4b\u524d\u6216\u4e4b\u540e\u6267\u884c\u4e00\u4e9b\u989d\u5916\u7684\u64cd\u4f5c\uff08\u6bd4\u5982\u8bb0\u5f55\u65e5\u5fd7\uff09\uff0c\u5bf9\u529f\u80fd\u8fdb\u884c\u6269\u5c55\u3002</p> <p>\u4ee5\u4e0a\u7279\u6027\u51b3\u5b9a\u4e86\u4ee3\u7406\u6a21\u5f0f\u5728\u4ee5\u4e0b\u51e0\u4e2a\u573a\u666f\u4e2d\u6709\u7740\u5e7f\u6cdb\u7684\u5e94\u7528\uff1a</p> <ul> <li>\u865a\u62df\u4ee3\u7406\uff1a\u5f53\u4e00\u4e2a\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u521d\u59cb\u5316\u6bd4\u8f83\u6602\u8d35\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u865a\u62df\u4ee3\u7406\uff0c\u865a\u62df\u4ee3\u7406\u53ef\u4ee5\u5ef6\u8fdf\u5bf9\u8c61\u7684\u5b9e\u9645\u521b\u5efa\u548c\u521d\u59cb\u5316\uff0c\u53ea\u6709\u5728\u9700\u8981\u65f6\u624d\u771f\u6b63\u521b\u5efa\u5e76\u521d\u59cb\u5316\u5bf9\u8c61\u3002</li> <li>\u5b89\u5168\u4ee3\u7406\uff1a\u5b89\u5168\u4ee3\u7406\u53ef\u4ee5\u6839\u636e\u8bbf\u95ee\u8005\u7684\u6743\u9650\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u8bbf\u95ee\u771f\u5b9e\u5bf9\u8c61\u7684\u65b9\u6cd5\u3002</li> </ul> <p>\u4f46\u662f\u4ee3\u7406\u6a21\u5f0f\u6d89\u53ca\u5230\u591a\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u5f15\u5165\u4ee3\u7406\u6a21\u5f0f\u4f1a\u589e\u52a0\u7cfb\u7edf\u7684\u590d\u6742\u6027\uff0c\u5728\u9700\u8981\u9891\u7e41\u8bbf\u95ee\u771f\u5b9e\u5bf9\u8c61\u65f6\uff0c\u8fd8\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u4ee3\u7406\u6a21\u5f0f\u5728\u8bb8\u591a\u5de5\u5177\u548c\u5e93\u4e2d\u4e5f\u6709\u5e94\u7528\uff1a</p> <ul> <li>Spring \u6846\u67b6\u7684 AOP \u6a21\u5757\u4f7f\u7528\u4e86\u4ee3\u7406\u6a21\u5f0f\u6765\u5b9e\u73b0\u5207\u9762\u7f16\u7a0b\u3002\u901a\u8fc7\u4ee3\u7406\uff0cSpring \u80fd\u591f\u5728\u76ee\u6807\u5bf9\u8c61\u7684\u65b9\u6cd5\u6267\u884c\u524d\u3001\u6267\u884c\u540e\u6216\u629b\u51fa\u5f02\u5e38\u65f6\u63d2\u5165\u5207\u9762\u903b\u8f91\uff0c\u800c\u4e0d\u9700\u8981\u4fee\u6539\u539f\u59cb\u4ee3\u7801\u3002</li> <li>Java \u63d0\u4f9b\u4e86\u52a8\u6001\u4ee3\u7406\u673a\u5236\uff0c\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u751f\u6210\u4ee3\u7406\u7c7b\u3002</li> <li>Android\u4e2d\u7684Glide\u6846\u67b6\u4f7f\u7528\u4e86\u4ee3\u7406\u6a21\u5f0f\u6765\u5b9e\u73b0\u56fe\u7247\u7684\u5ef6\u8fdf\u52a0\u8f7d\u3002</li> </ul>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u62bd\u8c61\u4e3b\u9898\ninterface HomePurchase {\n    void requestPurchase(int area);\n}\n\n//\u771f\u5b9e\u4e3b\u9898\nclass HomeBuyer implements HomePurchase {\n    @Override\n    public void requestPurchase(int area) {\n        System.out.println(\"YES\");\n    }\n}\n\n// \u4ee3\u7406\u7c7b\nclass HomeAgentProxy implements HomePurchase {\n    private HomeBuyer homeBuyer = new HomeBuyer();\n\n    @Override\n    public void requestPurchase(int area) {\n        if (area &gt; 100) {\n            homeBuyer.requestPurchase(area);\n        } else {\n            System.out.println(\"NO\");\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        HomePurchase buyerProxy = new HomeAgentProxy();\n\n        int n = scanner.nextInt();\n        for (int i = 0; i &lt; n; i++) {\n            int area = scanner.nextInt();\n            buyerProxy.requestPurchase(area);\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#_7","title":"\u6269\u5c55\uff1a\u4ee3\u7406\u6a21\u5f0f\u548c\u9002\u914d\u5668\u6a21\u5f0f\u6709\u4ec0\u4e48\u533a\u522b","text":"<p>\u4ee3\u7406\u6a21\u5f0f\u7684\u4e3b\u8981\u76ee\u7684\u662f\u63a7\u5236\u5bf9\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002\u901a\u5e38\u7528\u4e8e\u5728\u8bbf\u95ee\u771f\u5b9e\u5bf9\u8c61\u65f6\u5f15\u5165\u4e00\u4e9b\u989d\u5916\u7684\u63a7\u5236\u903b\u8f91\uff0c\u5982\u6743\u9650\u63a7\u5236\u3001\u5ef6\u8fdf\u52a0\u8f7d\u7b49\u3002</p> <p>\u9002\u914d\u5668\u6a21\u5f0f\u7684\u4e3b\u8981\u76ee\u7684\u662f\u4f7f\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u5bf9\u8c61\u80fd\u591f\u534f\u540c\u5de5\u4f5c\u3002\u9002\u914d\u5668\u6a21\u5f0f\u5141\u8bb8\u5c06\u4e00\u4e2a\u7c7b\u7684\u63a5\u53e3\u8f6c\u6362\u6210\u53e6\u4e00\u4e2a\u7c7b\u7684\u63a5\u53e3\uff0c\u4f7f\u5f97\u4e0d\u540c\u63a5\u53e3\u7684\u7c7b\u53ef\u4ee5\u534f\u540c\u5de5\u4f5c\u3002</p>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#_8","title":"\u5176\u4ed6\u8bed\u8a00\u4ee3\u7801","text":""},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n\n// \u62bd\u8c61\u4e3b\u9898\nclass HomePurchase {\npublic:\n    virtual void requestPurchase(int area) = 0;\n};\n\n// \u771f\u5b9e\u4e3b\u9898\nclass HomeBuyer : public HomePurchase {\npublic:\n    void requestPurchase(int area) override {\n        std::cout &lt;&lt; \"YES\" &lt;&lt; std::endl;\n    }\n};\n\n// \u4ee3\u7406\u7c7b\nclass HomeAgentProxy : public HomePurchase {\nprivate:\n    HomeBuyer homeBuyer;\n\npublic:\n    void requestPurchase(int area) override {\n        if (area &gt; 100) {\n            homeBuyer.requestPurchase(area);\n        } else {\n            std::cout &lt;&lt; \"NO\" &lt;&lt; std::endl;\n        }\n    }\n};\n\nint main() {\n    HomePurchase* buyerProxy = new HomeAgentProxy();\n\n    int n;\n    std::cin &gt;&gt; n;\n\n    for (int i = 0; i &lt; n; i++) {\n        int area;\n        std::cin &gt;&gt; area;\n        buyerProxy-&gt;requestPurchase(area);\n    }\n\n    delete buyerProxy;\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code># \u62bd\u8c61\u4e3b\u9898\nclass HomePurchase:\n    def request_purchase(self, area):\n        pass\n\n# \u771f\u5b9e\u4e3b\u9898\nclass HomeBuyer(HomePurchase):\n    def request_purchase(self, area):\n        print(\"YES\")\n\n# \u4ee3\u7406\u7c7b\nclass HomeAgentProxy(HomePurchase):\n    def __init__(self):\n        self.home_buyer = HomeBuyer()\n\n    def request_purchase(self, area):\n        if area &gt; 100:\n            self.home_buyer.request_purchase(area)\n        else:\n            print(\"NO\")\n\nif __name__ == \"__main__\":\n    buyer_proxy = HomeAgentProxy()\n\n    n = int(input())\n    for _ in range(n):\n        area = int(input())\n        buyer_proxy.request_purchase(area)\n</code></pre>"},{"location":"DesignPattern/7-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// \u62bd\u8c61\u4e3b\u9898\ntype HomePurchase interface {\n    requestPurchase(area int)\n}\n\n// \u771f\u5b9e\u4e3b\u9898\ntype HomeBuyer struct{}\n\nfunc (hb *HomeBuyer) requestPurchase(area int) {\n    fmt.Println(\"YES\")\n}\n\n// \u4ee3\u7406\u7c7b\ntype HomeAgentProxy struct {\n    homeBuyer HomePurchase\n}\n\nfunc (hap *HomeAgentProxy) requestPurchase(area int) {\n    if area &gt; 100 {\n        hap.homeBuyer.requestPurchase(area)\n    } else {\n        fmt.Println(\"NO\")\n    }\n}\n\nfunc main() {\n    var buyerProxy HomePurchase = &amp;HomeAgentProxy{homeBuyer: &amp;HomeBuyer{}}\n\n    var n int\n    fmt.Scan(&amp;n)\n\n    for i := 0; i &lt; n; i++ {\n        var area int\n        fmt.Scan(&amp;area)\n        buyerProxy.requestPurchase(area)\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/","title":"\u88c5\u9970\u6a21\u5f0f","text":"<p> \u7ea6 741 \u4e2a\u5b57  534 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6269\u5c55\u7c7b\u7684\u529f\u80fd\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f\u5b9e\u73b0\uff0c\u4f46\u662f\u6269\u5c55\u8d8a\u591a\uff0c\u5b50\u7c7b\u8d8a\u591a\uff0c\u88c5\u9970\u6a21\u5f0f\uff08<code>Decorator Pattern</code>, \u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff09\u53ef\u4ee5\u5728 \u4e0d\u5b9a\u4e49\u5b50\u7c7b\u7684\u60c5\u51b5\u4e0b\u52a8\u6001\u7684\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u529f\u80fd\u3002 \u5177\u4f53\u7684\u505a\u6cd5\u662f\u5c06\u539f\u59cb\u5bf9\u8c61\u653e\u5165\u5305\u542b\u884c\u4e3a\u7684\u7279\u6b8a\u5c01\u88c5\u7c7b(\u88c5\u9970\u7c7b)\uff0c\u4ece\u800c\u4e3a\u539f\u59cb\u5bf9\u8c61\u52a8\u6001\u6dfb\u52a0\u65b0\u7684\u884c\u4e3a\uff0c\u800c\u65e0\u9700\u4fee\u6539\u5176\u4ee3\u7801\u3002</p> <p>\u4e3e\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u57fa\u7840\u7684\u56fe\u5f62\u7c7b\uff0c\u4f60\u60f3\u8981\u4e3a\u56fe\u5f62\u7c7b\u6dfb\u52a0\u989c\u8272\u3001\u8fb9\u6846\u3001\u9634\u5f71\u7b49\u529f\u80fd\uff0c\u5982\u679c\u6bcf\u4e2a\u529f\u80fd\u90fd\u5b9e\u73b0\u4e00\u4e2a\u5b50\u7c7b\uff0c\u5c31\u4f1a\u5bfc\u81f4\u4ea7\u751f\u5927\u91cf\u7684\u7c7b\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u6765\u52a8\u6001\u5730\u6dfb\u52a0\uff0c\u800c\u4e0d\u9700\u8981\u4fee\u6539\u56fe\u5f62\u7c7b\u672c\u8eab\u7684\u4ee3\u7801\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u7075\u6d3b\u3001\u66f4\u5bb9\u6613\u7ef4\u62a4\u548c\u6269\u5c55\u3002</p>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784\uff1a","text":"<p>\u88c5\u9970\u6a21\u5f0f\u5305\u542b\u4ee5\u4e0b\u56db\u4e2a\u4e3b\u8981\u89d2\u8272\uff1a</p> <p></p> <ul> <li>\u7ec4\u4ef6<code>Component</code>\uff1a\u901a\u5e38\u662f\u62bd\u8c61\u7c7b\u6216\u8005\u63a5\u53e3\uff0c\u662f\u5177\u4f53\u7ec4\u4ef6\u548c\u88c5\u9970\u8005\u7684\u7236\u7c7b\uff0c\u5b9a\u4e49\u4e86\u5177\u4f53\u7ec4\u4ef6\u9700\u8981\u5b9e\u73b0\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\u8bf4\u6211\u4eec\u5b9a\u4e49<code>Coffee</code>\u4e3a\u7ec4\u4ef6\u3002</li> <li>\u5177\u4f53\u7ec4\u4ef6<code>ConcreteComponent</code>: \u5b9e\u73b0\u4e86Component\u63a5\u53e3\u7684\u5177\u4f53\u7c7b\uff0c\u662f \u88ab\u88c5\u9970\u7684\u5bf9\u8c61 \u3002</li> <li>\u88c5\u9970\u7c7b<code>Decorator</code>:  \u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u7ed9\u5177\u4f53\u7ec4\u4ef6\u6dfb\u52a0\u529f\u80fd\uff0c\u4f46\u662f\u5177\u4f53\u7684\u529f\u80fd\u7531\u5176\u5b50\u7c7b\u5177\u4f53\u88c5\u9970\u8005\u5b8c\u6210\uff0c\u6301\u6709\u4e00\u4e2a\u6307\u5411Component\u5bf9\u8c61\u7684\u5f15\u7528\u3002</li> <li>\u5177\u4f53\u88c5\u9970\u7c7b<code>ConcreteDecorator</code>: \u6269\u5c55Decorator\u7c7b\uff0c\u8d1f\u8d23\u5411Component\u5bf9\u8c61\u6dfb\u52a0\u65b0\u7684\u884c\u4e3a\uff0c\u52a0\u725b\u5976\u7684\u5496\u5561\u662f\u4e00\u4e2a\u5177\u4f53\u88c5\u9970\u7c7b\uff0c\u52a0\u7cd6\u7684\u5496\u5561\u4e5f\u662f\u4e00\u4e2a\u5177\u4f53\u88c5\u9970\u7c7b\u3002</li> </ul>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#_4","title":"\u57fa\u672c\u5b9e\u73b0","text":"<p>\u88c5\u9970\u6a21\u5f0f\u7684\u5b9e\u73b0\u5305\u62ec\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u5b9a\u4e49Component\u63a5\u53e3</li> </ol> Java<pre><code>// \u7ec4\u4ef6\u63a5\u53e3\npublic interface Component {\n    void operation();\n}\n</code></pre> <ol> <li>\u5b9e\u73b0 ConcreteComponent</li> </ol> Java<pre><code>// \u5177\u4f53\u7ec4\u4ef6\npublic class ConcreteComponent implements Component {\n    @Override\n    public void operation() {\n        System.out.println(\"ConcreteComponent operation\");\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49Decorator\u88c5\u9970\u7c7b\uff0c\u7ee7\u627f\u81eaComponent</li> </ol> Java<pre><code>// \u5b9a\u4e49\u4e00\u4e2a\u62bd\u8c61\u7684\u88c5\u9970\u8005\u7c7b\uff0c\u7ee7\u627f\u81eaComponent\npublic abstract class Decorator implements Component {\n    protected Component component;\n\n    public Decorator(Component component) {\n        this.component = component;\n    }\n\n    @Override\n    public void operation() {\n        component.operation();\n    }\n}\n</code></pre> <ol> <li>\u5b9a\u4e49\u5177\u4f53\u7684\u88c5\u9970\u8005\u5b9e\u73b0\uff0c\u7ed9\u5177\u4f53\u7ec4\u4ef6\u5bf9\u8c61\u6dfb\u52a0\u529f\u80fd\u3002</li> </ol> Java<pre><code>// \u5177\u4f53\u7684\u88c5\u9970\u8005\u5b9e\u73b0\npublic class ConcreteDecorator extends Decorator {\n    public ConcreteDecorator(Component component) {\n        super(component);\n    }\n\n    // \u6839\u636e\u9700\u8981\u6dfb\u52a0\u989d\u5916\u7684\u65b9\u6cd5\n\n    @Override\n    public void operation() {\n        // \u53ef\u4ee5\u5728\u8c03\u7528\u524d\u540e\u6dfb\u52a0\u989d\u5916\u7684\u884c\u4e3a\n        System.out.println(\"Before operation in ConcreteDecorator\");\n        super.operation();\n        System.out.println(\"After operation in ConcreteDecorator\");\n    }\n}\n</code></pre> <ol> <li>\u5728\u5ba2\u6237\u7aef\u4f7f\u7528</li> </ol> Java<pre><code>public class Main {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u5177\u4f53\u7ec4\u4ef6\n        Component concreteComponent = new ConcreteComponent();\n\n        // \u4f7f\u7528\u5177\u4f53\u88c5\u9970\u8005\u5305\u88c5\u5177\u4f53\u7ec4\u4ef6\n        Decorator decorator = new ConcreteDecorator(concreteComponent);\n\n        // \u8c03\u7528\u64cd\u4f5c\n        decorator.operation();\n    }\n}\n</code></pre>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#_5","title":"\u5e94\u7528\u573a\u666f","text":"<p>\u88c5\u9970\u6a21\u5f0f\u901a\u5e38\u5728\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\u4f7f\u7528\uff1a</p> <ul> <li> <p>\u5f53\u9700\u8981\u7ed9\u4e00\u4e2a\u73b0\u6709\u7c7b\u6dfb\u52a0\u9644\u52a0\u529f\u80fd\uff0c\u4f46\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\u4e0d\u80fd\u4f7f\u7528\u7ee7\u627f\u6765\u751f\u6210\u5b50\u7c7b\u8fdb\u884c\u6269\u5145\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u3002</p> </li> <li> <p>\u52a8\u6001\u7684\u6dfb\u52a0\u548c\u8986\u76d6\u529f\u80fd\uff1a\u5f53\u5bf9\u8c61\u7684\u529f\u80fd\u8981\u6c42\u53ef\u4ee5\u52a8\u6001\u5730\u6dfb\u52a0\uff0c\u4e5f\u53ef\u4ee5\u518d\u52a8\u6001\u5730\u64a4\u9500\u65f6\u53ef\u4ee5\u4f7f\u7528\u88c5\u9970\u6a21\u5f0f\u3002</p> </li> </ul> <p>\u5728Java\u7684I/O\u5e93\u4e2d\uff0c\u88c5\u9970\u8005\u6a21\u5f0f\u88ab\u5e7f\u6cdb\u7528\u4e8e\u589e\u5f3aI/O\u6d41\u7684\u529f\u80fd\u3002\u4f8b\u5982\uff0c<code>BufferedInputStream</code>\u548c<code>BufferedOutputStream</code>\u8fd9\u4e24\u4e2a\u7c7b\u63d0\u4f9b\u4e86\u7f13\u51b2\u533a\u7684\u652f\u6301\uff0c\u901a\u8fc7\u5728\u5e95\u5c42\u7684\u8f93\u5165\u6d41\u548c\u8f93\u51fa\u6d41\u4e0a\u6dfb\u52a0\u7f13\u51b2\u533a\uff0c\u63d0\u9ad8\u4e86\u8bfb\u5199\u7684\u6548\u7387\uff0c\u5b83\u4eec\u90fd\u662f<code>InputStream</code>\u548c<code>OutputStream</code>\u7684\u88c5\u9970\u5668\u3002<code>BufferedReader</code>\u548c<code>BufferedWriter</code>\u8fd9\u4e24\u4e2a\u7c7b\u4e0e<code>BufferedInputStream</code>\u548c<code>BufferedOutputStream</code>\u7c7b\u4f3c\uff0c\u63d0\u4f9b\u4e86\u5b57\u7b26\u6d41\u7684\u7f13\u51b2\u529f\u80fd\uff0c\u662fReader\u548cWriter\u7684\u88c5\u9970\u8005\u3002</p>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\n// \u5496\u5561\u63a5\u53e3\ninterface Coffee {\n    void brew();\n}\n\n// \u5177\u4f53\u7684\u9ed1\u5496\u5561\u7c7b\nclass BlackCoffee implements Coffee {\n    @Override\n    public void brew() {\n        System.out.println(\"Brewing Black Coffee\");\n    }\n}\n\n// \u5177\u4f53\u7684\u62ff\u94c1\u7c7b\nclass Latte implements Coffee {\n    @Override\n    public void brew() {\n        System.out.println(\"Brewing Latte\");\n    }\n}\n\n// \u88c5\u9970\u8005\u62bd\u8c61\u7c7b\nabstract class Decorator implements Coffee {\n    protected Coffee coffee;\n\n    public Decorator(Coffee coffee) {\n        this.coffee = coffee;\n    }\n\n    @Override\n    public void brew() {\n        coffee.brew();\n    }\n}\n\n// \u5177\u4f53\u7684\u725b\u5976\u88c5\u9970\u8005\u7c7b\nclass MilkDecorator extends Decorator {\n    public MilkDecorator(Coffee coffee) {\n        super(coffee);\n    }\n\n    @Override\n    public void brew() {\n        super.brew();\n        System.out.println(\"Adding Milk\");\n    }\n}\n\n// \u5177\u4f53\u7684\u7cd6\u88c5\u9970\u8005\u7c7b\nclass SugarDecorator extends Decorator {\n    public SugarDecorator(Coffee coffee) {\n        super(coffee);\n    }\n\n    @Override\n    public void brew() {\n        super.brew();\n        System.out.println(\"Adding Sugar\");\n    }\n}\n\n// \u5ba2\u6237\u7aef\u4ee3\u7801\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        while (scanner.hasNext()) {\n            int coffeeType = scanner.nextInt();\n            int condimentType = scanner.nextInt();\n\n            // \u6839\u636e\u8f93\u5165\u5236\u4f5c\u5496\u5561\n            Coffee coffee;\n            if (coffeeType == 1) {\n                coffee = new BlackCoffee();\n            } else if (coffeeType == 2) {\n                coffee = new Latte();\n            } else {\n                System.out.println(\"Invalid coffee type\");\n                continue;\n            }\n\n            // \u6839\u636e\u8f93\u5165\u6dfb\u52a0\u8c03\u6599\n            if (condimentType == 1) {\n                coffee = new MilkDecorator(coffee);\n            } else if (condimentType == 2) {\n                coffee = new SugarDecorator(coffee);\n            } else {\n                System.out.println(\"Invalid condiment type\");\n                continue;\n            }\n\n            // \u8f93\u51fa\u5236\u4f5c\u8fc7\u7a0b\n            coffee.brew();\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#java","title":"Java","text":"<p>\u5c06\u5904\u7406\u8f93\u5165\u548c\u521b\u5efa\u5bf9\u8c61\u7684\u903b\u8f91\u5206\u79bb\u5230\u65b9\u6cd5\u4e2d\u3002</p> Java<pre><code>import java.util.Scanner;\n\n// \u5b9a\u4e49\u5496\u5561\u63a5\u53e3\ninterface Coffee {\n    void execute();\n}\n\n// \u9ed1\u5496\u5561\u7c7b\uff0c\u5b9e\u73b0\u5496\u5561\u63a5\u53e3\nclass BrewingBlackCoffee implements Coffee {\n    @Override\n    public void execute() {\n        System.out.println(\"Brewing Black Coffee\");\n    }\n}\n\n// \u62ff\u94c1\u7c7b\uff0c\u5b9e\u73b0\u5496\u5561\u63a5\u53e3\nclass BrewingLatte implements Coffee {\n    @Override\n    public void execute() {\n        System.out.println(\"Brewing Latte\");\n    }\n}\n\n// \u5496\u5561\u88c5\u9970\u5668\u62bd\u8c61\u7c7b\uff0c\u5b9e\u73b0\u5496\u5561\u63a5\u53e3\nabstract class Decorator implements Coffee {\n    private Coffee coffee;\n\n    public Decorator(Coffee coffee) {\n        this.coffee = coffee;\n    }\n\n    @Override\n    public void execute() {\n        coffee.execute();\n    }\n}\n\n// \u725b\u5976\u88c5\u9970\u5668\u7c7b\uff0c\u7ee7\u627f\u81ea\u88c5\u9970\u5668\u7c7b\nclass MilkDecorator extends Decorator {\n    public MilkDecorator(Coffee coffee) {\n        super(coffee);\n    }\n\n    @Override\n    public void execute() {\n        super.execute();\n        System.out.println(\"Adding Milk\");\n    }\n}\n\n// \u7cd6\u88c5\u9970\u5668\u7c7b\uff0c\u7ee7\u627f\u81ea\u88c5\u9970\u5668\u7c7b\nclass SugarDecorator extends Decorator {\n    public SugarDecorator(Coffee coffee) {\n        super(coffee);\n    }\n\n    @Override\n    public void execute() {\n        super.execute();\n        System.out.println(\"Adding Sugar\");\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        try {\n            String input;\n            while (scanner.hasNextLine()) {\n                input = scanner.nextLine();\n\n                if (input.equalsIgnoreCase(\"exit\")) {\n                    break;\n                }\n                processInput(input);\n            }\n        } catch (NumberFormatException e) {\n            System.out.println(\"\u8f93\u5165\u683c\u5f0f\u65e0\u6548\uff1a\" + e.getMessage());\n        } finally {\n            scanner.close();\n        }\n    }\n\n    // \u5904\u7406\u8f93\u5165\u7684\u65b9\u6cd5\n    private static void processInput(String input) {\n        String[] parts = input.split(\" \");\n        if (parts.length != 2) {\n            System.out.println(\"\u8f93\u5165\u683c\u5f0f\u65e0\u6548\u3002\u8bf7\u63d0\u4f9b\u4e24\u4e2a\u6570\u5b57\uff0c\u4e2d\u95f4\u7528\u7a7a\u683c\u5206\u9694\u3002\");\n            return;\n        }\n\n        try {\n            int type1 = Integer.parseInt(parts[0]);\n            int type2 = Integer.parseInt(parts[1]);\n\n            Coffee coffee = createCoffee(type1);\n            if (coffee == null) {\n                System.out.println(\"\u5496\u5561\u7c7b\u578b\u65e0\u6548\u3002\u8bf7\u8f93\u51651\uff08\u9ed1\u5496\u5561\uff09\u62162\uff08\u62ff\u94c1\uff09\u3002\");\n                return;\n            }\n\n            coffee = decorateCoffee(coffee, type2);\n            if (coffee == null) {\n                System.out.println(\"\u88c5\u9970\u7c7b\u578b\u65e0\u6548\u3002\u8bf7\u8f93\u51651\uff08\u725b\u5976\uff09\u62162\uff08\u7cd6\uff09\u3002\");\n                return;\n            }\n\n            coffee.execute();\n        } catch (NumberFormatException e) {\n            System.out.println(\"\u8f93\u5165\u683c\u5f0f\u65e0\u6548\uff1a\u4e24\u4e2a\u8f93\u5165\u90fd\u5fc5\u987b\u662f\u6570\u5b57\u3002\");\n        }\n    }\n\n    // \u521b\u5efa\u5496\u5561\u5bf9\u8c61\u7684\u65b9\u6cd5\n    private static Coffee createCoffee(int type) {\n        switch (type) {\n            case 1:\n                return new BrewingBlackCoffee();\n            case 2:\n                return new BrewingLatte();\n            default:\n                return null;\n        }\n    }\n\n    // \u6dfb\u52a0\u88c5\u9970\u5668\u7684\u65b9\u6cd5\n    private static Coffee decorateCoffee(Coffee coffee, int type) {\n        switch (type) {\n            case 1:\n                return new MilkDecorator(coffee);\n            case 2:\n                return new SugarDecorator(coffee);\n            default:\n                return null;\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;memory&gt;\n\n// \u5496\u5561\u63a5\u53e3\nclass Coffee {\npublic:\n    virtual ~Coffee() {}\n    virtual void brew() = 0;\n};\n\n// \u5177\u4f53\u7684\u9ed1\u5496\u5561\u7c7b\nclass BlackCoffee : public Coffee {\npublic:\n    void brew() override {\n        std::cout &lt;&lt; \"Brewing Black Coffee\" &lt;&lt; std::endl;\n    }\n};\n\n// \u5177\u4f53\u7684\u62ff\u94c1\u7c7b\nclass Latte : public Coffee {\npublic:\n    void brew() override {\n        std::cout &lt;&lt; \"Brewing Latte\" &lt;&lt; std::endl;\n    }\n};\n\n// \u88c5\u9970\u8005\u62bd\u8c61\u7c7b\nclass Decorator : public Coffee {\nprotected:\n    std::unique_ptr&lt;Coffee&gt; coffee;\n\npublic:\n    Decorator(std::unique_ptr&lt;Coffee&gt; coffee) : coffee(std::move(coffee)) {}\n\n    void brew() override {\n        if (coffee) {\n            coffee-&gt;brew();\n        }\n    }\n};\n\n// \u5177\u4f53\u7684\u725b\u5976\u88c5\u9970\u8005\u7c7b\nclass MilkDecorator : public Decorator {\npublic:\n    MilkDecorator(std::unique_ptr&lt;Coffee&gt; coffee) : Decorator(std::move(coffee)) {}\n\n    void brew() override {\n        Decorator::brew();\n        std::cout &lt;&lt; \"Adding Milk\" &lt;&lt; std::endl;\n    }\n};\n\n// \u5177\u4f53\u7684\u7cd6\u88c5\u9970\u8005\u7c7b\nclass SugarDecorator : public Decorator {\npublic:\n    SugarDecorator(std::unique_ptr&lt;Coffee&gt; coffee) : Decorator(std::move(coffee)) {}\n\n    void brew() override {\n        Decorator::brew();\n        std::cout &lt;&lt; \"Adding Sugar\" &lt;&lt; std::endl;\n    }\n};\n\n// \u5ba2\u6237\u7aef\u4ee3\u7801\nint main() {\n    int coffeeType, condimentType;\n    while (std::cin &gt;&gt; coffeeType &gt;&gt; condimentType) {\n        // \u6839\u636e\u8f93\u5165\u5236\u4f5c\u5496\u5561\n        std::unique_ptr&lt;Coffee&gt; coffee;\n\n        if (coffeeType == 1) {\n            coffee = std::make_unique&lt;BlackCoffee&gt;();\n        } else if (coffeeType == 2) {\n            coffee = std::make_unique&lt;Latte&gt;();\n        } else {\n            std::cout &lt;&lt; \"Invalid coffee type\" &lt;&lt; std::endl;\n            continue;\n        }\n\n        // \u6839\u636e\u8f93\u5165\u6dfb\u52a0\u8c03\u6599\n        if (condimentType == 1) {\n            coffee = std::make_unique&lt;MilkDecorator&gt;(std::move(coffee));\n        } else if (condimentType == 2) {\n            coffee = std::make_unique&lt;SugarDecorator&gt;(std::move(coffee));\n        } else {\n            std::cout &lt;&lt; \"Invalid condiment type\" &lt;&lt; std::endl;\n            continue;\n        }\n\n        // \u8f93\u51fa\u5236\u4f5c\u8fc7\u7a0b\n        coffee-&gt;brew();\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>from abc import ABC, abstractmethod\nfrom typing import Type\n\n# \u5496\u5561\u63a5\u53e3\nclass Coffee(ABC):\n    @abstractmethod\n    def brew(self):\n        pass\n\n# \u5177\u4f53\u7684\u9ed1\u5496\u5561\u7c7b\nclass BlackCoffee(Coffee):\n    def brew(self):\n        print(\"Brewing Black Coffee\")\n\n# \u5177\u4f53\u7684\u62ff\u94c1\u7c7b\nclass Latte(Coffee):\n    def brew(self):\n        print(\"Brewing Latte\")\n\n# \u88c5\u9970\u8005\u62bd\u8c61\u7c7b\nclass Decorator(Coffee, ABC):\n    def __init__(self, coffee: Type[Coffee]):\n        self._coffee = coffee\n\n    def brew(self):\n        self._coffee.brew()\n\n# \u5177\u4f53\u7684\u725b\u5976\u88c5\u9970\u8005\u7c7b\nclass MilkDecorator(Decorator):\n    def brew(self):\n        super().brew()\n        print(\"Adding Milk\")\n\n# \u5177\u4f53\u7684\u7cd6\u88c5\u9970\u8005\u7c7b\nclass SugarDecorator(Decorator):\n    def brew(self):\n        super().brew()\n        print(\"Adding Sugar\")\n\n# \u5ba2\u6237\u7aef\u4ee3\u7801\nif __name__ == \"__main__\":\n    try:\n        while True:\n            coffee_type, condiment_type = map(int, input().split())\n\n            # \u6839\u636e\u8f93\u5165\u5236\u4f5c\u5496\u5561\n            if coffee_type == 1:\n                coffee = BlackCoffee()\n            elif coffee_type == 2:\n                coffee = Latte()\n            else:\n                print(\"Invalid coffee type\")\n                continue\n\n            # \u6839\u636e\u8f93\u5165\u6dfb\u52a0\u8c03\u6599\n            if condiment_type == 1:\n                coffee = MilkDecorator(coffee)\n            elif condiment_type == 2:\n                coffee = SugarDecorator(coffee)\n            else:\n                print(\"Invalid condiment type\")\n                continue\n\n            # \u8f93\u51fa\u5236\u4f5c\u8fc7\u7a0b\n            coffee.brew()\n\n    except EOFError:\n        pass\n</code></pre>"},{"location":"DesignPattern/8-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// \u5496\u5561\u63a5\u53e3\ntype Coffee interface {\n    brew()\n}\n\n// \u5177\u4f53\u7684\u9ed1\u5496\u5561\u7c7b\ntype BlackCoffee struct{}\n\nfunc (bc *BlackCoffee) brew() {\n    fmt.Println(\"Brewing Black Coffee\")\n}\n\n// \u5177\u4f53\u7684\u62ff\u94c1\u7c7b\ntype Latte struct{}\n\nfunc (l *Latte) brew() {\n    fmt.Println(\"Brewing Latte\")\n}\n\n// \u88c5\u9970\u8005\u62bd\u8c61\u7c7b\ntype Decorator struct {\n    coffee Coffee\n}\n\nfunc (d *Decorator) brew() {\n    d.coffee.brew()\n}\n\n// \u5177\u4f53\u7684\u725b\u5976\u88c5\u9970\u8005\u7c7b\ntype MilkDecorator struct {\n    Decorator\n}\n\nfunc (md *MilkDecorator) brew() {\n    md.Decorator.brew()\n    fmt.Println(\"Adding Milk\")\n}\n\n// \u5177\u4f53\u7684\u7cd6\u88c5\u9970\u8005\u7c7b\ntype SugarDecorator struct {\n    Decorator\n}\n\nfunc (sd *SugarDecorator) brew() {\n    sd.Decorator.brew()\n    fmt.Println(\"Adding Sugar\")\n}\n\nfunc main() {\n    for {\n        var coffeeType, condimentType int\n        if _, err := fmt.Scan(&amp;coffeeType, &amp;condimentType); err != nil {\n            break\n        }\n\n        // \u6839\u636e\u8f93\u5165\u5236\u4f5c\u5496\u5561\n        var coffee Coffee\n        if coffeeType == 1 {\n            coffee = &amp;BlackCoffee{}\n        } else if coffeeType == 2 {\n            coffee = &amp;Latte{}\n        } else {\n            fmt.Println(\"Invalid coffee type\")\n            continue\n        }\n\n        // \u6839\u636e\u8f93\u5165\u6dfb\u52a0\u8c03\u6599\n        if condimentType == 1 {\n            coffee = &amp;MilkDecorator{Decorator: Decorator{coffee: coffee}}\n        } else if condimentType == 2 {\n            coffee = &amp;SugarDecorator{Decorator: Decorator{coffee: coffee}}\n        } else {\n            fmt.Println(\"Invalid condiment type\")\n            continue\n        }\n\n        // \u8f93\u51fa\u5236\u4f5c\u8fc7\u7a0b\n        coffee.brew()\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/","title":"\u5916\u89c2\u6a21\u5f0f","text":"<p> \u7ea6 836 \u4e2a\u5b57  300 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u5916\u89c2\u6a21\u5f0f<code>Facade Pattern</code>,  \u4e5f\u88ab\u79f0\u4e3a\u201c\u95e8\u9762\u6a21\u5f0f\u201d\uff0c\u662f\u4e00\u79cd\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5916\u89c2\u6a21\u5f0f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u9ad8\u5c42\u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u4f7f\u5f97\u5b50\u7cfb\u7edf\u66f4\u5bb9\u6613\u4f7f\u7528\uff0c\u540c\u65f6\u4e5f\u9690\u85cf\u4e86\u5b50\u7cfb\u7edf\u7684\u590d\u6742\u6027\u3002</p> <p>\u95e8\u9762\u6a21\u5f0f\u53ef\u4ee5\u5c06\u5b50\u7cfb\u7edf\u5173\u5728\u201c\u95e8\u91cc\u201d\u9690\u85cf\u8d77\u6765\uff0c\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u901a\u8fc7\u5916\u89c2\u63a5\u53e3\u4e0e\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\u4ea4\u4e92\uff0c\u800c\u4e0d\u9700\u8981\u76f4\u63a5\u548c\u591a\u4e2a\u5b50\u7cfb\u7edf\u4ea4\u4e92\uff0c\u65e0\u8bba\u5b50\u7cfb\u7edf\u591a\u4e48\u590d\u6742\uff0c\u5bf9\u4e8e\u5916\u90e8\u6765\u8bf4\u662f\u9690\u85cf\u7684\uff0c\u8fd9\u6837\u53ef\u4ee5\u964d\u4f4e\u7cfb\u7edf\u7684\u8026\u5408\u5ea6\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u4f60\u6b63\u5728\u7f16\u5199\u7684\u4e00\u4e2a\u6a21\u5757\u7528\u6765\u5904\u7406\u6587\u4ef6\u8bfb\u53d6\u3001\u89e3\u6790\u3001\u5b58\u50a8\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u8fc7\u7a0b\u62c6\u6210\u4e09\u90e8\u5206\uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u5916\u89c2\u7c7b\uff0c\u5c06\u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c\u3001\u6570\u636e\u89e3\u6790\u548c\u5b58\u50a8\u64cd\u4f5c\u5c01\u88c5\u5728\u5916\u89c2\u7c7b\u4e2d\uff0c\u4e3a\u5ba2\u6237\u7aef\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5316\u7684\u63a5\u53e3\uff0c\u5982\u679c\u540e\u7eed\u9700\u8981\u4fee\u6539\u6587\u4ef6\u5904\u7406\u7684\u6d41\u7a0b\u6216\u66ff\u6362\u5e95\u5c42\u5b50\u7cfb\u7edf\uff0c\u4e5f\u53ea\u9700\u5728\u5916\u89c2\u7c7b\u4e2d\u8fdb\u884c\u8c03\u6574\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5ba2\u6237\u7aef\u4ee3\u7801\u3002</p>"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#_3","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>\u5916\u89c2\u6a21\u5f0f\u7684\u57fa\u672c\u7ed3\u6784\u6bd4\u8f83\u7b80\u5355\uff0c\u53ea\u5305\u62ec\u201c\u5916\u89c2\u201d\u548c\u201c\u5b50\u7cfb\u7edf\u7c7b\u201d</p> <p></p> <ul> <li>\u5916\u89c2\u7c7b\uff1a\u5bf9\u5916\u63d0\u4f9b\u4e00\u4e2a\u7edf\u4e00\u7684\u9ad8\u5c42\u6b21\u63a5\u53e3\uff0c\u4f7f\u590d\u6742\u7684\u5b50\u7cfb\u7edf\u53d8\u5f97\u66f4\u6613\u4f7f\u7528\u3002</li> <li>\u5b50\u7cfb\u7edf\u7c7b\uff1a\u5b9e\u73b0\u5b50\u7cfb\u7edf\u7684\u529f\u80fd\uff0c\u5904\u7406\u5916\u89c2\u7c7b\u6307\u6d3e\u7684\u4efb\u52a1\u3002</li> </ul>"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#_4","title":"\u7b80\u6613\u5b9e\u73b0","text":"<p>\u4e0b\u9762\u4f7f\u7528Java\u4ee3\u7801\u5b9e\u73b0\u5916\u89c2\u6a21\u5f0f\u7684\u901a\u7528\u7ed3\u6784</p> Java<pre><code>// \u5b50\u7cfb\u7edfA\nclass SubsystemA {\n    public void operationA() {\n        System.out.println(\"SubsystemA operation\");\n    }\n}\n\n// \u5b50\u7cfb\u7edfB\nclass SubsystemB {\n    public void operationB() {\n        System.out.println(\"SubsystemB operation\");\n    }\n}\n\n// \u5b50\u7cfb\u7edfC\nclass SubsystemC {\n    public void operationC() {\n        System.out.println(\"SubsystemC operation\");\n    }\n}\n\n// \u5916\u89c2\u7c7b\nclass Facade {\n    private SubsystemA subsystemA;\n    private SubsystemB subsystemB;\n    private SubsystemC subsystemC;\n\n    public Facade() {\n        this.subsystemA = new SubsystemA();\n        this.subsystemB = new SubsystemB();\n        this.subsystemC = new SubsystemC();\n    }\n\n    // \u5916\u89c2\u65b9\u6cd5\uff0c\u5c01\u88c5\u4e86\u5bf9\u5b50\u7cfb\u7edf\u7684\u64cd\u4f5c\n    public void facadeOperation() {\n        subsystemA.operationA();\n        subsystemB.operationB();\n        subsystemC.operationC();\n    }\n}\n\n// \u5ba2\u6237\u7aef\npublic class Main {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u5916\u89c2\u5bf9\u8c61\n        Facade facade = new Facade();\n\n        // \u5ba2\u6237\u7aef\u901a\u8fc7\u5916\u89c2\u7c7b\u8c03\u7528\u5b50\u7cfb\u7edf\u7684\u64cd\u4f5c\n        facade.facadeOperation();\n    }\n}\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c<code>Facade</code> \u7c7b\u662f\u5916\u89c2\u7c7b\uff0c\u5c01\u88c5\u4e86\u5bf9\u4e09\u4e2a\u5b50\u7cfb\u7edf<code>SubSystem</code>\u7684\u64cd\u4f5c\u3002\u5ba2\u6237\u7aef\u901a\u8fc7\u8c03\u7528\u5916\u89c2\u7c7b\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u5bf9\u5b50\u7cfb\u7edf\u7684\u8bbf\u95ee\uff0c\u800c\u4e0d\u9700\u8981\u76f4\u63a5\u8c03\u7528\u5b50\u7cfb\u7edf\u7684\u65b9\u6cd5\u3002</p>"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#_5","title":"\u4f18\u7f3a\u70b9\u548c\u4f7f\u7528\u573a\u666f","text":"<p>\u5916\u89c2\u6a21\u5f0f\u901a\u8fc7\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5316\u7684\u63a5\u53e3\uff0c\u9690\u85cf\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u6027\uff0c\u964d\u4f4e\u4e86\u5ba2\u6237\u7aef\u548c\u5b50\u7cfb\u7edf\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\uff0c\u5ba2\u6237\u7aef\u4e0d\u9700\u8981\u4e86\u89e3\u7cfb\u7edf\u7684\u5185\u90e8\u5b9e\u73b0\u7ec6\u8282\uff0c\u4e5f\u4e0d\u9700\u8981\u76f4\u63a5\u548c\u591a\u4e2a\u5b50\u7cfb\u7edf\u4ea4\u4e92\uff0c\u53ea\u9700\u8981\u901a\u8fc7\u5916\u89c2\u63a5\u53e3\u4e0e\u5916\u89c2\u5bf9\u8c61\u8fdb\u884c\u4ea4\u4e92\u3002</p> <p>\u4f46\u662f\u5982\u679c\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u5b50\u7cfb\u7edf\u6216\u4fee\u6539\u5b50\u7cfb\u7edf\u7684\u884c\u4e3a\uff0c\u5c31\u53ef\u80fd\u9700\u8981\u4fee\u6539\u5916\u89c2\u7c7b\uff0c\u8fd9\u8fdd\u80cc\u4e86\u201c\u5f00\u95ed\u539f\u5219\u201d\u3002</p> <p>\u5916\u89c2\u6a21\u5f0f\u7684\u5e94\u7528\u4e5f\u5341\u5206\u666e\u904d\uff0c\u4e0b\u9762\u51e0\u79cd\u60c5\u51b5\u90fd\u4f7f\u7528\u4e86\u5916\u89c2\u6a21\u5f0f\u6765\u8fdb\u884c\u7b80\u5316\u3002</p> <ul> <li>Spring\u6846\u67b6\u662f\u4e00\u4e2a\u5e7f\u6cdb\u4f7f\u7528\u5916\u89c2\u6a21\u5f0f\u7684\u4f8b\u5b50\u3002Spring\u6846\u67b6\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5927\u91cf\u7684\u529f\u80fd\uff0c\u5305\u62ec\u4f9d\u8d56\u6ce8\u5165\u3001\u9762\u5411\u5207\u9762\u7f16\u7a0b\uff08AOP\uff09\u3001\u4e8b\u52a1\u7ba1\u7406\u7b49\u3002Spring\u7684<code>ApplicationContext</code>\u53ef\u4ee5\u770b\u4f5c\u662f\u5916\u89c2\uff0c\u9690\u85cf\u4e86\u5e95\u5c42\u7ec4\u4ef6\u7684\u590d\u6742\u6027\uff0c\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u66f4\u8f7b\u677e\u5730\u4f7f\u7528Spring\u7684\u529f\u80fd\u3002</li> <li>JDBC\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7528\u4e8e\u4e0e\u6570\u636e\u5e93\u4ea4\u4e92\u7684\u63a5\u53e3\u3002<code>DriverManager</code>\u7c7b\u53ef\u4ee5\u770b\u4f5c\u662f\u5916\u89c2\uff0c\u5b83\u7b80\u5316\u4e86\u6570\u636e\u5e93\u9a71\u52a8\u7684\u52a0\u8f7d\u548c\u8fde\u63a5\u7684\u8fc7\u7a0b\uff0c\u9690\u85cf\u4e86\u5e95\u5c42\u6570\u636e\u5e93\u8fde\u63a5\u7684\u590d\u6742\u6027\u3002</li> <li>Android\u7cfb\u7edf\u7684API\u4e2d\u4e5f\u4f7f\u7528\u4e86\u5916\u89c2\u6a21\u5f0f\u3002\u4f8b\u5982\uff0c<code>Activity</code>\u7c7b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5916\u89c2\uff0c\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u7ba1\u7406\u5e94\u7528\u7684\u751f\u547d\u5468\u671f\uff0c\u800c\u65e0\u9700\u5173\u5fc3\u5e95\u5c42\u7684\u4e8b\u4ef6\u548c\u72b6\u6001\u7ba1\u7406\u3002</li> </ul>"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#_6","title":"\u672c\u9898\u4ee3\u7801","text":"Java<pre><code>import java.util.Scanner;\n\nclass AirConditioner {\n    public void turnOff() {\n        System.out.println(\"Air Conditioner is turned off.\");\n    }\n}\nclass DeskLamp {\n    public void turnOff() {\n        System.out.println(\"Desk Lamp is turned off.\");\n    }\n}\nclass Television {\n    public void turnOff() {\n        System.out.println(\"Television is turned off.\");\n    }\n}\n\nclass PowerSwitchFacade {\n    private DeskLamp deskLamp;\n    private AirConditioner airConditioner;\n    private Television television;\n\n    public PowerSwitchFacade() {\n        this.deskLamp = new DeskLamp();\n        this.airConditioner = new AirConditioner();\n        this.television = new Television();\n    }\n\n    public void turnOffDevice(int deviceCode) {\n        switch (deviceCode) {\n            case 1:\n                airConditioner.turnOff();\n                break;\n            case 2:\n                deskLamp.turnOff();\n                break;\n            case 3:\n                television.turnOff();\n                break;\n            case 4:\n                System.out.println(\"All devices are off.\");\n                break;\n            default:\n                System.out.println(\"Invalid device code.\");\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // \u8bfb\u53d6\u8f93\u5165\n        int n = scanner.nextInt();\n        int[] input = new int[n];\n\n        for (int i = 0; i &lt; n; i++) {\n            input[i] = scanner.nextInt();\n        }\n\n        // \u521b\u5efa\u7535\u6e90\u603b\u5f00\u5173\u5916\u89c2\n        PowerSwitchFacade powerSwitch = new PowerSwitchFacade();\n\n        // \u6267\u884c\u64cd\u4f5c\n        for (int i = 0; i &lt; n; i++) {\n            powerSwitch.turnOffDevice(input[i]);\n        }\n    }\n}\n</code></pre>"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#_7","title":"\u5176\u4ed6\u8bed\u8a00\u7248\u672c","text":""},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#c","title":"C++","text":"C++<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nclass AirConditioner {\npublic:\n    void turnOff() {\n        std::cout &lt;&lt; \"Air Conditioner is turned off.\" &lt;&lt; std::endl;\n    }\n};\n\nclass DeskLamp {\npublic:\n    void turnOff() {\n        std::cout &lt;&lt; \"Desk Lamp is turned off.\" &lt;&lt; std::endl;\n    }\n};\n\nclass Television {\npublic:\n    void turnOff() {\n        std::cout &lt;&lt; \"Television is turned off.\" &lt;&lt; std::endl;\n    }\n};\n\nclass PowerSwitchFacade {\nprivate:\n    DeskLamp deskLamp;\n    AirConditioner airConditioner;\n    Television television;\n\npublic:\n    PowerSwitchFacade() {\n    }\n\n    void turnOffDevice(int deviceCode) {\n        switch (deviceCode) {\n            case 1:\n                airConditioner.turnOff();\n                break;\n            case 2:\n                deskLamp.turnOff();\n                break;\n            case 3:\n                television.turnOff();\n                break;\n            case 4:\n                std::cout &lt;&lt; \"All devices are off.\" &lt;&lt; std::endl;\n                break;\n            default:\n                std::cout &lt;&lt; \"Invalid device code.\" &lt;&lt; std::endl;\n        }\n    }\n};\n\nint main() {\n    // \u8bfb\u53d6\u8f93\u5165\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;int&gt; input(n);\n\n    for (int i = 0; i &lt; n; i++) {\n        std::cin &gt;&gt; input[i];\n    }\n\n    // \u521b\u5efa\u7535\u6e90\u603b\u5f00\u5173\u5916\u89c2\n    PowerSwitchFacade powerSwitch;\n\n    // \u6267\u884c\u64cd\u4f5c\n    for (int i = 0; i &lt; n; i++) {\n        powerSwitch.turnOffDevice(input[i]);\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#python","title":"Python","text":"Python<pre><code>class AirConditioner:\n    def turn_off(self):\n        print(\"Air Conditioner is turned off.\")\n\nclass DeskLamp:\n    def turn_off(self):\n        print(\"Desk Lamp is turned off.\")\n\nclass Television:\n    def turn_off(self):\n        print(\"Television is turned off.\")\n\nclass PowerSwitchFacade:\n    def __init__(self):\n        self.desk_lamp = DeskLamp()\n        self.air_conditioner = AirConditioner()\n        self.television = Television()\n\n    def turn_off_device(self, device_code):\n        if device_code == 1:\n            self.air_conditioner.turn_off()\n        elif device_code == 2:\n            self.desk_lamp.turn_off()\n        elif device_code == 3:\n            self.television.turn_off()\n        elif device_code == 4:\n            print(\"All devices are off.\")\n        else:\n            print(\"Invalid device code.\")\n\nif __name__ == \"__main__\":\n    # \u8bfb\u53d6\u8f93\u5165\n    n = int(input())\n    input_data = [int(input()) for _ in range(n)]\n\n    # \u521b\u5efa\u7535\u6e90\u603b\u5f00\u5173\u5916\u89c2\n    power_switch = PowerSwitchFacade()\n\n    # \u6267\u884c\u64cd\u4f5c\n    for device_code in input_data:\n        power_switch.turn_off_device(device_code)\n</code></pre>"},{"location":"DesignPattern/9-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/#go","title":"Go","text":"Go<pre><code>package main\n\nimport \"fmt\"\n\n// AirConditioner \u7c7b\ntype AirConditioner struct{}\n\nfunc (ac *AirConditioner) turnOff() {\n    fmt.Println(\"Air Conditioner is turned off.\")\n}\n\n// DeskLamp \u7c7b\ntype DeskLamp struct{}\n\nfunc (dl *DeskLamp) turnOff() {\n    fmt.Println(\"Desk Lamp is turned off.\")\n}\n\n// Television \u7c7b\ntype Television struct{}\n\nfunc (tv *Television) turnOff() {\n    fmt.Println(\"Television is turned off.\")\n}\n\n// PowerSwitchFacade \u7c7b\ntype PowerSwitchFacade struct {\n    deskLamp       DeskLamp\n    airConditioner AirConditioner\n    television     Television\n}\n\nfunc (psf *PowerSwitchFacade) turnOffDevice(deviceCode int) {\n    switch deviceCode {\n    case 1:\n        psf.airConditioner.turnOff()\n    case 2:\n        psf.deskLamp.turnOff()\n    case 3:\n        psf.television.turnOff()\n    case 4:\n        fmt.Println(\"All devices are off.\")\n    default:\n        fmt.Println(\"Invalid device code.\")\n    }\n}\n\nfunc main() {\n    var n int\n    fmt.Scan(&amp;n) // \u8bfb\u53d6\u8f93\u5165\n\n    input := make([]int, n)\n    for i := 0; i &lt; n; i++ {\n        fmt.Scan(&amp;input[i])\n    }\n\n    // \u521b\u5efa\u7535\u6e90\u603b\u5f00\u5173\u5916\u89c2\n    powerSwitch := PowerSwitchFacade{}\n\n    // \u6267\u884c\u64cd\u4f5c\n    for i := 0; i &lt; n; i++ {\n        powerSwitch.turnOffDevice(input[i])\n    }\n}\n</code></pre> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Docker/Docker/","title":"Docker","text":"Docker \u7b80\u660e\u6559\u7a0b"},{"location":"Docker/Docker/#contents","title":"Contents","text":"<p> \u7ea6 3693 \u4e2a\u5b57  19 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p> <ul> <li>Contents</li> <li>\ud83e\udd14 Docker \u6982\u89c8</li> <li>\u4e3a\u4ec0\u4e48\u8981\u6709 Docker\uff1f</li> <li>\u5bb9\u5668\u548c\u865a\u62df\u673a\u6280\u672f\u7684\u533a\u522b</li> <li>Docker\uff1a\u8d62</li> <li>\ud83e\udd70 Docker \u7684\u5b89\u88c5</li> <li>Mac OS \u53ca Windows \u7cfb\u7edf\u4e0b Docker \u7684\u5b89\u88c5</li> <li>Linux \u7cfb\u7edf\u4e0b Docker \u7684\u5b89\u88c5<ul> <li>\u4e0d\u4f7f\u7528 sudo \u547d\u4ee4\u6267\u884c Docker</li> </ul> </li> <li>\u5feb\u901f\u786e\u8ba4</li> <li>\ud83d\ude06 Docker\uff1a\u4ece\u8fd9\u91cc\u5f00\u59cb</li> <li>Hello World</li> <li>Docker \u7684\u57fa\u672c\u547d\u4ee4<ul> <li>1. Docker \u8fd0\u884c</li> <li>2. Docker \u6784\u5efa</li> <li>3. Docker pull</li> <li>4. Docker push</li> <li>5. Docker images</li> <li>6. Docker ps</li> <li>7. Docker stop</li> <li>8. Docker start</li> <li>9. Docker restart</li> <li>10. Docker kill</li> <li>11. Docker rm/docker rmi</li> <li>12. Docker exec</li> <li>13. Docker logs</li> <li>14. Docker inspect</li> <li>15. Docker cp</li> <li>16. Docker system prune</li> <li>17. Docker network</li> <li>18. Docker volume</li> <li>19. Docker-compose</li> <li>20. Docker swarm</li> <li>21. Dockerfile</li> <li>22. Docker \u767b\u5f55\u548c\u8ba4\u8bc1</li> <li>23. Docker \u5bb9\u5668\u65e5\u5fd7\u7ba1\u7406</li> </ul> </li> <li>\ud83d\ude23 Docker \u8fdb\u9636</li> <li>Docker \u7cfb\u7edf\u67b6\u6784</li> <li>\u4ec0\u4e48\u662f\u955c\u50cf</li> <li>\u5bb9\u5668\uff1a\u4e07\u7269\u4e92\u8054</li> <li>\u5229\u7528\u6570\u636e\u5377\u548c\u6570\u636e\u5bb9\u5668\u7ba1\u7406\u6570\u636e</li> </ul>"},{"location":"Docker/Docker/#docker","title":"\ud83e\udd14 Docker \u6982\u89c8","text":""},{"location":"Docker/Docker/#docker_1","title":"\u4e3a\u4ec0\u4e48\u8981\u6709 Docker\uff1f","text":"<ul> <li>\u5047\u5982\u60a8\u5f00\u53d1\u4e86\u4e00\u4e2a\u53ef\u4ee5\u5728 \u672c\u673a\u8fd0\u884c\u7684\u9879\u76ee\uff0c\u8fd9\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898</li> <li>\u4f46\u5982\u679c\u9879\u76ee\u7248\u672c\u66f4\u65b0\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 \u670d\u52a1\u4e0d\u53ef\u4f7f\u7528\uff0c\u540e\u671f\u7ef4\u62a4\u8d77\u6765\u5f88\u7e41\u7410</li> <li>\u56e0\u4e3a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8fd0\u884c\u60a8\u9879\u76ee\u7684\u673a\u5668\uff0c\u90fd\u9700\u8981\u8fdb\u884c \u73af\u5883\u7684\u90e8\u7f72\u4e0e\u914d\u7f6e </li> <li>\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u4e3a\u4e86\u65b9\u4fbf\u90e8\u7f72\u60a8\u7684\u9879\u76ee\uff0c\u60a8\u53ef\u80fd\u4f1a\u60f3\u5230 \u865a\u62df\u673a\u6280\u672f\u3002\u865a\u62df\u673a\u662f\u4e00\u79cd\u901a\u8fc7\u8f6f\u4ef6\u6a21\u62df\u7684\u3001\u5177\u6709\u5b8c\u6574\u786c\u4ef6\u7cfb\u7edf\u529f\u80fd\u7684\u3001\u8fd0\u884c\u5728\u4e00\u4e2a\u5b8c\u5168\u9694\u79bb\u73af\u5883\u4e2d\u7684 \u5b8c\u6574\u8ba1\u7b97\u673a\u7cfb\u7edf </li> <li>\u4f46\u865a\u62df\u673a\u771f\u7684\u597d\u5417\u2014\u2014\u6211\u7684\u610f\u601d\u662f\u5b83\u5360\u7528\u5927\u91cf\u7cfb\u7edf\u8d44\u6e90\u7684\u540c\u65f6\u4e5f\u6709\u6bd4\u8f83\u7e41\u7410\u7684\u914d\u7f6e\u6b65\u9aa4\uff0c\u6027\u80fd\u4e0a\u4e5f\u4e0d\u5c3d\u5982\u4eba\u610f\u00b7\u00b7\u00b7\u4e5f\u8bb8\u6211\u4eec\u9700\u8981\u4e00\u79cd\u66f4\u52a0 \u8f7b\u91cf\u5316\u7684\u865a\u62df\u673a\uff0c Docker  \u5e94\u8fd0\u800c\u751f</li> </ul>"},{"location":"Docker/Docker/#_1","title":"\u5bb9\u5668\u548c\u865a\u62df\u673a\u6280\u672f\u7684\u533a\u522b","text":"<ul> <li>\u4f20\u7edf\u7684\u865a\u62df\u673a\uff1a\u53ef\u4ee5\u865a\u62df\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5728\u8fd9\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5b89\u88c5\u548c\u8fd0\u884c\u6240\u9700\u7684\u8f6f\u4ef6</li> <li>\u5bb9\u5668\u5185\u7684\u5e94\u7528\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u5728\u5bbf\u4e3b\u4e3b\u673a\u7684\u5185\u6838\u4e2d\uff1a\u5bb9\u5668\u6ca1\u6709\u81ea\u5df1\u7684\u5185\u6838\uff0c\u4e5f\u4e0d\u7528\u865a\u62df\u786c\u4ef6(\u8f7b\u4fbf)</li> <li>\u6bcf\u4e2a\u5bb9\u5668\u662f\u76f8\u4e92\u9694\u79bb\u7684\uff1a\u6bcf\u4e2a\u5bb9\u5668\u5185\u90fd\u6709\u5c5e\u4e8e\u81ea\u5df1\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u4e4b\u95f4\u4e92\u4e0d\u5f71\u54cd</li> <li>\u5bb9\u5668\u80fd\u4e0e\u4e3b\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\u5171\u4eab\u8d44\u6e90\uff0c\u56e0\u800c\u5b83\u7684\u6548\u7387\u9ad8\u51fa\u4e00\u4e2a\u6570\u91cf\u7ea7\u3002\u542f\u52a8\u548c\u505c\u6b62\u5bb9\u5668\u5747\u53ea\u9700\u4e00\u77ac\u95f4\u3002\u76f8\u6bd4\u5728\u4e3b\u673a\u4e0a\u76f4\u63a5\u8fd0\u884c\u7a0b\u5e8f\uff0c\u5bb9\u5668\u7684\u6027\u80fd\u635f\u8017\u975e\u5e38\u4f4e\uff0c\u751a\u81f3\u662f\u96f6\u635f\u8017</li> <li>\u5bb9\u5668\u5177\u6709\u53ef\u79fb\u690d\u6027\uff0c\u8fd9\u6781\u6709\u53ef\u80fd\u5f7b\u5e95\u89e3\u51b3\u7531\u4e8e\u8fd0\u884c\u73af\u5883\u7684\u4e9b\u8bb8\u6539\u53d8\u800c\u5bfc\u81f4\u7684\u95ee\u9898\uff0c\u751a\u81f3\u6709\u53ef\u80fd\u5f7b\u5e95\u7ec8\u6b62\u5f00\u53d1\u8005\u7684\u62b1\u6028\uff1a\u201c\u53ef\u662f\u7a0b\u5e8f\u5728\u6211\u7684\u8ba1\u7b97\u673a\u4e0a\u80fd\u6b63\u5e38\u5de5\u4f5c\uff01\u201d</li> <li>\u5bb9\u5668\u662f\u8f7b\u91cf\u7684\uff0c\u8fd9\u610f\u5473\u7740\u5f00\u53d1\u8005\u80fd\u540c\u65f6\u8fd0\u884c\u6570\u5341\u4e2a\u5bb9\u5668\uff0c\u5e76\u80fd\u6a21\u62df\u5206\u5e03\u5f0f\u7cfb\u7edf\u5728\u771f\u5b9e\u8fd0 \u884c\u73af\u5883\u4e0b\u7684\u60c5\u51b5\u3002\u8fd0\u7ef4\u5de5\u7a0b\u5e08\u5728\u4e00\u53f0\u4e3b\u673a\u4e0a\u80fd\u8fd0\u884c\u7684\u5bb9\u5668\u6570\u91cf\uff0c\u8fdc\u8fdc\u8d85\u8fc7\u4ec5\u4f7f\u7528\u865a\u62df\u673a\u65f6\u3002</li> <li>\u5bf9\u4e8e\u6700\u7ec8\u7528\u6237\u53ca\u5f00\u53d1\u8005\u800c\u8a00\uff0c\u5bb9\u5668\u7684\u4f18\u52bf\u4e0d\u4ec5\u4ec5\u4f53\u73b0\u5728\u4e91\u7aef\u90e8\u7f72\u3002\u7528\u6237 \u53ef\u4ee5\u4e0b\u8f7d\u5e76\u6267\u884c\u590d\u6742\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u65e0\u9700\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u5728\u914d\u7f6e\u548c\u5b89\u88c5\u7684\u95ee\u9898\u4e0a\uff0c\u4e5f\u65e0\u9700\u62c5\u5fc3\u5bf9\u7cfb\u7edf\u672c\u8eab\u7684\u6539\u52a8\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u8005\u4e0d\u7528\u518d\u64cd\u5fc3\u7528\u6237\u73af\u5883\u7684\u5dee\u5f02\uff0c\u4ee5\u53ca\u4f9d\u8d56\u5173\u7cfb\u662f\u5426\u6ee1\u8db3\u3002</li> </ul>"},{"location":"Docker/Docker/#docker_2","title":"Docker\uff1a\u8d62","text":"<ol> <li>\u5e94\u7528\u4e8e\u66f4\u5feb\u901f\u7684\u4ea4\u4ed8\u548c\u90e8\u7f72 <ul> <li>\u865a\u62df\u673a\uff1a\u901a\u8fc7\u5927\u91cf\u7684\u5e2e\u52a9\u6587\u6863\uff0c\u5b89\u88c5\u7a0b\u5e8f</li> <li>Docker\uff1a\u6253\u5305\u955c\u50cf\u53d1\u5e03\u6d4b\u8bd5\uff0c\u4e00\u952e\u8fd0\u884c</li> </ul> </li> <li>\u66f4\u4fbf\u6377\u7684\u5347\u7ea7\u548c\u6269\u7f29\u5bb9 <ul> <li>\u901a\u8fc7\u4f7f\u7528 Docker\uff0c\u90e8\u7f72\u5e94\u7528\u5982\u540c\u642d\u79ef\u6728\u4e00\u6837</li> </ul> </li> <li>\u66f4\u7b80\u5355\u7684\u7cfb\u7edf\u8fd0\u7ef4 <ul> <li>\u4f7f\u7528\u5bb9\u5668\u5316\u540e\u5f00\u53d1\u548c\u6d4b\u8bd5\u73af\u5883\u662f \u9ad8\u5ea6\u4e00\u81f4 \u7684</li> </ul> </li> <li>\u66f4\u9ad8\u6548\u7684\u8ba1\u7b97\u8d44\u6e90\u5229\u7528 <ul> <li>Docker \u662f\u5185\u6838\u7ea7\u522b\u7684\u865a\u62df\u5316\uff1a\u53ef\u4ee5\u5728 \u540c\u4e00\u7269\u7406\u673a\u4e0a\u8fd0\u884c\u591a\u4e2a\u5bb9\u5668\uff0c\u8ba9\u670d\u52a1\u5668\u7684\u6027\u80fd\u53d1\u6325\u5230\u6781\u81f4</li> </ul> </li> </ol> <p>Docker \u5229\u7528\u73b0\u6709\u7684  Linux \u5bb9\u5668\u6280\u672f\uff0c\u4ee5\u4e0d\u540c\u65b9\u5f0f\u5c06\u5176\u5c01\u88c5\u53ca\u6269\u5c55\u2014\u2014\u4e3b\u8981\u662f\u901a\u8fc7\u63d0\u4f9b\u53ef\u79fb\u690d\u7684\u955c\u50cf\uff0c\u4ee5\u53ca\u4e00\u4e2a\u7528\u6237\u53cb\u597d\u7684\u63a5\u53e3\u2014\u2014\u6765\u521b\u5efa\u4e00\u5957\u5b8c\u6574\u7684\u5bb9\u5668\u521b\u5efa\u53ca\u53d1\u5e03\u65b9\u6848\u3002Docker \u5e73\u53f0\u62e5\u6709\u4e24\u4e2a\u4e0d\u540c\u90e8\u5206\uff1a\u8d1f\u8d23 \u521b\u5efa\u4e0e\u8fd0\u884c\u5bb9\u5668\u7684 Docker \u5f15\u64ce\uff0c\u4ee5\u53ca\u7528\u6765 \u53d1\u5e03\u5bb9\u5668\u7684\u4e91\u670d\u52a1 Docker Hub\u3002</p> <p>\u5bb9\u5668\u6280\u672f\u7684\u5174\u8d77\u5f88\u5927\u4e00\u90e8\u5206\u662f \u7531\u5f00\u53d1\u8005\u6240\u9a71\u52a8\u7684\uff0c\u4e5f\u662f\u4ed6\u4eec\u9996\u6b21\u4f7f\u7528\u4e86\u80fd\u771f\u6b63\u53d1\u6325\u5bb9\u5668\u6f5c\u529b\u7684\u5de5\u5177\u3002\u5bf9\u5b9e\u65bd\u5feb\u901f\u8fed\u4ee3\u5f00\u53d1\u6a21\u5f0f\u7684\u5f00\u53d1\u8005\u6765\u8bf4\uff0cDocker \u5bb9\u5668\u80fd\u8fc5\u901f\u542f\u52a8\u81f3\u5173\u91cd\u8981\uff0c\u56e0\u4e3a\u4ed6\u4eec\u53ef\u4ee5\u5f88\u5feb\u770b\u5230\u4ee3\u7801\u53d8\u66f4\u540e\u7684\u7ed3\u679c\u3002\u5bb9\u5668\u80fd\u4fdd\u969c\u7684\u53ef\u79fb\u690d\u6027\u53ca\u9694\u79bb\u7279\u6027\uff0c\u4f7f\u5f97\u5f00\u53d1\u4e0e\u8fd0\u7ef4\u90e8\u95e8\u4e4b\u95f4\u66f4\u5bb9\u6613\u534f\u4f5c\uff0c\u56e0\u4e3a\u5f00\u53d1\u8005\u77e5\u9053\u4ed6\u4eec\u7684\u4ee3\u7801\u5728\u4e0d\u540c\u73af\u5883\u4e0b\u90fd\u80fd\u5de5\u4f5c\uff0c\u800c\u8fd0\u7ef4\u90e8\u95e8\u53ea\u9700\u4e13\u6ce8\u4e8e\u5bb9\u5668\u7684\u6258\u7ba1\u53ca\u670d\u52a1\u7f16\u6392\uff0c\u800c\u65e0\u9700\u62c5\u5fc3\u4efb\u4f55\u5173\u4e8e\u4ee3\u7801\u7684\u4e8b\u3002</p> <p>Docker \u4e3a\u8f6f\u4ef6\u5f00\u53d1\u5e26\u6765\u4e86\u7ffb\u5929\u8986\u5730\u7684\u53d8\u5316\u3002\u5047\u5982\u6ca1\u6709 Docker\uff0c\u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5185\u5bb9\u5668\u5c06\u4ecd\u662f\u4e00\u79cd\u9c9c\u4e3a\u4eba\u77e5\u7684\u6280\u672f\u3002</p>"},{"location":"Docker/Docker/#docker_3","title":"\ud83e\udd70 Docker \u7684\u5b89\u88c5","text":""},{"location":"Docker/Docker/#mac-os-windows-docker","title":"Mac OS \u53ca Windows \u7cfb\u7edf\u4e0b Docker \u7684\u5b89\u88c5","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u662f  Windows \u6216 Mac OS\uff0c\u90a3\u4e48\u4f60\u9700\u8981\u67d0\u79cd\u865a\u62df\u5316\u6280\u672f\u624d\u80fd\u4f7f\u7528 Docker\u3002\u4f60\u53ef\u4ee5\u4e0b\u8f7d\u6574\u5957\u7684\u865a\u62df\u673a\u5e76\u6309\u7167 Linux \u7684\u8bf4\u660e\u6765\u5b89\u88c5 Docker\uff0c\u6216\u9009\u62e9\u5b89\u88c5 Docker Toolbox \u5de5\u5177\u7bb1\u3002Docker Toolbox \u5305\u542b\u4e00\u4e2a\u6781\u5c0f\u7684 boot2docker \u865a\u62df\u673a\u4ee5\u53ca\u4e00\u4e9b Docker \u5de5\u5177\uff0c\u4f8b\u5982 Compose \u548c Swarm\u3002\u5982\u679c\u4f7f\u7528 Homebrew \u5728 Mac \u4e0b\u5b89\u88c5\u5e94\u7528\uff0c\u4f60\u4f1a\u53d1\u73b0 boot2docker \u7684 brew recipe\uff1b\u4e0d\u8fc7\u4e00\u822c\u5efa\u8bae\u4f7f\u7528\u5b98\u65b9\u7684 Toolbox \u6765\u5b89\u88c5\uff0c\u4ee5\u514d\u9047\u5230\u95ee\u9898\u3002</p>"},{"location":"Docker/Docker/#linux-docker","title":"Linux \u7cfb\u7edf\u4e0b Docker \u7684\u5b89\u88c5","text":"<p>\u5728 Linux \u4e0a\u5b89\u88c5 Docker \u6700\u597d\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528 Docker \u63d0\u4f9b\u7684\u5b89\u88c5\u811a\u672c\u3002\u867d\u7136\u5927\u90e8\u5206\u4e3b\u6d41 Linux \u53d1\u884c\u7248\u90fd\u6709\u81ea\u5df1\u7684\u8f6f\u4ef6\u5305\uff0c\u4f46\u5f88\u591a\u65f6\u5019\u8fd9\u4e9b\u8f6f\u4ef6\u5305\u7684\u7248\u672c\u90fd\u843d\u540e\u4e8e Docker \u7684\u53d1\u5e03\u7248\u672c\u3002\u9274\u4e8e Docker \u5f00\u53d1\u7684\u6b65\u4f10\u8f83\u5feb\uff0c\u56e0\u6b64\u7edd\u4e0d\u80fd\u5ffd\u7565\u8fd9\u4e2a\u95ee\u9898\u7684\u4e25\u91cd\u6027\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7 \u5b98\u65b9 \u63d0\u4f9b\u7684\u811a\u672c\u6765\u81ea\u52a8\u5b89\u88c5 Docker\u3002\u6309\u7167\u5b98\u65b9\u7684\u8bf4\u660e\uff0c\u53ea\u9700\u6267\u884c <code>curl -sSL | sh \u6216 wget -qO- | sh</code> \u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u5efa\u8bae\u5728\u6267\u884c\u811a\u672c\u524d\u5148\u68c0\u67e5\u4e00\u4e0b\u5b83\u7684\u5185\u5bb9\uff0c\u786e\u4fdd\u4f60\u63a5\u53d7\u5b83\u5bf9\u4f60\u7684\u7cfb\u7edf\u6240\u4f5c\u7684\u6539\u52a8\u3002</p>"},{"location":"Docker/Docker/#sudo-docker","title":"\u4e0d\u4f7f\u7528 sudo \u547d\u4ee4\u6267\u884c Docker","text":"<p>\u8f93\u5165\uff1a Bash<pre><code>  sudo usermod -aG docker $USER\n</code></pre></p> <p>\u91cd\u542f Docker \u670d\u52a1\uff1a Bash<pre><code>  sudo service docker restart\n</code></pre></p>"},{"location":"Docker/Docker/#_2","title":"\u5feb\u901f\u786e\u8ba4","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u6267\u884c <code>docker version</code> \u547d\u4ee4\u5f97\u77e5\u4e00\u5207\u662f\u5426\u5df2\u6b63\u786e\u5b89\u88c5\u5e76\u4e14\u53ef\u7528\u3002</p>"},{"location":"Docker/Docker/#docker_4","title":"\ud83d\ude06 Docker\uff1a\u4ece\u8fd9\u91cc\u5f00\u59cb","text":""},{"location":"Docker/Docker/#hello-world","title":"Hello World","text":"<p>\u6211\u4eec\u5c1d\u8bd5\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a</p> Bash<pre><code>  sudo docker run debian echo \"Hello World\"\n</code></pre> <p>\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <ul> <li>\u8f93\u51fa\u7ed3\u679c\u7684\u7b2c\u4e00\u884c\u544a\u8bc9\u6211\u4eec \u672c\u5730\u6ca1\u6709 Debian \u955c\u50cf </li> <li>Docker \u4f1a\u5728 Docker Hub \u8fdb\u884c \u5728\u7ebf\u641c\u7d22 \u5e76\u4e0b\u8f7d Debian \u6700\u65b0\u7248\u672c\u7684\u955c\u50cf</li> <li>\u955c\u50cf\u4e0b\u8f7d\u540e Docker \u5c06\u5b83 \u8f6c\u6210\u5bb9\u5668\u5e76\u8fd0\u884c </li> <li>\u7136\u540e\u5728\u5bb9\u5668\u4e2d\u6267\u884c\u6211\u4eec\u6307\u5b9a\u7684\u547d\u4ee4\u2014\u2014echo \"Hello World\"\u3002\u547d\u4ee4\u7684\u7ed3\u679c\u5219\u663e\u793a\u5728\u8f93\u51fa\u5185\u5bb9\u7684 \u6700\u540e\u4e00\u884c </li> </ul>"},{"location":"Docker/Docker/#docker_5","title":"Docker \u7684\u57fa\u672c\u547d\u4ee4","text":""},{"location":"Docker/Docker/#1-docker","title":"1. Docker \u8fd0\u884c","text":"<p>\u8981\u5728 Docker \u4e2d \u8fd0\u884c\u5bb9\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker run [OPTIONS] IMAGE [COMMAND] [ARG...]\n</code></pre> <ul> <li><code>docker run</code>\uff1a\u8fd0\u884c\u5bb9\u5668\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u5bb9\u5668\u7684\u5404\u79cd\u9009\u9879\uff0c\u5982\u7aef\u53e3\u6620\u5c04\u3001\u5bb9\u5668\u540d\u79f0\u7b49</li> <li><code>IMAGE</code>\uff1a\u8981\u8fd0\u884c\u7684\u955c\u50cf\u540d\u79f0\u6216 ID</li> <li><code>[COMMAND] [ARG...]</code>\uff1a\u53ef\u9009\u7684\u547d\u4ee4\u548c\u53c2\u6570\uff0c\u7528\u4e8e\u5728\u5bb9\u5668\u5185\u6267\u884c\u7279\u5b9a\u7684\u547d\u4ee4</li> </ul>"},{"location":"Docker/Docker/#2-docker","title":"2. Docker \u6784\u5efa","text":"<p>\u8981 \u6784\u5efa\u81ea\u5df1\u7684 Docker \u955c\u50cf\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker build [OPTIONS] PATH | URL | -\n</code></pre> <ul> <li><code>docker build</code>\uff1a\u6784\u5efa\u955c\u50cf\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u6784\u5efa\u8fc7\u7a0b\uff0c\u5982\u955c\u50cf\u6807\u7b7e\u3001\u6784\u5efa\u4e0a\u4e0b\u6587\u8def\u5f84\u7b49</li> <li><code>PATH | URL | -</code>\uff1aDockerfile \u6240\u5728\u7684\u8def\u5f84\u3001URL \u6216\u8005\u4f7f\u7528\u6807\u51c6\u8f93\u5165\u4f5c\u4e3a Dockerfile</li> </ul>"},{"location":"Docker/Docker/#3-docker-pull","title":"3. Docker pull","text":"<p>\u8981\u4ece Docker \u4ed3\u5e93\u4e2d \u62c9\u53d6\u73b0\u6709\u7684\u955c\u50cf\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker pull [OPTIONS] NAME[:TAG|@DIGEST]\n</code></pre> <ul> <li><code>docker pull</code>\uff1a\u62c9\u53d6\u955c\u50cf\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u62c9\u53d6\u8fc7\u7a0b\uff0c\u5982\u8ba4\u8bc1\u4fe1\u606f\u7b49</li> <li><code>NAME[:TAG|@DIGEST]</code>\uff1a\u8981\u62c9\u53d6\u7684\u955c\u50cf\u540d\u79f0\u3001\u6807\u7b7e\u6216\u6458\u8981  </li> </ul>"},{"location":"Docker/Docker/#4-docker-push","title":"4. Docker push","text":"<p>\u8981\u5c06\u672c\u5730\u7684\u955c\u50cf \u63a8\u9001\u5230 Docker \u4ed3\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker push [OPTIONS] NAME[:TAG]\n</code></pre> <ul> <li><code>docker push</code>\uff1a\u63a8\u9001\u955c\u50cf\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u63a8\u9001\u8fc7\u7a0b\uff0c\u5982\u8ba4\u8bc1\u4fe1\u606f\u7b49  </li> <li><code>NAME[:TAG]</code>\uff1a\u8981\u63a8\u9001\u7684\u955c\u50cf\u540d\u79f0\u548c\u6807\u7b7e  </li> </ul>"},{"location":"Docker/Docker/#5-docker-images","title":"5. Docker images","text":"<p>\u8981 \u5217\u51fa\u672c\u5730\u6240\u6709\u7684\u955c\u50cf\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker images [OPTIONS] [REPOSITORY[:TAG]]\n</code></pre> <ul> <li><code>docker images</code>\uff1a\u5217\u51fa\u955c\u50cf\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u8f93\u51fa\u7ed3\u679c\u7684\u683c\u5f0f\u7b49</li> <li><code>[REPOSITORY[:TAG]]</code>\uff1a\u53ef\u9009\u7684\u955c\u50cf\u540d\u79f0\u548c\u6807\u7b7e\uff0c\u7528\u4e8e\u8fc7\u6ee4\u8f93\u51fa\u7ed3\u679c</li> </ul>"},{"location":"Docker/Docker/#6-docker-ps","title":"6. Docker ps","text":"<p>\u8981 \u5217\u51fa\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker ps [OPTIONS]\n</code></pre> <ul> <li><code>docker ps</code>\uff1a\u5217\u51fa\u5bb9\u5668\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u8f93\u51fa\u7ed3\u679c\u7684\u683c\u5f0f\u548c\u8fc7\u6ee4\u6761\u4ef6</li> </ul>"},{"location":"Docker/Docker/#7-docker-stop","title":"7. Docker stop","text":"<p>\u8981 \u505c\u6b62\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker stop [OPTIONS] CONTAINER [CONTAINER...]\n</code></pre> <ul> <li><code>docker stop</code>\uff1a\u505c\u6b62\u5bb9\u5668\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u505c\u6b62\u8fc7\u7a0b\uff0c\u5982\u8d85\u65f6\u65f6\u95f4\u7b49</li> <li><code>CONTAINER [CONTAINER...]</code>\uff1a\u8981\u505c\u6b62\u7684\u5bb9\u5668\u540d\u79f0\u6216 ID</li> </ul>"},{"location":"Docker/Docker/#8-docker-start","title":"8. Docker start","text":"<p>\u8981 \u542f\u52a8\u5df2\u505c\u6b62\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker start [OPTIONS] CONTAINER [CONTAINER...]\n</code></pre> <ul> <li><code>docker start</code>\uff1a\u542f\u52a8\u5bb9\u5668\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u542f\u52a8\u8fc7\u7a0b\uff0c\u5982\u5b88\u62a4\u6a21\u5f0f\u7b49  </li> <li><code>CONTAINER [CONTAINER...]</code>\uff1a\u8981\u542f\u52a8\u7684\u5bb9\u5668\u540d\u79f0\u6216 ID</li> </ul>"},{"location":"Docker/Docker/#9-docker-restart","title":"9. Docker restart","text":"<p>\u8981 \u91cd\u542f\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker restart [OPTIONS] CONTAINER [CONTAINER...]\n</code></pre> <ul> <li><code>docker restart</code>\uff1a\u91cd\u542f\u5bb9\u5668\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u91cd\u542f\u8fc7\u7a0b\uff0c\u5982\u8d85\u65f6\u65f6\u95f4\u7b49</li> <li><code>CONTAINER [CONTAINER...]</code>\uff1a\u8981\u91cd\u542f\u7684\u5bb9\u5668\u540d\u79f0\u6216 ID</li> </ul>"},{"location":"Docker/Docker/#10-docker-kill","title":"10. Docker kill","text":"<p>\u8981 \u5f3a\u5236\u7ec8\u6b62 \u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker kill [OPTIONS] CONTAINER [CONTAINER...]\n</code></pre> <ul> <li><code>docker kill</code>\uff1a\u7ec8\u6b62\u5bb9\u5668\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u7ec8\u6b62\u8fc7\u7a0b\uff0c\u5982\u4fe1\u53f7\u7b49</li> <li><code>CONTAINER [CONTAINER...]</code>\uff1a\u8981\u7ec8\u6b62\u7684\u5bb9\u5668\u540d\u79f0\u6216 ID</li> </ul>"},{"location":"Docker/Docker/#11-docker-rmdocker-rmi","title":"11. Docker rm/docker rmi","text":"<p>\u8981 \u5220\u9664\u5df2\u505c\u6b62\u7684\u5bb9\u5668\u6216\u955c\u50cf\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker rm [OPTIONS] CONTAINER [CONTAINER...]   docker rmi [OPTIONS] IMAGE [IMAGE...]\n</code></pre> <ul> <li><code>docker rm</code>\uff1a\u5220\u9664\u5bb9\u5668\u7684\u547d\u4ee4</li> <li><code>docker rmi</code>\uff1a\u5220\u9664\u955c\u50cf\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u5220\u9664\u8fc7\u7a0b\uff0c\u5982\u5f3a\u5236\u5220\u9664\u7b49</li> <li><code>CONTAINER [CONTAINER...]</code>\uff1a\u8981\u5220\u9664\u7684\u5bb9\u5668\u540d\u79f0\u6216 ID</li> <li><code>IMAGE [IMAGE...]</code>\uff1a\u8981\u5220\u9664\u7684\u955c\u50cf\u540d\u79f0\u6216 ID </li> </ul>"},{"location":"Docker/Docker/#12-docker-exec","title":"12. Docker exec","text":"<p>\u8981\u5728\u8fd0\u884c\u4e2d\u7684 \u5bb9\u5668\u5185\u6267\u884c\u547d\u4ee4\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker exec [OPTIONS] CONTAINER COMMAND [ARG...]\n</code></pre> <ul> <li><code>docker exec</code>\uff1a\u5728\u5bb9\u5668\u5185\u6267\u884c\u547d\u4ee4\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u6267\u884c\u8fc7\u7a0b\uff0c\u5982\u8fdb\u5165\u4ea4\u4e92\u6a21\u5f0f\u7b49</li> <li><code>CONTAINER</code>\uff1a\u8981\u6267\u884c\u547d\u4ee4\u7684\u5bb9\u5668\u540d\u79f0\u6216 ID</li> <li><code>COMMAND [ARG...]</code>\uff1a\u8981\u5728\u5bb9\u5668\u5185\u6267\u884c\u7684\u547d\u4ee4\u53ca\u5176\u53c2\u6570</li> </ul>"},{"location":"Docker/Docker/#13-docker-logs","title":"13. Docker logs","text":"<p>\u8981 \u67e5\u770b\u5bb9\u5668\u7684\u65e5\u5fd7 \u8f93\u51fa\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker logs [OPTIONS] CONTAINER\n</code></pre> <ul> <li><code>docker logs</code>\uff1a\u67e5\u770b\u5bb9\u5668\u65e5\u5fd7\u7684\u547d\u4ee4  </li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u8f93\u51fa\u7ed3\u679c\uff0c\u5982\u65f6\u95f4\u6233\u7b49</li> <li><code>CONTAINER</code>\uff1a\u8981\u67e5\u770b\u65e5\u5fd7\u7684\u5bb9\u5668\u540d\u79f0\u6216 ID</li> </ul>"},{"location":"Docker/Docker/#14-docker-inspect","title":"14. Docker inspect","text":"<p>\u8981\u83b7\u53d6\u5bb9\u5668\u6216\u955c\u50cf\u7684 \u8be6\u7ec6\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker inspect [OPTIONS] NAME|ID [NAME|ID...]\n</code></pre> <ul> <li><code>docker inspect</code>\uff1a\u83b7\u53d6\u8be6\u7ec6\u4fe1\u606f\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u8f93\u51fa\u7ed3\u679c\u7684\u683c\u5f0f\u7b49</li> <li><code>NAME|ID [NAME|ID...]</code>\uff1a\u8981\u83b7\u53d6\u4fe1\u606f\u7684\u5bb9\u5668\u6216\u955c\u50cf\u7684\u540d\u79f0\u6216 ID</li> </ul>"},{"location":"Docker/Docker/#15-docker-cp","title":"15. Docker cp","text":"<p>\u8981\u5728\u5bb9\u5668\u548c\u4e3b\u673a\u4e4b\u95f4 \u590d\u5236\u6587\u4ef6\u6216\u76ee\u5f55\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH   docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH\n</code></pre> <ul> <li><code>docker cp</code>\uff1a\u590d\u5236\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u590d\u5236\u8fc7\u7a0b\uff0c\u5982\u6743\u9650\u7b49</li> <li><code>CONTAINER:SRC_PATH</code>\uff1a\u6e90\u8def\u5f84\uff0c\u5176\u4e2d<code>CONTAINER</code>\u662f\u5bb9\u5668\u540d\u79f0\u6216 ID </li> <li><code>DEST_PATH</code>\uff1a\u76ee\u6807\u8def\u5f84\uff0c\u5176\u4e2d<code>DEST_PATH</code>\u662f\u4e3b\u673a\u8def\u5f84</li> <li><code>SRC_PATH|-</code>\uff1a\u6e90\u8def\u5f84\uff0c\u5176\u4e2d<code>-</code>\u8868\u793a\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6</li> </ul>"},{"location":"Docker/Docker/#16-docker-system-prune","title":"16. Docker system prune","text":"<p>\u8981 \u6e05\u7406 \u4e0d\u518d\u4f7f\u7528\u7684\u955c\u50cf\u3001\u5bb9\u5668\u548c\u5176\u4ed6\u8d44\u6e90\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>  docker system prune [OPTIONS]\n</code></pre> <ul> <li><code>docker system prune</code>\uff1a\u6e05\u7406\u8d44\u6e90\u7684\u547d\u4ee4</li> <li><code>[OPTIONS]</code>\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u6e05\u7406\u8fc7\u7a0b\uff0c\u5982\u5f3a\u5236\u5220\u9664\u7b49</li> </ul>"},{"location":"Docker/Docker/#17-docker-network","title":"17. Docker network","text":"<p>Docker \u7f51\u7edc \u5141\u8bb8\u5bb9\u5668\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u548c\u8fde\u63a5\u5230\u5916\u90e8\u7f51\u7edc\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e0e Docker \u7f51\u7edc\u76f8\u5173\u7684\u5e38\u7528\u547d\u4ee4\uff1a</p> <ul> <li><code>docker network ls</code>\uff1a\u5217\u51fa\u6240\u6709\u7684 Docker \u7f51\u7edc</li> <li><code>docker network create</code>\uff1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Docker \u7f51\u7edc</li> <li><code>docker network connect</code>\uff1a\u5c06\u5bb9\u5668\u8fde\u63a5\u5230\u6307\u5b9a\u7684 Docker \u7f51\u7edc</li> <li><code>docker network disconnect</code>\uff1a\u5c06\u5bb9\u5668\u4ece\u6307\u5b9a\u7684 Docker \u7f51\u7edc\u65ad\u5f00\u8fde\u63a5</li> </ul>"},{"location":"Docker/Docker/#18-docker-volume","title":"18. Docker volume","text":"<p>Docker \u5377 \u7528\u4e8e\u5728\u5bb9\u5668\u548c\u4e3b\u673a\u4e4b\u95f4\u6301\u4e45\u5316\u5b58\u50a8\u6570\u636e\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e0e Docker \u5377\u76f8\u5173\u7684\u5e38\u7528\u547d\u4ee4\uff1a</p> <ul> <li><code>docker volume ls</code>\uff1a\u5217\u51fa\u6240\u6709\u7684 Docker \u5377</li> <li><code>docker volume create</code>\uff1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Docker \u5377</li> <li><code>docker volume inspect</code>\uff1a\u83b7\u53d6 Docker \u5377\u7684\u8be6\u7ec6\u4fe1\u606f</li> <li><code>docker volume rm</code>\uff1a\u5220\u9664\u6307\u5b9a\u7684 Docker \u5377</li> </ul>"},{"location":"Docker/Docker/#19-docker-compose","title":"19. Docker-compose","text":"<p>Docker-compose \u662f\u4e00\u4e2a\u7528\u4e8e\u5b9a\u4e49\u548c\u8fd0\u884c\u591a\u4e2a\u5bb9\u5668\u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u5177\u3002\u5b83\u4f7f\u7528 YAML \u6587\u4ef6\u6765\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u7684\u670d\u52a1\u3001\u7f51\u7edc\u548c\u5377\u7b49\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e0e Docker-compose \u76f8\u5173\u7684\u5e38\u7528\u547d\u4ee4\uff1a</p> <ul> <li><code>docker-compose up</code>\uff1a\u6784\u5efa\u5e76\u542f\u52a8 Docker-compose \u5b9a\u4e49\u7684\u6240\u6709\u670d\u52a1</li> <li><code>docker-compose down</code>\uff1a\u505c\u6b62\u5e76\u5220\u9664 Docker-compose \u5b9a\u4e49\u7684\u6240\u6709\u670d\u52a1</li> <li><code>docker-compose build</code>\uff1a\u6784\u5efa Docker-compose \u5b9a\u4e49\u7684\u6240\u6709\u670d\u52a1\u7684\u955c\u50cf</li> <li><code>docker-compose logs</code>\uff1a\u67e5\u770b Docker-compose \u5b9a\u4e49\u7684\u6240\u6709\u670d\u52a1\u7684\u65e5\u5fd7</li> </ul>"},{"location":"Docker/Docker/#20-docker-swarm","title":"20. Docker swarm","text":"<p>Docker swarm \u662f Docker \u7684\u539f\u751f\u96c6\u7fa4\u7ba1\u7406\u548c\u7f16\u6392\u5de5\u5177\u3002\u7528\u4e8e\u5728\u591a\u4e2a Docker \u4e3b\u673a\u4e0a\u8fd0\u884c\u548c\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e0e Docker swarm \u76f8\u5173\u7684\u5e38\u7528\u547d\u4ee4\uff1a</p> <ul> <li><code>docker swarm init</code>\uff1a\u521d\u59cb\u5316\u4e00\u4e2a\u65b0\u7684 Docker swarm \u96c6\u7fa4</li> <li><code>docker swarm join</code>\uff1a\u5c06\u8282\u70b9\u52a0\u5165\u5230 Docker swarm \u96c6\u7fa4</li> <li><code>docker node ls</code>\uff1a\u5217\u51fa Docker swarm \u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u8282\u70b9</li> <li><code>docker service</code>\uff1a\u7ba1\u7406\u5728 Docker swarm \u96c6\u7fa4\u4e2d\u8fd0\u884c\u7684\u670d\u52a1</li> </ul>"},{"location":"Docker/Docker/#21-dockerfile","title":"21. Dockerfile","text":"<p>Dockerfile \u662f\u7528\u4e8e\u5b9a\u4e49 Docker \u955c\u50cf\u6784\u5efa\u8fc7\u7a0b\u7684\u6587\u672c\u6587\u4ef6\u3002\u5b83\u5305\u542b\u4e00\u7cfb\u5217\u7684\u6307\u4ee4\u548c\u914d\u7f6e\uff0c\u7528\u4e8e\u6307\u5bfc Docker \u5f15\u64ce\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u6267\u884c\u7279\u5b9a\u7684\u64cd\u4f5c\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e0e Dockerfile \u76f8\u5173\u7684\u5e38\u7528\u547d\u4ee4\uff1a</p> <ul> <li><code>FROM</code>\uff1a\u6307\u5b9a\u57fa\u7840\u955c\u50cf</li> <li><code>RUN</code>\uff1a\u5728\u5bb9\u5668\u5185\u6267\u884c\u547d\u4ee4</li> <li><code>COPY</code>\uff1a\u5c06\u6587\u4ef6\u6216\u76ee\u5f55\u4ece\u4e3b\u673a\u590d\u5236\u5230\u5bb9\u5668\u5185</li> <li><code>ADD</code>\uff1a\u5c06\u6587\u4ef6\u6216\u76ee\u5f55\u4ece\u4e3b\u673a\u590d\u5236\u5230\u5bb9\u5668\u5185\uff0c\u5e76\u652f\u6301 URL \u548c\u89e3\u538b\u7f29\u64cd\u4f5c</li> <li><code>WORKDIR</code>\uff1a\u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55</li> <li><code>EXPOSE</code>\uff1a\u58f0\u660e\u5bb9\u5668\u8fd0\u884c\u65f6\u76d1\u542c\u7684\u7aef\u53e3</li> <li><code>CMD</code>\uff1a\u6307\u5b9a\u5bb9\u5668\u542f\u52a8\u65f6\u8981\u6267\u884c\u7684\u547d\u4ee4</li> </ul> <p>\u8fd9\u4e9b\u547d\u4ee4\u53ef\u4ee5\u5728 Dockerfile \u4e2d\u6309\u7167\u7279\u5b9a\u7684\u987a\u5e8f\u7ec4\u5408\u4f7f\u7528\uff0c\u4ee5\u5b9a\u4e49\u548c\u6784\u5efa\u81ea\u5b9a\u4e49\u7684 Docker \u955c\u50cf\u3002</p>"},{"location":"Docker/Docker/#22-docker","title":"22. Docker \u767b\u5f55\u548c\u8ba4\u8bc1","text":"<p>\u8981 \u767b\u5f55\u5230 Docker \u4ed3\u5e93\u6216\u79c1\u6709\u955c\u50cf\u4ed3\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <ul> <li><code>docker login</code>\uff1a\u767b\u5f55\u5230 Docker \u4ed3\u5e93</li> <li><code>docker logout</code>\uff1a\u9000\u51fa\u767b\u5f55</li> </ul> <p>\u767b\u5f55\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528<code>docker pull</code>\u548c<code>docker push</code>\u547d\u4ee4\u6765\u62c9\u53d6\u548c\u63a8\u9001\u955c\u50cf\u3002</p>"},{"location":"Docker/Docker/#23-docker","title":"23. Docker \u5bb9\u5668\u65e5\u5fd7\u7ba1\u7406","text":"<p>\u9664\u4e86\u4f7f\u7528<code>docker logs</code>\u547d\u4ee4\u67e5\u770b\u5bb9\u5668\u65e5\u5fd7\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4 \u5bf9\u5bb9\u5668\u65e5\u5fd7\u8fdb\u884c\u7ba1\u7406\uff1a</p> <ul> <li><code>docker logs --tail</code>\uff1a\u53ea\u663e\u793a\u6700\u540e\u51e0\u884c\u7684\u65e5\u5fd7</li> <li><code>docker logs --follow</code>\uff1a\u5b9e\u65f6\u8ddf\u8e2a\u5bb9\u5668\u7684\u65e5\u5fd7\u8f93\u51fa</li> <li><code>docker logs --since</code>\uff1a\u53ea\u663e\u793a\u7279\u5b9a\u65f6\u95f4\u4e4b\u540e\u7684\u65e5\u5fd7</li> <li><code>docker logs --until</code>\uff1a\u53ea\u663e\u793a\u7279\u5b9a\u65f6\u95f4\u4e4b\u524d\u7684\u65e5\u5fd7</li> </ul>"},{"location":"Docker/Docker/#docker_6","title":"\ud83d\ude23 Docker \u8fdb\u9636","text":""},{"location":"Docker/Docker/#docker_7","title":"Docker \u7cfb\u7edf\u67b6\u6784","text":""},{"location":"Docker/Docker/#_3","title":"\u4ec0\u4e48\u662f\u955c\u50cf","text":""},{"location":"Docker/Docker/#_4","title":"\u5bb9\u5668\uff1a\u4e07\u7269\u4e92\u8054","text":""},{"location":"Docker/Docker/#_5","title":"\u5229\u7528\u6570\u636e\u5377\u548c\u6570\u636e\u5bb9\u5668\u7ba1\u7406\u6570\u636e","text":"2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Operating%20System/Concurrency/","title":"Concurrency","text":""},{"location":"Operating%20System/Concurrency/#concurrency","title":"\ud83d\udfe2 Concurrency","text":"<p> \u7ea6 4636 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 23 \u5206\u949f</p>"},{"location":"Operating%20System/Concurrency/#_1","title":"\u5e76\u53d1\u4e0e\u5e76\u884c\u7684\u533a\u522b\uff1f","text":""},{"location":"Operating%20System/Concurrency/#_2","title":"\u5e76\u53d1","text":"<p>\u5e76\u53d1\u662f\u6307\u4e00\u4e2a\u65f6\u95f4\u6bb5\u5185\u540c\u65f6\u5904\u7406\u591a\u4e2a\u4efb\u52a1\u7684\u80fd\u529b\u3002\u5b83\u5f3a\u8c03\u7684\u662f \u4efb\u52a1\u4e4b\u95f4\u7684\u72ec\u7acb\u6027\uff0c\u4ee5\u53ca\u5b83\u4eec\u662f\u5982\u4f55\u5728\u4e00\u4e2a\u5904\u7406\u5668\u6216\u5355\u4e2a\u6838\u5fc3\u4e0a \u4ea4\u66ff\u6267\u884c \u7684\u3002\u5e76\u53d1\u7684\u76ee\u6807\u662f\u5728\u6709\u9650\u7684\u8d44\u6e90\u4e0b\u5b9e\u73b0\u4efb\u52a1\u4e4b\u95f4\u7684\u6709\u6548\u8c03\u5ea6\uff0c\u4ece\u800c\u6700\u5927\u9650\u5ea6\u5730\u63d0\u9ad8\u7cfb\u7edf\u7684\u54cd\u5e94\u4e8b\u4ef6\u3002\u5e76\u53d1 \u5e76\u4e0d\u610f\u5473\u7740\u4efb\u52a1\u5728\u540c\u4e00\u65f6\u523b\u88ab\u6267\u884c\uff0c\u800c\u662f\u6307\u5b83\u4eec \u5728\u540c\u4e00\u65f6\u95f4\u6bb5\u5185\u5f97\u5230\u5904\u7406\u3002</p>"},{"location":"Operating%20System/Concurrency/#_3","title":"\u5e76\u884c","text":"<p>\u5e76\u884c\u662f\u6307\u5728 \u540c\u4e00\u65f6\u523b\u6267\u884c\u591a\u4e2a\u4efb\u52a1\u7684\u80fd\u529b\u3002\u5b83\u8981\u6c42\u7cfb\u7edf\u5177\u5907\u591a\u4e2a\u5904\u7406\u5668\u6216\u591a\u4e2a\u8ba1\u7b97\u6838\u5fc3\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5 \u540c\u65f6\u5904\u7406\u591a\u4e2a\u4efb\u52a1\u3002\u5e76\u884c\u7684\u76ee\u6807\u662f\u52a0\u901f\u4efb\u52a1\u7684\u5b8c\u6210\u901f\u5ea6\uff0c\u901a\u8fc7\u5c06\u4efb\u52a1\u5206\u89e3\u4e3a\u66f4\u5c0f\u7684\u90e8\u5206\u5e76\u5728\u591a\u4e2a\u5904\u7406\u5668\u6216\u6838\u5fc3\u4e0a\u540c\u65f6\u6267\u884c\uff0c\u4ee5\u5b9e\u73b0\u66f4\u5feb\u7684\u4efb\u52a1\u6267\u884c\u901f\u5ea6\u3002</p>"},{"location":"Operating%20System/Concurrency/#_4","title":"\u533a\u522b","text":"<ul> <li>\u5e76\u53d1\u5173\u6ce8\u5728\u4e00\u4e2a\u65f6\u95f4\u6bb5\u5185\u5904\u7406\u591a\u4e2a\u4efb\u52a1\uff0c\u800c\u5e76\u884c\u5173\u6ce8\u5728\u540c\u4e00\u65f6\u523b\u6267\u884c\u591a\u4e2a\u4efb\u52a1</li> <li>\u5e76\u53d1\u9002\u7528\u4e8e\u5355\u5904\u7406\u5668\u6216\u5355\u6838\u5fc3\u7cfb\u7edf\uff0c\u901a\u8fc7\u4efb\u52a1\u8c03\u5ea6\u5b9e\u73b0\u591a\u4efb\u52a1\u5904\u7406\uff1b \u5e76\u884c\u5219\u4f9d\u8d56\u4e8e\u591a\u5904\u7406\u5668\u6216\u591a\u6838\u5fc3\u7cfb\u7edf \u6765\u5b9e\u73b0\u4efb\u52a1\u7684\u540c\u65f6\u6267\u884c</li> <li>\u5e76\u53d1\u4e3b\u8981\u7528\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u7684\u54cd\u5e94\u901f\u5ea6\u548c\u541e\u5410\u91cf\uff0c\u800c \u5e76\u884c\u5219\u65e8\u5728\u52a0\u901f\u4efb\u52a1\u7684\u5b8c\u6210\u901f\u5ea6 </li> </ul>"},{"location":"Operating%20System/Concurrency/#_5","title":"\u4ec0\u4e48\u662f\u4e92\u65a5\u9501\uff0c\u81ea\u65cb\u9501\u5462\uff0c\u5e95\u5c42\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f","text":"<p>\u4e92\u65a5\u9501(Mutex)  \u548c  \u81ea\u65cb\u9501(Spinlock)  \u662f\u4e24\u79cd\u7528\u4e8e\u540c\u6b65\u548c\u4fdd\u62a4\u5171\u4eab\u8d44\u6e90\u7684\u9501\u673a\u5236\uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u9632\u6b62\u591a\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\uff0c\u4ece\u800c\u907f\u514d  \u7ade\u4e89\u6761\u4ef6(Race Condition)  \u548c  \u6570\u636e\u4e0d\u4e00\u81f4  \u7b49\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/Concurrency/#_6","title":"\u4e92\u65a5\u9501","text":"<p>\u4e92\u65a5\u9501\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u95f4\u540c\u6b65\u7684\u673a\u5236\u3002\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u4e92\u65a5\u9501\u5e76\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\uff0c\u5176\u4ed6\u8bd5\u56fe\u83b7\u5f97\u8be5\u9501\u7684\u7ebf\u7a0b\u5c06\u88ab\u963b\u585e\uff0c\u76f4\u5230\u9501\u88ab\u91ca\u653e\u3002\u4e92\u65a5\u9501\u53ef\u4ee5\u4fdd\u8bc1\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u591f\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002\u4e92\u65a5\u9501\u7684\u5e95\u5c42\u5b9e\u73b0\u901a\u5e38\u4f9d\u8d56\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u539f\u8bed\uff0c\u4f8b\u5982\u5728  Linux \u7cfb\u7edf\u4e2d\u4f7f\u7528 pthread \u5e93\u7684 pthread_mutex_t \u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\u4e92\u65a5\u9501\u3002</p>"},{"location":"Operating%20System/Concurrency/#_7","title":"\u81ea\u65cb\u9501","text":"<p>\u81ea\u65cb\u9501\u662f\u4e00\u79cd\u4f4e\u7ea7\u7684\u540c\u6b65\u539f\u8bed\uff0c\u901a\u5e38\u7528\u4e8e\u591a\u5904\u7406\u5668\u6216\u591a\u6838\u7cfb\u7edf\u4e2d\u3002\u4e0e\u4e92\u65a5\u9501\u4e0d\u540c\uff0c\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u5c1d\u8bd5\u83b7\u5f97\u81ea\u65cb\u9501\u65f6\uff0c\u5982\u679c\u9501\u5df2\u7ecf\u88ab\u5176\u4ed6\u7ebf\u7a0b\u6301\u6709\uff0c\u5b83\u5c06 \u4e0d\u65ad\u5faa\u73af(\u201c\u81ea\u65cb\u201d)\u68c0\u67e5\u9501\u662f\u5426\u53ef\u7528\uff0c\u800c\u4e0d\u662f\u8fdb\u5165\u963b\u585e\u72b6\u6001\u3002\u81ea\u65cb\u9501\u9002\u7528\u4e8e\u9501\u6301\u6709\u65f6\u95f4\u8f83\u77ed\u4e14\u7ebf\u7a0b\u4e0d\u5e0c\u671b\u5728\u7b49\u5f85\u9501\u65f6\u8fdb\u5165\u7761\u7720\u72b6\u6001\u7684\u573a\u666f\u3002\u81ea\u65cb\u9501\u7684\u5e95\u5c42\u5b9e\u73b0\u901a\u5e38\u4f9d\u8d56\u4e8e\u539f\u5b50\u64cd\u4f5c\u548c CPU \u6307\u4ee4\uff0c\u5982  \u6d4b\u8bd5\u548c\u8bbe\u7f6e(test-and-set)  \u6216  \u6bd4\u8f83\u548c\u4ea4\u6362(compare-and-swap)  \u7b49\u3002</p>"},{"location":"Operating%20System/Concurrency/#_8","title":"\u533a\u522b","text":"<ul> <li>\u5f53\u7ebf\u7a0b\u5c1d\u8bd5\u83b7\u5f97\u5df2\u88ab\u5360\u7528\u7684\u4e92\u65a5\u9501\u65f6\uff0c\u5b83\u4f1a \u8fdb\u5165\u963b\u585e\u72b6\u6001\uff0c\u8ba9\u51fa CPU \u8d44\u6e90\uff0c\u7b49\u5f85\u9501\u88ab\u91ca\u653e</li> <li>\u5f53\u7ebf\u7a0b\u5c1d\u8bd5\u83b7\u5f97\u5df2\u88ab\u5360\u7528\u7684\u81ea\u65cb\u9501\u65f6\uff0c\u5b83\u4f1a \u4e0d\u65ad\u5faa\u73af \u68c0\u67e5\u9501\u662f\u5426\u53ef\u7528\uff0c\u800c\u4e0d\u4f1a\u8ba9\u51fa CPU \u8d44\u6e90</li> </ul>"},{"location":"Operating%20System/Concurrency/#_9","title":"\u8bb2\u4e00\u8bb2\u6b7b\u9501\uff0c\u6b7b\u9501\u600e\u4e48\u5904\u7406\uff1f","text":"<p>\u6b7b\u9501\u662f\u6307\u5728\u591a\u7ebf\u7a0b\u6216\u591a\u8fdb\u7a0b\u73af\u5883\u4e2d\uff0c\u4e00\u7ec4\u6216\u591a\u7ec4\u7ebf\u7a0b/\u8fdb\u7a0b\u4e92\u76f8\u7b49\u5f85\u5f7c\u6b64\u6301\u6709\u7684\u8d44\u6e90\uff0c\u5bfc\u81f4\u8fd9\u4e9b\u7ebf\u7a0b/\u8fdb\u7a0b\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u7684\u60c5\u51b5\u3002\u5f53\u6b7b\u9501\u53d1\u751f\u65f6\uff0c\u53d7\u5f71\u54cd\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\u65e0\u6cd5\u5b8c\u6210\u4efb\u52a1\uff0c\u7cfb\u7edf\u6027\u80fd\u548c\u541e\u5410\u91cf\u53ef\u80fd\u4f1a\u53d7\u5230\u4e25\u91cd\u5f71\u54cd\u3002</p>"},{"location":"Operating%20System/Concurrency/#_10","title":"\u6b7b\u9501\u6761\u4ef6","text":"<ul> <li>\u8d44\u6e90\u4e92\u65a5\uff1a\u4e00\u4e2a\u8d44\u6e90\u5728\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u88ab\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u5360\u7528</li> <li>\u6301\u6709\u5e76\u7b49\u5f85\uff1a\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u5728\u6301\u6709\u81f3\u5c11\u4e00\u4e2a\u8d44\u6e90\u7684\u540c\u65f6\uff0c\u4ecd\u7136\u5c1d\u8bd5\u83b7\u53d6\u5176\u4ed6\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u6240\u6301\u6709\u7684\u8d44\u6e90</li> <li>\u8d44\u6e90\u975e\u62a2\u5360\uff1a\u8d44\u6e90\u4e0d\u80fd\u88ab\u5f3a\u884c\u4ece\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u4e2d\u62a2\u5360\uff0c\u53ea\u80fd\u7531\u5360\u6709\u5b83\u7684\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u4e3b\u52a8\u91ca\u653e</li> <li>\u5faa\u73af\u7b49\u5f85\uff1a\u5b58\u5728\u4e00\u4e2a\u7ebf\u7a0b/\u8fdb\u7a0b\u7b49\u5f85\u5e8f\u5217\uff0c\u5176\u4e2d\u6bcf\u4e2a\u7ebf\u7a0b/\u8fdb\u7a0b\u90fd\u5728\u7b49\u5f85\u4e0b\u4e00\u4e2a\u7ebf\u7a0b/\u8fdb\u7a0b\u6240\u6301\u6709\u7684\u8d44\u6e90</li> </ul>"},{"location":"Operating%20System/Concurrency/#_11","title":"\u5904\u7406\u6b7b\u9501","text":"<p>\u5206\u4e3a \u9884\u9632\u3001\u907f\u514d\u548c\u68c0\u6d4b\u6062\u590d \u4e09\u79cd\u7b56\u7565\uff1a</p> <ul> <li>\u9884\u9632\u6b7b\u9501\uff1a\u9884\u9632\u6b7b\u9501\u7684\u65b9\u6cd5\u662f \u7834\u574f\u6b7b\u9501\u4ea7\u751f\u7684\u56db\u4e2a\u6761\u4ef6\u4e2d\u7684\u4e00\u4e2a\u6216\u591a\u4e2a </li> <li>\u907f\u514d\u6b7b\u9501\uff1a\u907f\u514d\u6b7b\u9501\u7684\u65b9\u6cd5\u662f\u5728 \u8fd0\u884c\u65f6\u52a8\u6001\u5730\u68c0\u67e5\u8d44\u6e90\u5206\u914d\u60c5\u51b5\uff0c\u4ee5\u786e\u4fdd\u7cfb\u7edf\u4e0d\u4f1a\u8fdb\u5165\u4e0d\u5b89\u5168\u72b6\u6001\u3002 \u94f6\u884c\u5bb6\u7b97\u6cd5 \u662f\u4e00\u79cd\u8457\u540d\u7684\u907f\u514d\u6b7b\u9501\u7684\u7b97\u6cd5\uff0c\u901a\u8fc7\u6a21\u62df\u8d44\u6e90\u5206\u914d\u8fc7\u7a0b\u6765\u5224\u65ad\u662f\u5426\u4f1a\u4ea7\u751f\u6b7b\u9501\uff0c\u5982\u679c\u4f1a\u4ea7\u751f\u6b7b\u9501\uff0c\u5219\u62d2\u7edd\u5206\u914d\u8d44\u6e90</li> <li>\u68c0\u6d4b\u548c\u6062\u590d\u6b7b\u9501\uff1a\u68c0\u6d4b\u548c\u6062\u590d\u6b7b\u9501\u7684\u65b9\u6cd5\u662f\u5141\u8bb8\u7cfb\u7edf\u8fdb\u5165\u6b7b\u9501\u72b6\u6001\uff0c\u7136\u540e\u5b9a\u671f\u68c0\u6d4b\u6b7b\u9501\uff0c\u5e76\u5728\u53d1\u73b0\u6b7b\u9501\u540e\u91c7\u53d6\u63aa\u65bd\u89e3\u51b3\u3002\u5e38\u89c1\u7684\u68c0\u6d4b\u65b9\u6cd5\u5305\u62ec  \u8d44\u6e90\u5206\u914d\u56fe(Resource Allocation Graph)  \u548c  \u68c0\u6d4b\u7b97\u6cd5\u3002\u6062\u590d\u6b7b\u9501\u7684\u65b9\u6cd5\u901a\u5e38\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\uff1a<ul> <li>\u7ec8\u6b62\u7ebf\u7a0b/\u8fdb\u7a0b\uff1a\u5f3a\u5236\u7ec8\u6b62\u4e00\u4e2a\u6216\u591a\u4e2a\u6b7b\u9501\u4e2d\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\uff0c\u4ece\u800c\u91ca\u653e\u5176\u6301\u6709\u7684\u8d44\u6e90\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u6216\u4e0d\u4e00\u81f4\uff0c\u56e0\u6b64\u9700\u8981\u8c28\u614e\u4f7f\u7528</li> <li>\u56de\u6eda\u7ebf\u7a0b/\u8fdb\u7a0b\uff1a\u5c06\u6b7b\u9501\u4e2d\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\u56de\u6eda\u5230\u4e4b\u524d\u7684\u67d0\u4e2a\u72b6\u6001\uff0c\u7136\u540e\u91cd\u65b0\u6267\u884c\u3002\u8fd9\u79cd\u65b9\u6cd5\u9700\u8981\u7cfb\u7edf\u652f\u6301\u4e8b\u52a1\u548c\u6062\u590d\u529f\u80fd\uff0c\u5e76\u4e14\u53ef\u80fd\u4f1a\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd</li> <li>\u52a8\u6001\u8d44\u6e90\u5206\u914d\uff1a\u5728\u68c0\u6d4b\u5230\u6b7b\u9501\u540e\uff0c\u5c1d\u8bd5\u52a8\u6001\u5730\u5206\u914d\u8d44\u6e90\uff0c\u4ee5\u89e3\u9664\u6b7b\u9501\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5411\u7cfb\u7edf\u8bf7\u6c42\u66f4\u591a\u8d44\u6e90\uff0c\u6216\u8005\u5728\u4e0d\u5f71\u54cd\u6574\u4f53\u6027\u80fd\u7684\u60c5\u51b5\u4e0b\u8c03\u6574\u8d44\u6e90\u5206\u914d\u7b56\u7565</li> <li>\u7b49\u5f85\u548c\u91cd\u8bd5\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8ba9\u6b7b\u9501\u4e2d\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u4ee5\u4fbf\u5176\u4ed6\u7ebf\u7a0b/\u8fdb\u7a0b\u91ca\u653e\u8d44\u6e90\u3002\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u91cd\u65b0\u5c1d\u8bd5\u8bf7\u6c42\u8d44\u6e90\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7ebf\u7a0b/\u8fdb\u7a0b\u957f\u65f6\u95f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u4ece\u800c\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd</li> </ul> </li> </ul>"},{"location":"Operating%20System/Concurrency/#_12","title":"\u4ec0\u4e48\u662f\u8bfb\u5199\u9501\uff1f","text":"<p>\u8bfb\u5199\u9501(Read-Write Lock)\u662f\u4e00\u79cd\u7528\u4e8e \u540c\u6b65\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u7684\u9501\u673a\u5236\uff0c\u9002\u7528\u4e8e\u8bfb\u64cd\u4f5c\u8fdc\u591a\u4e8e\u5199\u64cd\u4f5c\u7684\u573a\u666f\u3002\u4e0e\u4e92\u65a5\u9501(Mutex)\u4e0d\u540c\uff0c\u8bfb\u5199\u9501\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8fdb\u884c\u8bfb\u64cd\u4f5c\uff0c\u4f46\u5728 \u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002\u8fd9\u79cd\u9501\u673a\u5236\u53ef\u4ee5\u63d0\u9ad8\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u7684\u6027\u80fd\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u5728\u4e0d\u4e92\u76f8\u5e72\u6270\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5e76\u53d1\u8bfb\u64cd\u4f5c\u3002</p>"},{"location":"Operating%20System/Concurrency/#_13","title":"\u8bfb\u5199\u9501\u7684\u7279\u6027","text":"<ul> <li>\u5171\u4eab\u8bfb\uff1a\u591a\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u540c\u65f6\u83b7\u5f97\u8bfb\u9501\uff0c\u5171\u4eab\u8bfb\u53d6\u5171\u4eab\u8d44\u6e90\u3002\u8fd9\u610f\u5473\u7740\u5728\u6ca1\u6709\u5199\u64cd\u4f5c\u7684\u60c5\u51b5\u4e0b\uff0c\u8bfb\u64cd\u4f5c\u4e0d\u4f1a\u88ab\u963b\u585e</li> <li>\u72ec\u5360\u5199\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u5199\u9501\u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u65e0\u6cd5\u83b7\u5f97\u8bfb\u9501\u6216\u5199\u9501\u3002\u8fd9\u53ef\u4ee5\u786e\u4fdd\u5728\u5199\u64cd\u4f5c\u671f\u95f4\uff0c\u5171\u4eab\u8d44\u6e90\u4e0d\u4f1a\u88ab\u5176\u4ed6\u7ebf\u7a0b\u4fee\u6539\u6216\u8bbf\u95ee</li> <li>\u4f18\u5148\u7ea7\uff1a\u5b9e\u73b0\u8bfb\u5199\u9501\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u5904\u7406\u8bfb\u5199\u64cd\u4f5c\u4e4b\u95f4\u7684\u4f18\u5148\u7ea7\u3002\u6839\u636e\u5b9e\u73b0\u65b9\u5f0f\u7684\u4e0d\u540c\uff0c\u8bfb\u5199\u9501\u53ef\u80fd\u4f1a\u66f4\u503e\u5411\u4e8e\u4f18\u5148\u5904\u7406\u8bfb\u64cd\u4f5c\uff0c\u6216\u8005\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f18\u5148\u5904\u7406\u5199\u64cd\u4f5c\u3002\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5199\u9965\u997f\u6216\u8bfb\u9965\u997f\u7684\u95ee\u9898\uff0c\u9700\u8981 \u6839\u636e\u5b9e\u9645\u573a\u666f\u8fdb\u884c\u6743\u8861 </li> </ul> <p>\u8bfb\u5199\u9501\u5728\u5b9e\u73b0\u65f6\u901a\u5e38\u4f9d\u8d56\u4e8e\u5e95\u5c42\u7684\u64cd\u4f5c\u7cfb\u7edf\u539f\u8bed\u3002\u4f8b\u5982\uff0c\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5 \u4f7f\u7528 pthread \u5e93\u4e2d\u7684 pthread_rwlock_t \u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\u8bfb\u5199\u9501\u3002</p> <p>\u603b\u4e4b\uff0c\u8bfb\u5199\u9501\u662f\u4e00\u79cd\u9002\u7528\u4e8e\u8bfb\u64cd\u4f5c\u8fdc\u591a\u4e8e\u5199\u64cd\u4f5c\u573a\u666f\u7684\u540c\u6b65\u673a\u5236\u3002\u901a\u8fc7\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8fdb\u884c\u8bfb\u64cd\u4f5c\uff0c\u8bfb\u5199\u9501\u53ef\u4ee5\u63d0\u9ad8\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u5728\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\u7684\u6027\u80fd\u3002\u7136\u800c\uff0c\u6839\u636e\u5b9e\u73b0\u65b9\u5f0f\u7684\u4e0d\u540c\uff0c\u8bfb\u5199\u9501\u53ef\u80fd\u9700\u8981\u5904\u7406\u8bfb\u5199\u64cd\u4f5c\u4e4b\u95f4\u7684\u4f18\u5148\u7ea7\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/Concurrency/#linux","title":"Linux \u540c\u6b65\u673a\u5236\uff1f","text":"<p>Linux \u7cfb\u7edf\u63d0\u4f9b\u4e86\u591a\u79cd\u540c\u6b65\u673a\u5236\uff0c\u4ee5\u4fbf\u5728\u591a\u7ebf\u7a0b\u6216\u591a\u8fdb\u7a0b\u73af\u5883\u4e2d\u5b9e\u73b0\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u5b89\u5168\u8bbf\u95ee\u3002\u5e38\u89c1\u540c\u6b65\u673a\u5236\u5982\u4e0b\uff1a</p> <ul> <li>\u4e92\u65a5\u9501\uff1aLinux \u4e2d\u7684\u4e92\u65a5\u9501\u662f\u901a\u8fc7 POSIX \u7ebf\u7a0b\u5e93(pthread)\u5b9e\u73b0\u7684\u3002\u4e92\u65a5\u9501(Mutex)\u7528\u4e8e\u4fdd\u8bc1\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002 pthread_mutex_t  \u6570\u636e\u7ed3\u6784\u63d0\u4f9b\u4e86\u4e92\u65a5\u9501\u7684\u5b9e\u73b0\uff0c\u76f8\u5173\u51fd\u6570\u5305\u62ec  pthread_mutex_init\u3001pthread_mutex_lock\u3001pthread_mutex_trylock\u3001pthread_mutex_unlock \u548c pthread_mutex_destroy </li> <li>\u8bfb\u5199\u9501\uff1aLinux \u4e2d\u7684\u8bfb\u5199\u9501\u4e5f\u662f\u901a\u8fc7 POSIX \u7ebf\u7a0b\u5e93(pthread)\u5b9e\u73b0\u7684\u3002\u8bfb\u5199\u9501\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8fdb\u884c\u8bfb\u64cd\u4f5c\uff0c\u4f46\u5728\u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002 pthread_rwlock_t  \u6570\u636e\u7ed3\u6784\u63d0\u4f9b\u4e86\u8bfb\u5199\u9501\u7684\u5b9e\u73b0\uff0c\u76f8\u5173\u51fd\u6570\u5305\u62ec  pthread_rwlock_init\u3001pthread_rwlock_rdlock\u3001pthread_rwlock_wrlock\u3001pthread_rwlock_tryrdlock\u3001pthread_rwlock_trywrlock\u3001pthread_rwlock_unlock \u548c pthread_rwlock_destroy </li> <li>\u6761\u4ef6\u53d8\u91cf\uff1a\u6761\u4ef6\u53d8\u91cf\u7528\u4e8e\u5b9e\u73b0\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u3002\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u9700\u8981\u7b49\u5f85\u67d0\u4e2a\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5b83\u53ef\u4ee5\u4f7f\u7528\u6761\u4ef6\u53d8\u91cf\u8fdb\u5165\u4f11\u7720\u72b6\u6001\uff0c\u76f4\u5230\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u66f4\u6539\u5171\u4eab\u8d44\u6e90\u5e76\u901a\u77e5\u6761\u4ef6\u53d8\u91cf\u3002\u6761\u4ef6\u53d8\u91cf\u901a\u5e38\u4e0e\u4e92\u65a5\u9501\u4e00\u8d77\u4f7f\u7528\u3002 pthread_cond_t  \u6570\u636e\u7ed3\u6784\u63d0\u4f9b\u4e86\u6761\u4ef6\u53d8\u91cf\u7684\u5b9e\u73b0\uff0c\u76f8\u5173\u51fd\u6570\u5305\u62ec  pthread_cond_init\u3001pthread_cond_wait\u3001pthread_cond_timedwait\u3001pthread_cond_signal\u3001pthread_cond_broadcast \u548c pthread_cond_destroy </li> <li>\u4fe1\u53f7\u91cf\uff1a\u4fe1\u53f7\u91cf\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u540c\u6b65\u7684\u8ba1\u6570\u5668\u3002\u4fe1\u53f7\u91cf\u7528\u4e8e\u9650\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u6570\u91cf\u3002Linux \u7cfb\u7edf \u63d0\u4f9b\u4e86 System V \u4fe1\u53f7\u91cf\u548c POSIX \u4fe1\u53f7\u91cf\u4e24\u79cd\u5b9e\u73b0\u3002POSIX \u4fe1\u53f7\u91cf\u4f7f\u7528  sem_t \u6570\u636e\u7ed3\u6784\uff0c\u76f8\u5173\u51fd\u6570\u5305\u62ec sem_init\u3001sem_wait\u3001sem_trywait\u3001sem_post \u548c sem_destroy\u3002System V \u4fe1\u53f7\u91cf\u4f7f\u7528\u4e86\u4e00\u7ec4\u7cfb\u7edf\u8c03\u7528(\u5982 semget\u3001semop \u548c semctl)\u5b9e\u73b0</li> </ul>"},{"location":"Operating%20System/Concurrency/#_14","title":"\u4fe1\u53f7\u91cf\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f","text":"<p>\u4fe1\u53f7\u91cf(Semaphore)\u662f\u4e00\u79cd\u540c\u6b65\u539f\u8bed\uff0c\u7528\u4e8e\u5b9e\u73b0\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u540c\u6b65\u548c\u4e92\u65a5\u3002\u4fe1\u53f7\u91cf\u7684\u672c\u8d28\u662f\u4e00\u4e2a\u6574\u6570\u8ba1\u6570\u5668\uff0c\u901a\u5e38\u7528\u4e8e\u9650\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u6570\u91cf\u3002\u4fe1\u53f7\u91cf\u7684\u5b9e\u73b0\u6d89\u53ca\u5230\u4e24\u4e2a\u5173\u952e\u64cd\u4f5c\uff1a wait(\u6216\u79f0\u4e3a P \u64cd\u4f5c\uff0c\u6d88\u8017)  \u548c  post(\u6216\u79f0\u4e3a V \u64cd\u4f5c\uff0c\u751f\u4ea7)\u3002</p>"},{"location":"Operating%20System/Concurrency/#_15","title":"\u57fa\u672c\u5b9e\u73b0\u539f\u7406","text":"<ul> <li>\u521d\u59cb\u5316\uff1a\u4fe1\u53f7\u91cf\u5728\u521b\u5efa\u65f6\u9700\u8981\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u901a\u5e38\u5c06\u8ba1\u6570\u5668\u8bbe\u7f6e\u4e3a\u5141\u8bb8\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u7684\u6700\u5927\u6570\u91cf</li> <li>P \u64cd\u4f5c\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u60f3\u8981\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\uff0c\u4f1a\u6267\u884c wait \u64cd\u4f5c\u3002\u5728 wait \u64cd\u4f5c\u4e2d\uff0c\u4fe1\u53f7\u91cf\u7684\u8ba1\u6570\u5668\u51cf 1\u3002\u5982\u679c\u8ba1\u6570\u5668\u7684\u503c\u4e3a\u8d1f\u6570\uff0c\u8868\u793a\u6ca1\u6709\u53ef\u7528\u7684\u8d44\u6e90\uff0c\u6267\u884c wait \u64cd\u4f5c\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\u5c06\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6709\u8d44\u6e90\u53ef\u7528</li> <li>V \u64cd\u4f5c\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u5b8c\u6210\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u540e\uff0c\u4f1a\u6267\u884c post \u64cd\u4f5c\u3002\u5728 post \u64cd\u4f5c\u4e2d\uff0c\u4fe1\u53f7\u91cf\u7684\u8ba1\u6570\u5668\u52a0 1\u3002\u5982\u679c\u8ba1\u6570\u5668\u7684\u503c\u5c0f\u4e8e\u7b49\u4e8e 0\uff0c\u8868\u793a\u6709\u7b49\u5f85\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\uff0c\u6b64\u65f6\u4f1a\u5524\u9192\u4e00\u4e2a\u88ab\u963b\u585e\u7684\u7ebf\u7a0b/\u8fdb\u7a0b</li> </ul> <p>\u4fe1\u53f7\u91cf\u7684\u5b9e\u73b0\u4f9d\u8d56\u4e8e\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u539f\u8bed\uff0c\u4ee5\u4fdd\u8bc1 wait \u548c post \u64cd\u4f5c\u7684\u539f\u5b50\u6027\u3002\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u4fe1\u53f7\u91cf\u6709\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff1aSystem V \u4fe1\u53f7\u91cf\u548c POSIX \u4fe1\u53f7\u91cf\u3002</p> <ul> <li>System V \u4fe1\u53f7\u91cf\uff1aSystem V \u4fe1\u53f7\u91cf\u4f7f\u7528\u4e00\u7ec4 \u7cfb\u7edf\u8c03\u7528(\u5982 semget\u3001semop \u548c semctl)\u5b9e\u73b0\u3002\u8fd9\u4e9b\u7cfb\u7edf\u8c03\u7528\u63d0\u4f9b\u4e86\u539f\u5b50\u6027\u64cd\u4f5c\uff0c\u4ee5\u4fdd\u8bc1\u4fe1\u53f7\u91cf\u7684\u6b63\u786e\u6027\u3002System V \u4fe1\u53f7\u91cf\u5177\u6709\u66f4\u5f3a\u7684\u8de8\u8fdb\u7a0b\u7279\u6027\uff0c\u53ef\u4ee5\u5728\u4e0d\u76f8\u5173\u7684\u8fdb\u7a0b\u4e4b\u95f4\u4f7f\u7528</li> <li>POSIX \u4fe1\u53f7\u91cf\uff1aPOSIX \u4fe1\u53f7\u91cf\u4f7f\u7528 sem_t \u6570\u636e\u7ed3\u6784\uff0c\u5e76\u901a\u8fc7\u4e00\u7ec4\u51fd\u6570(\u5982 sem_init\u3001sem_wait\u3001sem_trywait\u3001sem_post \u548c sem_destroy)\u63d0\u4f9b\u4fe1\u53f7\u91cf\u64cd\u4f5c\u3002POSIX \u4fe1\u53f7\u91cf\u5728\u73b0\u4ee3 Linux \u7cfb\u7edf\u4e2d\u8f83\u4e3a\u5e38\u7528\uff0c\u56e0\u4e3a\u5b83\u4eec\u5177\u6709\u8f83\u597d\u7684\u53ef\u79fb\u690d\u6027\u548c\u6027\u80fd</li> </ul> <p>\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u4fe1\u53f7\u91cf\u53ef\u4ee5\u5e2e\u52a9\u7a0b\u5e8f\u5458\u63a7\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\uff0c\u9632\u6b62\u7ade\u4e89\u6761\u4ef6\u548c\u5b9e\u73b0\u540c\u6b65\u3002</p>"},{"location":"Operating%20System/Concurrency/#_16","title":"\u6761\u4ef6\u53d8\u91cf\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f","text":"<p>\u6761\u4ef6\u53d8\u91cf(Condition Variable)\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u7ebf\u7a0b\u95f4\u540c\u6b65\u7684\u539f\u8bed\u3002\u6761\u4ef6\u53d8\u91cf\u5141\u8bb8\u7ebf\u7a0b\u7b49\u5f85\u67d0\u4e2a\u6761\u4ef6\u7684\u6ee1\u8db3\uff0c\u5f53\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u4f1a\u901a\u77e5\u7b49\u5f85\u7684\u7ebf\u7a0b\u3002\u6761\u4ef6\u53d8\u91cf\u901a\u5e38\u4e0e\u4e92\u65a5\u9501(Mutex)\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u4fdd\u62a4\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u548c\u540c\u6b65\u3002</p> <ul> <li>\u521d\u59cb\u5316\uff1a\u6761\u4ef6\u53d8\u91cf\u5728\u521b\u5efa\u65f6\u9700\u8981\u8fdb\u884c\u521d\u59cb\u5316\u3002\u5728 Linux \u4e2d\uff0c\u4f7f\u7528 pthread_cond_t \u6570\u636e\u7ed3\u6784\u8868\u793a\u6761\u4ef6\u53d8\u91cf\uff0c\u5e76\u901a\u8fc7 pthread_cond_init \u51fd\u6570\u8fdb\u884c\u521d\u59cb\u5316 </li> <li> <p>\u7b49\u5f85\u6761\u4ef6\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u9700\u8981\u7b49\u5f85\u67d0\u4e2a\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5b83\u4f1a\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ol> <li>\u7ebf\u7a0b\u83b7\u53d6\u4e92\u65a5\u9501\uff0c\u4fdd\u62a4\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee</li> <li>\u7ebf\u7a0b\u68c0\u67e5\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\u3002\u5982\u679c\u6761\u4ef6\u4e0d\u6ee1\u8db3\uff0c\u7ebf\u7a0b\u4f1a\u8c03\u7528 pthread_cond_wait \u6216 pthread_cond_timedwait \u51fd\u6570\uff0c\u5c06\u81ea\u5df1\u963b\u585e\u5e76\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u901a\u77e5\u3002\u5728\u8fdb\u5165\u963b\u585e\u72b6\u6001\u4e4b\u524d\uff0cpthread_cond_wait \u51fd\u6570\u4f1a\u81ea\u52a8\u91ca\u653e\u5173\u8054\u7684\u4e92\u65a5\u9501\uff0c\u4ee5\u5141\u8bb8\u5176\u4ed6\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90</li> <li>\u5f53\u6761\u4ef6\u53d8\u91cf\u6536\u5230\u901a\u77e5\u65f6\uff0c\u963b\u585e\u5728\u6761\u4ef6\u53d8\u91cf\u4e0a\u7684\u7ebf\u7a0b\u4f1a\u88ab\u5524\u9192\u3002pthread_cond_wait \u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u4f1a\u81ea\u52a8\u91cd\u65b0\u83b7\u53d6\u5173\u8054\u7684\u4e92\u65a5\u9501</li> <li>\u5524\u9192\u540e\uff0c\u7ebf\u7a0b\u9700\u8981\u91cd\u65b0\u68c0\u67e5\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u56e0\u4e3a\u53ef\u80fd\u5b58\u5728\u865a\u5047\u5524\u9192(Spurious Wakeup)\u7684\u60c5\u51b5\u3002\u5982\u679c\u6761\u4ef6\u6ee1\u8db3\uff0c\u7ebf\u7a0b\u7ee7\u7eed\u6267\u884c\uff1b\u5426\u5219\uff0c\u7ebf\u7a0b\u5c06\u7ee7\u7eed\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u901a\u77e5</li> </ol> </li> <li> <p>\u901a\u77e5\u6761\u4ef6\uff1a\u5f53\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u6539\u53d8\u4e86\u5171\u4eab\u8d44\u6e90\uff0c\u5e76\u4f7f\u5f97\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5b83\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ol> <li>\u7ebf\u7a0b\u83b7\u53d6\u4e92\u65a5\u9501\uff0c\u4fdd\u62a4\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee</li> <li>\u7ebf\u7a0b\u4fee\u6539\u5171\u4eab\u8d44\u6e90\uff0c\u4f7f\u5f97\u6761\u4ef6\u6ee1\u8db3</li> <li>\u7ebf\u7a0b\u8c03\u7528 pthread_cond_signal \u6216 pthread_cond_broadcast \u51fd\u6570\uff0c\u901a\u77e5\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u4e00\u4e2a\u6216\u6240\u6709\u7ebf\u7a0b</li> <li>\u7ebf\u7a0b\u91ca\u653e\u4e92\u65a5\u9501\uff0c\u5141\u8bb8\u5176\u4ed6\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90</li> </ol> </li> </ul> <p>\u5728 Linux \u4e2d\uff0c\u6761\u4ef6\u53d8\u91cf\u7684\u5b9e\u73b0\u4f9d\u8d56\u4e8e\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u539f\u8bed\uff0c\u4ee5\u4fdd\u8bc1\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u548c\u901a\u77e5\u64cd\u4f5c\u7684\u539f\u5b50\u6027</p>"},{"location":"Operating%20System/Concurrency/#_17","title":"\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\uff1f","text":"<p>\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\u662f\u4e00\u4e2a\u7ecf\u5178\u7684\u5e76\u53d1\u95ee\u9898\uff0c\u7528\u4e8e\u63cf\u8ff0\u591a\u7ebf\u7a0b\u6216\u591a\u8fdb\u7a0b\u95f4\u7684\u540c\u6b65\u548c\u4e92\u65a5\u95ee\u9898\u3002\u5728\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\u4e2d\uff0c \u6709\u4e00\u7ec4\u751f\u4ea7\u8005\u7ebf\u7a0b/\u8fdb\u7a0b\u548c\u4e00\u7ec4\u6d88\u8d39\u8005\u7ebf\u7a0b/\u8fdb\u7a0b\uff0c\u5b83\u4eec\u5171\u4eab\u4e00\u4e2a\u6709\u9650\u5bb9\u91cf\u7684\u7f13\u51b2\u533a\u3002\u751f\u4ea7\u8005\u8d1f\u8d23\u5c06\u6570\u636e\u9879\u653e\u5165\u7f13\u51b2\u533a\uff0c\u6d88\u8d39\u8005\u5219\u4ece\u7f13\u51b2\u533a\u4e2d\u53d6\u51fa\u6570\u636e\u9879\u8fdb\u884c\u5904\u7406\u3002\u95ee\u9898\u7684\u6838\u5fc3\u5728\u4e8e\u5982\u4f55\u5b9e\u73b0\u5bf9\u5171\u4eab\u7f13\u51b2\u533a\u7684\u540c\u6b65\u8bbf\u95ee\uff0c\u786e\u4fdd\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u6216\u88ab\u91cd\u590d\u5904\u7406\u3002</p> <p>\u4ee5\u4e0b\u662f\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\u7684\u4e00\u4e9b\u5173\u952e\u70b9\uff1a</p> <ul> <li>\u540c\u6b65\uff1a\u9700\u8981\u786e\u4fdd\u5f53\u7f13\u51b2\u533a\u4e3a\u7a7a\u65f6\uff0c\u6d88\u8d39\u8005\u4e0d\u80fd\u4ece\u4e2d\u53d6\u51fa\u6570\u636e\uff1b\u5f53\u7f13\u51b2\u533a\u5df2\u6ee1\u65f6\uff0c\u751f\u4ea7\u8005\u4e0d\u80fd\u5411\u5176\u4e2d\u6dfb\u52a0\u6570\u636e\u3002\u8fd9\u9700\u8981\u4f7f\u7528\u540c\u6b65\u539f\u8bed(\u5982\u4e92\u65a5\u9501\u3001\u4fe1\u53f7\u91cf\u6216\u6761\u4ef6\u53d8\u91cf)\u6765\u5b9e\u73b0\u3002</li> <li>\u4e92\u65a5\uff1a\u591a\u4e2a\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u7ebf\u7a0b/\u8fdb\u7a0b\u9700\u8981\u4e92\u65a5\u5730\u8bbf\u95ee\u5171\u4eab\u7f13\u51b2\u533a\uff0c\u9632\u6b62\u540c\u65f6\u4fee\u6539\u7f13\u51b2\u533a\u5bfc\u81f4\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\u3002\u8fd9\u901a\u5e38\u4f7f\u7528\u4e92\u65a5\u9501(Mutex)\u6765\u5b9e\u73b0\u3002</li> <li>\u7f13\u51b2\u533a\u7ba1\u7406\uff1a\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u9002\u5f53\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\u9879\uff0c\u4f8b\u5982\u961f\u5217\u3001\u6808\u6216\u5faa\u73af\u7f13\u51b2\u533a\u3002\u540c\u65f6\uff0c\u9700\u8981\u8003\u8651\u7f13\u51b2\u533a\u7684\u5bb9\u91cf\u9650\u5236</li> </ul>"},{"location":"Operating%20System/Concurrency/#_18","title":"\u54f2\u5b66\u5bb6\u8fdb\u9910\u95ee\u9898\uff1f","text":"<p>\u54f2\u5b66\u5bb6\u8fdb\u9910\u95ee\u9898\u7528\u4e8e\u63cf\u8ff0\u591a\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u548c\u4e92\u65a5\u95ee\u9898\u3002\u95ee\u9898\u8bbe\u5b9a\u4e3a \u6709\u4e94\u4f4d\u54f2\u5b66\u5bb6\u56f4\u5750\u5728\u4e00\u4e2a\u5706\u684c\u4e0a\uff0c\u4ed6\u4eec\u4e4b\u95f4\u5171\u4eab\u4e94\u6839\u7b77\u5b50\u3002\u54f2\u5b66\u5bb6\u7684\u751f\u6d3b\u5305\u62ec\u4e24\u4e2a\u884c\u4e3a\uff1a\u601d\u8003\u548c\u8fdb\u9910\u3002\u5f53\u54f2\u5b66\u5bb6\u997f\u4e86\uff0c\u4ed6\u4eec\u9700\u8981\u62ff\u8d77\u5de6\u53f3\u4e24\u8fb9\u7684\u7b77\u5b50\u624d\u80fd\u5f00\u59cb\u8fdb\u9910\uff0c\u8fdb\u9910\u5b8c\u6bd5\u540e\u653e\u4e0b\u7b77\u5b50\u7ee7\u7eed\u601d\u8003\u3002\u95ee\u9898\u7684\u5173\u952e\u5728\u4e8e\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5e76\u53d1\u7b97\u6cd5\uff0c\u4f7f\u5f97\u54f2\u5b66\u5bb6\u4eec\u80fd\u591f\u540c\u65f6\u8fdb\u9910\u800c\u4e0d\u53d1\u751f\u6b7b\u9501\u6216\u997f\u6b7b\u7684\u60c5\u51b5\u3002</p> <p>\u4ee5\u4e0b\u662f\u54f2\u5b66\u5bb6\u8fdb\u9910\u95ee\u9898\u7684\u4e00\u4e9b\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>\u987a\u5e8f\u52a0\u9501\uff1a\u6bcf\u4e2a\u54f2\u5b66\u5bb6\u6309\u7167\u987a\u5e8f\u5148\u62ff\u8d77\u5de6\u8fb9\u7684\u7b77\u5b50\uff0c\u518d\u62ff\u8d77\u53f3\u8fb9\u7684\u7b77\u5b50\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u5bfc\u81f4\u6b7b\u9501\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u54f2\u5b66\u5bb6\u90fd\u62ff\u8d77\u4e86\u5de6\u8fb9\u7684\u7b77\u5b50\uff0c\u5374\u7b49\u4e0d\u5230\u53f3\u8fb9\u7684\u7b77\u5b50</li> <li>\u8d44\u6e90\u5206\u7ea7\uff1a\u4e3a\u6bcf\u6839\u7b77\u5b50\u5206\u914d\u4e00\u4e2a\u4f18\u5148\u7ea7\uff0c\u6bcf\u4e2a\u54f2\u5b66\u5bb6\u603b\u662f\u5148\u62ff\u8d77\u4f18\u5148\u7ea7\u8f83\u9ad8\u7684\u7b77\u5b50\uff0c\u518d\u62ff\u8d77\u4f18\u5148\u7ea7\u8f83\u4f4e\u7684\u7b77\u5b50\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u6b7b\u9501\uff0c\u56e0\u4e3a\u81f3\u5c11\u6709\u4e00\u4e2a\u54f2\u5b66\u5bb6\u53ef\u4ee5\u62ff\u5230\u4e24\u6839\u7b77\u5b50</li> <li>\u9650\u5236\u540c\u65f6\u8fdb\u9910\u4eba\u6570\uff1a\u9650\u5236\u540c\u65f6\u8fdb\u9910\u7684\u54f2\u5b66\u5bb6\u6570\u91cf\uff0c\u4f8b\u5982\u6700\u591a\u5141\u8bb8\u56db\u4f4d\u54f2\u5b66\u5bb6\u540c\u65f6\u8fdb\u9910\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u6b7b\u9501\uff0c\u56e0\u4e3a\u603b\u662f\u81f3\u5c11\u6709\u4e00\u4f4d\u54f2\u5b66\u5bb6\u80fd\u591f\u62ff\u5230\u4e24\u6839\u7b77\u5b50</li> <li>\u5947\u5076\u5206\u7ec4\uff1a\u5c06\u54f2\u5b66\u5bb6\u5206\u4e3a\u5947\u6570\u548c\u5076\u6570\u4e24\u7ec4\uff0c\u6bcf\u7ec4\u54f2\u5b66\u5bb6\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6bb5\u5c1d\u8bd5\u62ff\u8d77\u7b77\u5b50\u3002\u4f8b\u5982\uff0c\u5947\u6570\u54f2\u5b66\u5bb6\u5148\u62ff\u8d77\u5de6\u8fb9\u7684\u7b77\u5b50\uff0c\u518d\u62ff\u8d77\u53f3\u8fb9\u7684\u7b77\u5b50\uff1b\u5076\u6570\u54f2\u5b66\u5bb6\u5148\u62ff\u8d77\u53f3\u8fb9\u7684\u7b77\u5b50\uff0c\u518d\u62ff\u8d77\u5de6\u8fb9\u7684\u7b77\u5b50\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u6b7b\u9501\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u5185\u603b\u662f\u6709\u4e00\u4f4d\u54f2\u5b66\u5bb6\u80fd\u591f\u62ff\u5230\u4e24\u6839\u7b77\u5b50</li> <li>\u4f7f\u7528\u4fe1\u53f7\u91cf\u6216\u6761\u4ef6\u53d8\u91cf\uff1a\u53ef\u4ee5\u4f7f\u7528\u4fe1\u53f7\u91cf\u6216\u6761\u4ef6\u53d8\u91cf\u6765\u63a7\u5236\u7b77\u5b50\u7684\u4f7f\u7528\uff0c\u786e\u4fdd\u5728\u54f2\u5b66\u5bb6\u62ff\u8d77\u4e24\u6839\u7b77\u5b50\u65f6\u4e0d\u4f1a\u53d1\u751f\u6b7b\u9501\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u4e3a\u6bcf\u6839\u7b77\u5b50\u5206\u914d\u4e00\u4e2a\u4e92\u65a5\u9501\uff0c\u5e76\u4f7f\u7528\u6761\u4ef6\u53d8\u91cf\u6765\u7b49\u5f85\u7b77\u5b50\u7684\u53ef\u7528\u6027</li> </ul> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Operating%20System/File%20System/","title":"File System","text":""},{"location":"Operating%20System/File%20System/#file-system","title":"\ud83d\udfe3 File System","text":"<p> \u7ea6 3155 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 16 \u5206\u949f</p>"},{"location":"Operating%20System/File%20System/#_1","title":"\u6587\u4ef6\u7cfb\u7edf\u865a\u62df\u5316\uff1f","text":"<ul> <li>\u6587\u4ef6\u662f\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u5b58\u50a8\u65f6\u4f7f\u7528\u6700\u591a\u7684\u62bd\u8c61\u4e4b\u4e00\uff0c \u6bcf\u4e2a\u6587\u4ef6\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6709\u540d\u5b57\u7684\u5b57\u7b26\u5e8f\u5217\uff0c\u4e5f\u53ef\u4ee5\u628a\u6587\u4ef6\u53eb\u505a\u865a\u62df\u786c\u76d8\uff0c\u6211\u4eec\u5b9e\u9645\u64cd\u4f5c\u65f6\u90fd\u662f\u5728\u64cd\u4f5c\u6587\u4ef6\u800c\u975e\u76f4\u63a5\u64cd\u4f5c\u786c\u76d8\u4e2d\u7684\u6570\u636e\u3002\u5e8f\u5217\u5185\u5bb9\u4e3a\u6587\u4ef6\u6570\u636e\uff0c\u800c\u5e8f\u5217\u957f\u5ea6\uff0c\u4fee\u6539\u65f6\u95f4\u7b49\u63cf\u8ff0\u6587\u4ef6\u6570\u636e\u7684\u5c5e\u6027\u7279\u5f81\u7684\u5176\u4ed6\u4fe1\u606f\u88ab\u79f0\u4e3a\u6587\u4ef6\u5143\u6570\u636e</li> <li>\u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u7ba1\u7406\u6587\u4ef6\u6570\u636e\u4e0e\u6587\u4ef6\u5143\u6570\u636e\u7684\u7cfb\u7edf\u3002\u6587\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u6587\u4ef6\u62bd\u8c61\u5e76\u5b9e\u73b0\u6587\u4ef6\u8bbf\u95ee\u6240\u9700\u8981\u7684\u63a5\u53e3\u3002\u8003\u8651\u5230\u5b58\u50a8\u7a7a\u95f4\u592a\u5927\uff0c\u6587\u4ef6 \u4ee5\u6570\u636e\u5757\u4e3a\u5355\u4f4d\u8fdb\u884c\u8bbf\u95ee\uff0c \u4e00\u4e2a\u5757\u4e00\u822c 4KB </li> <li>\u5f53\u5e94\u7528\u7a0b\u5e8f\u60f3\u8bbf\u95ee\u6216\u5199\u5165\u4e00\u4e9b\u6570\u636e\u5230\u5b58\u50a8\u8bbe\u5907\u4e0a\u65f6\uff0c\u5b83\u4f1a\u91c7\u7528 Linux \u7cfb\u7edf\u63d0\u4f9b\u7684 open\uff0cwrite\uff0cread \u7b49\u7cfb\u7edf\u8c03\u7528\uff1b\u5728\u5904\u7406\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u5185\u6838\u4f1a\u8c03\u7528\u865a\u62df\u6587\u4ef6\u7cfb\u7edf(VFS)\u6765\u5904\u7406\u6587\u4ef6\u8bf7\u6c42\uff0c\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u5177\u4f53\u7684\u6587\u4ef6\u7cfb\u7edf\u5982 inode \u6587\u4ef6\u7cfb\u7edf\uff0cFAT32 \u6587\u4ef6\u7cfb\u7edf\u7b49</li> </ul>"},{"location":"Operating%20System/File%20System/#_2","title":"\u4ec0\u4e48\u662f\u786c\u94fe\u63a5\u4e0e\u7b26\u53f7\u8fde\u63a5\uff1f","text":"<p>\u786c\u94fe\u63a5(hard link)\u548c\u7b26\u53f7\u94fe\u63a5(symbolic link\uff0c\u4e5f\u79f0\u4e3a\u8f6f\u94fe\u63a5)\u662f Unix \u548c\u7c7b Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e24\u79cd\u4e0d\u540c\u7684\u6587\u4ef6\u94fe\u63a5\u7c7b\u578b\u3002\u5b83\u4eec \u7528\u4e8e\u521b\u5efa\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u5f15\u7528\u3002</p>"},{"location":"Operating%20System/File%20System/#_3","title":"\u786c\u94fe\u63a5","text":"<p>\u786c\u94fe\u63a5\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u6587\u4ef6\u7684\u989d\u5916\u5f15\u7528\u3002\u5728 Unix \u548c\u7c7b Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u4e00\u4e2a\u79f0\u4e3a inode \u7684\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\u6587\u4ef6\u7684\u5143\u6570\u636e\uff0c\u4f8b\u5982\u6587\u4ef6\u6743\u9650\u3001\u6240\u6709\u8005\u3001\u5927\u5c0f\u7b49\u3002\u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u540d(\u786c\u94fe\u63a5)\uff0c\u5b83\u4eec\u6307\u5411\u76f8\u5e94\u7684 inode\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c \u786c\u94fe\u63a5\u662f\u6587\u4ef6\u540d\u548c inode \u4e4b\u95f4\u7684\u5173\u8054\u3002</p>"},{"location":"Operating%20System/File%20System/#_4","title":"\u786c\u94fe\u63a5\u7684\u7279\u70b9","text":"<ul> <li>\u786c\u94fe\u63a5\u4e0d\u80fd\u8de8\u6587\u4ef6\u7cfb\u7edf\uff1a\u7531\u4e8e\u786c\u94fe\u63a5\u76f4\u63a5\u5173\u8054\u5230 inode\uff0c\u5b83\u53ea\u80fd\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e2d\u521b\u5efa</li> <li>\u786c\u94fe\u63a5\u4e0d\u80fd\u5f15\u7528\u76ee\u5f55\uff1a\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u6587\u4ef6\u7cfb\u7edf\u4e2d\u51fa\u73b0\u5faa\u73af\u5f15\u7528\u548c\u5176\u4ed6\u4e0d\u4e00\u81f4\u6027\u95ee\u9898</li> <li>\u5220\u9664\u4e00\u4e2a\u6587\u4ef6\u7684\u6240\u6709\u786c\u94fe\u63a5\u4f1a\u5bfc\u81f4\u6587\u4ef6\u88ab\u5220\u9664\uff1a\u5f53\u4e00\u4e2a\u6587\u4ef6\u7684\u6700\u540e\u4e00\u4e2a\u786c\u94fe\u63a5\u88ab\u5220\u9664\u65f6\uff0c\u6587\u4ef6\u7cfb\u7edf\u5c06 \u91ca\u653e\u8be5\u6587\u4ef6\u7684 inode \u4ee5\u53ca\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4 </li> <li>\u786c\u94fe\u63a5\u4e0d\u5f71\u54cd\u539f\u59cb\u6587\u4ef6\u7684\u8bbf\u95ee\uff1a\u6240\u6709\u786c\u94fe\u63a5\u90fd\u6307\u5411\u76f8\u540c\u7684 inode\uff0c\u56e0\u6b64 \u8bbf\u95ee\u4efb\u4f55\u4e00\u4e2a\u786c\u94fe\u63a5\u5b9e\u9645\u4e0a\u662f\u8bbf\u95ee\u539f\u59cb\u6587\u4ef6 </li> </ul>"},{"location":"Operating%20System/File%20System/#_5","title":"\u7b26\u53f7\u94fe\u63a5","text":"<p>\u7b26\u53f7\u94fe\u63a5\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6587\u4ef6\uff0c\u5b83\u5305\u542b\u6307\u5411\u53e6\u4e00\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\u3002\u4e0e\u786c\u94fe\u63a5\u76f4\u63a5\u5173\u8054\u5230 inode \u4e0d\u540c\uff0c\u7b26\u53f7\u94fe\u63a5 \u901a\u8fc7\u8def\u5f84\u540d\u6765\u5f15\u7528\u76ee\u6807\u6587\u4ef6\u3002\u5f53\u7528\u6237\u6216\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u7b26\u53f7\u94fe\u63a5\u65f6\uff0c\u6587\u4ef6\u7cfb\u7edf\u4f1a\u81ea\u52a8\u5c06\u5176\u91cd\u5b9a\u5411\u5230\u76ee\u6807\u8def\u5f84\u3002</p>"},{"location":"Operating%20System/File%20System/#_6","title":"\u7b26\u53f7\u94fe\u63a5\u7684\u7279\u70b9","text":"<ul> <li>\u7b26\u53f7\u94fe\u63a5\u53ef\u4ee5\u8de8\u6587\u4ef6\u7cfb\u7edf\uff1a\u7531\u4e8e\u7b26\u53f7\u94fe\u63a5\u901a\u8fc7\u8def\u5f84\u540d\u5f15\u7528\u76ee\u6807\u6587\u4ef6\uff0c\u5b83\u53ef\u4ee5\u94fe\u63a5\u5230\u5176\u4ed6\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u6216\u76ee\u5f55</li> <li>\u7b26\u53f7\u94fe\u63a5\u53ef\u4ee5\u5f15\u7528\u76ee\u5f55\uff1a\u8fd9\u4f7f\u5f97\u7b26\u53f7\u94fe\u63a5\u5728\u6587\u4ef6\u7cfb\u7edf\u7ec4\u7ec7\u548c\u76ee\u5f55\u7ed3\u6784\u7ba1\u7406\u4e2d\u975e\u5e38\u6709\u7528</li> <li>\u5220\u9664\u7b26\u53f7\u94fe\u63a5\u4e0d\u4f1a\u5f71\u54cd\u76ee\u6807\u6587\u4ef6\uff1a\u5f53\u5220\u9664\u4e00\u4e2a\u7b26\u53f7\u94fe\u63a5\u65f6\uff0c\u53ea\u6709\u94fe\u63a5\u672c\u8eab\u88ab\u5220\u9664\uff0c\u800c\u76ee\u6807\u6587\u4ef6\u4fdd\u6301\u4e0d\u53d8</li> <li>\u7b26\u53f7\u94fe\u63a5\u53ef\u80fd\u5f15\u8d77\u6b7b\u94fe\u63a5(dangling link)\uff1a\u5982\u679c\u76ee\u6807\u6587\u4ef6\u88ab\u5220\u9664\u6216\u79fb\u52a8\uff0c\u7b26\u53f7\u94fe\u63a5\u5c06\u6307\u5411\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u8def\u5f84\uff0c\u5bfc\u81f4\u6b7b\u94fe\u63a5</li> </ul>"},{"location":"Operating%20System/File%20System/#inode","title":"\u8bb2\u4e00\u8bb2 Inode \u6587\u4ef6\u7cfb\u7edf\u7ed3\u6784\uff1f","text":"<p>Inode(\u7d22\u5f15\u8282\u70b9)\u662f Unix \u548c\u7c7b Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u3002Inode \u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e \u5b58\u50a8\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u5143\u6570\u636e(metadata)\uff0c\u4f8b\u5982\u6587\u4ef6\u5927\u5c0f\u3001\u65f6\u95f4\u6233\u3001\u6743\u9650\u3001\u6240\u6709\u8005\u7b49\u3002Inode \u8fd8\u5305\u542b\u4e86\u6307\u5411\u5b9e\u9645\u6587\u4ef6\u6570\u636e\u5757(data block)\u7684\u6307\u9488\uff0c\u8fd9\u4e9b\u6570\u636e\u5757\u5b58\u50a8\u4e86\u6587\u4ef6\u7684\u5185\u5bb9\u3002</p> <p>\u5728 Unix \u548c\u7c7b Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c \u6bcf\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684 Inode \u53f7(Inode number)\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u5bf9\u8c61\u3002\u6587\u4ef6\u540d\u53ea\u662f\u4e00\u4e2a\u7528\u6237\u53cb\u597d\u7684\u5f15\u7528\uff0c\u5b9e\u9645\u4e0a\u662f\u6307\u5411 Inode \u53f7\u7684\u6307\u9488\u3002\u8fd9\u79cd\u8bbe\u8ba1\u5141\u8bb8\u6587\u4ef6\u7cfb\u7edf\u4ee5\u66f4\u9ad8\u6548\u7684\u65b9\u5f0f\u7ba1\u7406\u548c\u8bbf\u95ee\u6587\u4ef6\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86\u786c\u94fe\u63a5\u7b49\u9ad8\u7ea7\u529f\u80fd\u3002\u4ee5\u4e0b\u662f Inode \u6587\u4ef6\u7cfb\u7edf\u7ed3\u6784\u7684\u51e0\u4e2a\u5173\u952e\u7ec4\u6210\u90e8\u5206\uff1a</p> <ul> <li>Inode \u8868\uff1aInode \u8868\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u9884\u5148\u5206\u914d\u7684\u533a\u57df\uff0c\u7528\u4e8e\u5b58\u50a8 Inode \u6570\u636e\u7ed3\u6784\u3002 \u6bcf\u4e2a Inode \u5728 Inode \u8868\u4e2d\u5360\u7528\u56fa\u5b9a\u5927\u5c0f\u7684\u7a7a\u95f4\uff0c\u901a\u5e38\u4e3a 128 \u5b57\u8282\u6216 256 \u5b57\u8282\u3002\u6587\u4ef6\u7cfb\u7edf\u5728\u683c\u5f0f\u5316\u65f6\u4f1a\u9884\u5148\u5206\u914d\u4e00\u5b9a\u6570\u91cf\u7684 Inode\uff0c\u8fd9\u4e9b  Inode \u6570\u91cf\u51b3\u5b9a\u4e86\u6587\u4ef6\u7cfb\u7edf\u80fd\u591f\u5bb9\u7eb3\u7684\u6700\u5927\u6587\u4ef6\u548c\u76ee\u5f55\u6570\u91cf </li> <li>\u6570\u636e\u5757\uff1a\u6570\u636e\u5757(data block)\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7528\u4e8e\u5b58\u50a8\u6587\u4ef6\u5185\u5bb9\u7684\u57fa\u672c\u5355\u4f4d\u3002\u6570\u636e\u5757\u7684\u5927\u5c0f\u901a\u5e38\u4e3a 4KB\u30018KB \u6216\u66f4\u5927\u3002\u6bcf\u4e2a Inode \u5305\u542b\u4e86\u6307\u5411\u6587\u4ef6\u6570\u636e\u5757\u7684\u6307\u9488\uff0c\u8fd9\u4e9b\u6307\u9488\u53ef\u4ee5 \u76f4\u63a5\u6307\u5411\u6570\u636e\u5757(\u76f4\u63a5\u5757\u6307\u9488)\uff0c\u4e5f\u53ef\u4ee5 \u6307\u5411\u95f4\u63a5\u5757(\u95f4\u63a5\u5757\u6307\u9488) \u3001 \u4e8c\u6b21\u95f4\u63a5\u5757(\u53cc\u95f4\u63a5\u5757\u6307\u9488)  \u6216 \u4e09\u6b21\u95f4\u63a5\u5757(\u4e09\u95f4\u63a5\u5757\u6307\u9488) </li> <li>\u76ee\u5f55\u9879\uff1a\u76ee\u5f55\u9879(directory entry)\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u8868\u793a\u76ee\u5f55\u7ed3\u6784\u7684\u6570\u636e\u7ed3\u6784\u3002\u6bcf\u4e2a\u76ee\u5f55\u9879\u5305\u542b\u4e00\u4e2a\u6587\u4ef6\u540d\u548c\u4e00\u4e2a\u5bf9\u5e94\u7684 Inode \u53f7\u3002\u76ee\u5f55\u9879\u5b58\u50a8\u5728\u76ee\u5f55\u6587\u4ef6\u7684\u6570\u636e\u5757\u4e2d\uff0c\u901a\u8fc7 Inode \u53f7\u53ef\u4ee5\u627e\u5230\u76ee\u5f55\u9879\u6240\u6307\u5411\u7684\u6587\u4ef6\u6216\u5b50\u76ee\u5f55\u7684 Inode \u548c\u6570\u636e\u5757</li> <li>\u8d85\u7ea7\u5757\uff1a\u8d85\u7ea7\u5757(superblock)\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d \u5b58\u50a8\u6587\u4ef6\u7cfb\u7edf\u5143\u6570\u636e\u7684\u533a\u57df\u3002\u8d85\u7ea7\u5757\u5305\u542b\u4e86\u6587\u4ef6\u7cfb\u7edf\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u5982\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3001\u5927\u5c0f\u3001\u5757\u5927\u5c0f\u3001Inode \u6570\u91cf\u7b49\u3002\u64cd\u4f5c\u7cfb\u7edf\u5728\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u65f6\u4f1a\u8bfb\u53d6\u8d85\u7ea7\u5757\uff0c\u4ee5\u786e\u5b9a\u6587\u4ef6\u7cfb\u7edf\u7684\u53c2\u6570\u548c\u72b6\u6001</li> </ul>"},{"location":"Operating%20System/File%20System/#fat-unix","title":"\u8bb2\u4e00\u8bb2 FAT \u6587\u4ef6\u7cfb\u7edf\u4e0e Unix \u6587\u4ef6\u7cfb\u7edf\uff1f","text":"<p>FAT(File Allocation Table)\u6587\u4ef6\u7cfb\u7edf\u548c Unix \u6587\u4ef6\u7cfb\u7edf\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u6587\u4ef6\u7cfb\u7edf\u7ed3\u6784\u3002</p>"},{"location":"Operating%20System/File%20System/#fat","title":"FAT \u6587\u4ef6\u7cfb\u7edf","text":"<p>FAT \u6587\u4ef6\u7cfb\u7edf \u6700\u521d\u662f\u4e3a MS-DOS \u64cd\u4f5c\u7cfb\u7edf\u8bbe\u8ba1\u7684\uff0c\u540e\u6765\u6210\u4e3a\u4e86 Windows \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u4e3b\u8981\u6587\u4ef6\u7cfb\u7edf\u3002FAT \u6587\u4ef6\u7cfb\u7edf\u6709\u591a\u4e2a\u7248\u672c\uff0c\u5305\u62ec FAT12\u3001FAT16 \u548c FAT32\u3002FAT \u6587\u4ef6\u7cfb\u7edf\u7684\u6838\u5fc3\u7ec4\u4ef6\u662f\u6587\u4ef6\u5206\u914d\u8868(File Allocation Table)\uff0c\u5b83\u662f\u4e00\u4e2a\u8bb0\u5f55\u6587\u4ef6\u6570\u636e\u5757\u4f7f\u7528\u60c5\u51b5\u7684\u8868\u683c</p>"},{"location":"Operating%20System/File%20System/#fat_1","title":"FAT \u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u70b9","text":"<ul> <li>\u7ed3\u6784\u7b80\u5355\uff1aFAT \u6587\u4ef6\u7cfb\u7edf\u7684\u7ed3\u6784\u76f8\u5bf9\u7b80\u5355\uff0c\u6613\u4e8e\u5b9e\u73b0\u548c\u7ef4\u62a4\u3002\u5b83\u662f\u901a\u8fc7\u94fe\u8868\u7684\u5f62\u5f0f\u7ba1\u7406\u6570\u636e\u5757\uff0c\u968f\u673a\u8bbf\u95ee\u80fd\u529b\u8f83\u5dee</li> <li>\u8de8\u5e73\u53f0\u517c\u5bb9\u6027\uff1a\u7531\u4e8e FAT \u6587\u4ef6\u7cfb\u7edf\u7684\u666e\u53ca\u7a0b\u5ea6\u5f88\u9ad8\uff0c\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u90fd\u652f\u6301 FAT \u6587\u4ef6\u7cfb\u7edf\u3002\u8fd9\u4f7f\u5f97 FAT \u6587\u4ef6\u7cfb\u7edf\u6210\u4e3a\u4e86\u5f88\u591a\u53ef\u79fb\u52a8\u5b58\u50a8\u8bbe\u5907(\u5982 U \u76d8\u3001SD \u5361\u7b49)\u7684\u9996\u9009\u6587\u4ef6\u7cfb\u7edf</li> <li>\u5c40\u9650\u6027\uff1aFAT \u6587\u4ef6\u7cfb\u7edf\u5728\u6587\u4ef6\u6743\u9650\u7ba1\u7406\u3001\u6587\u4ef6\u5927\u5c0f\u9650\u5236\u548c\u786c\u76d8\u7a7a\u95f4\u5229\u7528\u7387\u7b49\u65b9\u9762\u5b58\u5728\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002\u4f8b\u5982\uff0cFAT32 \u6587\u4ef6\u7cfb\u7edf \u4e0d\u652f\u6301\u8d85\u8fc7 4GB \u7684\u5355\u4e2a\u6587\u4ef6 (\u56e0\u4e3a\u94fe\u8868\u7ba1\u7406\u7684\u539f\u56e0\uff0c\u8bbf\u95ee\u6700\u540e\u4e00\u4e2a\u6570\u636e\u5757\u8981\u904d\u5386\u5b8c\u6240\u6709\u6570\u636e\u5757\u7684\u6307\u9488\uff0c\u6240\u4ee5\u5927\u6587\u4ef6\u6027\u80fd\u5f88\u5dee)\uff0c\u800c\u4e14 \u6ca1\u6709\u7c7b\u4f3c Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u6743\u9650\u548c\u6240\u6709\u6743\u7ba1\u7406\u529f\u80fd </li> </ul>"},{"location":"Operating%20System/File%20System/#fat_2","title":"FAT \u6587\u4ef6\u7cfb\u7edf\u9002\u7528\u573a\u666f","text":"<ul> <li>\u53ef\u79fb\u52a8\u5b58\u50a8\u8bbe\u5907\uff1a\u7531\u4e8e FAT \u6587\u4ef6\u7cfb\u7edf\u5728\u5404\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u90fd\u6709\u5f88\u597d\u7684\u652f\u6301\uff0c\u5b83\u6210\u4e3a\u4e86\u8bb8\u591a\u53ef\u79fb\u52a8\u5b58\u50a8\u8bbe\u5907(\u5982 U \u76d8\u3001SD \u5361\u7b49)\u7684\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf</li> <li>\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff1aFAT \u6587\u4ef6\u7cfb\u7edf\u7b80\u5355\u7684\u7ed3\u6784\u548c\u8f83\u4f4e\u7684\u7cfb\u7edf\u8d44\u6e90\u9700\u6c42\u4f7f\u5176\u5728\u5d4c\u5165\u5f0f\u7cfb\u7edf\u548c\u4f4e\u7aef\u8bbe\u5907\u4e2d\u975e\u5e38\u53d7\u6b22\u8fce</li> </ul>"},{"location":"Operating%20System/File%20System/#unix","title":"Unix \u6587\u4ef6\u7cfb\u7edf","text":"<p>Unix \u6587\u4ef6\u7cfb\u7edf\u901a\u5e38\u6307\u4ee3\u5728 Unix \u548c\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4f7f\u7528\u7684\u4e00\u7cfb\u5217\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd9\u7c7b\u7cfb\u7edf\u76f8\u6bd4\u4e8e FAT \u4e3b\u8981\u63d0\u5347\u4e86\u968f\u673a\u8bbf\u95ee\u7684\u80fd\u529b\uff0c\u5e76\u4e14\u652f\u6301\u94fe\u63a5\u3002</p>"},{"location":"Operating%20System/File%20System/#unix_1","title":"Unix \u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u70b9","text":"<ul> <li>Inode \u7ed3\u6784\uff1aUnix \u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528 Inode(\u7d22\u5f15\u8282\u70b9)\u6765\u5b58\u50a8\u6587\u4ef6\u5143\u6570\u636e\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97\u6587\u4ef6\u7cfb\u7edf\u53ef\u4ee5\u66f4\u9ad8\u6548\u5730\u7ba1\u7406\u548c\u8bbf\u95ee\u6587\u4ef6</li> <li>\u6743\u9650\u7ba1\u7406\uff1aUnix \u6587\u4ef6\u7cfb\u7edf\u652f\u6301\u8be6\u7ec6\u7684\u6587\u4ef6\u6743\u9650\u548c\u6240\u6709\u6743\u7ba1\u7406\uff0c\u5141\u8bb8\u5bf9\u6587\u4ef6\u548c\u76ee\u5f55\u8fdb\u884c\u8bfb\u3001\u5199\u548c\u6267\u884c\u6743\u9650\u7684\u63a7\u5236</li> <li>\u786c\u94fe\u63a5\u548c\u7b26\u53f7\u94fe\u63a5\uff1aUnix \u6587\u4ef6\u7cfb\u7edf\u652f\u6301\u786c\u94fe\u63a5\u548c\u7b26\u53f7\u94fe\u63a5\uff0c\u8fd9\u4e9b\u94fe\u63a5\u7c7b\u578b\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u5f15\u7528\uff0c\u5b9e\u73b0\u66f4\u7075\u6d3b\u7684\u6587\u4ef6\u7cfb\u7edf\u7ec4\u7ec7\u548c\u7ba1\u7406</li> <li>\u65e5\u5fd7\u529f\u80fd\uff1a\u8bb8\u591a Unix \u6587\u4ef6\u7cfb\u7edf(\u5982 EXT4\u3001XFS \u7b49)\u5177\u6709\u65e5\u5fd7\u529f\u80fd\uff0c\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u6587\u4ef6\u7cfb\u7edf\u7684\u6570\u636e\u4e00\u81f4\u6027\u548c\u6062\u590d\u80fd\u529b</li> </ul>"},{"location":"Operating%20System/File%20System/#unix_2","title":"Unix \u6587\u4ef6\u7cfb\u7edf\u9002\u7528\u573a\u666f\uff1a","text":"<ul> <li>Unix \u548c\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\uff1a\u5728\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0cUnix \u6587\u4ef6\u7cfb\u7edf(\u5982 EXT4\u3001XFS \u7b49)\u662f\u9ed8\u8ba4\u6216\u63a8\u8350\u7684\u6587\u4ef6\u7cfb\u7edf</li> <li>\u670d\u52a1\u5668\u548c\u9ad8\u6027\u80fd\u8ba1\u7b97\uff1a\u7531\u4e8e Unix \u6587\u4ef6\u7cfb\u7edf\u5728\u6027\u80fd\u3001\u53ef\u9760\u6027\u548c\u6269\u5c55\u6027\u65b9\u9762\u7684\u4f18\u52bf\uff0c\u5b83\u4eec\u901a\u5e38\u88ab\u7528\u4e8e\u670d\u52a1\u5668\u548c\u9ad8\u6027\u80fd\u8ba1\u7b97\u7cfb\u7edf</li> </ul> <p>\u9664\u4e86 FAT \u548c Unix \u6587\u4ef6\u7cfb\u7edf\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u7c7b\u578b\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u5982 Windows \u4e2d\u7684 NTFS \u548c macOS \u4e2d\u7684 APFS \u7b49\u3002</p>"},{"location":"Operating%20System/File%20System/#_7","title":"\u6587\u4ef6\u4f20\u8f93\u4e2d\u65ad\u540e\u5982\u4f55\u7eed\u4f20","text":"<p>\u5f53\u6587\u4ef6\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e2d\u65ad\uff0c\u5982\u7f51\u7edc\u6545\u969c\u6216\u5176\u4ed6\u539f\u56e0\uff0c\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u6765\u7ee7\u7eed\u4f20\u8f93\uff0c\u800c\u4e0d\u662f\u4ece\u5934\u5f00\u59cb\u3002\u7eed\u4f20\u529f\u80fd\u53ef\u4ee5\u6709\u6548\u5730\u51cf\u5c11\u91cd\u590d\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c\u4ece\u800c\u63d0\u9ad8\u4f20\u8f93\u6548\u7387\u3002 Rsync \u7b97\u6cd5 \u662f\u4e00\u79cd\u7528\u4e8e\u6587\u4ef6\u540c\u6b65\u548c\u589e\u91cf\u5907\u4efd\u7684\u9ad8\u6548\u7b97\u6cd5\uff0c\u53ef\u4ee5 \u5b9e\u73b0\u6587\u4ef6\u4f20\u8f93\u7684\u7eed\u4f20\u529f\u80fd\u3002</p> <p>Rsync \u7b97\u6cd5\u57fa\u4e8e \u6eda\u52a8\u54c8\u5e0c(rolling hash)\u548c\u6570\u636e\u5757\u7b7e\u540d \u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u6587\u4ef6\u540c\u6b65\u3002\u4ee5\u4e0b\u662f Rsync \u7b97\u6cd5\u7684\u57fa\u672c\u6b65\u9aa4\uff1a</p> <ol> <li>\u5c06\u76ee\u6807\u6587\u4ef6\u5206\u5272\u6210\u56fa\u5b9a\u5927\u5c0f\u6216\u53ef\u53d8\u5927\u5c0f\u7684\u6570\u636e\u5757\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6570\u636e\u5757\uff0c\u8ba1\u7b97\u4e24\u4e2a\u54c8\u5e0c\u503c\uff1a\u4e00\u4e2a\u5f31\u54c8\u5e0c\u503c(\u5982 Adler-32 \u6821\u9a8c\u548c)\u548c\u4e00\u4e2a\u5f3a\u54c8\u5e0c\u503c(\u5982 MD5 \u6216 SHA-1 \u6563\u5217)</li> <li>\u5c06\u54c8\u5e0c\u503c(\u4e5f\u79f0\u4e3a\u6570\u636e\u5757\u7b7e\u540d)\u53d1\u9001\u5230\u63a5\u6536\u65b9\u3002\u63a5\u6536\u65b9\u5728\u672c\u5730\u67e5\u627e\u4e0e\u76ee\u6807\u6587\u4ef6\u76f8\u540c\u7684\u6587\u4ef6\uff0c\u901a\u5e38\u662f\u4e00\u4e2a\u65e7\u7248\u672c\u6216\u90e8\u5206\u4f20\u8f93\u7684\u6587\u4ef6</li> <li>\u63a5\u6536\u65b9\u5c06\u672c\u5730\u6587\u4ef6\u5212\u5206\u4e3a\u4e0e\u53d1\u9001\u65b9\u76f8\u540c\u5927\u5c0f\u7684\u6570\u636e\u5757\uff0c\u5e76\u8ba1\u7b97\u6bcf\u4e2a\u6570\u636e\u5757\u7684\u5f31\u54c8\u5e0c\u503c </li> <li>\u63a5\u6536\u65b9\u4f7f\u7528\u6eda\u52a8\u54c8\u5e0c\u65b9\u6cd5\uff0c\u5728\u672c\u5730\u6587\u4ef6\u4e2d\u5bfb\u627e\u4e0e\u53d1\u9001\u65b9\u6570\u636e\u5757\u76f8\u5339\u914d\u7684\u54c8\u5e0c\u503c\u3002\u901a\u8fc7\u6bd4\u8f83\u5f31\u54c8\u5e0c\u503c\uff0c\u63a5\u6536\u65b9\u53ef\u4ee5\u5feb\u901f\u627e\u5230\u6f5c\u5728\u7684\u5339\u914d\u6570\u636e\u5757\u3002\u4e3a\u4e86\u907f\u514d\u8bef\u62a5\uff0c\u63a5\u6536\u65b9\u8fd8\u4f1a\u6bd4\u8f83\u5f3a\u54c8\u5e0c\u503c\u6765\u786e\u8ba4\u6570\u636e\u5757\u662f\u5426\u771f\u6b63\u5339\u914d</li> <li>\u63a5\u6536\u65b9\u5c06\u5339\u914d\u7684\u6570\u636e\u5757\u4fe1\u606f(\u5982\u6570\u636e\u5757\u7d22\u5f15\u548c\u504f\u79fb\u91cf)\u53d1\u9001\u56de\u53d1\u9001\u65b9 </li> <li>\u53d1\u9001\u65b9\u6839\u636e\u63a5\u6536\u65b9\u8fd4\u56de\u7684\u5339\u914d\u4fe1\u606f\uff0c\u4ec5\u53d1\u9001\u76ee\u6807\u6587\u4ef6\u4e2d\u672a\u5339\u914d\u7684\u6570\u636e\u5757\uff0c\u4ece\u800c\u5b9e\u73b0\u589e\u91cf\u66f4\u65b0\u548c\u7eed\u4f20\u529f\u80fd </li> <li>Rsync \u7b97\u6cd5\u7684\u4e3b\u8981\u4f18\u52bf\u662f\u5b83\u53ef\u4ee5\u5728\u4e0d\u4f20\u8f93\u6574\u4e2a\u6587\u4ef6\u7684\u60c5\u51b5\u4e0b\u68c0\u6d4b\u548c\u540c\u6b65\u6587\u4ef6\u7684\u5dee\u5f02\u3002\u8fd9\u79cd\u65b9\u6cd5\u5728\u5927\u6587\u4ef6\u3001\u4f4e\u5e26\u5bbd\u548c\u4e0d\u7a33\u5b9a\u7f51\u7edc\u8fde\u63a5\u7684\u573a\u666f\u4e2d\u975e\u5e38\u9ad8\u6548\u3002\u4e0d\u8fc7 Rsync \u7b97\u6cd5\u672c\u8eab\u5e76\u4e0d\u8d1f\u8d23\u6587\u4ef6\u4f20\u8f93\uff0c\u800c\u662f\u9700\u8981\u4e0e\u5176\u4ed6\u6587\u4ef6\u4f20\u8f93\u534f\u8bae(\u5982 SSH\u3001FTP \u7b49)\u7ed3\u5408\u4f7f\u7528</li> </ol> <p>Rsync \u7b97\u6cd5\u5df2\u7ecf\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u79cd\u6587\u4ef6\u540c\u6b65\u548c\u5907\u4efd\u5de5\u5177\u4e2d\uff0c\u5982 Linux \u4e2d\u7684 rsync \u547d\u4ee4\u3002\u8fd9\u4e9b\u5de5\u5177\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u9009\u9879\u548c\u529f\u80fd\uff0c\u53ef\u4ee5\u5b9e\u73b0\u6587\u4ef6\u4f20\u8f93\u7684\u7eed\u4f20\u3001\u589e\u91cf\u5907\u4efd\u3001\u538b\u7f29\u4f20\u8f93\u7b49\u9ad8\u7ea7\u529f\u80fd\u3002</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Operating%20System/Intro/","title":"System Basic","text":""},{"location":"Operating%20System/Intro/#_1","title":"\ud83d\udfe1 \u8ba1\u7b97\u673a\u7cfb\u7edf\u57fa\u7840","text":"<p> \u7ea6 8720 \u4e2a\u5b57  2 \u884c\u4ee3\u7801  3 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 44 \u5206\u949f</p>"},{"location":"Operating%20System/Intro/#_2","title":"\u8bb2\u4e00\u8bb2\u4ec0\u4e48\u662f\u64cd\u4f5c\u7cfb\u7edf\uff1f","text":"<p>\u64cd\u4f5c\u7cfb\u7edf(Operating System, OS)  \u662f\u7ba1\u7406\u8ba1\u7b97\u673a\u786c\u4ef6\u548c\u8f6f\u4ef6\u8d44\u6e90\u3001\u7ed9\u5e94\u7528\u7a0b\u5e8f\u548c\u7528\u6237\u63d0\u4f9b\u5e95\u5c42\u62bd\u8c61\u7684\u4e00\u79cd\u7cfb\u7edf\u8f6f\u4ef6\u3002\u64cd\u4f5c\u7cfb\u7edf\u8d77\u5230\u4e86\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7684\u6838\u5fc3\u4f5c\u7528\uff0c\u5b83\u8d1f\u8d23\u534f\u8c03\u3001\u63a7\u5236\u548c\u7ba1\u7406\u8ba1\u7b97\u673a\u786c\u4ef6\u8bbe\u5907\u3001\u7cfb\u7edf\u8d44\u6e90\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u6267\u884c\u3002\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e3b\u8981\u529f\u80fd\u5982\u4e0b\uff1a</p> <ul> <li>\u786c\u4ef6\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u5404\u79cd\u786c\u4ef6\u8d44\u6e90\uff0c\u5305\u62ec\u5904\u7406\u5668\u3001\u5185\u5b58\u3001\u786c\u76d8\u3001\u663e\u793a\u5668\u3001\u8f93\u5165\u8bbe\u5907\u7b49\u3002\u901a\u8fc7\u7ba1\u7406\u8fd9\u4e9b\u786c\u4ef6\u8d44\u6e90\uff0c\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u9ad8\u6548\u5730\u5206\u914d\u548c\u4f7f\u7528\u8ba1\u7b97\u673a\u7684\u8ba1\u7b97\u80fd\u529b</li> <li>\u6587\u4ef6\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u7528\u4e8e\u7ec4\u7ec7\u3001\u5b58\u50a8\u548c\u7ba1\u7406\u7528\u6237\u7684\u6570\u636e\u6587\u4ef6\u3002\u6587\u4ef6\u7cfb\u7edf\u5141\u8bb8\u7528\u6237\u521b\u5efa\u3001\u5220\u9664\u3001\u8bfb\u53d6\u548c\u4fee\u6539\u6587\u4ef6\uff0c\u5e76\u63d0\u4f9b\u4e86\u6587\u4ef6\u4fdd\u62a4\u3001\u6743\u9650\u7ba1\u7406\u7b49\u529f\u80fd</li> <li>\u8fdb\u7a0b\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u8fd0\u884c\u5728\u8ba1\u7b97\u673a\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f(\u8fdb\u7a0b)\u3002\u5b83\u8d1f\u8d23\u8fdb\u7a0b\u7684\u521b\u5efa\u3001\u8c03\u5ea6\u3001\u7ec8\u6b62\u4ee5\u53ca\u8fdb\u7a0b\u95f4\u901a\u4fe1\u7b49\u529f\u80fd\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u8fdb\u7a0b\u7ba1\u7406\u6765\u4fdd\u8bc1\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u7a33\u5b9a\u8fd0\u884c\u548c\u8d44\u6e90\u7684\u516c\u5e73\u5206\u914d</li> <li>\u5185\u5b58\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u8ba1\u7b97\u673a\u7684\u4e3b\u5b58\u50a8\u5668(RAM)\u3002\u5185\u5b58\u7ba1\u7406\u5305\u62ec\u5185\u5b58\u5206\u914d\u3001\u56de\u6536\u3001\u865a\u62df\u5185\u5b58\u7ba1\u7406\u7b49\u529f\u80fd\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u6765\u786e\u4fdd\u7cfb\u7edf\u8d44\u6e90\u7684\u9ad8\u6548\u5229\u7528</li> <li>\u7cfb\u7edf\u5b89\u5168\u548c\u4fdd\u62a4\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ef4\u62a4\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027\u3002\u5b83\u63d0\u4f9b\u4e86\u5404\u79cd\u5b89\u5168\u673a\u5236\uff0c\u5982\u7528\u6237\u8eab\u4efd\u9a8c\u8bc1\u3001\u6743\u9650\u7ba1\u7406\u3001\u9632\u6b62\u975e\u6cd5\u8bbf\u95ee\u7b49\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u8fd9\u4e9b\u673a\u5236\u6765\u4fdd\u62a4\u8ba1\u7b97\u673a\u7cfb\u7edf\u548c\u7528\u6237\u6570\u636e\u514d\u53d7\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee</li> <li>\u7528\u6237\u63a5\u53e3\uff1a\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u4e86\u7528\u6237\u4e0e\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e4b\u95f4\u7684\u4ea4\u4e92\u754c\u9762\u3002\u8fd9\u4e2a\u754c\u9762\u53ef\u4ee5\u662f\u56fe\u5f62\u7528\u6237\u754c\u9762(GUI)\u6216\u8005\u547d\u4ee4\u884c\u754c\u9762(CLI)\uff0c\u4f7f\u7528\u6237\u80fd\u591f\u65b9\u4fbf\u5730\u64cd\u4f5c\u8ba1\u7b97\u673a\u7cfb\u7edf</li> <li>\u7cfb\u7edf\u670d\u52a1\u548c\u5e94\u7528\u7a0b\u5e8f\u652f\u6301\uff1a\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u7cfb\u7edf\u670d\u52a1\u548c\u5e94\u7528\u7a0b\u5e8f\u652f\u6301\uff0c\u5305\u62ec\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u3001\u7cfb\u7edf\u5de5\u5177\u3001\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3(API)\u7b49\u3002\u8fd9\u4e9b\u670d\u52a1\u548c\u652f\u6301\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u66f4\u8f7b\u677e\u5730\u8bbf\u95ee\u8ba1\u7b97\u673a\u7684\u786c\u4ef6\u8d44\u6e90\u548c\u7cfb\u7edf\u529f\u80fd</li> </ul>"},{"location":"Operating%20System/Intro/#_3","title":"\u8bb2\u4e00\u8bb2\u51af\u8bfa\u4f9d\u66fc\u7ed3\u6784\uff1f","text":"<ul> <li>\u5b58\u50a8\u5668 </li> <li>\u4e2d\u592e\u5904\u7406\u5668 </li> <li>\u5185\u5b58 </li> <li>\u8f93\u5165\u8bbe\u5907 </li> <li>\u8f93\u51fa\u8bbe\u5907 </li> </ul>"},{"location":"Operating%20System/Intro/#_4","title":"\u8bb2\u4e00\u8bb2\u5916\u90e8\u4e2d\u65ad\u4e0e\u5f02\u5e38\uff1f","text":"<p>\u5916\u90e8\u4e2d\u65ad\u548c\u5f02\u5e38\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7528\u4e8e\u5904\u7406\u975e\u6b63\u5e38\u6216\u7279\u6b8a\u60c5\u51b5\u7684\u4e24\u79cd\u673a\u5236\u3002\u5b83\u4eec\u90fd\u4f1a\u5bfc\u81f4\u5904\u7406\u5668\u6682\u505c\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1\uff0c\u5e76\u8f6c\u5411\u6267\u884c\u4e00\u4e2a\u7279\u5b9a\u7684\u5904\u7406\u7a0b\u5e8f(\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u6216\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f)\u3002\u7136\u540e\u5728\u5904\u7406\u5b8c\u8fd9\u4e9b\u7279\u6b8a\u60c5\u51b5\u540e\uff0c\u5904\u7406\u5668\u4f1a\u8fd4\u56de\u5230\u88ab\u6253\u65ad\u7684\u4efb\u52a1\u7ee7\u7eed\u6267\u884c\u3002</p> <ul> <li> <p>\u5916\u90e8\u4e2d\u65ad\uff1a\u5916\u90e8\u4e2d\u65ad\u662f\u7531\u8ba1\u7b97\u673a\u7cfb\u7edf\u5916\u90e8\u4e8b\u4ef6\u89e6\u53d1\u7684\uff0c\u901a\u5e38\u4e0e\u786c\u4ef6\u8bbe\u5907\u76f8\u5173\u3002\u5916\u90e8\u4e2d\u65ad\u7684\u76ee\u7684\u662f\u901a\u77e5\u5904\u7406\u5668\u67d0\u4e2a\u5916\u90e8\u8bbe\u5907\u9700\u8981\u5904\u7406\u5668\u7684\u6ce8\u610f\uff0c\u4f8b\u5982\u8bbe\u5907\u9700\u8981\u4f20\u8f93\u6570\u636e\u3001\u8bbe\u5907\u53d1\u751f\u9519\u8bef\u7b49\u3002\u5e38\u89c1\u7684\u5916\u90e8\u4e2d\u65ad\u6765\u6e90\u5305\u62ec\uff1a</p> <ul> <li>\u8f93\u5165/\u8f93\u51fa\u8bbe\u5907\uff1a\u5982\u952e\u76d8\u3001\u9f20\u6807\u3001\u786c\u76d8\u7b49\u8bbe\u5907\u5728\u6570\u636e\u4f20\u8f93\u5b8c\u6210\u3001\u7f13\u51b2\u533a\u5df2\u6ee1\u6216\u53d1\u751f\u9519\u8bef\u65f6\u53d1\u51fa\u7684\u4e2d\u65ad</li> <li>\u8ba1\u65f6\u5668\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u8ba1\u65f6\u5668\u4ea7\u751f\u5b9a\u65f6\u4e2d\u65ad\uff0c\u7528\u4e8e\u5b9e\u73b0\u65f6\u95f4\u7247\u8f6e\u8f6c\u7b49\u8c03\u5ea6\u7b56\u7565</li> <li>\u7535\u6e90\u7ba1\u7406\uff1a\u4f8b\u5982\u5904\u7406\u5668\u9700\u8981\u8fdb\u5165\u4f4e\u529f\u8017\u6a21\u5f0f\u65f6\u53d1\u51fa\u7684\u4e2d\u65ad</li> </ul> </li> <li> <p>\u5f02\u5e38\uff1a\u5f02\u5e38\u662f\u7531\u8ba1\u7b97\u673a\u7cfb\u7edf\u5185\u90e8\u4e8b\u4ef6\u89e6\u53d1\u7684\uff0c\u901a\u5e38\u4e0e\u6b63\u5728\u6267\u884c\u7684\u7a0b\u5e8f\u6216\u6307\u4ee4\u6709\u5173\u3002\u5f02\u5e38\u7684\u76ee\u7684\u662f\u901a\u77e5\u5904\u7406\u5668\u67d0\u4e2a\u6307\u4ee4\u65e0\u6cd5\u6b63\u5e38\u6267\u884c\uff0c\u9700\u8981\u91c7\u53d6\u7279\u6b8a\u5904\u7406\u3002\u5e38\u89c1\u7684\u5f02\u5e38\u5305\u62ec\uff1a</p> <ul> <li>\u7b97\u672f\u5f02\u5e38\uff1a\u5982\u9664\u4ee5\u96f6\u3001\u6ea2\u51fa\u7b49</li> <li>\u5730\u5740\u5f02\u5e38\uff1a\u5982\u975e\u6cd5\u5185\u5b58\u8bbf\u95ee\u3001\u9875\u9762\u9519\u8bef\u7b49</li> <li>\u7cfb\u7edf\u8c03\u7528\uff1a\u7a0b\u5e8f\u8bf7\u6c42\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u670d\u52a1\u65f6\u89e6\u53d1\u7684\u5f02\u5e38</li> <li>\u4fdd\u62a4\u5f02\u5e38\uff1a\u5982\u7a0b\u5e8f\u8bd5\u56fe\u8bbf\u95ee\u53d7\u4fdd\u62a4\u7684\u8d44\u6e90\u6216\u6267\u884c\u975e\u6cd5\u64cd\u4f5c\u65f6\u89e6\u53d1\u7684\u5f02\u5e38</li> </ul> </li> </ul>"},{"location":"Operating%20System/Intro/#cpu","title":"CPU \u5730\u5740\u7ffb\u8bd1\u662f\u600e\u6837\u5b9e\u73b0\u7684\uff1f","text":"<p>CPU \u5730\u5740\u7ffb\u8bd1\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u5c06 \u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740 \u7684\u8fc7\u7a0b\u3002\u5730\u5740\u7ffb\u8bd1\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5b9e\u73b0\u865a\u62df\u5185\u5b58\uff0c\u8ba9\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u81f4\u7684\u3001\u8fde\u7eed\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u7b80\u5316\u7f16\u7a0b\u548c\u5185\u5b58\u7ba1\u7406\u3002\u865a\u62df\u5185\u5b58\u5230\u7269\u7406\u5185\u5b58\u7684\u6620\u5c04\u65b9\u5f0f\u6709\u4e24\u79cd\uff0c\u5206\u9875\u4e0e\u5206\u6bb5\uff0c\u73b0\u5728\u5927\u90e8\u5206\u64cd\u4f5c\u7cfb\u7edf\u90fd\u662f\u5206\u9875\u7cfb\u7edf\u3002</p>"},{"location":"Operating%20System/Intro/#_5","title":"\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b","text":"<p>\u5728\u5206\u9875\u7cfb\u7edf\u4e2d\uff0c\u865a\u62df\u5730\u5740\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a \u865a\u62df\u9875\u53f7(Virtual Page Number, VPN)\u548c\u9875\u5185\u504f\u79fb(Offset)\u3002VPN \u7528\u4e8e\u6807\u8bc6\u865a\u62df\u5185\u5b58\u4e2d\u7684\u4e00\u4e2a\u9875\uff0cOffset \u8868\u793a\u5728\u8fd9\u4e2a\u9875\u4e2d\u7684\u4f4d\u7f6e\u3002\u5730\u5740\u7ffb\u8bd1\u7684\u8fc7\u7a0b\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u4ece\u865a\u62df\u5730\u5740\u4e2d\u63d0\u53d6 VPN \u548c Offset</li> <li>\u4f7f\u7528  \u9875\u8868(Page Table)  \u5c06 VPN \u8f6c\u6362\u4e3a  \u7269\u7406\u9875\u6846\u53f7(Physical Frame Number, PFN)\u3002\u9875\u8868\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ef4\u62a4\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u8bb0\u5f55\u865a\u62df\u9875\u5230\u7269\u7406\u9875\u6846\u7684\u6620\u5c04\u5173\u7cfb\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u4e2a\u72ec\u7acb\u7684\u9875\u8868</li> <li>\u5c06 PFN \u4e0e Offset \u7ec4\u5408\u6210\u7269\u7406\u5730\u5740</li> </ol>"},{"location":"Operating%20System/Intro/#_6","title":"\u9875\u8868\u67e5\u627e\u4e0e\u5730\u5740\u7ffb\u8bd1","text":"<p>\u9875\u8868\u67e5\u627e\u662f\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u5173\u952e\u6b65\u9aa4\u3002\u5728\u7b80\u5355\u7684\u5355\u7ea7\u9875\u8868\u7cfb\u7edf\u4e2d\uff0c\u9875\u8868\u662f\u4e00\u4e2a\u7ebf\u6027\u6570\u7ec4\uff0c\u4f7f\u7528 VPN \u4f5c\u4e3a\u7d22\u5f15\u6765\u67e5\u627e\u5bf9\u5e94\u7684 PFN\u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u8f83\u5927\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u5355\u7ea7\u9875\u8868\u53ef\u80fd\u4f1a\u975e\u5e38\u5e9e\u5927\u5e76\u4e14\u6d6a\u8d39\u5185\u5b58\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c \u591a\u7ea7\u9875\u8868 \u88ab\u5f15\u5165\u3002\u5728\u591a\u7ea7\u9875\u8868\u7cfb\u7edf\u4e2d\uff0c\u9875\u8868\u88ab\u5212\u5206\u4e3a\u591a\u7ea7\u5c42\u6b21\u7ed3\u6784\u3002\u865a\u62df\u5730\u5740\u88ab\u5206\u4e3a\u591a\u4e2a\u90e8\u5206\uff0c\u6bcf\u4e2a\u90e8\u5206\u7528\u4e8e\u5728\u4e0d\u540c\u7ea7\u522b\u7684\u9875\u8868\u4e2d\u67e5\u627e\u3002\u6700\u540e\u4e00\u7ea7\u9875\u8868\u5305\u542b\u5b9e\u9645\u7684 PFN\u3002\u591a\u7ea7\u9875\u8868\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u5185\u5b58\u6d88\u8017\uff0c\u56e0\u4e3a\u53ea\u9700\u8981\u5206\u914d\u5b9e\u9645\u4f7f\u7528\u7684\u9875\u8868\u7a7a\u95f4\u3002</p>"},{"location":"Operating%20System/Intro/#tlb","title":"\u9875\u8868\u7f13\u5b58(TLB)","text":"<p>\u7531\u4e8e\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b\u9700\u8981\u591a\u6b21\u8bbf\u95ee\u5185\u5b58\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u6027\u80fd\u5f00\u9500\u3002\u4e3a\u4e86\u52a0\u901f\u5730\u5740\u7ffb\u8bd1\uff0c\u73b0\u4ee3\u5904\u7406\u5668\u5f15\u5165\u4e86\u4e00\u79cd\u53eb\u505a  Translation Lookaside Buffer(TLB)  \u7684\u786c\u4ef6\u7f13\u5b58\u3002TLB \u7f13\u5b58\u4e86\u6700\u8fd1\u4f7f\u7528\u8fc7\u7684 VPN \u5230 PFN \u7684\u6620\u5c04\u5173\u7cfb\u3002\u5f53\u5904\u7406\u5668\u9700\u8981\u6267\u884c\u5730\u5740\u7ffb\u8bd1\u65f6\uff0c\u9996\u5148\u5728 TLB \u4e2d\u67e5\u627e\u3002\u5982\u679c\u627e\u5230\u4e86\u76f8\u5e94\u7684\u6620\u5c04\uff0c\u5c31\u4e0d\u9700\u8981\u518d\u8bbf\u95ee\u9875\u8868\uff0c\u4ece\u800c\u51cf\u5c11\u4e86\u5185\u5b58\u8bbf\u95ee\u6b21\u6570\u548c\u5730\u5740\u7ffb\u8bd1\u7684\u5ef6\u8fdf\u3002\u8fd9\u79cd\u60c5\u51b5\u79f0\u4e3a TLB \u547d\u4e2d\u3002\u5982\u679c TLB \u672a\u627e\u5230\u76f8\u5e94\u7684\u6620\u5c04(TLB \u672a\u547d\u4e2d)\uff0c\u5219\u9700\u8981\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\u8fdb\u884c\u5730\u5740\u7ffb\u8bd1\uff0c\u7136\u540e\u5c06\u65b0\u7684\u6620\u5c04\u52a0\u5165 TLB\u3002</p>"},{"location":"Operating%20System/Intro/#cpu_1","title":"\u4ecb\u7ecd\u4e00\u4e0b\u73b0\u4ee3 CPU \u6307\u4ee4\u5468\u671f\u4e0e\u6307\u4ee4\u7c7b\u578b\uff1f","text":""},{"location":"Operating%20System/Intro/#_7","title":"\u6307\u4ee4\u5468\u671f","text":"<p>\u73b0\u4ee3 CPU \u7684\u6307\u4ee4\u5468\u671f\u662f\u6307  CPU \u6267\u884c\u4e00\u6761\u6307\u4ee4\u6240\u9700\u7684\u65f6\u95f4\u3002\u5728\u5904\u7406\u5668\u4e2d\uff0c\u6bcf\u6761\u6307\u4ee4\u90fd\u4f1a\u7ecf\u8fc7\u4e00\u7cfb\u5217\u9636\u6bb5\u6765\u5b8c\u6210\u5176\u6267\u884c\uff0c\u8fd9\u4e9b\u9636\u6bb5\u6784\u6210\u4e86\u6307\u4ee4\u6267\u884c\u7684\u6d41\u6c34\u7ebf(Pipeline)\u3002\u5178\u578b\u7684\u6d41\u6c34\u7ebf\u5305\u62ec\u4ee5\u4e0b\u9636\u6bb5\uff1a</p> <ul> <li>\u53d6\u6307(Fetch)\uff1a\u4ece\u5185\u5b58\u4e2d\u83b7\u53d6\u6307\u4ee4</li> <li>\u89e3\u7801(Decode)\uff1a\u5c06\u6307\u4ee4\u8f6c\u6362\u4e3a\u63a7\u5236\u4fe1\u53f7\u548c\u64cd\u4f5c\u6570</li> <li>\u6267\u884c(Execute)\uff1a\u6839\u636e\u6307\u4ee4\u7c7b\u578b\uff0c\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c</li> <li>\u8bbf\u5b58(Memory Access)\uff1a\u5982\u679c\u6307\u4ee4\u6d89\u53ca\u5230\u5185\u5b58\u64cd\u4f5c(\u5982\u52a0\u8f7d\u3001\u5b58\u50a8)\uff0c\u5219\u8bbf\u95ee\u5185\u5b58</li> <li>\u5199\u56de(Write Back)\uff1a\u5c06\u6267\u884c\u7ed3\u679c\u5199\u56de\u76ee\u6807\u5bc4\u5b58\u5668</li> </ul> <p>\u73b0\u4ee3 CPU \u901a\u5e38\u91c7\u7528\u591a\u7ea7\u6d41\u6c34\u7ebf\u8bbe\u8ba1\uff0c\u5141\u8bb8\u540c\u65f6\u5904\u7406\u591a\u6761\u6307\u4ee4\uff0c\u4ece\u800c\u63d0\u9ad8\u5904\u7406\u5668\u7684\u541e\u5410\u91cf\u3002</p>"},{"location":"Operating%20System/Intro/#_8","title":"\u6307\u4ee4\u7c7b\u578b","text":"<p>CPU \u652f\u6301\u591a\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u6307\u4ee4\uff0c\u8fd9\u4e9b\u6307\u4ee4\u53ef\u4ee5\u5927\u81f4\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> <ul> <li>\u7b97\u672f\u6307\u4ee4(Arithmetic Instructions)\uff1a\u6267\u884c\u57fa\u672c\u7684\u7b97\u672f\u8fd0\u7b97\uff0c\u5982\u52a0\u6cd5\u3001\u51cf\u6cd5\u3001\u4e58\u6cd5\u548c\u9664\u6cd5</li> <li>\u903b\u8f91\u6307\u4ee4(Logical Instructions)\uff1a\u6267\u884c\u903b\u8f91\u8fd0\u7b97\uff0c\u5982\u4e0e\u3001\u6216\u3001\u975e\u3001\u5f02\u6216\u7b49</li> <li>\u79fb\u4f4d\u6307\u4ee4(Shift Instructions)\uff1a\u5bf9\u6570\u636e\u8fdb\u884c\u4f4d\u79fb\u64cd\u4f5c\uff0c\u5982\u5de6\u79fb\u3001\u53f3\u79fb\u7b49</li> <li>\u63a7\u5236\u6d41\u6307\u4ee4(Control Flow Instructions)\uff1a\u7528\u4e8e\u6539\u53d8\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b\uff0c\u5305\u62ec\u8df3\u8f6c\u3001\u5206\u652f\u548c\u51fd\u6570\u8c03\u7528\u7b49</li> <li>\u6570\u636e\u4f20\u8f93\u6307\u4ee4(Data Transfer Instructions)\uff1a\u8d1f\u8d23\u5728\u5bc4\u5b58\u5668\u3001\u5185\u5b58\u548c I/O \u8bbe\u5907\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\uff0c\u5982\u52a0\u8f7d\u3001\u5b58\u50a8\u7b49</li> <li>\u7279\u6b8a\u6307\u4ee4(Special Instructions)\uff1a\u7528\u4e8e\u5904\u7406\u7279\u5b9a\u7684\u64cd\u4f5c\uff0c\u5982\u7cfb\u7edf\u8c03\u7528\u3001\u540c\u6b65\u539f\u8bed\u3001\u6d6e\u70b9\u8fd0\u7b97\u7b49</li> </ul> <p>\u4e0d\u540c\u7c7b\u578b\u7684\u6307\u4ee4\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684\u65f6\u95f4\uff0c\u8fd9\u53d6\u51b3\u4e8e\u5b83\u4eec\u6240\u9700\u7684\u6d41\u6c34\u7ebf\u9636\u6bb5\u548c\u64cd\u4f5c\u7684\u590d\u6742\u6027\u3002\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0c\u73b0\u4ee3 CPU \u901a\u5e38\u91c7\u7528\u5404\u79cd\u4f18\u5316\u6280\u672f\uff0c\u5982\u4e71\u5e8f\u6267\u884c\u3001\u5206\u652f\u9884\u6d4b\u7b49\u3002</p>"},{"location":"Operating%20System/Intro/#tlb_1","title":"\u8bb2\u4e00\u8bb2 TLB\uff1f","text":"<p>Translation Lookaside Buffer(TLB)  \u662f\u4e00\u79cd\u786c\u4ef6\u9ad8\u901f\u7f13\u5b58\uff0c\u7528\u4e8e \u52a0\u901f\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u7ffb\u8bd1\u8fc7\u7a0b\u3002TLB \u4f4d\u4e8e CPU \u5185\u90e8\uff0c\u5b58\u50a8\u4e86\u6700\u8fd1\u4f7f\u7528\u8fc7\u7684\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u5173\u7cfb\u3002\u901a\u8fc7\u5c06\u5e38\u7528\u7684\u5730\u5740\u6620\u5c04\u5b58\u50a8\u5728 TLB \u4e2d\uff0cCPU \u53ef\u4ee5\u5feb\u901f\u67e5\u627e\u6620\u5c04\u5173\u7cfb\uff0c\u800c\u65e0\u9700\u6bcf\u6b21\u90fd\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\u3002</p>"},{"location":"Operating%20System/Intro/#_9","title":"\u7279\u70b9","text":"<ul> <li>\u5c0f\u5bb9\u91cf\uff1a\u4e0e\u7f13\u5b58\u76f8\u6bd4\uff0cTLB \u901a\u5e38\u5177\u6709 \u8f83\u5c0f\u7684\u5bb9\u91cf\u3002\u7531\u4e8e TLB \u9700\u8981\u5728\u6bcf\u6b21\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u67e5\u627e\uff0c\u56e0\u6b64\u5b83\u9700\u8981\u5177\u6709\u8f83\u4f4e\u7684\u8bbf\u95ee\u5ef6\u8fdf\u3002TLB \u7684\u5bb9\u91cf\u901a\u5e38\u5728\u6570\u5341\u5230\u6570\u767e\u6761\u6620\u5c04\u4e4b\u95f4</li> <li>\u5173\u8054\u6027\uff1aTLB  \u53ef\u4ee5\u662f\u5168\u76f8\u8054\u3001\u7ec4\u76f8\u8054\u6216\u76f4\u63a5\u6620\u5c04\u7684\u3002\u5728\u5168\u76f8\u8054 TLB \u4e2d\uff0c\u4efb\u4f55\u865a\u62df\u5730\u5740\u6620\u5c04\u90fd\u53ef\u4ee5\u653e\u5728 TLB \u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u7ec4\u76f8\u8054 TLB \u5c06 TLB \u5212\u5206\u4e3a\u591a\u4e2a\u7ec4\uff0c\u6bcf\u4e2a\u7ec4\u53ef\u4ee5\u5bb9\u7eb3\u4e00\u5b9a\u6570\u91cf\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u865a\u62df\u5730\u5740\u6620\u5c04\u6839\u636e\u7279\u5b9a\u7b56\u7565\u6620\u5c04\u5230\u4e00\u4e2a\u7ec4\u4e2d\u3002\u76f4\u63a5\u6620\u5c04 TLB \u4e2d\uff0c\u6bcf\u4e2a\u865a\u62df\u5730\u5740\u6620\u5c04\u56fa\u5b9a\u5730\u6620\u5c04\u5230\u4e00\u4e2a\u4f4d\u7f6e\u3002\u4e0d\u540c\u5173\u8054\u6027\u7684 TLB \u5177\u6709\u4e0d\u540c\u7684\u67e5\u627e\u901f\u5ea6\u3001\u5bb9\u91cf\u5229\u7528\u7387\u548c\u66ff\u6362\u7b56\u7565</li> <li>\u66ff\u6362\u7b56\u7565\uff1a\u5f53 TLB \u6ee1\u8f7d\u65f6\uff0c\u9700\u8981\u6839\u636e\u67d0\u79cd\u66ff\u6362\u7b56\u7565\u9009\u62e9\u4e00\u4e2a\u73b0\u6709\u7684\u6620\u5c04\u8fdb\u884c\u66ff\u6362\u3002\u5e38\u7528\u7684\u66ff\u6362\u7b56\u7565\u5305\u62ec  \u6700\u8fd1\u6700\u5c11\u4f7f\u7528(LRU)\u3001\u968f\u673a\u66ff\u6362(Random)  \u7b49</li> </ul>"},{"location":"Operating%20System/Intro/#_10","title":"\u5de5\u4f5c\u6d41\u7a0b","text":"<ul> <li>\u67e5\u627e\uff1a\u5f53 CPU \u9700\u8981\u8fdb\u884c\u5730\u5740\u7ffb\u8bd1\u65f6\uff0c\u9996\u5148\u5728 TLB \u4e2d\u67e5\u627e\u76f8\u5e94\u7684\u865a\u62df\u5730\u5740\u6620\u5c04\u3002\u5982\u679c\u627e\u5230\u4e86\u76f8\u5e94\u7684\u6620\u5c04(TLB \u547d\u4e2d)\uff0c\u5219\u4e0d\u9700\u8981\u8bbf\u95ee\u9875\u8868\uff0c\u76f4\u63a5\u4f7f\u7528 TLB \u4e2d\u7684\u7269\u7406\u5730\u5740</li> <li>\u672a\u547d\u4e2d\uff1a\u5982\u679c TLB \u672a\u627e\u5230\u76f8\u5e94\u7684\u6620\u5c04(TLB \u672a\u547d\u4e2d)\uff0c\u5219\u9700\u8981\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\u6765\u8fdb\u884c\u5730\u5740\u7ffb\u8bd1\u3002\u5730\u5740\u7ffb\u8bd1\u5b8c\u6210\u540e\uff0c\u5c06\u65b0\u7684\u6620\u5c04\u5173\u7cfb\u6dfb\u52a0\u5230 TLB \u4e2d\uff0c\u4ee5\u4fbf\u540e\u7eed\u8bbf\u95ee</li> </ul>"},{"location":"Operating%20System/Intro/#_11","title":"\u4ec0\u4e48\u662f\u5c40\u90e8\u6027\u539f\u7406\uff1f","text":"<p>\u5c40\u90e8\u6027\u539f\u7406(Locality of Reference)\uff0c\u53c8\u79f0\u4e3a\u5f15\u7528\u5c40\u90e8\u6027\uff0c\u662f\u6307 \u5728\u8ba1\u7b97\u673a\u7a0b\u5e8f\u7684\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u5185\u5b58\u8bbf\u95ee\u7684\u4e00\u79cd\u73b0\u8c61\u3002\u5c40\u90e8\u6027\u539f\u7406\u63cf\u8ff0\u4e86\u7a0b\u5e8f\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u5bf9\u5185\u5b58\u5730\u5740\u7684\u8bbf\u95ee\u503e\u5411\u4e8e\u96c6\u4e2d\u5728\u67d0\u4e2a\u8f83\u5c0f\u7684\u5730\u5740\u8303\u56f4\u5185\u3002\u5c40\u90e8\u6027\u539f\u7406\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u9ad8\u901f\u7f13\u5b58(Cache)\u3001TLB(Translation Lookaside Buffer)\u7b49\u6027\u80fd\u4f18\u5316\u6280\u672f\u7684\u57fa\u7840\u3002</p>"},{"location":"Operating%20System/Intro/#_12","title":"\u65f6\u95f4\u5c40\u90e8\u6027","text":"<p>\u65f6\u95f4\u5c40\u90e8\u6027\u662f\u6307 \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u88ab\u591a\u6b21\u8bbf\u95ee\u7684\u73b0\u8c61\u3002\u7a0b\u5e8f\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u67d0\u4e2a\u6570\u636e\u6216\u6307\u4ee4\u88ab\u8bbf\u95ee\u4e86\u4e00\u6b21\uff0c\u90a3\u4e48\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u5b83\u5f88\u53ef\u80fd\u4f1a\u88ab\u518d\u6b21\u8bbf\u95ee\u3002\u65f6\u95f4\u5c40\u90e8\u6027\u7684\u4e00\u4e2a\u5178\u578b\u4f8b\u5b50\u662f\u7a0b\u5e8f\u4e2d\u7684\u5faa\u73af\u7ed3\u6784\uff0c\u5faa\u73af\u4f53\u5185\u7684\u6307\u4ee4\u548c\u6570\u636e\u4f1a\u5728\u5faa\u73af\u8fc7\u7a0b\u4e2d\u88ab\u53cd\u590d\u8bbf\u95ee\u3002</p>"},{"location":"Operating%20System/Intro/#_13","title":"\u7a7a\u95f4\u5c40\u90e8\u6027","text":"<p>\u7a7a\u95f4\u5c40\u90e8\u6027\u662f\u6307 \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u7a0b\u5e8f\u8bbf\u95ee\u7684\u5185\u5b58\u5730\u5740\u503e\u5411\u4e8e\u96c6\u4e2d\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u7684\u73b0\u8c61\u3002\u5f53\u7a0b\u5e8f\u8bbf\u95ee\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u65f6\uff0c\u5b83\u5f88\u53ef\u80fd\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u8bbf\u95ee\u76f8\u90bb\u7684\u5185\u5b58\u5730\u5740\u3002\u7a7a\u95f4\u5c40\u90e8\u6027\u7684\u4e00\u4e2a\u5178\u578b\u4f8b\u5b50\u662f\u7a0b\u5e8f\u4e2d\u7684\u6570\u7ec4\u64cd\u4f5c\uff0c\u6570\u7ec4\u5143\u7d20\u5728\u5185\u5b58\u4e2d\u662f\u8fde\u7eed\u5b58\u50a8\u7684\uff0c\u8bbf\u95ee\u6570\u7ec4\u65f6\uff0c\u901a\u5e38\u4f1a\u987a\u5e8f\u5730\u8bbf\u95ee\u76f8\u90bb\u7684\u5143\u7d20\u3002</p>"},{"location":"Operating%20System/Intro/#_14","title":"\u8bb2\u4e00\u8bb2\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\uff0c\u4ed6\u4eec\u4e4b\u95f4\u600e\u4e48\u5207\u6362\u7684\uff1f","text":"<p>\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u4e86\u4fdd\u62a4\u7cfb\u7edf\u8d44\u6e90\u548c\u5b9e\u73b0\u6743\u9650\u63a7\u5236\u800c\u8bbe\u8ba1\u7684\u4e24\u79cd \u4e0d\u540c\u7684 CPU \u8fd0\u884c\u7ea7\u522b\u3002\u7528\u6237\u6001(User Mode)\u662f\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u6b63\u5e38\u72b6\u6001\uff0c\u800c\u5185\u6838\u6001(Kernel Mode)\u662f\u7cfb\u7edf\u5728\u6267\u884c\u5185\u6838\u4ee3\u7801\u6216\u54cd\u5e94\u7cfb\u7edf\u8c03\u7528\u65f6\u7684\u7279\u6743\u72b6\u6001\u3002</p>"},{"location":"Operating%20System/Intro/#_15","title":"\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\u7684\u533a\u522b","text":"<ul> <li>\u6743\u9650\uff1a\u5185\u6838\u6001\u5177\u6709\u6267\u884c\u6240\u6709\u6307\u4ee4\u548c\u8bbf\u95ee\u6240\u6709\u5185\u5b58\u7a7a\u95f4\u7684\u6743\u9650\uff0c\u800c\u7528\u6237\u6001\u5219\u53d7\u5230\u9650\u5236\uff0c\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u5185\u6838\u5730\u5740\u7a7a\u95f4\u6216\u6267\u884c\u7279\u6743\u6307\u4ee4</li> <li>\u4ee3\u7801\uff1a\u5185\u6838\u6001\u4e3b\u8981\u6267\u884c\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u6838\u4ee3\u7801\uff0c\u5982\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3001\u8bbe\u5907\u9a71\u52a8\u3001\u6587\u4ef6\u7cfb\u7edf\u7b49\u3002\u7528\u6237\u6001\u5219\u4e3b\u8981\u6267\u884c\u5e94\u7528\u7a0b\u5e8f\u7684\u4ee3\u7801</li> <li>\u8d44\u6e90\u8bbf\u95ee\uff1a\u5728\u7528\u6237\u6001\u4e0b\uff0c\u7a0b\u5e8f\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u53d7\u4fdd\u62a4\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u5982\u786c\u4ef6\u8bbe\u5907\u3001\u4e2d\u65ad\u3001\u5185\u6838\u6570\u636e\u7ed3\u6784\u7b49\u3002\u5728\u5185\u6838\u6001\u4e0b\uff0c\u7a0b\u5e8f\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e9b\u8d44\u6e90</li> </ul>"},{"location":"Operating%20System/Intro/#_16","title":"\u89e6\u53d1\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u4e4b\u95f4\u7684\u5207\u6362\u7684\u573a\u666f","text":"<ul> <li>\u7cfb\u7edf\u8c03\u7528\uff1a\u5f53\u7528\u6237\u7a0b\u5e8f \u9700\u8981\u8bf7\u6c42\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u670d\u52a1 \u65f6\uff0c\u4f1a\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u8fdb\u5165\u5185\u6838\u6001\u3002\u7cfb\u7edf\u8c03\u7528\u4f1a\u89e6\u53d1\u4e00\u4e2a\u7279\u6b8a\u7684\u4e2d\u65ad\uff0c\u5c06 CPU \u4ece\u7528\u6237\u6001\u5207\u6362\u5230\u5185\u6838\u6001\u3002\u5728\u5185\u6838\u6001\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u6267\u884c\u76f8\u5e94\u7684\u670d\u52a1\u4f8b\u7a0b\uff0c\u5b8c\u6210\u8bf7\u6c42\u540e\uff0c\u518d\u901a\u8fc7\u4e2d\u65ad\u8fd4\u56de\u6307\u4ee4\u5c06 CPU \u5207\u6362\u56de\u7528\u6237\u6001</li> <li>\u5f02\u5e38\uff1a\u5f53\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u4e2d  \u51fa\u73b0\u9519\u8bef\u6216\u5f02\u5e38\u60c5\u51b5(\u5982\u9664\u4ee5\u96f6\u3001\u975e\u6cd5\u6307\u4ee4\u3001\u7f3a\u9875\u7b49)  \u65f6\uff0cCPU \u4f1a\u81ea\u52a8\u5207\u6362\u5230\u5185\u6838\u6001\uff0c\u4ee5\u4fbf\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u5904\u7406\u8fd9\u4e9b\u5f02\u5e38</li> <li>\u4e2d\u65ad\uff1a \u5916\u90e8\u8bbe\u5907(\u5982\u952e\u76d8\u3001\u9f20\u6807\u3001\u786c\u76d8\u7b49)\u4ea7\u751f\u7684\u4e2d\u65ad\u4fe1\u53f7 \u4f1a\u4f7f CPU \u4ece\u7528\u6237\u6001\u5207\u6362\u5230\u5185\u6838\u6001\u3002\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5904\u7406\u8fd9\u4e9b\u4e2d\u65ad\uff0c\u6267\u884c\u76f8\u5e94\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\uff0c\u7136\u540e\u518d\u5c06 CPU \u5207\u6362\u56de\u7528\u6237\u6001</li> </ul>"},{"location":"Operating%20System/Intro/#_17","title":"\u5207\u6362\u8fc7\u7a0b","text":"<p>\u5207\u6362\u7684\u65f6\u5019\u4f1a \u5148\u4fdd\u5b58\u5904\u7406\u5668\u72b6\u6001\u4e0e\u9519\u8bef\u4fe1\u606f\u81f3\u72b6\u6001\u5bc4\u5b58\u5668\uff0c\u4e3b\u8981\u4fdd\u5b58 3 \u4e2a\u53d8\u91cf\uff1a \u5f02\u5e38\u89e6\u53d1\u7684\u6307\u4ee4\u5730\u5740 PC\u3001\u5f02\u5e38\u7684\u539f\u56e0\u3001\u5f53\u524d CPU \u7684\u6808\u6307\u9488 SP\u3002\u5f53\u53d1\u751f\u7528\u6237\u6001\u5230\u5185\u6838\u6001\u7684\u5207\u6362\u65f6\uff0cCPU \u4f1a\u5148\u83b7\u53d6\u5f02\u5e38\u5411\u91cf\u8868\uff0c\u7136\u540e\u6839\u636e\u5f02\u5e38\u7684\u539f\u56e0\u6765\u8c03\u7528\u76f8\u5e94\u7684\u5f02\u5e38\u5904\u7406\u51fd\u6570\u3002\u5f02\u5e38\u5904\u7406\u5b8c\u6210\u540e\uff0c\u4f1a\u6062\u590d\u5e94\u7528\u50a8\u84c4\u7684\u73b0\u573a\uff0c\u6062\u590d PC \u4e0e SP \u6307\u9488\uff0c\u5e76\u5207\u6362\u56de\u7528\u6237\u6001\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5176\u4e2d EL0 \u6307\u7684\u662f\u7528\u6237\u6001\uff0cEL1 \u6307\u7684\u662f\u5185\u6838\u6001\u3002</p>"},{"location":"Operating%20System/Intro/#cpu_2","title":"\u8bb2\u4e00\u8bb2 CPU \u7f13\u5b58\uff1f","text":"<p>CPU \u7f13\u5b58(Cache)  \u662f\u4e00\u79cd\u4f4d\u4e8e CPU \u4e0e\u4e3b\u5185\u5b58(RAM)\u4e4b\u95f4\u7684\u9ad8\u901f\u5b58\u50a8\u5668\uff0c\u7528\u4e8e\u5b58\u50a8\u8fd1\u671f\u8bbf\u95ee\u8fc7\u7684\u6570\u636e\u548c\u6307\u4ee4\u3002CPU \u7f13\u5b58\u7684\u8bbe\u8ba1\u76ee\u7684\u662f\u4e3a\u4e86\u51cf\u5c11 CPU \u8bbf\u95ee\u4e3b\u5185\u5b58\u6240\u9700\u7684\u65f6\u95f4\uff0c\u63d0\u9ad8\u5904\u7406\u5668\u7684\u6027\u80fd\u3002\u56e0\u4e3a\u7f13\u5b58\u7684\u8bbf\u95ee\u901f\u5ea6\u6bd4\u4e3b\u5185\u5b58\u5feb\u5f97\u591a\uff0c\u6240\u4ee5\u5f53 CPU \u9700\u8981\u8bbf\u95ee\u67d0\u4e2a\u6570\u636e\u65f6\uff0c\u5982\u679c\u6570\u636e\u5df2\u7ecf\u5728\u7f13\u5b58\u4e2d\uff0c\u90a3\u4e48 CPU \u53ef\u4ee5\u66f4\u5feb\u5730\u83b7\u53d6\u5b83</p>"},{"location":"Operating%20System/Intro/#_18","title":"\u7c7b\u578b","text":"<ul> <li>L1 \u7f13\u5b58\uff1a\u53c8\u79f0\u4e00\u7ea7\u7f13\u5b58\uff0c\u5b83\u662f\u6700\u63a5\u8fd1 CPU \u7684\u7f13\u5b58\u5c42\u7ea7\u3002L1 \u7f13\u5b58\u901a\u5e38\u88ab\u5206\u4e3a\u4e24\u90e8\u5206\uff1a\u4e00\u90e8\u5206\u7528\u4e8e \u5b58\u50a8\u6570\u636e (L1 \u6570\u636e\u7f13\u5b58)\uff0c\u53e6\u4e00\u90e8\u5206\u7528\u4e8e \u5b58\u50a8\u6307\u4ee4 (L1 \u6307\u4ee4\u7f13\u5b58)\u3002L1 \u7f13\u5b58\u7684\u5bb9\u91cf\u76f8\u5bf9\u8f83\u5c0f(\u901a\u5e38\u4e3a\u51e0\u5341 KB)\uff0c\u4f46\u8bbf\u95ee \u901f\u5ea6\u6700\u5feb </li> <li>L2 \u7f13\u5b58\uff1a\u53c8\u79f0\u4e8c\u7ea7\u7f13\u5b58\uff0c\u4f4d\u4e8e L1 \u7f13\u5b58\u4e4b\u5916\uff0c\u4f46\u4ecd\u7136\u4f4d\u4e8e CPU \u82af\u7247\u5185\u90e8\u3002L2 \u7f13\u5b58\u7684\u5bb9\u91cf\u901a\u5e38\u6bd4 L1 \u7f13\u5b58\u5927\uff0c\u4f46\u8bbf\u95ee \u901f\u5ea6\u7565\u6162\u3002L2 \u7f13\u5b58\u901a\u5e38\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\u548c\u6307\u4ee4\uff0c\u4ee5\u63d0\u9ad8 CPU \u7684\u7f13\u5b58\u547d\u4e2d\u7387</li> <li>L3 \u7f13\u5b58\uff1a\u53c8\u79f0\u4e09\u7ea7\u7f13\u5b58\uff0c\u4f4d\u4e8e L2 \u7f13\u5b58\u4e4b\u5916\uff0c\u4f46\u4ecd\u5728 CPU \u82af\u7247\u5185\u90e8\u3002L3 \u7f13\u5b58\u7684\u5bb9\u91cf\u6bd4 L2 \u7f13\u5b58\u66f4\u5927\uff0c\u4f46\u8bbf\u95ee \u901f\u5ea6\u7565\u6162\u3002L3 \u7f13\u5b58\u901a\u5e38\u5728 \u591a\u6838\u5904\u7406\u5668\u4e2d\u5171\u4eab\uff0c\u7528\u4e8e\u5728\u4e0d\u540c\u6838\u4e4b\u95f4\u5171\u4eab\u6570\u636e\u548c\u964d\u4f4e\u8bbf\u95ee\u5185\u5b58\u7684\u5ef6\u8fdf</li> </ul>"},{"location":"Operating%20System/Intro/#_19","title":"\u7ec4\u7ec7\u65b9\u5f0f","text":"<ul> <li>\u76f4\u63a5\u6620\u5c04\uff1a\u6bcf\u4e2a\u4e3b\u5185\u5b58\u5757 \u53ea\u80fd\u6620\u5c04\u5230\u7f13\u5b58\u7684\u56fa\u5b9a\u4f4d\u7f6e\u3002\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u7f13\u5b58\u51b2\u7a81</li> <li>\u5168\u76f8\u8054\u6620\u5c04\uff1a\u6bcf\u4e2a\u4e3b\u5185\u5b58\u5757 \u53ef\u4ee5\u6620\u5c04\u5230\u7f13\u5b58\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u964d\u4f4e\u7f13\u5b58\u51b2\u7a81\u7684\u53ef\u80fd\u6027\uff0c\u4f46 \u5b9e\u73b0\u8d77\u6765\u8f83\u4e3a\u590d\u6742\uff0c\u540c\u65f6\u641c\u7d22\u7f13\u5b58\u7684\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162</li> <li>\u7ec4\u76f8\u8054\u6620\u5c04\uff1a\u8fd9\u662f\u76f4\u63a5\u6620\u5c04\u7f13\u5b58\u548c\u5168\u76f8\u8054\u6620\u5c04\u7f13\u5b58\u7684\u6298\u8877\u65b9\u6848\u3002\u7f13\u5b58\u88ab\u5212\u5206\u4e3a\u591a\u4e2a\u7ec4\uff0c\u6bcf\u4e2a\u4e3b\u5185\u5b58\u5757 \u53ef\u4ee5\u6620\u5c04\u5230\u7279\u5b9a\u7ec4\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u8fd9\u79cd\u65b9\u5f0f\u5728\u964d\u4f4e\u7f13\u5b58\u51b2\u7a81\u548c\u63d0\u9ad8\u67e5\u627e\u901f\u5ea6\u65b9\u9762\u90fd\u8868\u73b0\u5f97\u8f83\u597d</li> </ul>"},{"location":"Operating%20System/Intro/#_20","title":"\u7f13\u5b58\u66ff\u6362\u7b56\u7565","text":"<ul> <li>\u968f\u673a\u66ff\u6362\uff1a\u4ece\u7f13\u5b58\u4e2d\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u6761\u76ee\u8fdb\u884c\u66ff\u6362\u3002\u8fd9\u79cd\u7b56\u7565\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u9891\u7e41\u4f7f\u7528\u7684\u6570\u636e\u88ab\u66ff\u6362</li> <li>\u6700\u8fd1\u6700\u5c11\u4f7f\u7528(LRU)\uff1a\u66ff\u6362\u7f13\u5b58\u4e2d\u6700\u4e45\u672a\u4f7f\u7528\u7684\u6570\u636e\u6216\u6307\u4ee4\u3002\u8fd9\u79cd\u7b56\u7565\u4f9d\u8d56\u5c40\u90e8\u6027\u539f\u7406\uff0c\u8bd5\u56fe\u4fdd\u7559\u6700\u8fd1\u8bbf\u95ee\u8fc7\u7684\u6570\u636e\u3002\u5b9e\u73b0\u8d77\u6765\u76f8\u5bf9\u590d\u6742\uff0c\u4f46\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\u6027\u80fd\u8f83\u597d</li> <li>\u6700\u4e0d\u7ecf\u5e38\u4f7f\u7528(LFU)\uff1a\u66ff\u6362\u7f13\u5b58\u4e2d\u4f7f\u7528\u9891\u7387\u6700\u4f4e\u7684\u6570\u636e\u6216\u6307\u4ee4\u3002\u8fd9\u79cd\u7b56\u7565\u8bd5\u56fe\u4fdd\u7559\u8bbf\u95ee\u6b21\u6570\u8f83\u591a\u7684\u6570\u636e\uff0c\u4f46\u9700\u8981\u8ddf\u8e2a\u6bcf\u4e2a\u7f13\u5b58\u6761\u76ee\u7684\u8bbf\u95ee\u8ba1\u6570\uff0c\u5b9e\u73b0\u76f8\u5bf9\u590d\u6742</li> <li>\u5148\u8fdb\u5148\u51fa(FIFO)\uff1a\u66ff\u6362\u7f13\u5b58\u4e2d\u6700\u65e9\u8fdb\u5165\u7684\u6570\u636e\u6216\u6307\u4ee4\u3002\u8fd9\u79cd\u7b56\u7565\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u9891\u7e41\u4f7f\u7528\u7684\u6570\u636e\u88ab\u66ff\u6362</li> </ul>"},{"location":"Operating%20System/Intro/#cpu-l1l2l3","title":"CPU L1\uff0cL2\uff0cL3 \u591a\u7ea7\u7f13\u5b58\u7684\u57fa\u672c\u4f5c\u7528\uff1f","text":"<ul> <li>L1 \u7f13\u5b58\uff1a L1 \u7f13\u5b58\u662f\u8ddd\u79bb CPU \u6700\u8fd1\u7684\u7f13\u5b58\u5c42\u7ea7\uff0c\u901a\u5e38\u4f4d\u4e8e CPU \u5185\u90e8\u3002\u5b83\u7684 \u8bbf\u95ee\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u4f46 \u5bb9\u91cf\u76f8\u5bf9\u8f83\u5c0f (\u901a\u5e38\u4e3a\u51e0\u5341 KB)\u3002L1 \u7f13\u5b58\u901a\u5e38\u88ab\u5206\u4e3a\u4e24\u90e8\u5206\uff1aL1 \u6570\u636e\u7f13\u5b58(\u7528\u4e8e\u5b58\u50a8\u6570\u636e)\u548c L1 \u6307\u4ee4\u7f13\u5b58(\u7528\u4e8e\u5b58\u50a8\u6307\u4ee4)\u3002L1 \u7f13\u5b58\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u51cf\u5c11 CPU \u8bbf\u95ee\u6570\u636e\u548c\u6307\u4ee4\u7684\u5ef6\u8fdf\uff0c\u4ece\u800c\u63d0\u9ad8\u5904\u7406\u901f\u5ea6</li> <li>L2 \u7f13\u5b58\uff1a L2 \u7f13\u5b58\u4f4d\u4e8e L1 \u7f13\u5b58\u4e4b\u5916\uff0c\u4f46\u4ecd\u5728 CPU \u82af\u7247\u5185\u90e8\u3002\u5b83\u7684\u8bbf\u95ee\u901f\u5ea6 \u7a0d\u6162\u4e8e L1 \u7f13\u5b58\uff0c\u4f46\u5bb9\u91cf\u901a\u5e38\u6bd4 L1 \u7f13\u5b58\u5927(\u901a\u5e38\u4e3a\u51e0\u767e KB \u81f3\u51e0 MB)\u3002L2 \u7f13\u5b58\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5728 L1 \u7f13\u5b58\u672a\u547d\u4e2d\u65f6\u63d0\u4f9b\u8f83\u5927\u7684\u6570\u636e\u548c\u6307\u4ee4\u7f13\u5b58\u7a7a\u95f4\uff0c\u4ece\u800c\u964d\u4f4e\u8bbf\u95ee\u4e3b\u5185\u5b58\u7684\u6b21\u6570\u548c\u5ef6\u8fdf</li> <li>L3 \u7f13\u5b58\uff1a L3 \u7f13\u5b58\u4f4d\u4e8e L2 \u7f13\u5b58\u4e4b\u5916\uff0c\u4f46\u4ecd\u5728 CPU \u82af\u7247\u5185\u90e8\u3002\u5b83\u7684\u8bbf\u95ee\u901f\u5ea6\u7565\u6162\u4e8e L2 \u7f13\u5b58\uff0c\u4f46\u5bb9\u91cf\u6bd4 L2 \u7f13\u5b58\u66f4\u5927(\u901a\u5e38\u4e3a\u51e0 MB \u81f3\u51e0\u5341 MB)\u3002\u5728\u591a\u6838\u5904\u7406\u5668\u4e2d\uff0cL3 \u7f13\u5b58\u901a\u5e38\u662f\u6240\u6709\u6838\u5fc3\u5171\u4eab\u7684\uff0c\u7528\u4e8e\u5728\u4e0d\u540c\u6838\u5fc3\u4e4b\u95f4\u5171\u4eab\u6570\u636e\uff0c\u51cf\u5c11\u8bbf\u95ee\u5185\u5b58\u7684\u5ef6\u8fdf\u3002L3 \u7f13\u5b58\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5728 L1 \u548c L2 \u7f13\u5b58\u672a\u547d\u4e2d\u65f6\uff0c\u63d0\u4f9b\u66f4\u5927\u7684\u6570\u636e\u548c\u6307\u4ee4\u7f13\u5b58\u7a7a\u95f4\uff0c\u8fdb\u4e00\u6b65\u964d\u4f4e\u8bbf\u95ee\u4e3b\u5185\u5b58\u7684\u6b21\u6570\u548c\u5ef6\u8fdf</li> </ul>"},{"location":"Operating%20System/Intro/#cpu_3","title":"\u8bb2\u4e00\u8bb2 CPU \u7684\u7f13\u5b58\u4e00\u81f4\u6027\uff1f","text":"<p>CPU \u7f13\u5b58\u4e00\u81f4\u6027(Cache Coherence)  \u662f\u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u4e00\u79cd\u5173\u952e\u7684\u6280\u672f\uff0c\u5b83\u786e\u4fdd\u4e86\u5404\u4e2a\u6838\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002\u5728\u73b0\u4ee3\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\uff0c\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0c\u6bcf\u4e2a CPU \u6838\u5fc3\u90fd\u914d\u5907\u4e86\u4e00\u4e2a\u6216\u591a\u4e2a\u5c42\u6b21\u7684\u7f13\u5b58(\u5982 L1\u3001L2\u3001L3 \u7f13\u5b58)\uff0c\u7528\u4e8e\u5b58\u50a8\u4e34\u65f6\u6570\u636e\u3002\u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u95ee\u9898\u4e3b\u8981\u6d89\u53ca\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ul> <li>\u5199\u64cd\u4f5c\u7684\u4e00\u81f4\u6027\uff1a\u5f53\u4e00\u4e2a\u5904\u7406\u5668\u5bf9\u5185\u5b58\u4e2d\u7684\u67d0\u4e2a\u5730\u5740\u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u9700\u8981\u786e\u4fdd\u5176\u4ed6\u5904\u7406\u5668\u5bf9\u8be5\u5730\u5740\u7684\u8bbf\u95ee\u80fd\u591f\u770b\u5230\u8fd9\u6b21\u5199\u64cd\u4f5c\u7684\u7ed3\u679c\u3002\u5982\u679c\u591a\u4e2a\u5904\u7406\u5668\u540c\u65f6\u5bf9\u540c\u4e00\u4e2a\u5730\u5740\u8fdb\u884c\u5199\u64cd\u4f5c\uff0c\u9700\u8981\u786e\u4fdd\u5b83\u4eec\u7684\u64cd\u4f5c\u6709\u4e00\u4e2a\u660e\u786e\u7684\u987a\u5e8f</li> <li>\u4e8b\u52a1\u6027\uff1a\u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u9700\u8981\u6ee1\u8db3\u4e8b\u52a1\u6027\uff0c\u5373\u5bf9\u5185\u5b58\u7684\u64cd\u4f5c\u8981\u4e48\u5b8c\u5168\u6267\u884c\uff0c\u8981\u4e48\u5b8c\u5168\u4e0d\u6267\u884c\u3002\u8fd9\u53ef\u4ee5\u786e\u4fdd\u5728\u591a\u4e2a\u5904\u7406\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u4e0d\u4f1a\u4ea7\u751f\u9519\u8bef\u6216\u4e0d\u4e00\u81f4\u7684\u72b6\u6001</li> <li> <p>\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\uff1a\u4e3a\u4e86\u4fdd\u6301\u7f13\u5b58\u4e00\u81f4\u6027\uff0c\u9700\u8981\u91c7\u7528\u4e00\u79cd\u534f\u8bae\u6765\u89c4\u5b9a\u5904\u7406\u5668\u5982\u4f55\u64cd\u4f5c\u7f13\u5b58\u3002\u5e38\u89c1\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ol> <li>MSI \u534f\u8bae\uff1a Modified(\u4fee\u6539)\u3001Shared(\u5171\u4eab) \u548c Invalid(\u65e0\u6548)  \u4e09\u79cd\u72b6\u6001\u3002 MSI \u534f\u8bae\u662f\u4e00\u79cd\u7b80\u5316\u7248\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\uff0c\u4e0e MESI  \u534f\u8bae\u76f8\u6bd4\uff0c\u6027\u80fd\u8f83\u4f4e</li> <li>MESI \u534f\u8bae\uff1a Modified(\u4fee\u6539)\u3001Exclusive(\u72ec\u5360)\u3001Shared(\u5171\u4eab) \u548c Invalid(\u65e0\u6548)  \u56db\u79cd\u72b6\u6001\u3002MESI \u534f\u8bae\u901a\u8fc7\u5bf9\u7f13\u5b58\u884c\u8bbe\u7f6e\u8fd9\u56db\u79cd\u72b6\u6001\u6765\u7ef4\u62a4\u4e00\u81f4\u6027\u3002</li> <li>MOESI \u534f\u8bae\uff1a\u5728 MESI \u534f\u8bae\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u4e00\u4e2a  Owned(\u62e5\u6709)  \u72b6\u6001\uff0c\u7528\u4e8e\u4f18\u5316\u5171\u4eab\u6570\u636e\u7684\u5199\u56de\u64cd\u4f5c</li> </ol> </li> <li> <p>\u7f13\u5b58\u4e00\u81f4\u6027\u7684\u5b9e\u73b0\uff1a\u5b9e\u73b0\u7f13\u5b58\u4e00\u81f4\u6027\u9700\u8981\u5728\u786c\u4ef6\u5c42\u9762\u8fdb\u884c\u652f\u6301\u3002\u4f8b\u5982\uff0c\u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u901a\u5e38\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a \u603b\u7ebf\u55c5\u63a2\u5668(Bus Snooper)\uff0c\u7528\u4e8e\u76d1\u63a7\u5904\u7406\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u4ee5\u53ca\u4e00\u4e2a\u6216\u591a\u4e2a \u603b\u7ebf\u63a7\u5236\u5668(Bus Controller)\uff0c\u7528\u4e8e\u63a7\u5236\u6570\u636e\u5728\u5904\u7406\u5668\u4e4b\u95f4\u7684\u4f20\u8f93</p> </li> </ul>"},{"location":"Operating%20System/Intro/#mesi","title":"\u8bb2\u4e00\u8bb2\u7f13\u5b58\u4e00\u81f4\u6027\u4e2d\u7684 MESI \u534f\u8bae\uff1f","text":"<p>MESI \u534f\u8bae(Modified, Exclusive, Shared, Invalid)  \u662f\u4e00\u79cd\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\uff0c\u7528\u4e8e\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u7f13\u5b58\uff0c\u4ee5\u786e\u4fdd\u5728\u591a\u6838\u5904\u7406\u5668\u8bbf\u95ee\u540c\u4e00\u6570\u636e\u65f6\u7684\u4e00\u81f4\u6027\u3002MESI \u534f\u8bae\u901a\u8fc7\u56db\u79cd\u72b6\u6001\u6765\u8ddf\u8e2a\u7f13\u5b58\u884c(cache line)\u7684\u72b6\u6001\uff0c\u6bcf\u4e2a\u7f13\u5b58\u884c\u53ef\u4ee5\u5904\u4e8e\u4ee5\u4e0b\u56db\u79cd\u72b6\u6001\u4e4b\u4e00\uff1a</p> <ul> <li>Modified(\u4fee\u6539)\uff1a\u7f13\u5b58\u884c\u4e2d\u7684\u6570\u636e\u5df2\u7ecf\u88ab\u4fee\u6539\uff0c\u4e0e\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002\u5728\u6b64\u72b6\u6001\u4e0b\uff0c\u8be5\u5904\u7406\u5668\u6838\u5fc3\u8d1f\u8d23\u5c06\u6570\u636e\u5199\u56de\u4e3b\u5185\u5b58</li> <li>Exclusive(\u72ec\u5360)\uff1a\u7f13\u5b58\u884c\u4e2d\u7684\u6570\u636e\u4e0e\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4e00\u81f4\uff0c\u4e14\u6b64\u6570\u636e\u53ea\u5728\u5f53\u524d\u7f13\u5b58\u4e2d\u5b58\u5728\u3002\u8fd9\u610f\u5473\u7740\u5176\u4ed6\u5904\u7406\u5668\u6838\u5fc3\u7684\u7f13\u5b58\u4e2d\u4e0d\u5b58\u5728\u8be5\u6570\u636e</li> <li>Shared(\u5171\u4eab)\uff1a\u7f13\u5b58\u884c\u4e2d\u7684\u6570\u636e\u4e0e\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4e00\u81f4\uff0c\u4f46\u53ef\u80fd\u5728\u5176\u4ed6\u5904\u7406\u5668\u6838\u5fc3\u7684\u7f13\u5b58\u4e2d\u4e5f\u5b58\u5728\u3002\u6b64\u65f6\uff0c\u591a\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u90fd\u53ef\u4ee5\u8bfb\u53d6\u8be5\u6570\u636e</li> <li>Invalid(\u65e0\u6548)\uff1a\u7f13\u5b58\u884c\u4e2d\u7684\u6570\u636e\u662f\u65e0\u6548\u7684\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u5176\u4ed6\u5904\u7406\u5668\u6838\u5fc3\u4fee\u6539\u4e86\u6570\u636e\uff0c\u6216\u8005\u5f53\u524d\u5904\u7406\u5668\u6838\u5fc3\u5931\u53bb\u4e86\u5bf9\u8be5\u6570\u636e\u7684\u72ec\u5360\u6743\u9650</li> </ul> <p>MESI \u534f\u8bae\u901a\u8fc7\u76d1\u63a7\u5904\u7406\u5668\u6838\u5fc3\u7684\u8bfb\u5199\u64cd\u4f5c\u4ee5\u53ca\u8ddf\u8e2a\u5176\u4ed6\u6838\u5fc3\u7684\u64cd\u4f5c\u6765\u5b9e\u73b0\u7f13\u5b58\u4e00\u81f4\u6027\u3002\u5f53\u4e00\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u9700\u8981\u6267\u884c\u8bfb\u6216\u5199\u64cd\u4f5c\u65f6\uff0c\u5b83\u4f1a\u53d1\u9001\u8bf7\u6c42\u5230\u5176\u4ed6\u6838\u5fc3\uff0c\u4ee5\u4fbf\u6839\u636e\u5176\u4ed6\u6838\u5fc3\u7684\u7f13\u5b58\u72b6\u6001\u6765\u66f4\u65b0\u81ea\u5df1\u7684\u7f13\u5b58\u884c\u72b6\u6001\u3002\u4f8b\u5982\uff0c\u5f53\u4e00\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u9700\u8981\u4fee\u6539\u4e00\u4efd\u5171\u4eab\u6570\u636e\u65f6\uff0c\u5b83\u4f1a\u5411\u5176\u4ed6\u62e5\u6709\u8be5\u6570\u636e\u7684\u6838\u5fc3\u53d1\u51fa\u8bf7\u6c42\uff0c\u4f7f\u5176\u5c06\u7f13\u5b58\u884c\u72b6\u6001\u6807\u8bb0\u4e3a\u65e0\u6548\u3002\u8fd9\u6837\uff0c\u4fee\u6539\u540e\u7684\u6570\u636e\u53ea\u5b58\u5728\u4e8e\u4e00\u4e2a\u6838\u5fc3\u7684\u7f13\u5b58\u4e2d\uff0c\u786e\u4fdd\u4e86\u6570\u636e\u4e00\u81f4\u6027\u3002</p>"},{"location":"Operating%20System/Intro/#_21","title":"\u8bb2\u4e00\u8bb2\u4f2a\u5171\u4eab\u95ee\u9898\uff1f","text":""},{"location":"Operating%20System/Intro/#_22","title":"\u6982\u5ff5","text":"<p>\u4f2a\u5171\u4eab(False Sharing)  \u662f\u4e00\u4e2a\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5f53\u591a\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u9891\u7e41\u8bbf\u95ee\u4f4d\u4e8e\u540c\u4e00\u4e2a\u7f13\u5b58\u884c(cache line)\u5185\u7684\u4e0d\u540c\u6570\u636e\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u867d\u7136\u5904\u7406\u5668\u6838\u5fc3\u8bbf\u95ee\u7684\u6570\u636e\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u5171\u4eab\uff0c\u4f46\u7531\u4e8e\u5b83\u4eec\u4f4d\u4e8e\u76f8\u540c\u7684\u7f13\u5b58\u884c\u5185\uff0c\u4f1a\u5bfc\u81f4\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae(\u5982 MESI  \u534f\u8bae)\u8bef\u8ba4\u4e3a\u6570\u636e\u662f\u5171\u4eab\u7684\uff0c\u4ece\u800c\u89e6\u53d1\u4e0d\u5fc5\u8981\u7684\u7f13\u5b58\u540c\u6b65\u64cd\u4f5c\u3002</p> <p>\u4f2a\u5171\u4eab\u7684\u4ea7\u751f\u539f\u56e0\u662f \u7f13\u5b58\u884c\u7684\u8bbe\u8ba1\u3002\u5728\u5904\u7406\u5668\u4e2d\uff0c\u6570\u636e\u662f\u4ee5\u7f13\u5b58\u884c\u4e3a\u5355\u4f4d\u8fdb\u884c\u5b58\u53d6\u7684\uff0c\u800c\u7f13\u5b58\u884c\u4e00\u822c\u5927\u5c0f\u4e3a 64 \u5b57\u8282(\u53ef\u6839\u636e\u5904\u7406\u5668\u4e0d\u540c\u800c\u53d8\u5316)\u3002\u5f53\u4e24\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u8bbf\u95ee\u7684\u6570\u636e\u6070\u597d\u4f4d\u4e8e\u540c\u4e00\u4e2a\u7f13\u5b58\u884c\u5185\u65f6\uff0c\u5373\u4f7f\u5b83\u4eec\u8bbf\u95ee\u7684\u662f\u4e0d\u540c\u7684\u53d8\u91cf\uff0c\u4e5f\u4f1a\u5bfc\u81f4\u4f2a\u5171\u4eab\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/Intro/#_23","title":"\u5bfc\u81f4\u7684\u95ee\u9898","text":"<ul> <li>\u6027\u80fd\u4e0b\u964d\uff1a\u7531\u4e8e\u9891\u7e41\u7684\u7f13\u5b58\u540c\u6b65\u64cd\u4f5c\uff0c\u5904\u7406\u5668\u6838\u5fc3\u9700\u8981\u7b49\u5f85\u6570\u636e\u5728\u5404\u4e2a\u7f13\u5b58\u95f4\u4f20\u8f93\uff0c\u4ece\u800c\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d</li> <li>\u589e\u52a0\u603b\u7ebf\u6d41\u91cf\uff1a\u5904\u7406\u5668\u6838\u5fc3\u4e4b\u95f4\u9700\u8981\u901a\u8fc7\u603b\u7ebf\u8fdb\u884c\u901a\u4fe1\uff0c\u4ee5\u7ef4\u62a4\u7f13\u5b58\u4e00\u81f4\u6027\u3002\u4f2a\u5171\u4eab\u4f1a\u5bfc\u81f4\u66f4\u591a\u7684\u901a\u4fe1\u5f00\u9500\uff0c\u589e\u52a0\u603b\u7ebf\u6d41\u91cf</li> </ul>"},{"location":"Operating%20System/Intro/#_24","title":"\u89e3\u51b3\u529e\u6cd5","text":"<ul> <li>\u6570\u636e\u5bf9\u9f50\u4e0e\u586b\u5145\uff1a\u901a\u8fc7\u5bf9\u9f50\u6570\u636e\u7ed3\u6784\u6216\u5728\u6570\u636e\u7ed3\u6784\u4e4b\u95f4\u6dfb\u52a0\u586b\u5145\uff0c\u4f7f\u5f97\u4e0d\u540c\u5904\u7406\u5668\u6838\u5fc3\u8bbf\u95ee\u7684\u6570\u636e\u4f4d\u4e8e\u4e0d\u540c\u7684\u7f13\u5b58\u884c\u5185</li> <li>\u4f18\u5316\u6570\u636e\u5e03\u5c40\uff1a\u5c3d\u91cf\u4f7f\u540c\u4e00\u4e2a\u7f13\u5b58\u884c\u5185\u7684\u6570\u636e\u662f\u7531\u540c\u4e00\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u9891\u7e41\u8bbf\u95ee\u7684\uff0c\u907f\u514d\u8de8\u6838\u8bbf\u95ee</li> <li>\u964d\u4f4e\u5171\u4eab\u6570\u636e\u7684\u4f7f\u7528\uff1a\u5c3d\u91cf\u51cf\u5c11\u5171\u4eab\u6570\u636e\uff0c\u6216\u5c06\u5171\u4eab\u6570\u636e\u7684\u8bbf\u95ee\u9891\u7387\u964d\u4f4e\uff0c\u4ee5\u964d\u4f4e\u4f2a\u5171\u4eab\u7684\u53ef\u80fd\u6027</li> <li>\u4f7f\u7528\u65e0\u9501\u6570\u636e\u7ed3\u6784\uff1a\u65e0\u9501\u6570\u636e\u7ed3\u6784\u80fd\u591f\u51cf\u5c11\u5bf9\u5171\u4eab\u6570\u636e\u7684\u4e89\u7528\uff0c\u4ece\u800c\u964d\u4f4e\u4f2a\u5171\u4eab\u95ee\u9898\u7684\u5f71\u54cd</li> </ul>"},{"location":"Operating%20System/Intro/#_25","title":"\u7a0b\u5e8f\u6267\u884c\u7684\u57fa\u672c\u8fc7\u7a0b\uff1f","text":"<p>\u7a0b\u5e8f\u6267\u884c\u7684\u57fa\u672c\u8fc7\u7a0b\u6d89\u53ca\u7a0b\u5e8f\u4ece\u6e90\u4ee3\u7801\u5230\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u8f6c\u6362\uff0c\u4ee5\u53ca\u5728\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7684\u5b9e\u9645\u6267\u884c\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5316\u7684\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\uff1a</p> <ul> <li>\u7f16\u5199\u6e90\u4ee3\u7801\uff1a\u7a0b\u5e8f\u5458\u4f7f\u7528\u67d0\u79cd\u7f16\u7a0b\u8bed\u8a00(\u5982 C\u3001Java \u6216 Python \u7b49)\u7f16\u5199\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801\u3002\u6e90\u4ee3\u7801\u662f\u4eba\u7c7b\u53ef\u8bfb\u7684\u6587\u672c\u5f62\u5f0f\uff0c\u5305\u542b\u4e86\u7a0b\u5e8f\u7684\u903b\u8f91\u548c\u63a7\u5236\u7ed3\u6784</li> <li> <p>\u7f16\u8bd1/\u89e3\u91ca\uff1a</p> <ul> <li>\u5bf9\u4e8e \u7f16\u8bd1\u578b\u8bed\u8a00 (\u5982 C\u3001C++ \u7b49)\uff1a\u6e90\u4ee3\u7801\u9700\u8981\u7ecf\u8fc7\u7f16\u8bd1\u5668\u5c06\u5176\u7f16\u8bd1\u6210\u76ee\u6807\u4ee3\u7801(\u901a\u5e38\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6)\uff0c\u79f0\u4e3a\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5305\u62ec\u9884\u5904\u7406\u3001\u7f16\u8bd1\u3001\u6c47\u7f16\u548c\u94fe\u63a5\u7b49\u6b65\u9aa4\u3002</li> <li>\u5bf9\u4e8e \u89e3\u91ca\u578b\u8bed\u8a00 (\u5982 Python\u3001JavaScript \u7b49)\uff1a\u6e90\u4ee3\u7801\u901a\u5e38\u4e0d\u9700\u8981\u4e8b\u5148\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u800c\u662f\u5728\u8fd0\u884c\u65f6\u7531\u89e3\u91ca\u5668\u9010\u884c\u89e3\u91ca\u5e76\u6267\u884c\u3002</li> </ul> </li> <li> <p>\u52a0\u8f7d\uff1a\u5f53\u53ef\u6267\u884c\u7a0b\u5e8f\u51c6\u5907\u597d\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u5c06\u5176\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u6d89\u53ca\u5206\u914d\u5185\u5b58\u3001\u52a0\u8f7d\u4ee3\u7801\u548c\u6570\u636e\u7b49</p> </li> <li>\u6267\u884c\uff1a\u5904\u7406\u5668\u6309\u7167\u7a0b\u5e8f\u6307\u4ee4\u987a\u5e8f\u6267\u884c\u7a0b\u5e8f</li> <li>\u7cfb\u7edf\u8c03\u7528\u4e0e\u5e93\u51fd\u6570\uff1a\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u9700\u8981\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u6216\u5176\u4ed6\u5e93\u8fdb\u884c\u4ea4\u4e92\u3002\u8fd9\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u53d1\u8d77\u7cfb\u7edf\u8c03\u7528\u6216\u8c03\u7528\u5e93\u51fd\u6570\u6765\u5b8c\u6210\u7279\u5b9a\u4efb\u52a1\uff0c\u5982\u6587\u4ef6\u8bfb\u5199\u3001\u5185\u5b58\u7ba1\u7406\u3001\u7f51\u7edc\u901a\u4fe1\u7b49</li> <li>\u7ed3\u675f\uff1a\u5f53\u7a0b\u5e8f\u6267\u884c\u5b8c\u6bd5\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u56de\u6536\u7a0b\u5e8f\u5360\u7528\u7684\u8d44\u6e90\uff0c\u5982\u5185\u5b58\u3001\u6587\u4ef6\u53e5\u67c4\u7b49\uff0c\u5e76\u5c06\u7a0b\u5e8f\u9000\u51fa\u72b6\u6001\u8fd4\u56de\u7ed9\u7528\u6237</li> </ul>"},{"location":"Operating%20System/Intro/#linux","title":"\u5e38\u7528\u7684 Linux \u547d\u4ee4\uff1f","text":"<ul> <li>find\uff1a\u67e5\u627e\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84</li> <li>pwd\uff1a\u663e\u793a\u5f53\u524d\u6240\u5728\u8def\u5f84</li> <li>ls\uff1a\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u6240\u6709\u5b50\u76ee\u5f55\u4e0e\u6587\u4ef6</li> <li>cd\uff1a\u5207\u6362\u5de5\u4f5c\u76ee\u5f55</li> <li>man\uff1a\u67e5\u770b\u5e2e\u52a9\u624b\u518c</li> <li>grep\uff1a\u67e5\u627e\u6587\u4ef6\u6216\u5176\u4ed6\u5185\u5bb9\u91cc\u7b26\u5408\u6761\u4ef6\u7684\u5b57\u7b26\u4e32</li> <li>chmod\uff1a\u63a7\u5236\u7528\u6237\u5bf9\u6587\u4ef6\u7684\u6743\u9650\u7684\u547d\u4ee4</li> <li>ps\uff1a\u5217\u51fa\u7cfb\u7edf\u4e2d\u5f53\u524d\u8fd0\u884c\u7684\u8fdb\u7a0b</li> <li>kill\uff1a\u5411\u6267\u884c\u4e2d\u8fdb\u7a0b\u53d1\u51fa\u4fe1\u53f7</li> </ul>"},{"location":"Operating%20System/Intro/#linux_1","title":"Linux \u9875\u5927\u5c0f\u662f\u591a\u5c11\uff1f","text":"<p>Linux \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u9875\u5927\u5c0f\u53ef\u80fd\u56e0\u7cfb\u7edf\u548c\u786c\u4ef6\u67b6\u6784\u800c\u5f02\u3002\u5728\u8bb8\u591a\u7cfb\u7edf\u4e0a\uff0c\u9875\u5927\u5c0f\u901a\u5e38\u4e3a  4KB(4096\u5b57\u8282)\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u9875\u5927\u5c0f\uff1a Bash<pre><code>getconf PAGE_SIZE\n</code></pre></p>"},{"location":"Operating%20System/Intro/#linux-cpu","title":"Linux \u4e0b\u5982\u4f55\u67e5\u770b CPU \u8377\u8f7d\uff0c\u6b63\u5728\u8fd0\u884c\u7684\u7ebf\u7a0b\uff0c\u67d0\u4e2a\u7aef\u53e3\u5bf9\u5e94\u7684\u8fdb\u7a0b\uff1f","text":"<ul> <li>\u67e5\u770b CPU \u8377\u8f7d\uff1a\u4f7f\u7528  top \u547d\u4ee4 \u6765\u67e5\u770b\u5b9e\u65f6\u7684\u7cfb\u7edf\u72b6\u6001\uff0c\u5305\u62ec CPU \u8d1f\u8f7d\u3001\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u7b49\uff1b\u4f7f\u7528  uptime \u547d\u4ee4 \u67e5\u770b\u7cfb\u7edf\u8fd0\u884c\u65f6\u95f4\u548c\u5e73\u5747\u8d1f\u8f7d</li> <li>\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b\uff1a\u4f7f\u7528  ps \u547d\u4ee4 \u6765\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u4e2d\u6b63\u5728\u8fd0\u884c\u7684\u7ebf\u7a0b\u3002\u8981\u67e5\u770b\u6240\u6709\u7ebf\u7a0b(\u5305\u62ec\u5176\u4ed6\u7528\u6237\u7684\u7ebf\u7a0b)\uff0c\u4f7f\u7528  ps -eLf \u547d\u4ee4 </li> <li>\u67e5\u770b\u67d0\u4e2a\u7aef\u53e3\u5bf9\u5e94\u7684\u8fdb\u7a0b\uff1a\u53ef\u4ee5 \u4f7f\u7528 netstat \u6216 lsof \u547d\u4ee4 </li> </ul>"},{"location":"Operating%20System/Intro/#linux-cpu_1","title":"Linux \u4e0b\u5982\u4f55\u6392\u67e5 CPU \u4ee5\u53ca\u5185\u5b58\u5360\u7528\u8fc7\u591a\uff1f","text":"<ul> <li>top\uff1a\u4f7f\u7528 top \u547d\u4ee4\u53ef\u4ee5\u5b9e\u65f6\u67e5\u770b\u7cfb\u7edf\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u5305\u62ec CPU \u548c\u5185\u5b58\u5360\u7528\u3002\u5728 top \u754c\u9762\u4e2d\uff0c\u8fdb\u7a0b\u4f1a\u6309\u7167 CPU \u5360\u7528\u7387\u8fdb\u884c\u6392\u5e8f\uff0c\u53ef\u4ee5\u89c2\u5bdf\u54ea\u4e9b\u8fdb\u7a0b\u5360\u7528\u4e86\u8f83\u591a\u7684 CPU \u548c\u5185\u5b58\u8d44\u6e90</li> <li>htop\uff1ahtop \u662f top \u547d\u4ee4\u7684\u4e00\u4e2a\u589e\u5f3a\u7248\uff0c\u63d0\u4f9b\u4e86\u66f4\u4e30\u5bcc\u7684\u89c6\u56fe\u548c\u66f4\u591a\u7684\u4ea4\u4e92\u529f\u80fd\u3002htop \u4f1a\u663e\u793a\u8d44\u6e90\u5360\u7528\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7528 F \u952e\u8fdb\u884c\u6392\u5e8f\u3001\u7b5b\u9009\u548c\u641c\u7d22</li> <li>ps\uff1a\u4f7f\u7528 ps \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u8fd0\u884c\u7684\u8fdb\u7a0b\u3002\u8981\u6309 CPU \u6216\u5185\u5b58\u5360\u7528\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u6392\u5e8f</li> <li>free\uff1a\u4f7f\u7528 free \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u7cfb\u7edf\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5</li> <li>vmstat\uff1avmstat \u547d\u4ee4\u63d0\u4f9b\u6709\u5173\u865a\u62df\u5185\u5b58\u3001\u8fdb\u7a0b\u3001CPU \u6d3b\u52a8\u7b49\u7684\u62a5\u544a</li> </ul> <p>\u5f53\u627e\u5230\u5360\u7528\u5927\u91cf CPU \u6216\u5185\u5b58\u8d44\u6e90\u7684\u8fdb\u7a0b\u65f6\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u60c5\u51b5\u4f18\u5316\u7a0b\u5e8f\u4ee3\u7801\u3001\u8c03\u6574\u8fdb\u7a0b\u4f18\u5148\u7ea7\u3001\u9650\u5236\u8d44\u6e90\u4f7f\u7528\u6216\u6740\u6b7b\u8fdb\u7a0b\u3002\u8981\u6740\u6b7b\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u4f7f\u7528  kill \u6216 pkill \u547d\u4ee4\uff0c kill \u8fdb\u7a0b ID  \u6216  pkill \u8fdb\u7a0b\u540d\u79f0 </p>"},{"location":"Operating%20System/Intro/#linux_2","title":"Linux \u5982\u4f55\u67e5\u770b\u5b9e\u65f6\u7684\u6eda\u52a8\u65e5\u5fd7\uff1f","text":"<p>\u4f7f\u7528  tail \u547d\u4ee4 \u67e5\u770b\u5b9e\u65f6\u7684\u6eda\u52a8\u65e5\u5fd7\u3002tail \u547d\u4ee4\u53ef\u4ee5\u663e\u793a\u6587\u4ef6\u7684\u6700\u540e\u90e8\u5206\uff0c-f \u9009\u9879\u4f7f\u547d\u4ee4\u6301\u7eed\u8f93\u51fa\u6587\u4ef6\u7684\u65b0\u589e\u5185\u5bb9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5b9e\u65f6\u67e5\u770b\u6eda\u52a8\u65e5\u5fd7\u3002\u5047\u8bbe\u60f3\u67e5\u770b\u540d\u4e3a /var/log/mylogfile.log \u7684\u65e5\u5fd7\u6587\u4ef6\uff1a</p> <p>Bash<pre><code>tail -f /var/log/mylogfile.log\n</code></pre> \u5f53\u6587\u4ef6\u5185\u5bb9\u53d1\u751f\u66f4\u6539\u65f6\uff0c\u65b0\u7684\u65e5\u5fd7\u884c\u5c06\u81ea\u52a8\u663e\u793a\u5728\u7ec8\u7aef\u4e0a\u3002</p>"},{"location":"Operating%20System/Intro/#traceroute","title":"traceroute \u547d\u4ee4\u7684\u539f\u7406\uff1f","text":"<p>traceroute \u662f\u4e00\u4e2a\u7f51\u7edc\u8bca\u65ad\u5de5\u5177\uff0c\u7528\u4e8e\u8ddf\u8e2a\u6570\u636e\u5305\u5728 IP \u7f51\u7edc\u4e2d\u4ece\u6e90\u4e3b\u673a\u5230\u76ee\u6807\u4e3b\u673a\u7684\u8def\u5f84\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u8bc6\u522b\u548c\u5b9a\u4f4d\u7f51\u7edc\u5ef6\u8fdf\u548c\u95ee\u9898\u7684\u6765\u6e90\u3002traceroute \u7684\u539f\u7406\u57fa\u4e8e IP \u534f\u8bae\u4e2d\u7684\u201c\u751f\u5b58\u65f6\u95f4\u201d(TTL)\u5b57\u6bb5\u3002</p> <p>TTL(Time to Live)\u662f IP \u5305\u5934\u4e2d\u7684\u4e00\u4e2a\u5b57\u6bb5\uff0c\u8868\u793a\u6570\u636e\u5305\u5728\u7f51\u7edc\u4e2d\u5141\u8bb8\u7ecf\u8fc7\u7684\u6700\u5927\u8df3\u6570(\u8def\u7531\u5668)\u3002\u6bcf\u5f53\u6570\u636e\u5305\u7ecf\u8fc7\u4e00\u4e2a\u8def\u7531\u5668\u65f6\uff0cTTL \u503c\u51cf 1\u3002\u5f53 TTL \u503c\u53d8\u4e3a 0 \u65f6\uff0c\u8def\u7531\u5668\u5c06\u4e22\u5f03\u8be5\u6570\u636e\u5305\uff0c\u5e76\u5411\u6e90\u4e3b\u673a\u53d1\u9001\u4e00\u6761  ICMP \u201c\u8d85\u65f6\u201d(Time Exceeded)\u6d88\u606f\u3002</p> <p>traceroute \u901a\u8fc7\u53d1\u9001\u4e00\u7cfb\u5217\u6570\u636e\u5305\u6765\u5de5\u4f5c\uff0c\u8fd9\u4e9b\u6570\u636e\u5305\u5177\u6709\u9010\u6e10\u589e\u52a0\u7684 TTL \u503c\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6570\u636e\u5305\uff0c\u5f53 TTL \u503c\u8017\u5c3d\u65f6\uff0c\u6cbf\u9014\u7684\u8def\u7531\u5668\u4f1a\u8fd4\u56de\u4e00\u4e2a ICMP \u201c\u8d85\u65f6\u201d\u6d88\u606f\u3002traceroute \u901a\u8fc7\u6536\u96c6\u8fd9\u4e9b\u6d88\u606f\u6765\u786e\u5b9a\u6570\u636e\u5305\u7ecf\u8fc7\u7684\u8def\u5f84\u3002</p>"},{"location":"Operating%20System/Intro/#_26","title":"\u57fa\u672c\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>traceroute \u9996\u5148\u53d1\u9001\u4e00\u4e2a TTL \u4e3a 1 \u7684\u6570\u636e\u5305 (\u901a\u5e38\u662f ICMP Echo \u8bf7\u6c42\u6216 UDP \u6570\u636e\u5305)\u5230\u76ee\u6807\u4e3b\u673a</li> <li>\u5f53\u7b2c\u4e00\u4e2a\u8def\u7531\u5668\u6536\u5230\u6b64\u6570\u636e\u5305\u65f6\uff0c\u5b83\u5c06 TTL \u503c\u51cf 1(\u53d8\u4e3a 0)\uff0c\u7136\u540e\u4e22\u5f03\u8be5\u6570\u636e\u5305\uff0c\u5e76\u5411\u6e90\u4e3b\u673a\u53d1\u9001\u4e00\u4e2a ICMP \u201c\u8d85\u65f6\u201d\u6d88\u606f</li> <li>traceroute \u63a5\u6536\u5230 ICMP \u201c\u8d85\u65f6\u201d\u6d88\u606f\u540e\uff0c \u8bb0\u5f55\u53d1\u9001\u6b64\u6d88\u606f\u7684\u8def\u7531\u5668\u7684 IP \u5730\u5740\u548c\u4f20\u8f93\u65f6\u95f4 </li> <li>\u7136\u540e\uff0ctraceroute \u589e\u52a0 TTL \u503c(\u6bd4\u5982\u8bbe\u7f6e\u4e3a 2)\uff0c\u91cd\u590d\u6b65\u9aa4 1-3\u3002\u8fd9\u6b21\uff0c\u6570\u636e\u5305\u5c06\u5230\u8fbe\u7b2c\u4e8c\u4e2a\u8def\u7531\u5668\uff0c\u7136\u540e\u88ab\u4e22\u5f03\uff0c\u5e76\u8fd4\u56de\u53e6\u4e00\u4e2a ICMP \u201c\u8d85\u65f6\u201d\u6d88\u606f</li> <li>traceroute \u7ee7\u7eed\u9010\u6b65\u589e\u52a0 TTL \u503c\uff0c\u76f4\u5230\u6570\u636e\u5305\u5230\u8fbe\u76ee\u6807\u4e3b\u673a\u6216\u8fbe\u5230\u6700\u5927\u8df3\u6570\u9650\u5236</li> </ol> <p>\u6700\u540e\uff0ctraceroute \u547d\u4ee4\u4f1a\u663e\u793a\u4ece\u6e90\u4e3b\u673a\u5230\u76ee\u6807\u4e3b\u673a\u7684\u5b8c\u6574\u8def\u5f84\uff0c\u5305\u62ec\u6bcf\u4e2a\u7ecf\u8fc7\u7684\u8def\u7531\u5668\u7684 IP \u5730\u5740\u3001\u4e3b\u673a\u540d(\u5982\u679c\u53ef\u7528)\u548c\u6bcf\u4e2a\u8df3\u7684\u5f80\u8fd4\u65f6\u95f4\u3002\u8fd9\u6709\u52a9\u4e8e\u8bc6\u522b\u548c\u6392\u9664\u7f51\u7edc\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/Intro/#asciiunicodeutf-8","title":"ASCII\uff0cUnicode\uff0cUTF-8 \u7684\u533a\u522b\uff1f","text":"<p>ASCII(\u7f8e\u56fd\u6807\u51c6\u4fe1\u606f\u4ea4\u6362\u4ee3\u7801)\u3001Unicode(\u7edf\u4e00\u5b57\u7b26\u7f16\u7801)\u548c UTF-8(8 \u4f4d Unicode \u8f6c\u6362\u683c\u5f0f)\u662f\u8ba1\u7b97\u673a\u4e2d\u7528\u4e8e\u8868\u793a\u548c\u5904\u7406\u6587\u672c\u7684\u4e0d\u540c\u5b57\u7b26\u7f16\u7801\u65b9\u6848\u3002\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u5982\u4e0b\uff1a</p> <ul> <li>ASCII\uff1aASCII \u662f\u4e00\u79cd\u57fa\u4e8e\u62c9\u4e01\u5b57\u6bcd\u8868\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u6700\u521d\u4e8e 1963 \u5e74\u53d1\u5e03\u3002\u5b83\u4f7f\u7528  7 \u4f4d\u4e8c\u8fdb\u5236\u6570(\u5373 128 \u4e2a\u53ef\u80fd\u503c)  \u6765\u8868\u793a 128 \u4e2a\u4e0d\u540c\u5b57\u7b26\uff0c\u5305\u62ec\u5927\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57 0-9\u3001\u6807\u70b9\u7b26\u53f7\u4ee5\u53ca\u4e00\u4e9b\u63a7\u5236\u5b57\u7b26\u3002ASCII \u53ea\u80fd\u8868\u793a\u82f1\u8bed\u4e2d\u7684\u5b57\u7b26\uff0c\u65e0\u6cd5\u8868\u793a\u5176\u4ed6\u8bed\u8a00\u7684\u5b57\u7b26\u3002\u968f\u7740\u8ba1\u7b97\u673a\u79d1\u6280\u7684\u53d1\u5c55\uff0cASCII \u5df2\u65e0\u6cd5\u6ee1\u8db3\u73b0\u4ee3\u591a\u8bed\u8a00\u73af\u5883\u7684\u9700\u6c42</li> <li>Unicode\uff1a\u4e3a\u4e86\u89e3\u51b3 ASCII \u4e0d\u80fd\u8868\u793a\u591a\u79cd\u8bed\u8a00\u5b57\u7b26\u7684\u95ee\u9898\uff0cUnicode \u5e94\u8fd0\u800c\u751f\u3002Unicode \u662f\u4e00\u79cd\u5b57\u7b26\u96c6\uff0c\u65e8\u5728\u5305\u542b\u4e16\u754c\u4e0a\u6240\u6709\u8bed\u8a00\u7684\u5b57\u7b26\u548c\u7b26\u53f7\u3002Unicode \u4e3a\u6bcf\u4e2a\u5b57\u7b26\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u6570\u5b57\u4ee3\u7801\u70b9\uff0c\u53ef\u4ee5\u8868\u793a\u8d85\u8fc7 110,000 \u4e2a\u5b57\u7b26\uff0c\u5305\u62ec\u62c9\u4e01\u5b57\u6bcd\u3001\u5e0c\u814a\u5b57\u6bcd\u3001\u6c49\u5b57\u3001\u8c61\u5f62\u6587\u5b57\u7b49\u3002\u7136\u800c\uff0c Unicode \u672c\u8eab\u4e0d\u662f\u4e00\u79cd\u7f16\u7801\u65b9\u6848\uff0c\u800c\u662f\u4e3a\u5b57\u7b26\u5206\u914d\u4ee3\u7801\u70b9\u7684\u6807\u51c6\u3002\u4e3a\u4e86\u5728\u8ba1\u7b97\u673a\u4e2d\u5b58\u50a8\u548c\u5904\u7406\u8fd9\u4e9b\u5b57\u7b26\uff0c\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684\u7f16\u7801\u65b9\u6848\uff0c\u5982 UTF-8\u3001UTF-16 \u548c UTF-32</li> <li>UTF-8\uff1a UTF-8 \u662f Unicode \u7684\u4e00\u79cd\u53d8\u957f\u5b57\u8282\u7f16\u7801\u65b9\u6848\u3002\u5b83 \u4f7f\u7528 1 \u5230 4 \u4e2a\u5b57\u8282\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff0c\u6839\u636e\u5b57\u7b26\u7684 Unicode \u4ee3\u7801\u70b9\u8fdb\u884c\u7f16\u7801\u3002UTF-8 \u7684\u4f18\u70b9\u662f\u5411\u540e\u517c\u5bb9 ASCII\uff0c\u5373 ASCII \u5b57\u7b26\u5728 UTF-8 \u4e2d\u7684\u8868\u793a\u4e0e\u539f\u59cb ASCII \u7f16\u7801\u76f8\u540c\u3002\u8fd9\u610f\u5473\u7740\u8bb8\u591a\u73b0\u6709\u7684 ASCII \u6587\u672c\u548c\u8f6f\u4ef6\u65e0\u9700\u4fee\u6539\u5373\u53ef\u5904\u7406 UTF-8 \u7f16\u7801\u7684\u6587\u672c\u3002\u7531\u4e8e\u5176\u517c\u5bb9\u6027\u548c\u9ad8\u6548\u7684\u5b58\u50a8\u65b9\u5f0f\uff0cUTF-8 \u5df2\u6210\u4e3a Web \u548c\u8bb8\u591a\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u6700\u5e38\u7528\u7684\u5b57\u7b26\u7f16\u7801\u65b9\u6848</li> </ul> <p>\u603b\u7ed3\uff1aASCII \u662f\u4e00\u79cd \u6709\u9650\u7684\u3001\u53ea\u80fd\u8868\u793a\u82f1\u8bed\u5b57\u7b26\u7684\u7f16\u7801\u65b9\u6848\u3002Unicode \u662f\u4e00\u79cd\u5e7f\u6cdb\u7684\u5b57\u7b26\u96c6\uff0c\u53ef\u4ee5 \u8868\u793a\u4e16\u754c\u4e0a\u6240\u6709\u8bed\u8a00\u7684\u5b57\u7b26\u3002UTF-8 \u662f  Unicode \u5b57\u7b26\u96c6\u7684\u4e00\u79cd\u7f16\u7801\u65b9\u6848\uff0c\u53ef\u4ee5\u9ad8\u6548\u5730\u5b58\u50a8\u548c\u5904\u7406 Unicode \u5b57\u7b26\uff0c\u4e14\u4e0e ASCII \u517c\u5bb9\u3002</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Operating%20System/Memory/","title":"Memory","text":""},{"location":"Operating%20System/Memory/#memory","title":"\ud83d\udd34 Memory","text":"<p> \u7ea6 9628 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 48 \u5206\u949f</p>"},{"location":"Operating%20System/Memory/#_1","title":"\u5185\u5b58\u865a\u62df\u5316\u662f\u4ec0\u4e48\uff0c\u8fd9\u4e48\u505a\u6709\u4ec0\u4e48\u76ee\u7684\uff1f","text":"<p>\u5185\u5b58\u865a\u62df\u5316\u662f\u4e00\u79cd\u5c06\u7269\u7406\u5185\u5b58\u8d44\u6e90\u62bd\u8c61\u3001\u7ba1\u7406\u548c\u5206\u914d\u7684\u6280\u672f\u3002\u5b83\u5141\u8bb8\u5c06\u8ba1\u7b97\u673a\u7684\u7269\u7406\u5185\u5b58\u5212\u5206\u4e3a\u72ec\u7acb\u7684\u3001\u9694\u79bb\u7684\u865a\u62df\u5185\u5b58\u5757\uff0c\u6bcf\u4e2a\u865a\u62df\u5185\u5b58\u5757\u90fd\u7531\u64cd\u4f5c\u7cfb\u7edf\u6216\u865a\u62df\u673a\u7ba1\u7406\u3002\u5185\u5b58\u865a\u62df\u5316\u53ef\u4ee5\u5728\u591a\u4e2a\u5c42\u6b21\u5b9e\u73b0\uff0c\u5982\u786c\u4ef6\u5c42\u3001\u64cd\u4f5c\u7cfb\u7edf\u5c42\u6216\u5e94\u7528\u7a0b\u5e8f\u5c42\u3002</p> <p>\u5176\u4e3b\u8981\u76ee\u7684\u6709\uff1a</p> <ul> <li>\u8d44\u6e90\u9694\u79bb\u4e0e\u5171\u4eab\uff1a\u5185\u5b58\u865a\u62df\u5316\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u8fdb\u7a0b\u3001\u5e94\u7528\u7a0b\u5e8f\u6216\u865a\u62df\u673a\u4e4b\u95f4\u9694\u79bb\u5185\u5b58\u8d44\u6e90\uff0c\u4ece\u800c\u63d0\u9ad8\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u5b89\u5168\u6027\u3002\u540c\u65f6\uff0c\u5185\u5b58\u865a\u62df\u5316\u8fd8\u652f\u6301\u7075\u6d3b\u5730\u5171\u4eab\u5185\u5b58\u8d44\u6e90\uff0c\u4ee5\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u548c\u8d44\u6e90\u5229\u7528\u7387\u6700\u5927\u5316</li> <li>\u6613\u7528\u6027\uff1a\u5185\u5b58\u865a\u62df\u5316\u7b80\u5316\u4e86\u5185\u5b58\u7ba1\u7406\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u5458\u65e0\u9700\u5173\u6ce8\u7269\u7406\u5185\u5b58\u7684\u5177\u4f53\u7ec6\u8282\u3002\u7a0b\u5e8f\u5458\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u7f16\u5199\u4ee3\u7801\uff0c\u800c\u64cd\u4f5c\u7cfb\u7edf\u548c\u786c\u4ef6\u8d1f\u8d23\u5904\u7406\u5185\u5b58\u5206\u914d\u3001\u56de\u6536\u7b49\u95ee\u9898</li> <li>\u5bb9\u9519\u4e0e\u6062\u590d\uff1a\u5185\u5b58\u865a\u62df\u5316\u6709\u52a9\u4e8e\u5b9e\u73b0\u5bb9\u9519\u548c\u6545\u969c\u6062\u590d\u3002\u5f53\u7cfb\u7edf\u53d1\u751f\u6545\u969c\u65f6\uff0c\u53ef\u4ee5\u5c06\u865a\u62df\u5185\u5b58\u7684\u72b6\u6001\u4fdd\u5b58\u5230\u786c\u76d8\u4e0a\uff0c\u7136\u540e\u5728\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0a\u6062\u590d\u865a\u62df\u5185\u5b58\u72b6\u6001\uff0c\u4ee5\u5b9e\u73b0\u5feb\u901f\u6062\u590d</li> <li>\u5185\u5b58\u4f18\u5316\uff1a\u5185\u5b58\u865a\u62df\u5316\u652f\u6301\u4e00\u4e9b\u5185\u5b58\u4f18\u5316\u6280\u672f\uff0c\u5982\u6309\u9700\u5206\u914d\u3001\u5185\u5b58\u53bb\u91cd\u548c\u5185\u5b58\u538b\u7f29\u3002\u8fd9\u4e9b\u6280\u672f\u53ef\u4ee5\u63d0\u9ad8\u5185\u5b58\u8d44\u6e90\u7684\u5229\u7528\u7387\uff0c\u964d\u4f4e\u5185\u5b58\u6210\u672c</li> <li>\u8fdb\u7a0b\u4fdd\u62a4\uff1a\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u8fd9\u6837\u5c31\u80fd\u9632\u6b62\u4e00\u4e2a\u8fdb\u7a0b\u610f\u5916\u6216\u6076\u610f\u5730\u8bbf\u95ee\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027</li> </ul>"},{"location":"Operating%20System/Memory/#_2","title":"\u903b\u8f91\u5730\u5740(\u865a\u62df\u5730\u5740)\u4e0e\u7269\u7406\u5730\u5740\u7684\u533a\u522b\uff1f","text":"<p>\u903b\u8f91\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u662f\u7528\u4e8e\u63cf\u8ff0\u5185\u5b58\u4f4d\u7f6e\u7684\u4e24\u79cd\u4e0d\u540c\u65b9\u5f0f\u3002\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u5982\u4e0b\uff1a</p> <ul> <li>\u903b\u8f91\u5730\u5740\uff1a \u903b\u8f91\u5730\u5740\u4e5f\u79f0\u4e3a\u865a\u62df\u5730\u5740\uff0c \u662f\u7531 CPU \u751f\u6210\u7684\u5730\u5740\u3002\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\uff0c\u5b83\u6240\u5f15\u7528\u7684\u5185\u5b58\u5730\u5740\u90fd\u662f\u903b\u8f91\u5730\u5740\u3002\u903b\u8f91\u5730\u5740\u662f\u76f8\u5bf9\u4e8e\u6bcf\u4e2a\u8fd0\u884c\u7684\u8fdb\u7a0b\u7684\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u903b\u8f91\u5730\u5740\u7a7a\u95f4\u3002\u903b\u8f91\u5730\u5740\u7531\u64cd\u4f5c\u7cfb\u7edf\u548c\u786c\u4ef6\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u6620\u5c04\u5230\u7269\u7406\u5730\u5740\uff0c\u4ee5\u8bbf\u95ee\u5b9e\u9645\u7684\u7269\u7406\u5185\u5b58\u3002\u8fd9\u79cd\u6620\u5c04\u673a\u5236\u4f7f\u5f97\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u53ef\u4ee5\u8ba4\u4e3a\u81ea\u5df1\u62e5\u6709\u8fde\u7eed\u7684\u3001\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u800c\u65e0\u9700\u5173\u5fc3\u5176\u4ed6\u8fdb\u7a0b\u548c\u7269\u7406\u5185\u5b58\u7684\u5b9e\u9645\u5e03\u5c40</li> <li>\u7269\u7406\u5730\u5740\uff1a\u7269\u7406\u5730\u5740\u662f\u5b9e\u9645\u5185\u5b58\u786c\u4ef6\u4e2d\u7684\u5730\u5740\uff0c\u7528\u4e8e\u5728\u7269\u7406\u5185\u5b58(\u5982 RAM)\u4e2d\u5b9a\u4f4d\u6570\u636e\u3002\u7269\u7406\u5730\u5740\u662f\u5168\u5c40\u552f\u4e00\u7684\uff0c\u5b83\u76f4\u63a5\u8868\u793a\u7269\u7406\u5185\u5b58\u4e2d\u7684\u4f4d\u7f6e\u3002\u5f53\u7a0b\u5e8f\u901a\u8fc7\u903b\u8f91\u5730\u5740\u8bbf\u95ee\u5185\u5b58\u65f6\uff0c\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u4f1a\u5c06\u903b\u8f91\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\uff0c\u7136\u540e\u5728\u7269\u7406\u5185\u5b58\u4e2d\u8bfb\u53d6\u6216\u5199\u5165\u6570\u636e</li> </ul> <p>\u903b\u8f91\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u4e4b\u95f4\u7684\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u8868\u793a\u7684\u5185\u5b58\u4f4d\u7f6e\u7c7b\u578b\u548c\u7528\u9014\u3002\u903b\u8f91\u5730\u5740\u7531\u7a0b\u5e8f\u548c CPU \u751f\u6210\uff0c\u7528\u4e8e\u8868\u793a\u8fdb\u7a0b\u5185\u90e8\u7684\u5185\u5b58\u5f15\u7528\u3002\u7269\u7406\u5730\u5740\u8868\u793a\u5b9e\u9645\u5185\u5b58\u786c\u4ef6\u4e2d\u7684\u4f4d\u7f6e\uff0c\u7528\u4e8e\u5728\u7269\u7406\u5185\u5b58\u4e2d\u8bbf\u95ee\u6570\u636e\u3002\u903b\u8f91\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u4e4b\u95f4\u7684\u6620\u5c04\u7531\u64cd\u4f5c\u7cfb\u7edf\u548c\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u5b8c\u6210\uff0c\u4ee5\u5b9e\u73b0\u5185\u5b58\u865a\u62df\u5316\u3001\u8fdb\u7a0b\u9694\u79bb\u548c\u8d44\u6e90\u7ba1\u7406\u7b49\u529f\u80fd\u3002</p>"},{"location":"Operating%20System/Memory/#_3","title":"\u64cd\u4f5c\u7cfb\u7edf\u5728\u5bf9\u5185\u5b58\u7ba1\u7406\u65f6\u505a\u4e86\u4ec0\u4e48\uff1f","text":"<p>\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u4e3a\u8fdb\u7a0b\u5206\u914d\u3001\u7ba1\u7406\u548c\u56de\u6536\u5185\u5b58\u8d44\u6e90\u3002\u64cd\u4f5c\u7cfb\u7edf\u5728\u5185\u5b58\u7ba1\u7406\u65b9\u9762\u4e3b\u8981\u6267\u884c\u4ee5\u4e0b\u4efb\u52a1\uff1a</p> <ul> <li>\u5185\u5b58\u5206\u914d\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u9700\u8981\u5185\u5b58\u7a7a\u95f4\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u4e3a\u5176\u5206\u914d\u5185\u5b58\u3002\u901a\u5e38\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u5185\u5b58\u7a7a\u95f2\u5217\u8868\u6216\u5185\u5b58\u6c60\uff0c\u7528\u4e8e\u8ffd\u8e2a\u53ef\u7528\u7684\u5185\u5b58\u5757\u3002\u5f53\u8fdb\u7a0b\u7533\u8bf7\u5185\u5b58\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4ece\u8fd9\u4e9b\u5217\u8868\u6216\u6c60\u4e2d\u5206\u914d\u5408\u9002\u5927\u5c0f\u7684\u5185\u5b58\u5757</li> <li>\u5730\u5740\u7a7a\u95f4\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u521b\u5efa\u548c\u7ba1\u7406\u4e00\u4e2a\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002\u865a\u62df\u5730\u5740\u7a7a\u95f4\u662f\u4e00\u4e2a\u8fde\u7eed\u7684\u5730\u5740\u8303\u56f4\uff0c\u7528\u4e8e\u8868\u793a\u8fdb\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u7684\u5185\u5b58\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u5c06\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u5b9e\u9645\u7684\u7269\u7406\u5185\u5b58\u5730\u5740</li> <li>\u5185\u5b58\u4fdd\u62a4\uff1a\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u786e\u4fdd\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u4e0d\u88ab\u5176\u4ed6\u8fdb\u7a0b\u975e\u6cd5\u8bbf\u95ee\u3002\u5185\u5b58\u4fdd\u62a4\u529f\u80fd\u9632\u6b62\u4e00\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u786e\u4fdd\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u5b89\u5168\u6027</li> <li>\u5185\u5b58\u56de\u6536\uff1a\u5f53\u8fdb\u7a0b\u7ec8\u6b62\u6216\u91ca\u653e\u5185\u5b58\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u56de\u6536\u5df2\u5206\u914d\u7684\u5185\u5b58\u8d44\u6e90\u3002\u56de\u6536\u7684\u5185\u5b58\u5c06\u8fd4\u56de\u5230\u7a7a\u95f2\u5185\u5b58\u5217\u8868\u6216\u5185\u5b58\u6c60\uff0c\u4ee5\u4fbf\u540e\u7eed\u5206\u914d\u7ed9\u5176\u4ed6\u8fdb\u7a0b</li> <li>\u9875\u9762\u7f6e\u6362\uff1a\u5728\u865a\u62df\u5185\u5b58\u7cfb\u7edf\u4e2d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u9875\u9762\u7f6e\u6362\u7b97\u6cd5(\u5982 LRU\u3001FIFO \u7b49)\u6765\u7ba1\u7406\u5185\u5b58\u4e2d\u7684\u9875\u9762\u3002\u5f53\u7269\u7406\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u7684\u9875\u9762\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u9875\u9762\u5c06\u5176\u4ece\u5185\u5b58\u4e2d\u6362\u51fa\uff0c\u4ee5\u4fbf\u4e3a\u65b0\u9875\u9762\u817e\u51fa\u7a7a\u95f4</li> <li>\u5185\u5b58\u4f18\u5316\uff1a\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u4e00\u4e9b\u6280\u672f\u6765\u4f18\u5316\u5185\u5b58\u4f7f\u7528\uff0c\u63d0\u9ad8\u5185\u5b58\u8d44\u6e90\u7684\u5229\u7528\u7387\u3002\u4f8b\u5982\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u4f7f\u7528\u5185\u5b58\u53bb\u91cd(\u5c06\u76f8\u540c\u5185\u5bb9\u7684\u591a\u4e2a\u5185\u5b58\u9875\u9762\u5408\u5e76\u4e3a\u4e00\u4e2a)\uff0c\u5185\u5b58\u538b\u7f29(\u538b\u7f29\u4e0d\u5e38\u7528\u7684\u5185\u5b58\u9875\u9762\u4ee5\u8282\u7701\u7a7a\u95f4)\u548c\u6309\u9700\u5206\u914d(\u53ea\u5728\u9700\u8981\u65f6\u5206\u914d\u5185\u5b58)\u7b49\u6280\u672f</li> </ul>"},{"location":"Operating%20System/Memory/#_4","title":"\u8bb2\u4e00\u8bb2\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\uff1f","text":"<p>\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u5b9e\u73b0\u5185\u5b58\u865a\u62df\u5316\u7684\u5173\u952e\u6280\u672f\u3002\u865a\u62df\u5185\u5b58\u5230\u7269\u7406\u5185\u5b58\u7684\u6620\u5c04\u65b9\u5f0f\u4e00\u822c\u6709\u5206\u6bb5\u548c\u5206\u9875\u4e24\u79cd\uff0c\u7531\u4e8e\u5206\u6bb5\u673a\u5236\u5185\u5b58\u788e\u7247\u8f83\u591a\uff0c\u5e38\u7528\u7684\u662f\u5206\u9875\u673a\u5236\u3002\u6620\u5c04\u8fc7\u7a0b\u7531\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u548c\u64cd\u4f5c\u7cfb\u7edf\u5171\u540c\u5b8c\u6210\u3002\u4ee5\u4e0b\u662f\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\u7684\u57fa\u672c\u539f\u7406\uff1a</p> <ul> <li>\u5206\u9875\u673a\u5236\uff1a \u5728\u5206\u9875\u7cfb\u7edf\u4e2d\uff0c\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u90fd\u88ab\u5212\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u5355\u5143\uff0c\u79f0\u4e3a\u9875(page)\u3002\u865a\u62df\u9875\u7684\u5927\u5c0f\u4e0e\u7269\u7406\u9875\u76f8\u540c\uff0c\u901a\u5e38\u4e3a 4KB \u6216\u66f4\u5927\u3002\u5206\u9875\u7cfb\u7edf\u7684\u4e3b\u8981\u76ee\u7684\u662f\u5c06\u865a\u62df\u5185\u5b58\u4e2d\u7684\u9875\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u4e2d\u7684\u9875</li> <li>\u9875\u8868\uff1a \u9875\u8868\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5b58\u50a8\u865a\u62df\u9875\u5230\u7269\u7406\u9875\u7684\u6620\u5c04\u5173\u7cfb\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u9875\u8868\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\u3002\u9875\u8868\u4e2d\u7684\u6bcf\u4e2a\u6761\u76ee\u5305\u542b\u4e00\u4e2a\u865a\u62df\u9875\u53f7\u548c\u5bf9\u5e94\u7684\u7269\u7406\u9875\u53f7\u3002\u5f53 CPU \u8bbf\u95ee\u865a\u62df\u5185\u5b58\u65f6\uff0cMMU \u4f1a\u4f7f\u7528\u9875\u8868\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740</li> <li> <p>\u5730\u5740\u8f6c\u6362\uff1a \u865a\u62df\u5730\u5740\u901a\u5e38\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u865a\u62df\u9875\u53f7(VPN)\u548c\u9875\u5185\u504f\u79fb(offset)\u3002\u865a\u62df\u9875\u53f7\u7528\u4e8e\u67e5\u627e\u9875\u8868\u4e2d\u76f8\u5e94\u7684\u7269\u7406\u9875\u53f7\uff0c\u800c\u9875\u5185\u504f\u79fb\u8868\u793a\u5728\u7269\u7406\u9875\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\u3002\u5730\u5740\u8f6c\u6362\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ul> <li>CPU \u751f\u6210\u4e00\u4e2a\u865a\u62df\u5730\u5740</li> <li>MMU \u4ece\u865a\u62df\u5730\u5740\u4e2d\u63d0\u53d6\u865a\u62df\u9875\u53f7(VPN)\u548c\u9875\u5185\u504f\u79fb(offset)</li> <li>MMU \u4f7f\u7528 VPN \u5728\u9875\u8868\u4e2d\u67e5\u627e\u5bf9\u5e94\u7684\u7269\u7406\u9875\u53f7(PPN)</li> <li>MMU \u5c06\u7269\u7406\u9875\u53f7(PPN)\u4e0e\u9875\u5185\u504f\u79fb(offset)\u7ec4\u5408\u6210\u7269\u7406\u5730\u5740</li> <li>CPU \u4f7f\u7528\u7269\u7406\u5730\u5740\u8bbf\u95ee\u7269\u7406\u5185\u5b58</li> </ul> </li> <li> <p>\u9875\u9762\u7f6e\u6362\u548c\u7f3a\u9875\u4e2d\u65ad\uff1a\u5f53\u865a\u62df\u9875\u5c1a\u672a\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u65f6\uff0c\u53d1\u751f\u9875\u9762\u7f3a\u5931(page fault)\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u4ece\u786c\u76d8\u6216\u5176\u4ed6\u5b58\u50a8\u8bbe\u5907\u4e2d\u52a0\u8f7d\u6240\u9700\u7684\u865a\u62df\u9875\uff0c\u5e76\u5c06\u5176\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u3002\u4e3a\u4e86\u817e\u51fa\u7a7a\u95f4\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u5df2\u52a0\u8f7d\u7684\u9875\u9762\uff0c\u5c06\u5176\u6362\u51fa\u5230\u786c\u76d8\u3002\u9875\u9762\u7f6e\u6362\u7b97\u6cd5(\u5982 LRU\u3001 FIFO \u7b49)\u7528\u4e8e\u51b3\u5b9a\u54ea\u4e2a\u9875\u9762\u5e94\u8be5\u88ab\u6362\u51fa</p> </li> <li>\u591a\u7ea7\u9875\u8868\uff1a\u591a\u7ea7\u9875\u8868\u662f\u4e00\u79cd\u7528\u4e8e\u51cf\u5c11\u9875\u8868\u5927\u5c0f\u7684\u6280\u672f\u3002\u5728\u5177\u6709\u5927\u91cf\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u7cfb\u7edf\u4e2d\uff0c\u4f7f\u7528\u5355\u7ea7\u9875\u8868\u53ef\u80fd\u5bfc\u81f4\u6d6a\u8d39\u5927\u91cf\u5185\u5b58\u3002\u591a\u7ea7\u9875\u8868\u901a\u8fc7\u5c06\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5212\u5206\u4e3a\u591a\u4e2a\u5c42\u6b21\u6765\u51cf\u5c0f\u9875\u8868\u7684\u5927\u5c0f\u3002\u6bcf\u4e2a\u5c42\u6b21\u90fd\u6709\u81ea\u5df1\u7684\u9875\u8868\uff0c\u53ea\u6709\u5728\u9700\u8981\u65f6\u624d\u4f1a\u5206\u914d\u3002\u8fd9\u6837\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u5185\u5b58\u5f00\u9500</li> <li>\u5feb\u8868(TLB)\uff1a\u5feb\u8868\uff0c\u4e5f\u79f0\u4e3a\u8f6c\u6362\u540e\u63f4\u7f13\u51b2(Translation Lookaside Buffer)\uff0c\u662f\u4e00\u79cd\u786c\u4ef6\u7f13\u5b58\uff0c\u7528\u4e8e\u52a0\u901f\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u8f6c\u6362\u8fc7\u7a0b\u3002TLB \u5c06\u6700\u8fd1\u4f7f\u7528\u8fc7\u7684\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u5b58\u50a8\u5728\u9ad8\u901f\u7f13\u5b58\u4e2d\uff0c\u4ee5\u4fbf\u5feb\u901f\u67e5\u627e\u3002\u5f53 MMU \u9700\u8981\u8f6c\u6362\u4e00\u4e2a\u865a\u62df\u5730\u5740\u65f6\uff0c\u5b83\u9996\u5148\u68c0\u67e5 TLB \u662f\u5426\u5305\u542b\u6240\u9700\u7684\u6620\u5c04\u3002\u5982\u679c TLB \u4e2d\u5b58\u5728\u6620\u5c04\uff0cMMU \u53ef\u4ee5\u907f\u514d\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\uff0c\u4ece\u800c\u52a0\u901f\u5730\u5740\u8f6c\u6362\u8fc7\u7a0b</li> <li>\u5185\u5b58\u5206\u914d\u7b56\u7565\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u4e0d\u540c\u7684\u5185\u5b58\u5206\u914d\u7b56\u7565\u6765\u7ba1\u7406\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u3002 \u6309\u9700\u5206\u914d(demand paging)  \u662f\u4e00\u79cd\u5e38\u7528\u7684\u7b56\u7565\uff0c\u5b83\u53ea\u5728\u8fdb\u7a0b\u5b9e\u9645\u8bbf\u95ee\u865a\u62df\u5185\u5b58\u65f6\u624d\u5c06\u865a\u62df\u9875\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u3002 \u9884\u53d6(prefetching)  \u662f\u53e6\u4e00\u79cd\u7b56\u7565\uff0c\u5b83\u6839\u636e\u8fdb\u7a0b\u7684\u8bbf\u95ee\u6a21\u5f0f\u63d0\u524d\u52a0\u8f7d\u53ef\u80fd\u9700\u8981\u7684\u865a\u62df\u9875\uff0c\u4ee5\u51cf\u5c11\u9875\u9762\u7f3a\u5931\u7684\u5f00\u9500</li> <li>\u5185\u5b58\u5171\u4eab\uff1a\u5185\u5b58\u5171\u4eab\u662f\u4e00\u79cd\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u76f8\u540c\u7269\u7406\u5185\u5b58\u533a\u57df\u7684\u6280\u672f\u3002\u901a\u8fc7\u5c06\u4e0d\u540c\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u540c\u4e00\u7269\u7406\u9875\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5b9e\u73b0\u5185\u5b58\u5171\u4eab\u3002\u8fd9\u79cd\u6280\u672f\u5728\u5171\u4eab\u5e93\u3001\u8fdb\u7a0b\u95f4\u901a\u4fe1\u548c\u5185\u5b58\u53bb\u91cd\u7b49\u573a\u666f\u4e2d\u975e\u5e38\u6709\u7528</li> </ul> <p>\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\u901a\u8fc7\u5206\u9875\u3001\u9875\u8868\u3001\u5730\u5740\u8f6c\u6362\u3001\u591a\u7ea7\u9875\u8868\u3001TLB\u3001\u5185\u5b58\u5206\u914d\u7b56\u7565\u7b49\u6280\u672f\u5b9e\u73b0\u3002\u8fd9\u79cd\u6620\u5c04\u63d0\u4f9b\u4e86\u5185\u5b58\u865a\u62df\u5316\u3001\u8fdb\u7a0b\u9694\u79bb\u548c\u5185\u5b58\u4f18\u5316\u7b49\u5173\u952e\u529f\u80fd\u3002</p>"},{"location":"Operating%20System/Memory/#_5","title":"\u4ec0\u4e48\u662f\u6362\u9875\u673a\u5236\uff1f","text":"<p>\u6362\u9875\u673a\u5236(Paging)\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u4e00\u79cd\u7528\u4e8e\u5185\u5b58\u7ba1\u7406\u548c\u865a\u62df\u5185\u5b58\u5b9e\u73b0\u7684\u6280\u672f\u3002\u5b83\u5c06\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u5206\u6210\u56fa\u5b9a\u5927\u5c0f\u7684\u5355\u5143\uff0c\u79f0\u4e3a\u201c\u9875\u201d(Page)\u3002\u6362\u9875\u673a\u5236\u7684\u4e3b\u8981\u76ee\u7684\u662f\u5141\u8bb8\u5c06\u865a\u62df\u5185\u5b58\u4e2d\u7684\u9875\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u4e2d\u7684\u9875\uff0c\u4ece\u800c\u5b9e\u73b0\u5185\u5b58\u865a\u62df\u5316\u3001\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\u548c\u5b9e\u73b0\u8fdb\u7a0b\u9694\u79bb\u3002\u6362\u9875\u673a\u5236\u7684\u6838\u5fc3\u6982\u5ff5\u5982\u4e0b\uff1a</p> <ul> <li>\u9875(Page)\uff1a\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u90fd\u88ab\u5212\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u5355\u5143\uff0c\u901a\u5e38\u4e3a 4KB \u6216\u66f4\u5927\u3002\u865a\u62df\u9875\u548c\u7269\u7406\u9875\u7684\u5927\u5c0f\u76f8\u540c\u3002</li> <li>\u9875\u8868(Page Table)\uff1a\u9875\u8868\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5b58\u50a8\u865a\u62df\u9875\u548c\u7269\u7406\u9875\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u9875\u8868\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406</li> <li>\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\uff1a\u5185\u5b58\u7ba1\u7406\u5355\u5143\u662f\u786c\u4ef6\u7ec4\u4ef6\uff0c\u8d1f\u8d23\u5728 CPU \u8bbf\u95ee\u5185\u5b58\u65f6\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\u3002MMU \u4f7f\u7528\u9875\u8868\u5b8c\u6210\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04</li> <li>\u9875\u9762\u7f6e\u6362\u7b97\u6cd5\uff1a\u5f53\u7269\u7406\u5185\u5b58\u4e2d\u6ca1\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u5bb9\u7eb3\u65b0\u7684\u865a\u62df\u9875\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2a\u7269\u7406\u9875\u5c06\u5176\u6362\u51fa\u4ee5\u817e\u51fa\u7a7a\u95f4\u3002\u9875\u9762\u7f6e\u6362\u7b97\u6cd5(\u5982\u6700\u8fd1\u6700\u5c11\u4f7f\u7528(LRU)\u3001\u5148\u8fdb\u5148\u51fa(FIFO)\u7b49)\u7528\u4e8e\u786e\u5b9a\u54ea\u4e9b\u9875\u5e94\u8be5\u88ab\u6362\u51fa</li> <li>\u7f3a\u9875\u4e2d\u65ad(Page Fault)\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u8bd5\u56fe\u8bbf\u95ee\u5c1a\u672a\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u7684\u865a\u62df\u9875\u65f6\uff0c\u4f1a\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u3002\u6b64\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u4ece\u786c\u76d8\u6216\u5176\u4ed6\u5b58\u50a8\u8bbe\u5907\u52a0\u8f7d\u6240\u9700\u7684\u865a\u62df\u9875\uff0c\u5e76\u5c06\u5176\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58</li> </ul> <p>\u6362\u9875\u673a\u5236\u901a\u8fc7\u5c06\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u5212\u5206\u4e3a\u9875\uff0c\u5e76\u4f7f\u7528\u9875\u8868\u548c MMU \u8fdb\u884c\u5730\u5740\u6620\u5c04\uff0c\u5b9e\u73b0\u4e86\u5185\u5b58\u865a\u62df\u5316\u3001\u5185\u5b58\u4f18\u5316\u548c\u8fdb\u7a0b\u9694\u79bb\u7b49\u5173\u952e\u529f\u80fd\u3002\u6b64\u5916\uff0c\u6362\u9875\u673a\u5236\u8fd8\u5141\u8bb8\u64cd\u4f5c\u7cfb\u7edf\u52a8\u6001\u5730\u5c06\u8fdb\u7a0b\u7684\u5185\u5b58\u90e8\u5206\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\uff0c\u4ece\u800c\u5728\u6709\u9650\u7684\u7269\u7406\u5185\u5b58\u4e2d\u8fd0\u884c\u66f4\u591a\u7684\u8fdb\u7a0b\u3002</p>"},{"location":"Operating%20System/Memory/#_6","title":"\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u7f3a\u9875\u4e2d\u65ad\uff1f","text":""},{"location":"Operating%20System/Memory/#_7","title":"\u6982\u5ff5","text":"<p>\u7f3a\u9875\u4e2d\u65ad(Page Fault)\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u4e00\u79cd\u4e2d\u65ad\uff0c\u4e3b\u8981\u53d1\u751f\u5728\u7a0b\u5e8f\u8bbf\u95ee\u5230\u4e86\u4e00\u4e2a\u5c1a\u672a\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58(RAM)\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u65f6\u3002\u5f53\u7a0b\u5e8f\u8bd5\u56fe\u8bbf\u95ee\u8fd9\u4e2a\u5730\u5740\u65f6\uff0cCPU \u4f1a\u89e6\u53d1\u4e00\u4e2a\u7f3a\u9875\u4e2d\u65ad\uff0c\u901a\u77e5\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u52a0\u8f7d\u76f8\u5e94\u7684\u5185\u5b58\u9875\u9762\u3002\u7f3a\u9875\u4e2d\u65ad\u662f\u5185\u5b58\u7ba1\u7406\u7684\u4e00\u90e8\u5206\uff0c\u5c24\u5176\u662f\u5728\u865a\u62df\u5185\u5b58\u7cfb\u7edf\u4e2d\u3002\u5173\u4e8e\u7f3a\u9875\u4e2d\u65ad\u7684\u6838\u5fc3\u6982\u5ff5\uff1a</p> <ul> <li>\u865a\u62df\u5185\u5b58\uff1a\u865a\u62df\u5185\u5b58\u662f\u4e00\u79cd\u5185\u5b58\u7ba1\u7406\u6280\u672f\uff0c\u5b83\u4f7f\u5f97\u7a0b\u5e8f\u80fd\u591f\u8bbf\u95ee\u5230\u6bd4\u7269\u7406\u5185\u5b58\u66f4\u5927\u7684\u5730\u5740\u7a7a\u95f4\u3002\u865a\u62df\u5185\u5b58\u5229\u7528\u4e86\u786c\u76d8\u7a7a\u95f4\u6765\u6a21\u62df\u66f4\u5927\u7684\u5185\u5b58\uff0c\u4ece\u800c\u4f7f\u5f97\u7a0b\u5e8f\u80fd\u591f\u5728\u6709\u9650\u7684\u7269\u7406\u5185\u5b58\u4e2d\u66f4\u52a0\u9ad8\u6548\u5730\u8fd0\u884c</li> <li>\u5185\u5b58\u5206\u9875\uff1a\u865a\u62df\u5185\u5b58\u901a\u5e38\u4f1a\u88ab\u5206\u5272\u6210\u56fa\u5b9a\u5927\u5c0f\u7684\u5355\u5143\uff0c\u79f0\u4e3a\u9875(Page)\u3002\u7269\u7406\u5185\u5b58\u540c\u6837\u4f1a\u88ab\u5206\u5272\u6210\u76f8\u540c\u5927\u5c0f\u7684\u5355\u5143\uff0c\u79f0\u4e3a\u9875\u5e27(Page Frame)\u3002\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u865a\u62df\u5185\u5b58\u4e0e\u7269\u7406\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb</li> <li>\u9875\u8868\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u4e00\u79cd\u79f0\u4e3a\u9875\u8868(Page Table)\u7684\u6570\u636e\u7ed3\u6784\u6765\u7ef4\u62a4\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002\u6bcf\u4e2a\u8fd0\u884c\u4e2d\u7684\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u9875\u8868</li> </ul>"},{"location":"Operating%20System/Memory/#_8","title":"\u8fc7\u7a0b","text":"<p>\u5f53\u7a0b\u5e8f\u8bbf\u95ee\u4e00\u4e2a\u672a\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u7684\u865a\u62df\u5730\u5740\u65f6\uff0cCPU \u4f1a\u89e6\u53d1\u7f3a\u9875\u4e2d\u65ad\u3002\u8fd9\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ol> <li>\u68c0\u67e5\u865a\u62df\u5730\u5740\u662f\u5426\u6709\u6548\uff0c\u5373\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u7684\u865a\u62df\u5185\u5b58\u9875\u3002\u5982\u679c\u65e0\u6548\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c06\u5411\u7a0b\u5e8f\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\uff0c\u53ef\u80fd\u5bfc\u81f4\u7a0b\u5e8f\u7ec8\u6b62</li> <li>\u5982\u679c\u865a\u62df\u5730\u5740\u6709\u6548\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a \u67e5\u627e\u4e00\u4e2a\u7a7a\u95f2\u7684\u7269\u7406\u5185\u5b58\u9875\u5e27 \u6765\u5b58\u50a8\u6240\u9700\u7684\u865a\u62df\u5185\u5b58\u9875</li> <li>\u5982 \u679c\u6ca1\u6709\u7a7a\u95f2\u7684\u7269\u7406\u5185\u5b58\u9875\u5e27\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u9009\u62e9\u4e00\u4e2a\u5f53\u524d\u5df2\u52a0\u8f7d\u7684\u9875\u9762\u8fdb\u884c\u66ff\u6362\uff0c\u5c06\u5176\u5199\u56de\u786c\u76d8(\u5982\u679c\u88ab\u4fee\u6539\u8fc7)\u4ee5\u91ca\u653e\u9875\u5e27</li> <li>\u64cd\u4f5c\u7cfb\u7edf\u4ece\u786c\u76d8\u4e2d\u8bfb\u53d6\u6240\u9700\u7684\u865a\u62df\u5185\u5b58\u9875\u5e76\u5c06\u5176\u52a0\u8f7d\u5230\u65b0\u5206\u914d\u7684\u7269\u7406\u5185\u5b58\u9875\u5e27\u4e2d</li> <li>\u66f4\u65b0\u9875\u8868\uff0c\u5c06\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u65b0\u5206\u914d\u7684\u7269\u7406\u5185\u5b58\u9875\u5e27</li> <li>\u6062\u590d\u7a0b\u5e8f\u6267\u884c\uff0c\u4f7f\u7a0b\u5e8f\u80fd\u591f\u7ee7\u7eed\u8bbf\u95ee\u6240\u9700\u7684\u865a\u62df\u5185\u5b58\u5730\u5740</li> </ol>"},{"location":"Operating%20System/Memory/#_9","title":"\u4f18\u5316\u7b56\u7565","text":"<p>\u7f3a\u9875\u4e2d\u65ad\u662f\u4e00\u79cd\u6709\u6548\u5730\u7ba1\u7406\u6709\u9650\u7269\u7406\u5185\u5b58\u8d44\u6e90\u7684\u65b9\u6cd5\uff0c\u5b83\u53ef\u4ee5\u5b9e\u73b0\u5185\u5b58\u6570\u636e\u6309\u9700\u52a0\u8f7d\uff0c\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\u3002\u7136\u800c\uff0c\u7f3a\u9875\u4e2d\u65ad\u7684\u5904\u7406\u8fc7\u7a0b\u6d89\u53ca\u786c\u76d8\u8bfb\u5199\uff0c\u76f8\u8f83\u4e8e\u5185\u5b58\u8bbf\u95ee\u901f\u5ea6\uff0c\u786c\u76d8\u8bfb\u5199\u901f\u5ea6\u8f83\u6162\uff0c\u56e0\u6b64\u7f3a\u9875\u4e2d\u65ad\u4f1a\u5bf9\u7cfb\u7edf\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u3002\u4e3a\u4e86\u51cf\u8f7b\u7f3a\u9875\u4e2d\u65ad\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff0c\u64cd\u4f5c\u7cfb\u7edf\u91c7\u7528\u4e86\u4ee5\u4e0b\u4f18\u5316\u7b56\u7565\uff1a</p> <ul> <li>\u7f13\u5b58\u4e0e\u7f13\u51b2\uff1a\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u4f7f\u7528\u7f13\u5b58\u548c\u7f13\u51b2\u533a\u6765\u51cf\u5c11\u786c\u76d8\u8bbf\u95ee\u6b21\u6570\u3002\u7f13\u5b58\u53ef\u4ee5\u6682\u5b58\u6700\u8fd1\u8bbf\u95ee\u8fc7\u7684\u786c\u76d8\u6570\u636e\uff0c\u63d0\u9ad8\u6570\u636e\u8bfb\u53d6\u901f\u5ea6\u3002\u7f13\u51b2\u533a\u53ef\u4ee5\u5408\u5e76\u591a\u4e2a\u8fde\u7eed\u7684\u5199\u64cd\u4f5c\uff0c\u51cf\u5c11\u786c\u76d8\u5199\u5165\u6b21\u6570</li> <li>\u9884\u53d6\uff1a\u9884\u53d6\u662f\u4e00\u79cd\u9884\u6d4b\u6027\u6280\u672f\uff0c\u5b83\u6839\u636e\u7a0b\u5e8f\u7684\u8bbf\u95ee\u6a21\u5f0f\u6765\u9884\u5148\u52a0\u8f7d\u53ef\u80fd\u88ab\u8bbf\u95ee\u7684\u5185\u5b58\u9875\uff0c\u4ece\u800c\u51cf\u5c11\u7f3a\u9875\u4e2d\u65ad\u7684\u53d1\u751f</li> <li>\u9875\u7f6e\u6362\u7b97\u6cd5\uff1a\u4e3a\u4e86\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u6548\u7387\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u9875\u7f6e\u6362\u7b97\u6cd5\u6765\u51b3\u5b9a\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u5e94\u8be5\u66ff\u6362\u54ea\u4e2a\u7269\u7406\u5185\u5b58\u9875\u5e27\u3002\u5e38\u89c1\u7684\u9875\u7f6e\u6362\u7b97\u6cd5\u6709\uff1a\u6700\u8fd1\u6700\u5c11\u4f7f\u7528(LRU)\u3001\u6700\u4e0d\u7ecf\u5e38\u4f7f\u7528(LFU)\u548c\u65f6\u949f\u7b97\u6cd5\u7b49</li> <li>\u5199\u56de\u7b56\u7565\u4e0e\u5199\u7a7f\u7b56\u7565\uff1a \u5199\u56de\u7b56\u7565\u5141\u8bb8\u64cd\u4f5c\u7cfb\u7edf\u5728\u5c06\u5185\u5b58\u9875\u5199\u56de\u786c\u76d8\u4e4b\u524d\u7f13\u5b58\u4fee\u6539\u8fc7\u7684\u6570\u636e\uff0c\u51cf\u5c11\u786c\u76d8\u5199\u5165\u6b21\u6570\u3002 \u5199\u7a7f\u7b56\u7565\u5219\u8981\u6c42\u6bcf\u6b21\u4fee\u6539\u5185\u5b58\u9875\u65f6\u90fd\u5c06\u66f4\u6539\u7acb\u5373\u5199\u56de\u786c\u76d8\uff0c\u8fd9\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4f46\u4f1a\u589e\u52a0\u786c\u76d8\u5199\u5165\u6b21\u6570</li> <li>\u5185\u5b58\u538b\u7f29\uff1a\u5185\u5b58\u538b\u7f29\u6280\u672f\u53ef\u4ee5\u5c06\u5185\u5b58\u4e2d\u7684\u7a7a\u95f2\u7a7a\u95f4\u538b\u7f29\uff0c\u4ece\u800c\u51cf\u5c11\u5185\u5b58\u788e\u7247\uff0c\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387</li> </ul> <p>\u901a\u8fc7\u8fd9\u4e9b\u4f18\u5316\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u51cf\u8f7b\u7f3a\u9875\u4e2d\u65ad\u5bf9\u7cfb\u7edf\u6027\u80fd\u7684\u5f71\u54cd\uff0c\u5b9e\u73b0\u5bf9\u6709\u9650\u7269\u7406\u5185\u5b58\u8d44\u6e90\u7684\u9ad8\u6548\u7ba1\u7406\u3002</p>"},{"location":"Operating%20System/Memory/#_10","title":"\u6362\u9875\u65f6\u7684\u6296\u52a8\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"Operating%20System/Memory/#_11","title":"\u6982\u5ff5","text":"<p>\u6296\u52a8(Thrashing)\u662f\u4e00\u79cd\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u51fa\u73b0\u7684\u73b0\u8c61\uff0c\u5f53\u7cfb\u7edf\u9891\u7e41\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u5e76\u8fdb\u884c\u6362\u9875\u64cd\u4f5c\u65f6\uff0c\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u6027\u80fd\u6025\u5267\u4e0b\u964d\u3002\u5728\u6296\u52a8\u73b0\u8c61\u4e0b\uff0cCPU \u5927\u90e8\u5206\u65f6\u95f4\u90fd\u7528\u4e8e\u5904\u7406\u7f3a\u9875\u4e2d\u65ad\u548c\u6362\u9875\u64cd\u4f5c\uff0c\u800c\u4e0d\u662f\u6267\u884c\u5b9e\u9645\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u8fd9\u5bfc\u81f4\u7cfb\u7edf\u7684\u541e\u5410\u91cf\u548c\u54cd\u5e94\u65f6\u95f4\u53d8\u5dee\uff0c\u4ece\u800c\u4f7f\u5f97\u7cfb\u7edf\u8868\u73b0\u51fa\u4f4e\u6548\u7684\u8fd0\u884c\u72b6\u6001\u3002</p>"},{"location":"Operating%20System/Memory/#_12","title":"\u539f\u56e0","text":"<ul> <li>\u8fc7\u9ad8\u7684\u5185\u5b58\u9700\u6c42\uff1a\u5f53\u4e00\u4e2a\u6216\u591a\u4e2a\u8fd0\u884c\u4e2d\u7684\u8fdb\u7a0b\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u8d85\u8fc7\u4e86\u53ef\u7528\u7684\u7269\u7406\u5185\u5b58\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u9891\u7e41\u5730\u5728\u7269\u7406\u5185\u5b58\u548c\u786c\u76d8\u4e4b\u95f4\u4ea4\u6362\u5185\u5b58\u9875\u9762\u3002\u8fd9\u5c06\u5bfc\u81f4\u5927\u91cf\u7684\u7f3a\u9875\u4e2d\u65ad\u548c\u6362\u9875\u64cd\u4f5c\uff0c\u4ece\u800c\u5f15\u53d1\u6296\u52a8\u73b0\u8c61</li> <li>\u4e0d\u6070\u5f53\u7684\u5185\u5b58\u5206\u914d\uff1a\u5982\u679c\u64cd\u4f5c\u7cfb\u7edf\u6ca1\u6709\u5408\u7406\u5730\u5206\u914d\u5185\u5b58\u8d44\u6e90\u7ed9\u5404\u4e2a\u8fdb\u7a0b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u8fdb\u7a0b\u65e0\u6cd5\u83b7\u5f97\u8db3\u591f\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4ece\u800c\u5f15\u53d1\u6296\u52a8\u73b0\u8c61</li> <li>\u4e0d\u5408\u7406\u7684\u9875\u7f6e\u6362\u7b97\u6cd5\uff1a\u5982\u679c\u64cd\u4f5c\u7cfb\u7edf\u91c7\u7528\u7684\u9875\u7f6e\u6362\u7b97\u6cd5\u4e0d\u80fd\u51c6\u786e\u5730\u9884\u6d4b\u8fdb\u7a0b\u5c06\u8bbf\u95ee\u54ea\u4e9b\u5185\u5b58\u9875\u9762\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9891\u7e41\u7684\u6362\u9875\u64cd\u4f5c\uff0c\u8fdb\u800c\u5f15\u53d1\u6296\u52a8\u73b0\u8c61</li> </ul>"},{"location":"Operating%20System/Memory/#_13","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u5185\u5b58\u7ba1\u7406\u4f18\u5316\uff1a\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u91c7\u7528\u66f4\u5148\u8fdb\u7684\u5185\u5b58\u7ba1\u7406\u6280\u672f\u548c\u9875\u7f6e\u6362\u7b97\u6cd5\uff0c\u4ee5\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\uff0c\u51cf\u5c11\u7f3a\u9875\u4e2d\u65ad\u548c\u6362\u9875\u64cd\u4f5c\u7684\u9891\u7387</li> <li>\u8d44\u6e90\u63a7\u5236\uff1a\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u8d44\u6e90\u63a7\u5236\uff0c\u9650\u5236\u5176\u5185\u5b58\u4f7f\u7528\u91cf\uff0c\u9632\u6b62\u56e0\u8fc7\u9ad8\u7684\u5185\u5b58\u9700\u6c42\u5bfc\u81f4\u7684\u6296\u52a8\u73b0\u8c61</li> <li>\u5185\u5b58\u6269\u5c55\uff1a\u589e\u52a0\u7269\u7406\u5185\u5b58\u5bb9\u91cf\u53ef\u4ee5\u51cf\u5c11\u6362\u9875\u64cd\u4f5c\u7684\u9700\u8981\uff0c\u4ece\u800c\u964d\u4f4e\u6296\u52a8\u73b0\u8c61\u7684\u53d1\u751f\u6982\u7387</li> <li>\u8c03\u6574\u5de5\u4f5c\u8d1f\u8f7d\uff1a\u51cf\u5c11\u540c\u65f6\u8fd0\u884c\u7684\u8fdb\u7a0b\u6570\u91cf\uff0c\u5408\u7406\u5206\u914d\u7cfb\u7edf\u8d44\u6e90\uff0c\u786e\u4fdd\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u80fd\u83b7\u5f97\u8db3\u591f\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4ee5\u964d\u4f4e\u6296\u52a8\u73b0\u8c61\u7684\u53d1\u751f\u6982\u7387</li> <li>\u4f7f\u7528\u4ea4\u6362\u7a7a\u95f4\uff1a\u5728\u786c\u76d8\u4e0a\u8bbe\u7f6e\u4ea4\u6362\u7a7a\u95f4(Swap Space)\uff0c\u53ef\u4ee5\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u989d\u5916\u7684\u865a\u62df\u5185\u5b58\uff0c\u4ee5\u7f13\u89e3\u5185\u5b58\u4e0d\u8db3\u7684\u95ee\u9898\uff0c\u51cf\u8f7b\u6296\u52a8\u73b0\u8c61\u3002\u4f46\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4ea4\u6362\u7a7a\u95f4\u4f7f\u7528\u786c\u76d8\u5b58\u50a8\uff0c\u5176\u901f\u5ea6\u8f83\u6162\uff0c\u56e0\u6b64\u4e0d\u80fd\u5b8c\u5168\u66ff\u4ee3\u7269\u7406\u5185\u5b58</li> </ul>"},{"location":"Operating%20System/Memory/#_14","title":"\u8fdb\u7a0b\u7684\u5185\u5b58\u5206\u5e03\uff1f","text":"<p>\u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u8fd0\u884c\u4e2d\u7684\u7a0b\u5e8f\u5b9e\u4f8b\u3002\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u62e5\u6709\u72ec\u7acb\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u4ee5\u4fbf\u5b58\u50a8\u5176\u4ee3\u7801\u3001\u6570\u636e\u548c\u8fd0\u884c\u65f6\u6240\u9700\u7684\u4fe1\u606f\u3002\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u901a\u5e38\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u533a\u57df\uff1a</p> <ul> <li>\u4ee3\u7801\u533a(Text Segment)\uff1a\u4ee3\u7801\u533a\u5305\u542b\u4e86\u8fdb\u7a0b\u7684\u53ef\u6267\u884c\u4ee3\u7801\u3002\u8fd9\u90e8\u5206\u5185\u5b58\u533a\u57df\u901a\u5e38\u662f\u53ea\u8bfb\u7684\uff0c\u4ee5\u9632\u6b62\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u610f\u5916\u5730\u4fee\u6539\u81ea\u5df1\u7684\u4ee3\u7801\u3002\u4ee3\u7801\u533a\u7684\u5927\u5c0f\u5728\u7a0b\u5e8f\u52a0\u8f7d\u65f6\u786e\u5b9a\uff0c\u4e14\u5728\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4fdd\u6301\u4e0d\u53d8</li> <li>\u6570\u636e\u533a(Data Segment)\uff1a\u6570\u636e\u533a\u5305\u542b\u4e86\u8fdb\u7a0b\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u3002\u8fd9\u90e8\u5206\u5185\u5b58\u533a\u57df\u53ef\u8bfb\u53ef\u5199\uff0c\u4e14\u5728\u7a0b\u5e8f\u52a0\u8f7d\u65f6\u7531\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u3002\u6570\u636e\u533a\u53ef\u4ee5\u5206\u4e3a\u4e24\u4e2a\u5b50\u533a\u57df\uff1a a. \u5df2\u521d\u59cb\u5316\u6570\u636e\u533a\uff1a\u5b58\u50a8\u7a0b\u5e8f\u4e2d\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u3002 b. \u672a\u521d\u59cb\u5316\u6570\u636e\u533a(BSS, Block Started by Symbol)\uff1a\u5b58\u50a8\u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u3002\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5728\u7a0b\u5e8f\u52a0\u8f7d\u65f6\u5c06\u8fd9\u90e8\u5206\u5185\u5b58\u533a\u57df\u6e05\u96f6</li> <li>\u5806\u533a(Heap Segment)\uff1a\u5806\u533a\u662f\u7528\u4e8e\u5b58\u50a8\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u3002\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u53ef\u4ee5\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u51fd\u6570(\u5982 C \u8bed\u8a00\u4e2d\u7684 malloc \u548c C++ \u4e2d\u7684 new)\u5728\u5806\u533a\u52a8\u6001\u5206\u914d\u548c\u91ca\u653e\u5185\u5b58\u3002\u5806\u533a\u5185\u5b58\u7531\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\uff0c\u5806\u533a\u7684\u5927\u5c0f\u5728\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u52a8\u6001\u589e\u957f\u6216\u7f29\u5c0f</li> <li>\u6808\u533a(Stack Segment)\uff1a\u6808\u533a\u7528\u4e8e\u5b58\u50a8\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u3001\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u5730\u5740\u7b49\u4fe1\u606f\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u6808\u7a7a\u95f4\u3002\u6808\u533a\u91c7\u7528\u5148\u8fdb\u540e\u51fa(LIFO)\u7684\u539f\u5219\u8fdb\u884c\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e\uff0c\u8fd9\u4f7f\u5f97\u6808\u533a\u7684\u5185\u5b58\u7ba1\u7406\u6548\u7387\u5f88\u9ad8\u3002\u6808\u533a\u7684\u5927\u5c0f\u5728\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u53d1\u751f\u53d8\u5316\uff0c\u4f46\u901a\u5e38\u53d7\u5230\u4e00\u5b9a\u7684\u9650\u5236</li> <li>\u5185\u6838\u7a7a\u95f4(Kernel Space)\uff1a\u5185\u6838\u7a7a\u95f4\u662f\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4ee3\u7801\u548c\u6570\u636e\u6240\u5360\u7528\u7684\u5185\u5b58\u533a\u57df\u3002\u867d\u7136\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u5185\u6838\u7a7a\u95f4\uff0c\u4f46\u5b83\u4eec\u901a\u5e38\u6620\u5c04\u5230\u76f8\u540c\u7684\u7269\u7406\u5185\u5b58\u533a\u57df\uff0c\u4ee5\u4fbf\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u5728\u4e0d\u540c\u8fdb\u7a0b\u95f4\u5171\u4eab\u6570\u636e\u548c\u4ee3\u7801</li> </ul> <p>\u8fdb\u7a0b\u7684\u5185\u5b58\u5206\u5e03\u4f7f\u5f97\u7a0b\u5e8f\u80fd\u591f\u5728\u8fd0\u884c\u65f6\u7ba1\u7406\u5404\u79cd\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u786e\u4fdd\u6570\u636e\u5728\u5185\u5b58\u4e2d\u7684\u9694\u79bb\u3002\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ef4\u62a4\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5e76\u786e\u4fdd\u8fdb\u7a0b\u4e4b\u95f4\u4e0d\u4f1a\u76f8\u4e92\u5e72\u6270\u3002</p>"},{"location":"Operating%20System/Memory/#_15","title":"\u5806\u4e0a\u5efa\u7acb\u5bf9\u8c61\u5feb\uff0c\u8fd8\u662f\u6808\u4e0a\u5efa\u7acb\u5bf9\u8c61\u5feb\uff1f","text":"<p>\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c \u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u901a\u5e38\u8981\u6bd4\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u66f4\u5feb\u3002\u4ee5\u4e0b\u662f\u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u548c\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u4e4b\u95f4\u7684\u4e00\u4e9b\u4e3b\u8981\u5dee\u5f02\uff0c\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u901a\u5e38\u66f4\u5feb\uff1a</p> <ul> <li>\u5185\u5b58\u7ba1\u7406\u6548\u7387\uff1a\u6808\u4e0a\u5206\u914d\u5185\u5b58\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u51b3\u5b9a\u597d\u4e86\uff0c\u800c\u5806\u4e0a\u5206\u914d\u5185\u5b58\u9700\u8981\u5148\u627e\u5230\u4e00\u5757\u7a7a\u95f2\u533a\u57df\uff0c\u518d\u53bb\u5206\u914d\uff0c\u4f1a\u6162\u4e00\u4e9b</li> <li>\u7f13\u5b58\u5c40\u90e8\u6027\uff1a\u7531\u4e8e\u6808\u4e0a\u5206\u914d\u7684\u5185\u5b58\u662f\u8fde\u7eed\u7684\u4e14\u4e0e\u7a0b\u5e8f\u6267\u884c\u987a\u5e8f\u5bc6\u5207\u76f8\u5173\uff0c\u56e0\u6b64\u6808\u4e0a\u7684\u5bf9\u8c61\u901a\u5e38\u5177\u6709\u66f4\u597d\u7684\u7f13\u5b58\u5c40\u90e8\u6027\u3002\u5806\u4e0a\u5206\u914d\u7684\u5185\u5b58\u53ef\u80fd\u5728\u7269\u7406\u5730\u5740\u4e0a\u4e0d\u8fde\u7eed\uff0c\u5bfc\u81f4\u7f13\u5b58\u547d\u4e2d\u7387\u964d\u4f4e\uff0c\u4ece\u800c\u5f71\u54cd\u7a0b\u5e8f\u6267\u884c\u901f\u5ea6</li> </ul> <p>\u9664\u4e86\u5feb\u4ee5\u5916\uff0c\u6808\u4e0a\u5206\u914d\u5185\u5b58\u8fd8\u6709\u4ee5\u4e0b\u597d\u5904\uff1a</p> <ul> <li>\u51cf\u5c11\u788e\u7247\u5316\uff1a\u6808\u4e0a\u5206\u914d\u7684\u5185\u5b58\u901a\u5e38\u662f\u8fde\u7eed\u7684\uff0c\u51cf\u5c11\u4e86\u5185\u5b58\u788e\u7247\u5316\u7684\u95ee\u9898\u3002\u800c\u5806\u4e0a\u5206\u914d\u7684\u5185\u5b58\u53ef\u80fd\u4f1a\u5bfc\u81f4\u788e\u7247\u5316\uff0c\u56e0\u4e3a\u52a8\u6001\u5206\u914d\u548c\u91ca\u653e\u5185\u5b58\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u7a7a\u95f4\u51fa\u73b0\u4e0d\u8fde\u7eed\u7684\u7a7a\u95f2\u533a\u57df</li> <li>\u91ca\u653e\u5bf9\u8c61\uff1a\u5f53\u5728\u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u65f6\uff0c\u5bf9\u8c61\u4f1a\u5728\u79bb\u5f00\u4f5c\u7528\u57df\u65f6\u81ea\u52a8\u91ca\u653e\uff0c\u65e0\u9700\u7a0b\u5e8f\u5458\u663e\u5f0f\u8fdb\u884c\u5185\u5b58\u91ca\u653e\u3002\u800c\u5728\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u65f6\uff0c\u9700\u8981\u7a0b\u5e8f\u5458\u624b\u52a8\u91ca\u653e\u5185\u5b58(\u4f8b\u5982\u4f7f\u7528 C++ \u4e2d\u7684 delete \u6216 C \u8bed\u8a00\u4e2d\u7684 free)\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002\u624b\u52a8\u7ba1\u7406\u5185\u5b58\u91ca\u653e\u53ef\u80fd\u589e\u52a0\u7a0b\u5e8f\u7684\u590d\u6742\u6027</li> </ul> <p>\u5c3d\u7ba1\u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u901a\u5e38\u66f4\u5feb\uff0c\u4f46\u5b83\u5e76\u975e\u9002\u7528\u4e8e\u6240\u6709\u573a\u666f\u3002\u6808\u4e0a\u5206\u914d\u7684\u5bf9\u8c61\u5177\u6709\u751f\u547d\u5468\u671f\u53d7\u9650\u5236\u7684\u7279\u70b9\uff0c\u5f53\u5bf9\u8c61\u9700\u8981\u5728\u51fd\u6570\u8c03\u7528\u4e4b\u95f4\u6301\u7eed\u5b58\u5728\u6216\u8005\u9700\u8981\u52a8\u6001\u6269\u5c55\u65f6\uff0c\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002\u6b64\u5916\uff0c\u6808\u7a7a\u95f4\u7684\u5927\u5c0f\u901a\u5e38\u53d7\u5230\u9650\u5236\uff0c\u8fc7\u591a\u5730\u5206\u914d\u6808\u4e0a\u5185\u5b58\u53ef\u80fd\u5bfc\u81f4\u6808\u6ea2\u51fa\u3002</p>"},{"location":"Operating%20System/Memory/#_16","title":"\u5e38\u89c1\u7684\u5185\u5b58\u5206\u914d\u65b9\u5f0f\uff1f","text":"<p>\u5185\u5b58\u5206\u914d\u662f\u7a0b\u5e8f\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4e3a\u5b58\u50a8\u6570\u636e\u548c\u4ee3\u7801\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u8fdb\u884c\u7ba1\u7406\u7684\u8fc7\u7a0b\u3002\u5e38\u89c1\u7684\u5185\u5b58\u5206\u914d\u65b9\u5f0f\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>\u9759\u6001\u5185\u5b58\u5206\u914d\uff1a\u9759\u6001\u5185\u5b58\u5206\u914d\u662f\u5728\u7a0b\u5e8f\u7f16\u8bd1\u671f\u95f4\u4e3a\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u5206\u914d\u5185\u5b58\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e9b\u53d8\u91cf\u5728\u7a0b\u5e8f\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u5185\u90fd\u5b58\u5728\uff0c\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u91ca\u653e\u3002\u9759\u6001\u5185\u5b58\u5206\u914d\u901a\u5e38\u5728\u7a0b\u5e8f\u7684\u6570\u636e\u533a(\u5df2\u521d\u59cb\u5316\u6570\u636e\u533a\u548c\u672a\u521d\u59cb\u5316\u6570\u636e\u533a)\u4e2d\u5b8c\u6210</li> <li>\u6808\u5185\u5b58\u5206\u914d\uff1a\u6808\u5185\u5b58\u5206\u914d\u662f\u4e3a\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u3001\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u5730\u5740\u5206\u914d\u5185\u5b58\u7684\u8fc7\u7a0b\u3002\u6808\u5185\u5b58\u5206\u914d\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u8fdb\u884c\uff0c\u91c7\u7528\u5148\u8fdb\u540e\u51fa(LIFO)\u7684\u65b9\u5f0f\u8fdb\u884c\u5206\u914d\u548c\u91ca\u653e\u3002\u6808\u5185\u5b58\u5206\u914d\u901f\u5ea6\u8f83\u5feb\uff0c\u4f46\u53d7\u5230\u6808\u7a7a\u95f4\u5927\u5c0f\u7684\u9650\u5236\uff0c\u4e14\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u53d7\u5230\u4f5c\u7528\u57df\u9650\u5236</li> <li>\u5806\u5185\u5b58\u5206\u914d\uff1a\u5806\u5185\u5b58\u5206\u914d\u662f\u4e3a\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u5206\u914d\u548c\u91ca\u653e\u5185\u5b58\u7684\u8fc7\u7a0b\u3002\u5806\u5185\u5b58\u5206\u914d\u9700\u8981\u7a0b\u5e8f\u5458\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u51fd\u6570(\u4f8b\u5982 C \u8bed\u8a00\u4e2d\u7684 malloc \u548c C++ \u4e2d\u7684 new)\u663e\u5f0f\u5730\u7533\u8bf7\u548c\u91ca\u653e\u5185\u5b58\u3002\u5806\u5185\u5b58\u5206\u914d\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7075\u6d3b\u5730\u8c03\u6574\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u548c\u5927\u5c0f\uff0c\u4f46\u76f8\u5bf9\u4e8e\u6808\u5185\u5b58\u5206\u914d\uff0c\u5806\u5185\u5b58\u5206\u914d\u901f\u5ea6\u8f83\u6162\uff0c\u4e14\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u788e\u7247\u5316\u3002\u5206\u914d\u5806\u4e0a\u5185\u5b58\u7684\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u8bbe\u8ba1\u5185\u5b58\u6c60\u6765\u63d0\u9ad8\u6027\u80fd</li> </ul> <p>\u5728\u9700\u8981\u5feb\u901f\u5206\u914d\u5c0f\u5757\u5185\u5b58\u4e14\u751f\u547d\u5468\u671f\u53d7\u9650\u7684\u573a\u666f\u4e0b\uff0c\u53ef\u4ee5\u9009\u62e9\u6808\u5185\u5b58\u5206\u914d\uff1b\u800c\u5728\u9700\u8981\u52a8\u6001\u8c03\u6574\u5bf9\u8c61\u5927\u5c0f\u6216\u751f\u547d\u5468\u671f\u7684\u573a\u666f\u4e0b\uff0c\u53ef\u4ee5\u9009\u62e9\u5806\u5185\u5b58\u5206\u914d\u3002</p>"},{"location":"Operating%20System/Memory/#_17","title":"\u9875\u7f6e\u6362\u7b97\u6cd5\u6709\u54ea\u4e9b\uff1f","text":"<p>\u9875\u7f6e\u6362\u7b97\u6cd5\u662f\u64cd\u4f5c\u7cfb\u7edf\u7528\u4e8e\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\u9009\u62e9\u54ea\u4e2a\u5185\u5b58\u9875\u9762\u88ab\u66ff\u6362\u51fa\u7269\u7406\u5185\u5b58\u7684\u4e00\u79cd\u7b56\u7565\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u9875\u7f6e\u6362\u7b97\u6cd5\uff1a</p> <ul> <li>\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5(Optimal Page Replacement Algorithm)\uff1a\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u9009\u62e9\u5728\u672a\u6765\u6700\u957f\u65f6\u95f4\u5185\u4e0d\u4f1a\u88ab\u8bbf\u95ee\u7684\u9875\u9762\u8fdb\u884c\u66ff\u6362\u3002\u8fd9\u79cd\u7b97\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u6700\u4f4e\u7684\u7f3a\u9875\u7387\uff0c\u4f46\u7531\u4e8e\u9700\u8981\u9884\u77e5\u672a\u6765\u7684\u9875\u9762\u8bbf\u95ee\u987a\u5e8f\uff0c\u6240\u4ee5\u5728\u5b9e\u9645\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u96be\u4ee5\u5b9e\u73b0</li> <li>\u5148\u8fdb\u5148\u51fa\u7b97\u6cd5(FIFO Page Replacement Algorithm)\uff1aFIFO \u7b97\u6cd5\u5c06\u5185\u5b58\u4e2d\u7684\u9875\u9762\u6309\u7167\u5b83\u4eec\u8fdb\u5165\u5185\u5b58\u7684\u987a\u5e8f\u8fdb\u884c\u6392\u5217\uff0c\u5e76\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\u66ff\u6362\u6700\u65e9\u8fdb\u5165\u5185\u5b58\u7684\u9875\u9762\u3002\u8be5\u7b97\u6cd5\u7b80\u5355\u6613\u5b9e\u73b0\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u8f83\u9ad8\u7684\u7f3a\u9875\u7387\uff0c\u56e0\u4e3a\u6700\u65e9\u8fdb\u5165\u5185\u5b58\u7684\u9875\u9762\u5e76\u4e0d\u603b\u662f\u6700\u5c11\u4f7f\u7528\u7684\u9875\u9762</li> <li>\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7b97\u6cd5(Least Recently Used Algorithm\uff0cLRU)\uff1aLRU \u7b97\u6cd5\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\u9009\u62e9\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u9875\u9762\u8fdb\u884c\u66ff\u6362\u3002\u8fd9\u79cd\u7b97\u6cd5\u8bd5\u56fe\u6a21\u62df\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5\uff0c\u901a\u8fc7\u8ddf\u8e2a\u9875\u9762\u7684\u8bbf\u95ee\u5386\u53f2\u6765\u9884\u6d4b\u672a\u6765\u7684\u8bbf\u95ee\u60c5\u51b5\u3002\u5c3d\u7ba1 LRU \u7b97\u6cd5\u5728\u5b9e\u9645\u7cfb\u7edf\u4e2d\u7684\u6027\u80fd\u8f83\u597d\uff0c\u4f46\u5176\u5b9e\u73b0\u76f8\u5bf9\u590d\u6742\uff0c\u9700\u8981\u8f83\u9ad8\u7684\u8ba1\u7b97\u548c\u5b58\u50a8\u5f00\u9500</li> <li>\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5(Clock Page Replacement Algorithm)\uff1a\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5\u662f LRU \u7b97\u6cd5\u7684\u4e00\u79cd\u8fd1\u4f3c\u5b9e\u73b0\uff0c\u5b83\u901a\u8fc7\u7ef4\u62a4\u4e00\u4e2a\u5faa\u73af\u961f\u5217(\u7c7b\u4f3c\u4e8e\u65f6\u949f\u6307\u9488)\u6765\u8ddf\u8e2a\u9875\u9762\u7684\u8bbf\u95ee\u60c5\u51b5\u3002\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u65f6\u949f\u6307\u9488\u4f1a\u987a\u5e8f\u626b\u63cf\u9875\u9762\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u672a\u88ab\u8bbf\u95ee\u7684\u9875\u9762\u8fdb\u884c\u66ff\u6362\u3002\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5\u7684\u5b9e\u73b0\u76f8\u5bf9\u7b80\u5355\uff0c\u4e14\u6027\u80fd\u63a5\u8fd1 LRU \u7b97\u6cd5</li> <li>\u968f\u673a\u7f6e\u6362\u7b97\u6cd5(Random Page Replacement Algorithm)\uff1a\u968f\u673a\u7f6e\u6362\u7b97\u6cd5\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u9875\u9762\u8fdb\u884c\u66ff\u6362\u3002\u8fd9\u79cd\u7b97\u6cd5\u5b9e\u73b0\u7b80\u5355\u4e14\u65e0\u9700\u7ef4\u62a4\u9875\u9762\u7684\u8bbf\u95ee\u5386\u53f2\uff0c\u4f46\u6027\u80fd\u76f8\u5bf9\u8f83\u5dee\uff0c\u56e0\u4e3a\u5b83\u65e0\u6cd5\u5229\u7528\u9875\u9762\u7684\u8bbf\u95ee\u6a21\u5f0f\u8fdb\u884c\u4f18\u5316</li> </ul>"},{"location":"Operating%20System/Memory/#64-4g-80g-32","title":"\u5982\u679c 64 \u4f4d\u7535\u8111\u662f 4G \u5185\u5b58\uff0c\u8981\u7533\u8bf7 80G \u7684\u7a7a\u95f4\uff0c\u53ef\u4ee5\u7533\u8bf7\u561b\uff1f32 \u4f4d\u5462\uff1f","text":"<p>\u4e00\u4e2a 64 \u4f4d\u7535\u8111\u5177\u6709 64 \u4f4d\u5bbd\u7684\u5730\u5740\u603b\u7ebf\uff0c\u56e0\u6b64\u7406\u8bba\u4e0a\u53ef\u4ee5\u8bbf\u95ee 2^64(\u7ea6\u4e3a 18EB\uff0c1EB = 1024PB\uff0c1PB = 1024TB)\u5b57\u8282\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u786c\u4ef6\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u9650\u5236\u53ef\u80fd\u4f1a\u5bfc\u81f4\u53ef\u7528\u5185\u5b58\u7a7a\u95f4\u5c0f\u4e8e\u7406\u8bba\u503c\uff0c\u4f46\u4ecd\u8fdc\u5927\u4e8e 80GB\u3002\u56e0\u6b64\uff0c\u5728 64 \u4f4d\u7535\u8111\u4e0a\u7533\u8bf7 80GB \u7684\u7a7a\u95f4\u662f\u53ef\u80fd\u7684\uff0c\u53ea\u8981\u5b9e\u9645\u7684\u7269\u7406\u5185\u5b58\u548c\u865a\u62df\u5185\u5b58\u914d\u7f6e\u8db3\u591f\u652f\u6301\u8fd9\u4e2a\u9700\u6c42\u3002</p> <p>\u7136\u800c\uff0c\u5728 32 \u4f4d\u7535\u8111\u4e0a\uff0c\u5730\u5740\u603b\u7ebf\u5bbd\u5ea6\u4e3a 32 \u4f4d\uff0c\u7406\u8bba\u4e0a\u6700\u5927\u53ef\u4ee5\u8bbf\u95ee 2^32(\u7ea6\u4e3a 4GB)\u5b57\u8282\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u56e0\u6b64\uff0c\u5728 32 \u4f4d\u7535\u8111\u4e0a\u76f4\u63a5\u7533\u8bf7 80GB \u7684\u7a7a\u95f4\u662f\u4e0d\u53ef\u80fd\u7684\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u4e00\u4e9b\u6280\u672f\u6765\u5b9e\u73b0\u7c7b\u4f3c\u529f\u80fd\uff0c\u5982\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u3001\u5206\u6bb5\u5b58\u50a8\u6216\u5176\u4ed6\u5185\u5b58\u7ba1\u7406\u6280\u672f\uff0c\u4f46\u8fd9\u5c06\u76f8\u5bf9\u590d\u6742\u4e14\u6027\u80fd\u53ef\u80fd\u53d7\u5230\u5f71\u54cd\u3002</p> <p>\u5728\u8ba8\u8bba\u7533\u8bf7 80GB \u7a7a\u95f4\u65f6\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u5230\u5b9e\u9645\u7684\u786c\u4ef6\u8d44\u6e90\u9650\u5236\uff0c\u4f8b\u5982\u5b9e\u9645\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\u4ee5\u53ca\u64cd\u4f5c\u7cfb\u7edf\u5982\u4f55\u914d\u7f6e\u865a\u62df\u5185\u5b58\u3002\u5728\u7269\u7406\u5185\u5b58\u4e0d\u8db3\u7684\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5229\u7528\u786c\u76d8\u4e0a\u7684\u865a\u62df\u5185\u5b58(\u5982 Windows \u4e2d\u7684\u5206\u9875\u6587\u4ef6)\u6765\u6ee1\u8db3\u7a0b\u5e8f\u7684\u5185\u5b58\u9700\u6c42\uff0c\u4f46\u8fd9\u5c06\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\uff0c\u56e0\u4e3a\u786c\u76d8\u8bbf\u95ee\u901f\u5ea6\u8fdc\u6162\u4e8e\u5185\u5b58\u8bbf\u95ee\u901f\u5ea6\u3002</p>"},{"location":"Operating%20System/Memory/#malloc","title":"\u8bb2\u4e00\u8bb2 malloc \u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f","text":"<p>malloc \u662f C \u8bed\u8a00\u6807\u51c6\u5e93\u4e2d\u7528\u4e8e\u52a8\u6001\u5185\u5b58\u5206\u914d\u7684\u51fd\u6570\u3002\u5176\u5b9e\u73b0\u53ef\u80fd\u56e0\u7f16\u8bd1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e0d\u540c\u800c\u6709\u6240\u5dee\u5f02\uff0c\u4f46\u901a\u5e38\u91c7\u7528\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u6765\u5b8c\u6210\u5185\u5b58\u5206\u914d\u4efb\u52a1\uff1a</p> <ul> <li>\u521d\u59cb\u5316\u5185\u5b58\u6c60\uff1amalloc \u9996\u6b21\u8c03\u7528\u65f6\uff0c\u901a\u5e38\u4f1a\u521d\u59cb\u5316\u5185\u5b58\u6c60\u3002\u5185\u5b58\u6c60\u662f\u9884\u5148\u5206\u914d\u7684\u4e00\u5927\u5757\u5185\u5b58\u7a7a\u95f4\uff0c\u7528\u4e8e\u6ee1\u8db3\u540e\u7eed\u5185\u5b58\u5206\u914d\u8bf7\u6c42\u3002\u521d\u59cb\u5316\u8fc7\u7a0b\u5305\u62ec\u4ece\u64cd\u4f5c\u7cfb\u7edf\u8bf7\u6c42\u5185\u5b58(\u5982\u4f7f\u7528 sbrk \u6216 mmap \u7cfb\u7edf\u8c03\u7528)\uff0c\u5e76\u5efa\u7acb\u6570\u636e\u7ed3\u6784\u6765\u8ddf\u8e2a\u53ef\u7528\u7684\u5185\u5b58\u5757(\u79f0\u4e3a free list)</li> <li>\u67e5\u627e\u5408\u9002\u7684\u5185\u5b58\u5757\uff1a\u5f53 malloc \u6536\u5230\u5185\u5b58\u5206\u914d\u8bf7\u6c42\u65f6\uff0c\u5b83\u4f1a\u5728 free list \u4e2d\u67e5\u627e\u4e00\u4e2a\u5927\u5c0f\u6ee1\u8db3\u9700\u6c42\u7684\u5185\u5b58\u5757\u3002\u5185\u5b58\u5757\u67e5\u627e\u7b56\u7565\u53ef\u80fd\u6709\u6240\u4e0d\u540c\uff0c\u5982\u9996\u6b21\u9002\u914d(first fit)\u3001\u6700\u4f73\u9002\u914d(best fit)\u6216\u6700\u5dee\u9002\u914d(worst fit)\u7b49\u3002\u7b56\u7565\u9009\u62e9\u4f1a\u5f71\u54cd\u5185\u5b58\u5206\u914d\u7684\u6027\u80fd\u548c\u5185\u5b58\u788e\u7247\u5316\u7a0b\u5ea6\u3002\u5982\u679c\u627e\u4e0d\u5230\u8db3\u591f\u5927\u5c0f\u7684\u5185\u5b58\uff0c\u5b83\u4f1a\u4ece\u65b0\u5411\u64cd\u4f5c\u7cfb\u7edf\u7533\u8bf7\uff0c\u7533\u8bf7\u5927\u5c0f\u5c0f\u4e8e 128KB \u7528 brk\uff0c\u5927\u4e8e 128KB \u65f6\u7528 mmap</li> <li>\u5206\u5272\u5185\u5b58\u5757\uff1a\u5982\u679c\u627e\u5230\u7684\u5185\u5b58\u5757\u5927\u5c0f\u8fdc\u5927\u4e8e\u8bf7\u6c42\u7684\u5185\u5b58\u5927\u5c0f\uff0cmalloc \u53ef\u80fd\u4f1a\u5c06\u5176\u5206\u5272\u6210\u4e24\u90e8\u5206\u3002\u4e00\u90e8\u5206\u7528\u4e8e\u6ee1\u8db3\u5f53\u524d\u8bf7\u6c42\uff0c\u53e6\u4e00\u90e8\u5206\u4fdd\u7559\u5728 free list \u4e2d\u4ee5\u4f9b\u540e\u7eed\u5206\u914d\u4f7f\u7528</li> <li>\u66f4\u65b0\u6570\u636e\u7ed3\u6784\uff1amalloc \u5c06\u627e\u5230\u7684\u5185\u5b58\u5757\u4ece free list \u4e2d\u79fb\u9664\uff0c\u5e76\u66f4\u65b0\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\u3002\u6b64\u5916\uff0cmalloc \u901a\u5e38\u4f1a\u5728\u8fd4\u56de\u7684\u5185\u5b58\u5757\u524d\u9644\u52a0\u4e00\u4e9b\u5143\u6570\u636e(\u5982\u5185\u5b58\u5757\u5927\u5c0f)\uff0c\u4ee5\u4fbf\u4e8e\u540e\u7eed\u7684\u5185\u5b58\u91ca\u653e(free)\u548c\u91cd\u65b0\u5206\u914d(realloc)\u64cd\u4f5c</li> <li>\u8fd4\u56de\u5185\u5b58\u5757\u5730\u5740\uff1amalloc \u8fd4\u56de\u5206\u914d\u7684\u5185\u5b58\u5757\u5730\u5740\uff0c\u4f9b\u7a0b\u5e8f\u4f7f\u7528\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5206\u914d\u7684\u5185\u5b58\u5757\u5185\u5bb9\u53ef\u80fd\u662f\u672a\u521d\u59cb\u5316\u7684\uff0c\u9700\u8981\u5728\u4f7f\u7528\u524d\u8fdb\u884c\u9002\u5f53\u7684\u521d\u59cb\u5316\u64cd\u4f5c</li> </ul>"},{"location":"Operating%20System/Memory/#mmap","title":"\u8bb2\u4e00\u8bb2 mmap \u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f","text":"<p>mmap \u662f\u4e00\u79cd\u5c06\u6587\u4ef6\u6216\u5176\u4ed6\u5bf9\u8c61\u6620\u5c04\u5230\u8fdb\u7a0b\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u5185\u5b58\u6620\u5c04\u6280\u672f\u3002\u5b83\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf(\u5982 Linux)\u4e2d\u5b9e\u73b0\u4e3a\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u3002mmap \u7684\u5b9e\u73b0\u6d89\u53ca\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u3001\u6587\u4ef6\u7cfb\u7edf\u3001\u5185\u5b58\u7ba1\u7406\u7b49\u591a\u4e2a\u5b50\u7cfb\u7edf\u3002\u4ee5\u4e0b\u662f mmap \u5b9e\u73b0\u7684\u6982\u8ff0\uff1a</p> <ul> <li>\u53c2\u6570\u68c0\u67e5\uff1a\u5728\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 mmap \u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9996\u5148\u68c0\u67e5\u53c2\u6570\u7684\u5408\u6cd5\u6027\uff0c\u5305\u62ec\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u6620\u5c04\u957f\u5ea6\u3001\u8bbf\u95ee\u6743\u9650\u3001\u6587\u4ef6\u504f\u79fb\u7b49\u3002\u5982\u679c\u53c2\u6570\u65e0\u6548\u6216\u975e\u6cd5\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c06\u8fd4\u56de\u9519\u8bef</li> <li>\u521b\u5efa\u865a\u62df\u5185\u5b58\u533a\u57df(VMR)\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u8bf7\u6c42\u7684\u6620\u5c04\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u5185\u5b58\u533a\u57df\uff0c\u8be5\u533a\u57df\u7684\u957f\u5ea6\u7531\u8c03\u7528\u53c2\u6570\u6307\u5b9a\u3002\u521b\u5efa VMR \u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4e3a\u5176\u5206\u914d\u4e00\u4e2a\u8fde\u7eed\u7684\u865a\u62df\u5730\u5740\u8303\u56f4\uff0c\u5e76\u5728\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u4e2d\u8bb0\u5f55\u76f8\u5173\u4fe1\u606f</li> <li>\u5efa\u7acb\u6587\u4ef6\u4e0e\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u5173\u8054\uff1a\u64cd\u4f5c\u7cfb\u7edf\u5c06\u8981\u6620\u5c04\u7684\u6587\u4ef6\u4e0e\u65b0\u521b\u5efa\u7684\u865a\u62df\u5185\u5b58\u533a\u57df\u5efa\u7acb\u5173\u8054\u3002\u8fd9\u79cd\u5173\u8054\u53ef\u4ee5\u662f \u79c1\u6709(private)\u6216\u5171\u4eab(shared)\u3002\u79c1\u6709\u6620\u5c04\u610f\u5473\u7740\u5bf9\u6620\u5c04\u533a\u57df\u7684\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u539f\u59cb\u6587\u4ef6\uff0c\u800c\u5171\u4eab\u6620\u5c04\u5219\u610f\u5473\u7740\u4fee\u6539\u4f1a\u540c\u6b65\u5230\u539f\u59cb\u6587\u4ef6\u3002\u5173\u8054\u4fe1\u606f\u901a\u5e38\u5b58\u50a8\u5728\u5185\u6838\u4e2d\u7684\u9875\u8868\u6216\u5176\u4ed6\u6570\u636e\u7ed3\u6784\u4e2d</li> <li>\u5ef6\u8fdf\u52a0\u8f7d\uff1a\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cmmap \u5e76\u4e0d\u4f1a\u7acb\u5373\u5c06\u6587\u4ef6\u5185\u5bb9\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u3002\u76f8\u53cd\uff0c\u5b83\u91c7\u7528\u4e00\u79cd\u79f0\u4e3a  \u5ef6\u8fdf\u52a0\u8f7d(lazy loading)  \u7684\u7b56\u7565\uff0c\u4ec5\u5728\u5e94\u7528\u7a0b\u5e8f\u5b9e\u9645\u8bbf\u95ee\u6620\u5c04\u533a\u57df\u65f6\u624d\u52a0\u8f7d\u6240\u9700\u7684\u6587\u4ef6\u5185\u5bb9\u3002\u8fd9\u79cd\u7b56\u7565\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\u5e76\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u4f7f\u7528</li> <li>\u7f3a\u9875\u5904\u7406\uff1a\u5f53\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u5c1a\u672a\u52a0\u8f7d\u7684\u6620\u5c04\u533a\u57df\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u6536\u5230\u4e00\u4e2a\u7f3a\u9875\u4e2d\u65ad\u3002\u5728\u5904\u7406\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u67e5\u627e\u4e0e\u865a\u62df\u5730\u5740\u5173\u8054\u7684\u6587\u4ef6\u548c\u504f\u79fb\uff0c\u5c06\u6240\u9700\u7684\u6587\u4ef6\u5185\u5bb9\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u4e2d\uff0c\u5e76\u66f4\u65b0\u9875\u8868\u4ee5\u5efa\u7acb\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u3002\u4e4b\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u7ee7\u7eed\u8bbf\u95ee\u6620\u5c04\u533a\u57df</li> <li>\u5185\u5b58\u56de\u5199\uff1a\u5bf9\u4e8e\u5171\u4eab\u6620\u5c04\uff0c\u5e94\u7528\u7a0b\u5e8f\u5bf9\u6620\u5c04\u533a\u57df\u7684\u4fee\u6539\u9700\u8981\u540c\u6b65\u5230\u539f\u59cb\u6587\u4ef6\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u5e38\u91c7\u7528\u4e00\u79cd\u79f0\u4e3a  \u5199\u56de(write-back)  \u7684\u7b56\u7565\uff0c\u5373 \u5728\u4e00\u6bb5\u65f6\u95f4\u540e\u6216\u5185\u5b58\u538b\u529b\u589e\u5927\u65f6\u5c06\u4fee\u6539\u540e\u7684\u5185\u5b58\u5185\u5bb9\u5199\u56de\u5230\u6587\u4ef6\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 msync \u6765\u663e\u5f0f\u5730\u540c\u6b65\u5185\u5b58\u548c\u6587\u4ef6\u5185\u5bb9</li> <li> <p>\u91ca\u653e\u5185\u5b58\u6620\u5c04\uff1a\u5f53\u5e94\u7528\u7a0b\u5e8f\u4e0d\u518d\u9700\u8981\u5185\u5b58\u6620\u5c04\u65f6\uff0c\u53ef\u4ee5 \u901a\u8fc7\u8c03\u7528 munmap \u7cfb\u7edf\u8c03\u7528\u6765\u91ca\u653e\u6620\u5c04\u533a\u57df\u3002\u64cd\u4f5c\u7cfb\u7edf\u5728\u6536\u5230 munmap \u8c03\u7528\u65f6\uff0c\u4f1a\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ol> <li>\u5982\u679c\u6620\u5c04\u533a\u57df\u6709\u672a\u5199\u56de\u7684\u4fee\u6539\u5185\u5bb9\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5c06\u8fd9\u4e9b\u5185\u5bb9\u5199\u56de\u5230\u539f\u59cb\u6587\u4ef6(\u5982\u679c\u662f\u5171\u4eab\u6620\u5c04)</li> <li>\u64cd\u4f5c\u7cfb\u7edf\u5c06\u91ca\u653e\u4e0e\u6620\u5c04\u533a\u57df\u5173\u8054\u7684\u7269\u7406\u5185\u5b58\u9875</li> <li>\u64cd\u4f5c\u7cfb\u7edf\u4ece\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u4e2d\u5220\u9664\u6620\u5c04\u533a\u57df\uff0c\u5e76\u6e05\u9664\u4e0e\u8be5\u533a\u57df\u5173\u8054\u7684\u9875\u8868\u6761\u76ee\u548c\u5176\u4ed6\u5185\u6838\u6570\u636e\u7ed3\u6784</li> </ol> </li> </ul> <p>mmap \u7cfb\u7edf\u8c03\u7528\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u5185\u5b58\u6620\u5c04\u6280\u672f\uff0c\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u5c06\u6587\u4ef6\u6216\u5176\u4ed6\u5bf9\u8c61\u76f4\u63a5\u6620\u5c04\u5230\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002mmap \u7684\u5b9e\u73b0\u6d89\u53ca\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u3001\u6587\u4ef6\u7cfb\u7edf\u3001\u5185\u5b58\u7ba1\u7406\u7b49\u591a\u4e2a\u5b50\u7cfb\u7edf\uff0c\u5e76\u91c7\u7528\u8bf8\u5982\u5ef6\u8fdf\u52a0\u8f7d\u3001\u5199\u56de\u7b49\u7b56\u7565\u6765\u63d0\u9ad8\u6027\u80fd\u548c\u964d\u4f4e\u5185\u5b58\u4f7f\u7528\u3002</p>"},{"location":"Operating%20System/Memory/#_18","title":"\u5171\u4eab\u5185\u5b58\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f","text":"<p>\u5171\u4eab\u5185\u5b58(Shared Memory)\u662f\u4e00\u79cd\u8fdb\u7a0b\u95f4\u901a\u4fe1(IPC)\u673a\u5236\uff0c\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u540c\u4e00\u5757\u5185\u5b58\u533a\u57df\u3002\u5728\u5171\u4eab\u5185\u5b58\u7684\u5b9e\u73b0\u4e2d\uff0c\u76f8\u540c\u7684\u4e00\u5757\u7269\u7406\u5185\u5b58\u533a\u57df\u88ab\u6620\u5c04\u5230\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u5b9e\u73b0\u6570\u636e\u5171\u4eab\u3002\u5171\u4eab\u5185\u5b58\u673a\u5236\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u4f20\u8f93\u6548\u7387\uff0c\u56e0\u4e3a\u5b83\u907f\u514d\u4e86\u6570\u636e\u590d\u5236\u548c\u5185\u6838\u4e0e\u7528\u6237\u7a7a\u95f4\u4e4b\u95f4\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u3002\u4ee5\u4e0b\u662f\u5171\u4eab\u5185\u5b58\u7684\u5b9e\u73b0\u6982\u8ff0\uff1a</p> <ul> <li>\u521b\u5efa\u5171\u4eab\u5185\u5b58\u533a\u57df\uff1a\u9996\u5148\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u5185\u5b58\u533a\u57df\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 shmget \u7cfb\u7edf\u8c03\u7528\u6765\u5b9e\u73b0\u3002shmget \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u5185\u5b58\u6807\u8bc6\u7b26(Shared Memory Identifier)\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u5171\u4eab\u5185\u5b58\u533a\u57df\u3002\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 CreateFileMapping \u51fd\u6570\u6765\u521b\u5efa\u4e00\u4e2a\u5185\u5b58\u6620\u5c04\u6587\u4ef6</li> <li>\u5c06\u5171\u4eab\u5185\u5b58\u533a\u57df\u6620\u5c04\u5230\u8fdb\u7a0b\u5730\u5740\u7a7a\u95f4\uff1a\u6bcf\u4e2a\u9700\u8981\u8bbf\u95ee\u5171\u4eab\u5185\u5b58\u533a\u57df\u7684\u8fdb\u7a0b\u9700\u8981\u5c06\u5176\u6620\u5c04\u5230\u81ea\u5df1\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 shmat \u7cfb\u7edf\u8c03\u7528\u6765\u5b8c\u6210\u6620\u5c04\uff1b\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 MapViewOfFile \u51fd\u6570\u3002\u6620\u5c04\u64cd\u4f5c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u5171\u4eab\u5185\u5b58\u533a\u57df\u7684\u6307\u9488\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u8be5\u6307\u9488\u8bbf\u95ee\u5171\u4eab\u6570\u636e</li> <li>\u8bfb\u5199\u5171\u4eab\u5185\u5b58\uff1a\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u6620\u5c04\u5230\u5176\u5730\u5740\u7a7a\u95f4\u7684\u5171\u4eab\u5185\u5b58\u533a\u57df\u6765\u8bfb\u5199\u6570\u636e\u3002\u4e3a\u907f\u514d\u6570\u636e\u7ade\u4e89\u548c\u4e0d\u4e00\u81f4\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u9700\u8981\u534f\u8c03\u5bf9\u5171\u4eab\u5185\u5b58\u7684\u8bbf\u95ee\u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u540c\u6b65\u539f\u8bed(\u5982\u4e92\u65a5\u9501\u3001\u4fe1\u53f7\u91cf\u7b49)\u6765\u5b9e\u73b0</li> <li>\u53d6\u6d88\u6620\u5c04\u5171\u4eab\u5185\u5b58\u533a\u57df\uff1a\u5f53\u8fdb\u7a0b\u4e0d\u518d\u9700\u8981\u8bbf\u95ee\u5171\u4eab\u5185\u5b58\u65f6\uff0c\u9700\u8981\u5c06\u5176\u4ece\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e2d\u53d6\u6d88\u6620\u5c04\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 shmdt \u7cfb\u7edf\u8c03\u7528\uff1b\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 UnmapViewOfFile \u51fd\u6570</li> <li>\u5220\u9664\u5171\u4eab\u5185\u5b58\u533a\u57df\uff1a\u5f53\u6240\u6709\u8fdb\u7a0b\u90fd\u4e0d\u518d\u9700\u8981\u5171\u4eab\u5185\u5b58\u533a\u57df\u65f6\uff0c\u9700\u8981\u5c06\u5176\u5220\u9664\u4ee5\u91ca\u653e\u7cfb\u7edf\u8d44\u6e90\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 shmctl \u7cfb\u7edf\u8c03\u7528(\u5e26\u6709 IPC_RMID \u547d\u4ee4)\u6765\u5220\u9664\u5171\u4eab\u5185\u5b58\u533a\u57df\uff1b\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 CloseHandle \u51fd\u6570\u5173\u95ed\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u7684\u53e5\u67c4</li> </ul> <p>\u5171\u4eab\u5185\u5b58\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u673a\u5236\uff0c\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u76f4\u63a5\u8bbf\u95ee\u540c\u4e00\u5757\u5185\u5b58\u533a\u57df\u3002\u5176\u5b9e\u73b0\u6d89\u53ca\u521b\u5efa\u5171\u4eab\u5185\u5b58\u533a\u57df\u3001\u6620\u5c04\u5230\u8fdb\u7a0b\u5730\u5740\u7a7a\u95f4\u3001\u534f\u8c03\u8bbf\u95ee\u3001\u53d6\u6d88\u6620\u5c04\u548c\u5220\u9664\u5171\u4eab\u5185\u5b58\u533a\u57df\u7b49\u6b65\u9aa4\u3002</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Operating%20System/OperatingSystem/","title":"OperatingSystem","text":"\u64cd\u4f5c\u7cfb\u7edf"},{"location":"Operating%20System/OperatingSystem/#contents","title":"Contents","text":"<p> \u7ea6 44686 \u4e2a\u5b57  52 \u884c\u4ee3\u7801  6 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 224 \u5206\u949f</p> <ul> <li>Contents</li> <li>\u8ba1\u7b97\u673a\u7cfb\u7edf\u57fa\u7840</li> <li>\u8bb2\u4e00\u8bb2\u4ec0\u4e48\u662f\u64cd\u4f5c\u7cfb\u7edf\uff1f</li> <li>\u8bb2\u4e00\u8bb2\u51af\u8bfa\u4f9d\u66fc\u7ed3\u6784\uff1f</li> <li>\u8bb2\u4e00\u8bb2\u5916\u90e8\u4e2d\u65ad\u4e0e\u5f02\u5e38\uff1f</li> <li>CPU \u5730\u5740\u7ffb\u8bd1\u662f\u600e\u6837\u5b9e\u73b0\u7684\uff1f<ul> <li>\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b</li> <li>\u9875\u8868\u67e5\u627e\u4e0e\u5730\u5740\u7ffb\u8bd1</li> <li>\u9875\u8868\u7f13\u5b58(TLB)</li> </ul> </li> <li>\u4ecb\u7ecd\u4e00\u4e0b\u73b0\u4ee3 CPU \u6307\u4ee4\u5468\u671f\u4e0e\u6307\u4ee4\u7c7b\u578b\uff1f<ul> <li>\u6307\u4ee4\u5468\u671f</li> <li>\u6307\u4ee4\u7c7b\u578b</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2 TLB\uff1f<ul> <li>\u7279\u70b9</li> <li>\u5de5\u4f5c\u6d41\u7a0b</li> </ul> </li> <li>\u4ec0\u4e48\u662f\u5c40\u90e8\u6027\u539f\u7406\uff1f<ul> <li>\u65f6\u95f4\u5c40\u90e8\u6027</li> <li>\u7a7a\u95f4\u5c40\u90e8\u6027</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\uff0c\u4ed6\u4eec\u4e4b\u95f4\u600e\u4e48\u5207\u6362\u7684\uff1f<ul> <li>\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\u7684\u533a\u522b</li> <li>\u89e6\u53d1\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u4e4b\u95f4\u7684\u5207\u6362\u7684\u573a\u666f</li> <li>\u5207\u6362\u8fc7\u7a0b</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2 CPU \u7f13\u5b58\uff1f<ul> <li>\u7c7b\u578b</li> <li>\u7ec4\u7ec7\u65b9\u5f0f</li> <li>\u7f13\u5b58\u66ff\u6362\u7b56\u7565</li> </ul> </li> <li>CPU L1\uff0cL2\uff0cL3 \u591a\u7ea7\u7f13\u5b58\u7684\u57fa\u672c\u4f5c\u7528\uff1f</li> <li>\u8bb2\u4e00\u8bb2 CPU \u7684\u7f13\u5b58\u4e00\u81f4\u6027\uff1f</li> <li>\u8bb2\u4e00\u8bb2\u7f13\u5b58\u4e00\u81f4\u6027\u4e2d\u7684 MESI \u534f\u8bae\uff1f</li> <li>\u8bb2\u4e00\u8bb2\u4f2a\u5171\u4eab\u95ee\u9898\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u5bfc\u81f4\u7684\u95ee\u9898</li> <li>\u89e3\u51b3\u529e\u6cd5</li> </ul> </li> <li>\u7a0b\u5e8f\u6267\u884c\u7684\u57fa\u672c\u8fc7\u7a0b\uff1f</li> <li>\u5e38\u7528\u7684 Linux \u547d\u4ee4\uff1f</li> <li>Linux \u9875\u5927\u5c0f\u662f\u591a\u5c11\uff1f</li> <li>Linux \u4e0b\u5982\u4f55\u67e5\u770b CPU \u8377\u8f7d\uff0c\u6b63\u5728\u8fd0\u884c\u7684\u7ebf\u7a0b\uff0c\u67d0\u4e2a\u7aef\u53e3\u5bf9\u5e94\u7684\u8fdb\u7a0b\uff1f</li> <li>Linux \u4e0b\u5982\u4f55\u6392\u67e5 CPU \u4ee5\u53ca\u5185\u5b58\u5360\u7528\u8fc7\u591a\uff1f</li> <li>Linux \u5982\u4f55\u67e5\u770b\u5b9e\u65f6\u7684\u6eda\u52a8\u65e5\u5fd7\uff1f</li> <li>traceroute \u547d\u4ee4\u7684\u539f\u7406\uff1f<ul> <li>\u57fa\u672c\u5de5\u4f5c\u539f\u7406</li> </ul> </li> <li>ASCII\uff0cUnicode\uff0cUTF-8 \u7684\u533a\u522b\uff1f</li> <li>\u5e76\u53d1</li> <li>\u5e76\u53d1\u4e0e\u5e76\u884c\u7684\u533a\u522b\uff1f<ul> <li>\u5e76\u53d1</li> <li>\u5e76\u884c</li> <li>\u533a\u522b</li> </ul> </li> <li>\u4ec0\u4e48\u662f\u4e92\u65a5\u9501\uff0c\u81ea\u65cb\u9501\u5462\uff0c\u5e95\u5c42\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f<ul> <li>\u4e92\u65a5\u9501</li> <li>\u81ea\u65cb\u9501</li> <li>\u533a\u522b</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2\u6b7b\u9501\uff0c\u6b7b\u9501\u600e\u4e48\u5904\u7406\uff1f<ul> <li>\u6b7b\u9501\u6761\u4ef6</li> <li>\u5904\u7406\u6b7b\u9501</li> </ul> </li> <li>\u4ec0\u4e48\u662f\u8bfb\u5199\u9501\uff1f<ul> <li>\u8bfb\u5199\u9501\u7684\u7279\u6027</li> </ul> </li> <li>Linux \u540c\u6b65\u673a\u5236\uff1f</li> <li>\u4fe1\u53f7\u91cf\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f<ul> <li>\u57fa\u672c\u5b9e\u73b0\u539f\u7406</li> </ul> </li> <li>\u6761\u4ef6\u53d8\u91cf\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f</li> <li>\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\uff1f</li> <li>\u54f2\u5b66\u5bb6\u8fdb\u9910\u95ee\u9898\uff1f</li> <li>\u5185\u5b58\u7ba1\u7406</li> <li>\u5185\u5b58\u865a\u62df\u5316\u662f\u4ec0\u4e48\uff0c\u8fd9\u4e48\u505a\u6709\u4ec0\u4e48\u76ee\u7684\uff1f</li> <li>\u903b\u8f91\u5730\u5740(\u865a\u62df\u5730\u5740)\u4e0e\u7269\u7406\u5730\u5740\u7684\u533a\u522b\uff1f</li> <li>\u64cd\u4f5c\u7cfb\u7edf\u5728\u5bf9\u5185\u5b58\u7ba1\u7406\u65f6\u505a\u4e86\u4ec0\u4e48\uff1f</li> <li>\u8bb2\u4e00\u8bb2\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\uff1f</li> <li>\u4ec0\u4e48\u662f\u6362\u9875\u673a\u5236\uff1f</li> <li>\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u7f3a\u9875\u4e2d\u65ad\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u8fc7\u7a0b</li> <li>\u4f18\u5316\u7b56\u7565</li> </ul> </li> <li>\u6362\u9875\u65f6\u7684\u6296\u52a8\u662f\u4ec0\u4e48\uff1f<ul> <li>\u6982\u5ff5</li> <li>\u539f\u56e0</li> <li>\u89e3\u51b3\u65b9\u6848</li> </ul> </li> <li>\u8fdb\u7a0b\u7684\u5185\u5b58\u5206\u5e03\uff1f</li> <li>\u5806\u4e0a\u5efa\u7acb\u5bf9\u8c61\u5feb\uff0c\u8fd8\u662f\u6808\u4e0a\u5efa\u7acb\u5bf9\u8c61\u5feb\uff1f</li> <li>\u5e38\u89c1\u7684\u5185\u5b58\u5206\u914d\u65b9\u5f0f\uff1f</li> <li>\u9875\u7f6e\u6362\u7b97\u6cd5\u6709\u54ea\u4e9b\uff1f</li> <li>\u5982\u679c 64 \u4f4d\u7535\u8111\u662f 4G \u5185\u5b58\uff0c\u8981\u7533\u8bf7 80G \u7684\u7a7a\u95f4\uff0c\u53ef\u4ee5\u7533\u8bf7\u561b\uff1f32 \u4f4d\u5462\uff1f</li> <li>\u8bb2\u4e00\u8bb2 malloc \u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f</li> <li>\u8bb2\u4e00\u8bb2 mmap \u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f</li> <li>\u5171\u4eab\u5185\u5b58\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f</li> <li>\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7ba1\u7406</li> <li>\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u3001\u534f\u7a0b\u533a\u522b\u4e0e\u8054\u7cfb\uff1f<ul> <li>\u533a\u522b</li> <li>\u8054\u7cfb</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2\u7528\u6237\u7ebf\u7a0b\u4e0e\u5185\u6838\u7ebf\u7a0b\uff1f<ul> <li>\u7528\u6237\u7ebf\u7a0b</li> <li>\u5185\u6838\u7ebf\u7a0b</li> <li>\u603b\u7ed3</li> </ul> </li> <li>\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u591a\u5c11\u4e2a\u7ebf\u7a0b\uff1f</li> <li>\u8fdb\u7a0b\u7684\u8c03\u5ea6\u7b97\u6cd5\uff1f<ul> <li>\u65f6\u95f4\u7247\u8f6e\u8f6c(RR)</li> <li>\u4f18\u5148\u7ea7\u8c03\u5ea6</li> <li>\u5148\u5230\u5148\u5f97(FCFS)</li> <li>\u6700\u77ed\u4efb\u52a1\u4f18\u5148(SJF)</li> <li>\u6700\u77ed\u5b8c\u6210\u65f6\u95f4\u4f18\u5148(STCF)</li> <li>\u591a\u7ea7\u961f\u5217(MLQ)</li> <li>\u591a\u7ea7\u53cd\u9988\u961f\u5217(MLFQ)</li> <li>\u5b8c\u5168\u516c\u5e73\u8c03\u5ea6(CFS)</li> </ul> </li> <li>\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\uff1f<ul> <li>\u7ba1\u9053</li> <li>\u6d88\u606f\u961f\u5217</li> <li>\u5171\u4eab\u5185\u5b58</li> <li>\u4fe1\u53f7\u91cf</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2\u8fdb\u7a0b\u865a\u62df\u5316\uff1f</li> <li>\u8fdb\u7a0b\u7684\u72b6\u6001\u6709\u54ea\u4e9b\uff1f</li> <li>\u8fdb\u7a0b\u5982\u4f55\u521b\u5efa\u7684\uff1f</li> <li>\u5982\u4f55\u56de\u6536\u7ebf\u7a0b\uff1f<ul> <li>\u4f7f\u7528 join() \u65b9\u6cd5</li> <li>\u4f7f\u7528\u7ebf\u7a0b\u5206\u79bb(detach)</li> <li>\u4f7f\u7528\u7ebf\u7a0b\u5c40\u90e8\u5b58\u50a8(Thread-Local Storage, TLS)</li> </ul> </li> <li>\u8fdb\u7a0b\u7ec8\u6b62\u65b9\u5f0f\uff1f</li> <li>\u5982\u4f55\u8ba9\u8fdb\u7a0b\u540e\u53f0\u8fd0\u884c\uff1f</li> <li>\u8bb2\u4e00\u8bb2\u5b88\u62a4\u8fdb\u7a0b\uff0c\u50f5\u5c38\u8fdb\u7a0b\uff0c\u5b64\u513f\u8fdb\u7a0b\uff1f<ul> <li>\u5b88\u62a4\u8fdb\u7a0b</li> <li>\u50f5\u5c38\u8fdb\u7a0b</li> <li>\u5b64\u513f\u8fdb\u7a0b</li> <li>\u603b\u7ed3</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2\u7236\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u7ec4\uff0c\u4f1a\u8bdd\uff1f<ul> <li>\u7236\u8fdb\u7a0b(Parent Process)\u548c\u5b50\u8fdb\u7a0b(Child Process)</li> <li>\u8fdb\u7a0b\u7ec4(Process Group)</li> <li>\u4f1a\u8bdd(Session)</li> <li>\u603b\u7ed3</li> </ul> </li> <li>\u591a\u8fdb\u7a0b\u4e0e\u591a\u7ebf\u7a0b\u600e\u4e48\u9009\u62e9\uff1f<ul> <li>\u5e94\u7528\u573a\u666f</li> <li>\u8d44\u6e90\u9700\u6c42</li> <li>\u5f00\u53d1\u548c\u7ef4\u62a4\u96be\u5ea6</li> <li>\u53ef\u6269\u5c55\u6027</li> <li>\u5bb9\u9519\u6027\u548c\u9694\u79bb</li> </ul> </li> <li>\u4ec0\u4e48\u60c5\u51b5\u4e0b\uff0c\u8fdb\u7a0b\u4f1a\u8fdb\u884c\u5207\u6362\uff1f</li> <li>\u8fdb\u7a0b\u901a\u4fe1\u4e2d\u7684\u7ba1\u9053\u5b9e\u73b0\u539f\u7406\u662f\u4ec0\u4e48\uff1f</li> <li>\u4e3a\u4ec0\u4e48\u8fdb\u7a0b\u5207\u6362\u6162\uff0c\u7ebf\u7a0b\u5207\u6362\u5feb\uff1f</li> <li>\u6587\u4ef6\u7cfb\u7edf</li> <li>\u6587\u4ef6\u7cfb\u7edf\u865a\u62df\u5316\uff1f</li> <li>\u4ec0\u4e48\u662f\u786c\u94fe\u63a5\u4e0e\u7b26\u53f7\u8fde\u63a5\uff1f<ul> <li>\u786c\u94fe\u63a5</li> <li>\u786c\u94fe\u63a5\u7684\u7279\u70b9</li> <li>\u7b26\u53f7\u94fe\u63a5</li> <li>\u7b26\u53f7\u94fe\u63a5\u7684\u7279\u70b9</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2 Inode \u6587\u4ef6\u7cfb\u7edf\u7ed3\u6784\uff1f</li> <li>\u8bb2\u4e00\u8bb2 FAT \u6587\u4ef6\u7cfb\u7edf\u4e0e Unix \u6587\u4ef6\u7cfb\u7edf\uff1f<ul> <li>FAT \u6587\u4ef6\u7cfb\u7edf</li> <li>FAT \u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u70b9</li> <li>FAT \u6587\u4ef6\u7cfb\u7edf\u9002\u7528\u573a\u666f</li> <li>Unix \u6587\u4ef6\u7cfb\u7edf</li> <li>Unix \u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u70b9</li> <li>Unix \u6587\u4ef6\u7cfb\u7edf\u9002\u7528\u573a\u666f\uff1a</li> </ul> </li> <li>\u6587\u4ef6\u4f20\u8f93\u4e2d\u65ad\u540e\u5982\u4f55\u7eed\u4f20</li> <li>\u670d\u52a1\u5668\u7f16\u7a0b</li> <li>select poll epoll \u7684\u533a\u522b\u4e0e\u8054\u7cfb\uff1f<ul> <li>select</li> <li>select \u7684\u4e3b\u8981\u9650\u5236</li> <li>poll</li> <li>poll \u7684\u4f18\u70b9</li> <li>poll \u5b58\u5728\u7684\u95ee\u9898</li> <li>epoll</li> <li>epoll \u7684\u4f18\u70b9</li> <li>\u603b\u7ed3</li> </ul> </li> <li>\u8fb9\u7f18\u89e6\u53d1\u4e0e\u6761\u4ef6\u89e6\u53d1\u5206\u522b\u662f\u4ec0\u4e48\uff1f<ul> <li>\u8fb9\u7f18\u89e6\u53d1</li> <li>\u6761\u4ef6\u89e6\u53d1</li> </ul> </li> <li>\u8bb2\u4e00\u8bb2 client-server \u901a\u4fe1\u53cc\u65b9 API \u8c03\u7528\u8fc7\u7a0b\uff1f<ul> <li>\u670d\u52a1\u5668\u7aef API \u8c03\u7528\u8fc7\u7a0b</li> <li>\u5ba2\u6237\u7aef API \u8c03\u7528\u8fc7\u7a0b</li> </ul> </li> <li>\u963b\u585e IO\u3001\u975e\u963b\u585e IO \u6709\u4ec0\u4e48\u533a\u522b\uff1f\u600e\u4e48\u5224\u65ad\u5199\u6587\u4ef6\u65f6 Buffer \u5df2\u7ecf\u5199\u6ee1\uff1f<ul> <li>\u963b\u585e IO</li> <li>\u975e\u963b\u585e IO</li> </ul> </li> <li>\u540c\u6b65\u4e0e\u5f02\u6b65\u7684\u533a\u522b\uff0c\u963b\u585e\u4e0e\u975e\u963b\u585e\u7684\u533a\u522b\uff1f</li> <li>\u8bb2\u4e00\u8bb2 Rector \u6a21\u5f0f\u4e0e Proactor \u6a21\u5f0f\uff1f<ul> <li>Reator \u6a21\u5f0f</li> <li>Proactor \u6a21\u5f0f</li> </ul> </li> <li>\u5982\u4f55\u8c03\u8bd5\u670d\u52a1\u5668\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u7684\u95ee\u9898\uff1f</li> <li>Linux \u4e0b\u5982\u4f55\u67e5\u5230\u7aef\u53e3\u88ab\u54ea\u4e2a\u8fdb\u7a0b\u5360\u7528\uff1f</li> <li>Linux \u96f6\u62f7\u8d1d\u7684\u539f\u7406\uff1f</li> <li>LVS \u7684 NAT\u3001TUN\u3001DR \u539f\u7406\u53ca\u533a\u522b<ul> <li>NAT(\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u6a21\u5f0f)</li> <li>TUN(IP \u96a7\u9053\u6a21\u5f0f)</li> <li>DR(\u76f4\u63a5\u8def\u7531\u6a21\u5f0f)</li> <li>\u533a\u522b</li> </ul> </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_1","title":"\u8ba1\u7b97\u673a\u7cfb\u7edf\u57fa\u7840","text":""},{"location":"Operating%20System/OperatingSystem/#_2","title":"\u8bb2\u4e00\u8bb2\u4ec0\u4e48\u662f\u64cd\u4f5c\u7cfb\u7edf\uff1f","text":"<p>\u64cd\u4f5c\u7cfb\u7edf(Operating System, OS)  \u662f\u7ba1\u7406\u8ba1\u7b97\u673a\u786c\u4ef6\u548c\u8f6f\u4ef6\u8d44\u6e90\u3001\u7ed9\u5e94\u7528\u7a0b\u5e8f\u548c\u7528\u6237\u63d0\u4f9b\u5e95\u5c42\u62bd\u8c61\u7684\u4e00\u79cd\u7cfb\u7edf\u8f6f\u4ef6\u3002\u64cd\u4f5c\u7cfb\u7edf\u8d77\u5230\u4e86\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7684\u6838\u5fc3\u4f5c\u7528\uff0c\u5b83\u8d1f\u8d23\u534f\u8c03\u3001\u63a7\u5236\u548c\u7ba1\u7406\u8ba1\u7b97\u673a\u786c\u4ef6\u8bbe\u5907\u3001\u7cfb\u7edf\u8d44\u6e90\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u6267\u884c\u3002\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e3b\u8981\u529f\u80fd\u5982\u4e0b\uff1a</p> <ul> <li>\u786c\u4ef6\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u5404\u79cd\u786c\u4ef6\u8d44\u6e90\uff0c\u5305\u62ec\u5904\u7406\u5668\u3001\u5185\u5b58\u3001\u786c\u76d8\u3001\u663e\u793a\u5668\u3001\u8f93\u5165\u8bbe\u5907\u7b49\u3002\u901a\u8fc7\u7ba1\u7406\u8fd9\u4e9b\u786c\u4ef6\u8d44\u6e90\uff0c\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u9ad8\u6548\u5730\u5206\u914d\u548c\u4f7f\u7528\u8ba1\u7b97\u673a\u7684\u8ba1\u7b97\u80fd\u529b</li> <li>\u6587\u4ef6\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u7528\u4e8e\u7ec4\u7ec7\u3001\u5b58\u50a8\u548c\u7ba1\u7406\u7528\u6237\u7684\u6570\u636e\u6587\u4ef6\u3002\u6587\u4ef6\u7cfb\u7edf\u5141\u8bb8\u7528\u6237\u521b\u5efa\u3001\u5220\u9664\u3001\u8bfb\u53d6\u548c\u4fee\u6539\u6587\u4ef6\uff0c\u5e76\u63d0\u4f9b\u4e86\u6587\u4ef6\u4fdd\u62a4\u3001\u6743\u9650\u7ba1\u7406\u7b49\u529f\u80fd</li> <li>\u8fdb\u7a0b\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u8fd0\u884c\u5728\u8ba1\u7b97\u673a\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f(\u8fdb\u7a0b)\u3002\u5b83\u8d1f\u8d23\u8fdb\u7a0b\u7684\u521b\u5efa\u3001\u8c03\u5ea6\u3001\u7ec8\u6b62\u4ee5\u53ca\u8fdb\u7a0b\u95f4\u901a\u4fe1\u7b49\u529f\u80fd\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u8fdb\u7a0b\u7ba1\u7406\u6765\u4fdd\u8bc1\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u7a33\u5b9a\u8fd0\u884c\u548c\u8d44\u6e90\u7684\u516c\u5e73\u5206\u914d</li> <li>\u5185\u5b58\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u8ba1\u7b97\u673a\u7684\u4e3b\u5b58\u50a8\u5668(RAM)\u3002\u5185\u5b58\u7ba1\u7406\u5305\u62ec\u5185\u5b58\u5206\u914d\u3001\u56de\u6536\u3001\u865a\u62df\u5185\u5b58\u7ba1\u7406\u7b49\u529f\u80fd\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u6765\u786e\u4fdd\u7cfb\u7edf\u8d44\u6e90\u7684\u9ad8\u6548\u5229\u7528</li> <li>\u7cfb\u7edf\u5b89\u5168\u548c\u4fdd\u62a4\uff1a\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ef4\u62a4\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027\u3002\u5b83\u63d0\u4f9b\u4e86\u5404\u79cd\u5b89\u5168\u673a\u5236\uff0c\u5982\u7528\u6237\u8eab\u4efd\u9a8c\u8bc1\u3001\u6743\u9650\u7ba1\u7406\u3001\u9632\u6b62\u975e\u6cd5\u8bbf\u95ee\u7b49\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u8fd9\u4e9b\u673a\u5236\u6765\u4fdd\u62a4\u8ba1\u7b97\u673a\u7cfb\u7edf\u548c\u7528\u6237\u6570\u636e\u514d\u53d7\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee</li> <li>\u7528\u6237\u63a5\u53e3\uff1a\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u4e86\u7528\u6237\u4e0e\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e4b\u95f4\u7684\u4ea4\u4e92\u754c\u9762\u3002\u8fd9\u4e2a\u754c\u9762\u53ef\u4ee5\u662f\u56fe\u5f62\u7528\u6237\u754c\u9762(GUI)\u6216\u8005\u547d\u4ee4\u884c\u754c\u9762(CLI)\uff0c\u4f7f\u7528\u6237\u80fd\u591f\u65b9\u4fbf\u5730\u64cd\u4f5c\u8ba1\u7b97\u673a\u7cfb\u7edf</li> <li>\u7cfb\u7edf\u670d\u52a1\u548c\u5e94\u7528\u7a0b\u5e8f\u652f\u6301\uff1a\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u7cfb\u7edf\u670d\u52a1\u548c\u5e94\u7528\u7a0b\u5e8f\u652f\u6301\uff0c\u5305\u62ec\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u3001\u7cfb\u7edf\u5de5\u5177\u3001\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3(API)\u7b49\u3002\u8fd9\u4e9b\u670d\u52a1\u548c\u652f\u6301\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u66f4\u8f7b\u677e\u5730\u8bbf\u95ee\u8ba1\u7b97\u673a\u7684\u786c\u4ef6\u8d44\u6e90\u548c\u7cfb\u7edf\u529f\u80fd</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_3","title":"\u8bb2\u4e00\u8bb2\u51af\u8bfa\u4f9d\u66fc\u7ed3\u6784\uff1f","text":"<ul> <li>\u5b58\u50a8\u5668 </li> <li>\u4e2d\u592e\u5904\u7406\u5668 </li> <li>\u5185\u5b58 </li> <li>\u8f93\u5165\u8bbe\u5907 </li> <li>\u8f93\u51fa\u8bbe\u5907 </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_4","title":"\u8bb2\u4e00\u8bb2\u5916\u90e8\u4e2d\u65ad\u4e0e\u5f02\u5e38\uff1f","text":"<p>\u5916\u90e8\u4e2d\u65ad\u548c\u5f02\u5e38\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7528\u4e8e\u5904\u7406\u975e\u6b63\u5e38\u6216\u7279\u6b8a\u60c5\u51b5\u7684\u4e24\u79cd\u673a\u5236\u3002\u5b83\u4eec\u90fd\u4f1a\u5bfc\u81f4\u5904\u7406\u5668\u6682\u505c\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1\uff0c\u5e76\u8f6c\u5411\u6267\u884c\u4e00\u4e2a\u7279\u5b9a\u7684\u5904\u7406\u7a0b\u5e8f(\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u6216\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f)\u3002\u7136\u540e\u5728\u5904\u7406\u5b8c\u8fd9\u4e9b\u7279\u6b8a\u60c5\u51b5\u540e\uff0c\u5904\u7406\u5668\u4f1a\u8fd4\u56de\u5230\u88ab\u6253\u65ad\u7684\u4efb\u52a1\u7ee7\u7eed\u6267\u884c\u3002</p> <ul> <li>\u5916\u90e8\u4e2d\u65ad\uff1a\u5916\u90e8\u4e2d\u65ad\u662f\u7531\u8ba1\u7b97\u673a\u7cfb\u7edf\u5916\u90e8\u4e8b\u4ef6\u89e6\u53d1\u7684\uff0c\u901a\u5e38\u4e0e\u786c\u4ef6\u8bbe\u5907\u76f8\u5173\u3002\u5916\u90e8\u4e2d\u65ad\u7684\u76ee\u7684\u662f\u901a\u77e5\u5904\u7406\u5668\u67d0\u4e2a\u5916\u90e8\u8bbe\u5907\u9700\u8981\u5904\u7406\u5668\u7684\u6ce8\u610f\uff0c\u4f8b\u5982\u8bbe\u5907\u9700\u8981\u4f20\u8f93\u6570\u636e\u3001\u8bbe\u5907\u53d1\u751f\u9519\u8bef\u7b49\u3002\u5e38\u89c1\u7684\u5916\u90e8\u4e2d\u65ad\u6765\u6e90\u5305\u62ec\uff1a</li> <li>\u8f93\u5165/\u8f93\u51fa\u8bbe\u5907\uff1a\u5982\u952e\u76d8\u3001\u9f20\u6807\u3001\u786c\u76d8\u7b49\u8bbe\u5907\u5728\u6570\u636e\u4f20\u8f93\u5b8c\u6210\u3001\u7f13\u51b2\u533a\u5df2\u6ee1\u6216\u53d1\u751f\u9519\u8bef\u65f6\u53d1\u51fa\u7684\u4e2d\u65ad</li> <li>\u8ba1\u65f6\u5668\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u8ba1\u65f6\u5668\u4ea7\u751f\u5b9a\u65f6\u4e2d\u65ad\uff0c\u7528\u4e8e\u5b9e\u73b0\u65f6\u95f4\u7247\u8f6e\u8f6c\u7b49\u8c03\u5ea6\u7b56\u7565</li> <li>\u7535\u6e90\u7ba1\u7406\uff1a\u4f8b\u5982\u5904\u7406\u5668\u9700\u8981\u8fdb\u5165\u4f4e\u529f\u8017\u6a21\u5f0f\u65f6\u53d1\u51fa\u7684\u4e2d\u65ad</li> <li>\u5f02\u5e38\uff1a\u5f02\u5e38\u662f\u7531\u8ba1\u7b97\u673a\u7cfb\u7edf\u5185\u90e8\u4e8b\u4ef6\u89e6\u53d1\u7684\uff0c\u901a\u5e38\u4e0e\u6b63\u5728\u6267\u884c\u7684\u7a0b\u5e8f\u6216\u6307\u4ee4\u6709\u5173\u3002\u5f02\u5e38\u7684\u76ee\u7684\u662f\u901a\u77e5\u5904\u7406\u5668\u67d0\u4e2a\u6307\u4ee4\u65e0\u6cd5\u6b63\u5e38\u6267\u884c\uff0c\u9700\u8981\u91c7\u53d6\u7279\u6b8a\u5904\u7406\u3002\u5e38\u89c1\u7684\u5f02\u5e38\u5305\u62ec\uff1a</li> <li>\u7b97\u672f\u5f02\u5e38\uff1a\u5982\u9664\u4ee5\u96f6\u3001\u6ea2\u51fa\u7b49</li> <li>\u5730\u5740\u5f02\u5e38\uff1a\u5982\u975e\u6cd5\u5185\u5b58\u8bbf\u95ee\u3001\u9875\u9762\u9519\u8bef\u7b49</li> <li>\u7cfb\u7edf\u8c03\u7528\uff1a\u7a0b\u5e8f\u8bf7\u6c42\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u670d\u52a1\u65f6\u89e6\u53d1\u7684\u5f02\u5e38</li> <li>\u4fdd\u62a4\u5f02\u5e38\uff1a\u5982\u7a0b\u5e8f\u8bd5\u56fe\u8bbf\u95ee\u53d7\u4fdd\u62a4\u7684\u8d44\u6e90\u6216\u6267\u884c\u975e\u6cd5\u64cd\u4f5c\u65f6\u89e6\u53d1\u7684\u5f02\u5e38</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#cpu","title":"CPU \u5730\u5740\u7ffb\u8bd1\u662f\u600e\u6837\u5b9e\u73b0\u7684\uff1f","text":"<p>CPU \u5730\u5740\u7ffb\u8bd1\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u5c06 \u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740 \u7684\u8fc7\u7a0b\u3002\u5730\u5740\u7ffb\u8bd1\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5b9e\u73b0\u865a\u62df\u5185\u5b58\uff0c\u8ba9\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u81f4\u7684\u3001\u8fde\u7eed\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u7b80\u5316\u7f16\u7a0b\u548c\u5185\u5b58\u7ba1\u7406\u3002\u865a\u62df\u5185\u5b58\u5230\u7269\u7406\u5185\u5b58\u7684\u6620\u5c04\u65b9\u5f0f\u6709\u4e24\u79cd\uff0c\u5206\u9875\u4e0e\u5206\u6bb5\uff0c\u73b0\u5728\u5927\u90e8\u5206\u64cd\u4f5c\u7cfb\u7edf\u90fd\u662f\u5206\u9875\u7cfb\u7edf\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_5","title":"\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b","text":"<p>\u5728\u5206\u9875\u7cfb\u7edf\u4e2d\uff0c\u865a\u62df\u5730\u5740\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a \u865a\u62df\u9875\u53f7(Virtual Page Number, VPN)\u548c\u9875\u5185\u504f\u79fb(Offset)\u3002VPN \u7528\u4e8e\u6807\u8bc6\u865a\u62df\u5185\u5b58\u4e2d\u7684\u4e00\u4e2a\u9875\uff0cOffset \u8868\u793a\u5728\u8fd9\u4e2a\u9875\u4e2d\u7684\u4f4d\u7f6e\u3002\u5730\u5740\u7ffb\u8bd1\u7684\u8fc7\u7a0b\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u4ece\u865a\u62df\u5730\u5740\u4e2d\u63d0\u53d6 VPN \u548c Offset</li> <li>\u4f7f\u7528  \u9875\u8868(Page Table)  \u5c06 VPN \u8f6c\u6362\u4e3a  \u7269\u7406\u9875\u6846\u53f7(Physical Frame Number, PFN)\u3002\u9875\u8868\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ef4\u62a4\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u8bb0\u5f55\u865a\u62df\u9875\u5230\u7269\u7406\u9875\u6846\u7684\u6620\u5c04\u5173\u7cfb\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u4e2a\u72ec\u7acb\u7684\u9875\u8868</li> <li>\u5c06 PFN \u4e0e Offset \u7ec4\u5408\u6210\u7269\u7406\u5730\u5740</li> </ol>"},{"location":"Operating%20System/OperatingSystem/#_6","title":"\u9875\u8868\u67e5\u627e\u4e0e\u5730\u5740\u7ffb\u8bd1","text":"<p>\u9875\u8868\u67e5\u627e\u662f\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u5173\u952e\u6b65\u9aa4\u3002\u5728\u7b80\u5355\u7684\u5355\u7ea7\u9875\u8868\u7cfb\u7edf\u4e2d\uff0c\u9875\u8868\u662f\u4e00\u4e2a\u7ebf\u6027\u6570\u7ec4\uff0c\u4f7f\u7528 VPN \u4f5c\u4e3a\u7d22\u5f15\u6765\u67e5\u627e\u5bf9\u5e94\u7684 PFN\u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u8f83\u5927\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u5355\u7ea7\u9875\u8868\u53ef\u80fd\u4f1a\u975e\u5e38\u5e9e\u5927\u5e76\u4e14\u6d6a\u8d39\u5185\u5b58\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c \u591a\u7ea7\u9875\u8868 \u88ab\u5f15\u5165\u3002\u5728\u591a\u7ea7\u9875\u8868\u7cfb\u7edf\u4e2d\uff0c\u9875\u8868\u88ab\u5212\u5206\u4e3a\u591a\u7ea7\u5c42\u6b21\u7ed3\u6784\u3002\u865a\u62df\u5730\u5740\u88ab\u5206\u4e3a\u591a\u4e2a\u90e8\u5206\uff0c\u6bcf\u4e2a\u90e8\u5206\u7528\u4e8e\u5728\u4e0d\u540c\u7ea7\u522b\u7684\u9875\u8868\u4e2d\u67e5\u627e\u3002\u6700\u540e\u4e00\u7ea7\u9875\u8868\u5305\u542b\u5b9e\u9645\u7684 PFN\u3002\u591a\u7ea7\u9875\u8868\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u5185\u5b58\u6d88\u8017\uff0c\u56e0\u4e3a\u53ea\u9700\u8981\u5206\u914d\u5b9e\u9645\u4f7f\u7528\u7684\u9875\u8868\u7a7a\u95f4\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#tlb","title":"\u9875\u8868\u7f13\u5b58(TLB)","text":"<p>\u7531\u4e8e\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b\u9700\u8981\u591a\u6b21\u8bbf\u95ee\u5185\u5b58\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u6027\u80fd\u5f00\u9500\u3002\u4e3a\u4e86\u52a0\u901f\u5730\u5740\u7ffb\u8bd1\uff0c\u73b0\u4ee3\u5904\u7406\u5668\u5f15\u5165\u4e86\u4e00\u79cd\u53eb\u505a  Translation Lookaside Buffer(TLB)  \u7684\u786c\u4ef6\u7f13\u5b58\u3002TLB \u7f13\u5b58\u4e86\u6700\u8fd1\u4f7f\u7528\u8fc7\u7684 VPN \u5230 PFN \u7684\u6620\u5c04\u5173\u7cfb\u3002\u5f53\u5904\u7406\u5668\u9700\u8981\u6267\u884c\u5730\u5740\u7ffb\u8bd1\u65f6\uff0c\u9996\u5148\u5728 TLB \u4e2d\u67e5\u627e\u3002\u5982\u679c\u627e\u5230\u4e86\u76f8\u5e94\u7684\u6620\u5c04\uff0c\u5c31\u4e0d\u9700\u8981\u518d\u8bbf\u95ee\u9875\u8868\uff0c\u4ece\u800c\u51cf\u5c11\u4e86\u5185\u5b58\u8bbf\u95ee\u6b21\u6570\u548c\u5730\u5740\u7ffb\u8bd1\u7684\u5ef6\u8fdf\u3002\u8fd9\u79cd\u60c5\u51b5\u79f0\u4e3a TLB \u547d\u4e2d\u3002\u5982\u679c TLB \u672a\u627e\u5230\u76f8\u5e94\u7684\u6620\u5c04(TLB \u672a\u547d\u4e2d)\uff0c\u5219\u9700\u8981\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\u8fdb\u884c\u5730\u5740\u7ffb\u8bd1\uff0c\u7136\u540e\u5c06\u65b0\u7684\u6620\u5c04\u52a0\u5165 TLB\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#cpu_1","title":"\u4ecb\u7ecd\u4e00\u4e0b\u73b0\u4ee3 CPU \u6307\u4ee4\u5468\u671f\u4e0e\u6307\u4ee4\u7c7b\u578b\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#_7","title":"\u6307\u4ee4\u5468\u671f","text":"<p>\u73b0\u4ee3 CPU \u7684\u6307\u4ee4\u5468\u671f\u662f\u6307  CPU \u6267\u884c\u4e00\u6761\u6307\u4ee4\u6240\u9700\u7684\u65f6\u95f4\u3002\u5728\u5904\u7406\u5668\u4e2d\uff0c\u6bcf\u6761\u6307\u4ee4\u90fd\u4f1a\u7ecf\u8fc7\u4e00\u7cfb\u5217\u9636\u6bb5\u6765\u5b8c\u6210\u5176\u6267\u884c\uff0c\u8fd9\u4e9b\u9636\u6bb5\u6784\u6210\u4e86\u6307\u4ee4\u6267\u884c\u7684\u6d41\u6c34\u7ebf(Pipeline)\u3002\u5178\u578b\u7684\u6d41\u6c34\u7ebf\u5305\u62ec\u4ee5\u4e0b\u9636\u6bb5\uff1a</p> <ul> <li>\u53d6\u6307(Fetch)\uff1a\u4ece\u5185\u5b58\u4e2d\u83b7\u53d6\u6307\u4ee4</li> <li>\u89e3\u7801(Decode)\uff1a\u5c06\u6307\u4ee4\u8f6c\u6362\u4e3a\u63a7\u5236\u4fe1\u53f7\u548c\u64cd\u4f5c\u6570</li> <li>\u6267\u884c(Execute)\uff1a\u6839\u636e\u6307\u4ee4\u7c7b\u578b\uff0c\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c</li> <li>\u8bbf\u5b58(Memory Access)\uff1a\u5982\u679c\u6307\u4ee4\u6d89\u53ca\u5230\u5185\u5b58\u64cd\u4f5c(\u5982\u52a0\u8f7d\u3001\u5b58\u50a8)\uff0c\u5219\u8bbf\u95ee\u5185\u5b58</li> <li>\u5199\u56de(Write Back)\uff1a\u5c06\u6267\u884c\u7ed3\u679c\u5199\u56de\u76ee\u6807\u5bc4\u5b58\u5668</li> </ul> <p>\u73b0\u4ee3 CPU \u901a\u5e38\u91c7\u7528\u591a\u7ea7\u6d41\u6c34\u7ebf\u8bbe\u8ba1\uff0c\u5141\u8bb8\u540c\u65f6\u5904\u7406\u591a\u6761\u6307\u4ee4\uff0c\u4ece\u800c\u63d0\u9ad8\u5904\u7406\u5668\u7684\u541e\u5410\u91cf\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_8","title":"\u6307\u4ee4\u7c7b\u578b","text":"<p>CPU \u652f\u6301\u591a\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u6307\u4ee4\uff0c\u8fd9\u4e9b\u6307\u4ee4\u53ef\u4ee5\u5927\u81f4\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> <ul> <li>\u7b97\u672f\u6307\u4ee4(Arithmetic Instructions)\uff1a\u6267\u884c\u57fa\u672c\u7684\u7b97\u672f\u8fd0\u7b97\uff0c\u5982\u52a0\u6cd5\u3001\u51cf\u6cd5\u3001\u4e58\u6cd5\u548c\u9664\u6cd5</li> <li>\u903b\u8f91\u6307\u4ee4(Logical Instructions)\uff1a\u6267\u884c\u903b\u8f91\u8fd0\u7b97\uff0c\u5982\u4e0e\u3001\u6216\u3001\u975e\u3001\u5f02\u6216\u7b49</li> <li>\u79fb\u4f4d\u6307\u4ee4(Shift Instructions)\uff1a\u5bf9\u6570\u636e\u8fdb\u884c\u4f4d\u79fb\u64cd\u4f5c\uff0c\u5982\u5de6\u79fb\u3001\u53f3\u79fb\u7b49</li> <li>\u63a7\u5236\u6d41\u6307\u4ee4(Control Flow Instructions)\uff1a\u7528\u4e8e\u6539\u53d8\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b\uff0c\u5305\u62ec\u8df3\u8f6c\u3001\u5206\u652f\u548c\u51fd\u6570\u8c03\u7528\u7b49</li> <li>\u6570\u636e\u4f20\u8f93\u6307\u4ee4(Data Transfer Instructions)\uff1a\u8d1f\u8d23\u5728\u5bc4\u5b58\u5668\u3001\u5185\u5b58\u548c I/O \u8bbe\u5907\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\uff0c\u5982\u52a0\u8f7d\u3001\u5b58\u50a8\u7b49</li> <li>\u7279\u6b8a\u6307\u4ee4(Special Instructions)\uff1a\u7528\u4e8e\u5904\u7406\u7279\u5b9a\u7684\u64cd\u4f5c\uff0c\u5982\u7cfb\u7edf\u8c03\u7528\u3001\u540c\u6b65\u539f\u8bed\u3001\u6d6e\u70b9\u8fd0\u7b97\u7b49</li> </ul> <p>\u4e0d\u540c\u7c7b\u578b\u7684\u6307\u4ee4\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684\u65f6\u95f4\uff0c\u8fd9\u53d6\u51b3\u4e8e\u5b83\u4eec\u6240\u9700\u7684\u6d41\u6c34\u7ebf\u9636\u6bb5\u548c\u64cd\u4f5c\u7684\u590d\u6742\u6027\u3002\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0c\u73b0\u4ee3 CPU \u901a\u5e38\u91c7\u7528\u5404\u79cd\u4f18\u5316\u6280\u672f\uff0c\u5982\u4e71\u5e8f\u6267\u884c\u3001\u5206\u652f\u9884\u6d4b\u7b49\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#tlb_1","title":"\u8bb2\u4e00\u8bb2 TLB\uff1f","text":"<p>Translation Lookaside Buffer(TLB)  \u662f\u4e00\u79cd\u786c\u4ef6\u9ad8\u901f\u7f13\u5b58\uff0c\u7528\u4e8e \u52a0\u901f\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u7ffb\u8bd1\u8fc7\u7a0b\u3002TLB \u4f4d\u4e8e CPU \u5185\u90e8\uff0c\u5b58\u50a8\u4e86\u6700\u8fd1\u4f7f\u7528\u8fc7\u7684\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u5173\u7cfb\u3002\u901a\u8fc7\u5c06\u5e38\u7528\u7684\u5730\u5740\u6620\u5c04\u5b58\u50a8\u5728 TLB \u4e2d\uff0cCPU \u53ef\u4ee5\u5feb\u901f\u67e5\u627e\u6620\u5c04\u5173\u7cfb\uff0c\u800c\u65e0\u9700\u6bcf\u6b21\u90fd\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_9","title":"\u7279\u70b9","text":"<ul> <li>\u5c0f\u5bb9\u91cf\uff1a\u4e0e\u7f13\u5b58\u76f8\u6bd4\uff0cTLB \u901a\u5e38\u5177\u6709 \u8f83\u5c0f\u7684\u5bb9\u91cf\u3002\u7531\u4e8e TLB \u9700\u8981\u5728\u6bcf\u6b21\u5730\u5740\u7ffb\u8bd1\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u67e5\u627e\uff0c\u56e0\u6b64\u5b83\u9700\u8981\u5177\u6709\u8f83\u4f4e\u7684\u8bbf\u95ee\u5ef6\u8fdf\u3002TLB \u7684\u5bb9\u91cf\u901a\u5e38\u5728\u6570\u5341\u5230\u6570\u767e\u6761\u6620\u5c04\u4e4b\u95f4</li> <li>\u5173\u8054\u6027\uff1aTLB  \u53ef\u4ee5\u662f\u5168\u76f8\u8054\u3001\u7ec4\u76f8\u8054\u6216\u76f4\u63a5\u6620\u5c04\u7684\u3002\u5728\u5168\u76f8\u8054 TLB \u4e2d\uff0c\u4efb\u4f55\u865a\u62df\u5730\u5740\u6620\u5c04\u90fd\u53ef\u4ee5\u653e\u5728 TLB \u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u7ec4\u76f8\u8054 TLB \u5c06 TLB \u5212\u5206\u4e3a\u591a\u4e2a\u7ec4\uff0c\u6bcf\u4e2a\u7ec4\u53ef\u4ee5\u5bb9\u7eb3\u4e00\u5b9a\u6570\u91cf\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u865a\u62df\u5730\u5740\u6620\u5c04\u6839\u636e\u7279\u5b9a\u7b56\u7565\u6620\u5c04\u5230\u4e00\u4e2a\u7ec4\u4e2d\u3002\u76f4\u63a5\u6620\u5c04 TLB \u4e2d\uff0c\u6bcf\u4e2a\u865a\u62df\u5730\u5740\u6620\u5c04\u56fa\u5b9a\u5730\u6620\u5c04\u5230\u4e00\u4e2a\u4f4d\u7f6e\u3002\u4e0d\u540c\u5173\u8054\u6027\u7684 TLB \u5177\u6709\u4e0d\u540c\u7684\u67e5\u627e\u901f\u5ea6\u3001\u5bb9\u91cf\u5229\u7528\u7387\u548c\u66ff\u6362\u7b56\u7565</li> <li>\u66ff\u6362\u7b56\u7565\uff1a\u5f53 TLB \u6ee1\u8f7d\u65f6\uff0c\u9700\u8981\u6839\u636e\u67d0\u79cd\u66ff\u6362\u7b56\u7565\u9009\u62e9\u4e00\u4e2a\u73b0\u6709\u7684\u6620\u5c04\u8fdb\u884c\u66ff\u6362\u3002\u5e38\u7528\u7684\u66ff\u6362\u7b56\u7565\u5305\u62ec  \u6700\u8fd1\u6700\u5c11\u4f7f\u7528(LRU)\u3001\u968f\u673a\u66ff\u6362(Random)  \u7b49</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_10","title":"\u5de5\u4f5c\u6d41\u7a0b","text":"<ul> <li>\u67e5\u627e\uff1a\u5f53 CPU \u9700\u8981\u8fdb\u884c\u5730\u5740\u7ffb\u8bd1\u65f6\uff0c\u9996\u5148\u5728 TLB \u4e2d\u67e5\u627e\u76f8\u5e94\u7684\u865a\u62df\u5730\u5740\u6620\u5c04\u3002\u5982\u679c\u627e\u5230\u4e86\u76f8\u5e94\u7684\u6620\u5c04(TLB \u547d\u4e2d)\uff0c\u5219\u4e0d\u9700\u8981\u8bbf\u95ee\u9875\u8868\uff0c\u76f4\u63a5\u4f7f\u7528 TLB \u4e2d\u7684\u7269\u7406\u5730\u5740</li> <li>\u672a\u547d\u4e2d\uff1a\u5982\u679c TLB \u672a\u627e\u5230\u76f8\u5e94\u7684\u6620\u5c04(TLB \u672a\u547d\u4e2d)\uff0c\u5219\u9700\u8981\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\u6765\u8fdb\u884c\u5730\u5740\u7ffb\u8bd1\u3002\u5730\u5740\u7ffb\u8bd1\u5b8c\u6210\u540e\uff0c\u5c06\u65b0\u7684\u6620\u5c04\u5173\u7cfb\u6dfb\u52a0\u5230 TLB \u4e2d\uff0c\u4ee5\u4fbf\u540e\u7eed\u8bbf\u95ee</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_11","title":"\u4ec0\u4e48\u662f\u5c40\u90e8\u6027\u539f\u7406\uff1f","text":"<p>\u5c40\u90e8\u6027\u539f\u7406(Locality of Reference)\uff0c\u53c8\u79f0\u4e3a\u5f15\u7528\u5c40\u90e8\u6027\uff0c\u662f\u6307 \u5728\u8ba1\u7b97\u673a\u7a0b\u5e8f\u7684\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u5185\u5b58\u8bbf\u95ee\u7684\u4e00\u79cd\u73b0\u8c61\u3002\u5c40\u90e8\u6027\u539f\u7406\u63cf\u8ff0\u4e86\u7a0b\u5e8f\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u5bf9\u5185\u5b58\u5730\u5740\u7684\u8bbf\u95ee\u503e\u5411\u4e8e\u96c6\u4e2d\u5728\u67d0\u4e2a\u8f83\u5c0f\u7684\u5730\u5740\u8303\u56f4\u5185\u3002\u5c40\u90e8\u6027\u539f\u7406\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u9ad8\u901f\u7f13\u5b58(Cache)\u3001TLB(Translation Lookaside Buffer)\u7b49\u6027\u80fd\u4f18\u5316\u6280\u672f\u7684\u57fa\u7840\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_12","title":"\u65f6\u95f4\u5c40\u90e8\u6027","text":"<p>\u65f6\u95f4\u5c40\u90e8\u6027\u662f\u6307 \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u88ab\u591a\u6b21\u8bbf\u95ee\u7684\u73b0\u8c61\u3002\u7a0b\u5e8f\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u67d0\u4e2a\u6570\u636e\u6216\u6307\u4ee4\u88ab\u8bbf\u95ee\u4e86\u4e00\u6b21\uff0c\u90a3\u4e48\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u5b83\u5f88\u53ef\u80fd\u4f1a\u88ab\u518d\u6b21\u8bbf\u95ee\u3002\u65f6\u95f4\u5c40\u90e8\u6027\u7684\u4e00\u4e2a\u5178\u578b\u4f8b\u5b50\u662f\u7a0b\u5e8f\u4e2d\u7684\u5faa\u73af\u7ed3\u6784\uff0c\u5faa\u73af\u4f53\u5185\u7684\u6307\u4ee4\u548c\u6570\u636e\u4f1a\u5728\u5faa\u73af\u8fc7\u7a0b\u4e2d\u88ab\u53cd\u590d\u8bbf\u95ee\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_13","title":"\u7a7a\u95f4\u5c40\u90e8\u6027","text":"<p>\u7a7a\u95f4\u5c40\u90e8\u6027\u662f\u6307 \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u7a0b\u5e8f\u8bbf\u95ee\u7684\u5185\u5b58\u5730\u5740\u503e\u5411\u4e8e\u96c6\u4e2d\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u7684\u73b0\u8c61\u3002\u5f53\u7a0b\u5e8f\u8bbf\u95ee\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u65f6\uff0c\u5b83\u5f88\u53ef\u80fd\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u8bbf\u95ee\u76f8\u90bb\u7684\u5185\u5b58\u5730\u5740\u3002\u7a7a\u95f4\u5c40\u90e8\u6027\u7684\u4e00\u4e2a\u5178\u578b\u4f8b\u5b50\u662f\u7a0b\u5e8f\u4e2d\u7684\u6570\u7ec4\u64cd\u4f5c\uff0c\u6570\u7ec4\u5143\u7d20\u5728\u5185\u5b58\u4e2d\u662f\u8fde\u7eed\u5b58\u50a8\u7684\uff0c\u8bbf\u95ee\u6570\u7ec4\u65f6\uff0c\u901a\u5e38\u4f1a\u987a\u5e8f\u5730\u8bbf\u95ee\u76f8\u90bb\u7684\u5143\u7d20\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_14","title":"\u8bb2\u4e00\u8bb2\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\uff0c\u4ed6\u4eec\u4e4b\u95f4\u600e\u4e48\u5207\u6362\u7684\uff1f","text":"<p>\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u4e86\u4fdd\u62a4\u7cfb\u7edf\u8d44\u6e90\u548c\u5b9e\u73b0\u6743\u9650\u63a7\u5236\u800c\u8bbe\u8ba1\u7684\u4e24\u79cd \u4e0d\u540c\u7684 CPU \u8fd0\u884c\u7ea7\u522b\u3002\u7528\u6237\u6001(User Mode)\u662f\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u6b63\u5e38\u72b6\u6001\uff0c\u800c\u5185\u6838\u6001(Kernel Mode)\u662f\u7cfb\u7edf\u5728\u6267\u884c\u5185\u6838\u4ee3\u7801\u6216\u54cd\u5e94\u7cfb\u7edf\u8c03\u7528\u65f6\u7684\u7279\u6743\u72b6\u6001\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_15","title":"\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\u7684\u533a\u522b","text":"<ul> <li>\u6743\u9650\uff1a\u5185\u6838\u6001\u5177\u6709\u6267\u884c\u6240\u6709\u6307\u4ee4\u548c\u8bbf\u95ee\u6240\u6709\u5185\u5b58\u7a7a\u95f4\u7684\u6743\u9650\uff0c\u800c\u7528\u6237\u6001\u5219\u53d7\u5230\u9650\u5236\uff0c\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u5185\u6838\u5730\u5740\u7a7a\u95f4\u6216\u6267\u884c\u7279\u6743\u6307\u4ee4</li> <li>\u4ee3\u7801\uff1a\u5185\u6838\u6001\u4e3b\u8981\u6267\u884c\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u6838\u4ee3\u7801\uff0c\u5982\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3001\u8bbe\u5907\u9a71\u52a8\u3001\u6587\u4ef6\u7cfb\u7edf\u7b49\u3002\u7528\u6237\u6001\u5219\u4e3b\u8981\u6267\u884c\u5e94\u7528\u7a0b\u5e8f\u7684\u4ee3\u7801</li> <li>\u8d44\u6e90\u8bbf\u95ee\uff1a\u5728\u7528\u6237\u6001\u4e0b\uff0c\u7a0b\u5e8f\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u53d7\u4fdd\u62a4\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u5982\u786c\u4ef6\u8bbe\u5907\u3001\u4e2d\u65ad\u3001\u5185\u6838\u6570\u636e\u7ed3\u6784\u7b49\u3002\u5728\u5185\u6838\u6001\u4e0b\uff0c\u7a0b\u5e8f\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e9b\u8d44\u6e90</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_16","title":"\u89e6\u53d1\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u4e4b\u95f4\u7684\u5207\u6362\u7684\u573a\u666f","text":"<ul> <li>\u7cfb\u7edf\u8c03\u7528\uff1a\u5f53\u7528\u6237\u7a0b\u5e8f \u9700\u8981\u8bf7\u6c42\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u670d\u52a1 \u65f6\uff0c\u4f1a\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u8fdb\u5165\u5185\u6838\u6001\u3002\u7cfb\u7edf\u8c03\u7528\u4f1a\u89e6\u53d1\u4e00\u4e2a\u7279\u6b8a\u7684\u4e2d\u65ad\uff0c\u5c06 CPU \u4ece\u7528\u6237\u6001\u5207\u6362\u5230\u5185\u6838\u6001\u3002\u5728\u5185\u6838\u6001\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u6267\u884c\u76f8\u5e94\u7684\u670d\u52a1\u4f8b\u7a0b\uff0c\u5b8c\u6210\u8bf7\u6c42\u540e\uff0c\u518d\u901a\u8fc7\u4e2d\u65ad\u8fd4\u56de\u6307\u4ee4\u5c06 CPU \u5207\u6362\u56de\u7528\u6237\u6001</li> <li>\u5f02\u5e38\uff1a\u5f53\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u4e2d  \u51fa\u73b0\u9519\u8bef\u6216\u5f02\u5e38\u60c5\u51b5(\u5982\u9664\u4ee5\u96f6\u3001\u975e\u6cd5\u6307\u4ee4\u3001\u7f3a\u9875\u7b49)  \u65f6\uff0cCPU \u4f1a\u81ea\u52a8\u5207\u6362\u5230\u5185\u6838\u6001\uff0c\u4ee5\u4fbf\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u5904\u7406\u8fd9\u4e9b\u5f02\u5e38</li> <li>\u4e2d\u65ad\uff1a \u5916\u90e8\u8bbe\u5907(\u5982\u952e\u76d8\u3001\u9f20\u6807\u3001\u786c\u76d8\u7b49)\u4ea7\u751f\u7684\u4e2d\u65ad\u4fe1\u53f7 \u4f1a\u4f7f CPU \u4ece\u7528\u6237\u6001\u5207\u6362\u5230\u5185\u6838\u6001\u3002\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5904\u7406\u8fd9\u4e9b\u4e2d\u65ad\uff0c\u6267\u884c\u76f8\u5e94\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\uff0c\u7136\u540e\u518d\u5c06 CPU \u5207\u6362\u56de\u7528\u6237\u6001</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_17","title":"\u5207\u6362\u8fc7\u7a0b","text":"<p>\u5207\u6362\u7684\u65f6\u5019\u4f1a \u5148\u4fdd\u5b58\u5904\u7406\u5668\u72b6\u6001\u4e0e\u9519\u8bef\u4fe1\u606f\u81f3\u72b6\u6001\u5bc4\u5b58\u5668\uff0c\u4e3b\u8981\u4fdd\u5b58 3 \u4e2a\u53d8\u91cf\uff1a \u5f02\u5e38\u89e6\u53d1\u7684\u6307\u4ee4\u5730\u5740 PC\u3001\u5f02\u5e38\u7684\u539f\u56e0\u3001\u5f53\u524d CPU \u7684\u6808\u6307\u9488 SP\u3002\u5f53\u53d1\u751f\u7528\u6237\u6001\u5230\u5185\u6838\u6001\u7684\u5207\u6362\u65f6\uff0cCPU \u4f1a\u5148\u83b7\u53d6\u5f02\u5e38\u5411\u91cf\u8868\uff0c\u7136\u540e\u6839\u636e\u5f02\u5e38\u7684\u539f\u56e0\u6765\u8c03\u7528\u76f8\u5e94\u7684\u5f02\u5e38\u5904\u7406\u51fd\u6570\u3002\u5f02\u5e38\u5904\u7406\u5b8c\u6210\u540e\uff0c\u4f1a\u6062\u590d\u5e94\u7528\u50a8\u84c4\u7684\u73b0\u573a\uff0c\u6062\u590d PC \u4e0e SP \u6307\u9488\uff0c\u5e76\u5207\u6362\u56de\u7528\u6237\u6001\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5176\u4e2d EL0 \u6307\u7684\u662f\u7528\u6237\u6001\uff0cEL1 \u6307\u7684\u662f\u5185\u6838\u6001\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#cpu_2","title":"\u8bb2\u4e00\u8bb2 CPU \u7f13\u5b58\uff1f","text":"<p>CPU \u7f13\u5b58(Cache)  \u662f\u4e00\u79cd\u4f4d\u4e8e CPU \u4e0e\u4e3b\u5185\u5b58(RAM)\u4e4b\u95f4\u7684\u9ad8\u901f\u5b58\u50a8\u5668\uff0c\u7528\u4e8e\u5b58\u50a8\u8fd1\u671f\u8bbf\u95ee\u8fc7\u7684\u6570\u636e\u548c\u6307\u4ee4\u3002CPU \u7f13\u5b58\u7684\u8bbe\u8ba1\u76ee\u7684\u662f\u4e3a\u4e86\u51cf\u5c11 CPU \u8bbf\u95ee\u4e3b\u5185\u5b58\u6240\u9700\u7684\u65f6\u95f4\uff0c\u63d0\u9ad8\u5904\u7406\u5668\u7684\u6027\u80fd\u3002\u56e0\u4e3a\u7f13\u5b58\u7684\u8bbf\u95ee\u901f\u5ea6\u6bd4\u4e3b\u5185\u5b58\u5feb\u5f97\u591a\uff0c\u6240\u4ee5\u5f53 CPU \u9700\u8981\u8bbf\u95ee\u67d0\u4e2a\u6570\u636e\u65f6\uff0c\u5982\u679c\u6570\u636e\u5df2\u7ecf\u5728\u7f13\u5b58\u4e2d\uff0c\u90a3\u4e48 CPU \u53ef\u4ee5\u66f4\u5feb\u5730\u83b7\u53d6\u5b83</p>"},{"location":"Operating%20System/OperatingSystem/#_18","title":"\u7c7b\u578b","text":"<ul> <li>L1 \u7f13\u5b58\uff1a\u53c8\u79f0\u4e00\u7ea7\u7f13\u5b58\uff0c\u5b83\u662f\u6700\u63a5\u8fd1 CPU \u7684\u7f13\u5b58\u5c42\u7ea7\u3002L1 \u7f13\u5b58\u901a\u5e38\u88ab\u5206\u4e3a\u4e24\u90e8\u5206\uff1a\u4e00\u90e8\u5206\u7528\u4e8e \u5b58\u50a8\u6570\u636e (L1 \u6570\u636e\u7f13\u5b58)\uff0c\u53e6\u4e00\u90e8\u5206\u7528\u4e8e \u5b58\u50a8\u6307\u4ee4 (L1 \u6307\u4ee4\u7f13\u5b58)\u3002L1 \u7f13\u5b58\u7684\u5bb9\u91cf\u76f8\u5bf9\u8f83\u5c0f(\u901a\u5e38\u4e3a\u51e0\u5341 KB)\uff0c\u4f46\u8bbf\u95ee \u901f\u5ea6\u6700\u5feb </li> <li>L2 \u7f13\u5b58\uff1a\u53c8\u79f0\u4e8c\u7ea7\u7f13\u5b58\uff0c\u4f4d\u4e8e L1 \u7f13\u5b58\u4e4b\u5916\uff0c\u4f46\u4ecd\u7136\u4f4d\u4e8e CPU \u82af\u7247\u5185\u90e8\u3002L2 \u7f13\u5b58\u7684\u5bb9\u91cf\u901a\u5e38\u6bd4 L1 \u7f13\u5b58\u5927\uff0c\u4f46\u8bbf\u95ee \u901f\u5ea6\u7565\u6162\u3002L2 \u7f13\u5b58\u901a\u5e38\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\u548c\u6307\u4ee4\uff0c\u4ee5\u63d0\u9ad8 CPU \u7684\u7f13\u5b58\u547d\u4e2d\u7387</li> <li>L3 \u7f13\u5b58\uff1a\u53c8\u79f0\u4e09\u7ea7\u7f13\u5b58\uff0c\u4f4d\u4e8e L2 \u7f13\u5b58\u4e4b\u5916\uff0c\u4f46\u4ecd\u5728 CPU \u82af\u7247\u5185\u90e8\u3002L3 \u7f13\u5b58\u7684\u5bb9\u91cf\u6bd4 L2 \u7f13\u5b58\u66f4\u5927\uff0c\u4f46\u8bbf\u95ee \u901f\u5ea6\u7565\u6162\u3002L3 \u7f13\u5b58\u901a\u5e38\u5728 \u591a\u6838\u5904\u7406\u5668\u4e2d\u5171\u4eab\uff0c\u7528\u4e8e\u5728\u4e0d\u540c\u6838\u4e4b\u95f4\u5171\u4eab\u6570\u636e\u548c\u964d\u4f4e\u8bbf\u95ee\u5185\u5b58\u7684\u5ef6\u8fdf</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_19","title":"\u7ec4\u7ec7\u65b9\u5f0f","text":"<ul> <li>\u76f4\u63a5\u6620\u5c04\uff1a\u6bcf\u4e2a\u4e3b\u5185\u5b58\u5757 \u53ea\u80fd\u6620\u5c04\u5230\u7f13\u5b58\u7684\u56fa\u5b9a\u4f4d\u7f6e\u3002\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u7f13\u5b58\u51b2\u7a81</li> <li>\u5168\u76f8\u8054\u6620\u5c04\uff1a\u6bcf\u4e2a\u4e3b\u5185\u5b58\u5757 \u53ef\u4ee5\u6620\u5c04\u5230\u7f13\u5b58\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u964d\u4f4e\u7f13\u5b58\u51b2\u7a81\u7684\u53ef\u80fd\u6027\uff0c\u4f46 \u5b9e\u73b0\u8d77\u6765\u8f83\u4e3a\u590d\u6742\uff0c\u540c\u65f6\u641c\u7d22\u7f13\u5b58\u7684\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162</li> <li>\u7ec4\u76f8\u8054\u6620\u5c04\uff1a\u8fd9\u662f\u76f4\u63a5\u6620\u5c04\u7f13\u5b58\u548c\u5168\u76f8\u8054\u6620\u5c04\u7f13\u5b58\u7684\u6298\u8877\u65b9\u6848\u3002\u7f13\u5b58\u88ab\u5212\u5206\u4e3a\u591a\u4e2a\u7ec4\uff0c\u6bcf\u4e2a\u4e3b\u5185\u5b58\u5757 \u53ef\u4ee5\u6620\u5c04\u5230\u7279\u5b9a\u7ec4\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u8fd9\u79cd\u65b9\u5f0f\u5728\u964d\u4f4e\u7f13\u5b58\u51b2\u7a81\u548c\u63d0\u9ad8\u67e5\u627e\u901f\u5ea6\u65b9\u9762\u90fd\u8868\u73b0\u5f97\u8f83\u597d</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_20","title":"\u7f13\u5b58\u66ff\u6362\u7b56\u7565","text":"<ul> <li>\u968f\u673a\u66ff\u6362\uff1a\u4ece\u7f13\u5b58\u4e2d\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u6761\u76ee\u8fdb\u884c\u66ff\u6362\u3002\u8fd9\u79cd\u7b56\u7565\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u9891\u7e41\u4f7f\u7528\u7684\u6570\u636e\u88ab\u66ff\u6362</li> <li>\u6700\u8fd1\u6700\u5c11\u4f7f\u7528(LRU)\uff1a\u66ff\u6362\u7f13\u5b58\u4e2d\u6700\u4e45\u672a\u4f7f\u7528\u7684\u6570\u636e\u6216\u6307\u4ee4\u3002\u8fd9\u79cd\u7b56\u7565\u4f9d\u8d56\u5c40\u90e8\u6027\u539f\u7406\uff0c\u8bd5\u56fe\u4fdd\u7559\u6700\u8fd1\u8bbf\u95ee\u8fc7\u7684\u6570\u636e\u3002\u5b9e\u73b0\u8d77\u6765\u76f8\u5bf9\u590d\u6742\uff0c\u4f46\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\u6027\u80fd\u8f83\u597d</li> <li>\u6700\u4e0d\u7ecf\u5e38\u4f7f\u7528(LFU)\uff1a\u66ff\u6362\u7f13\u5b58\u4e2d\u4f7f\u7528\u9891\u7387\u6700\u4f4e\u7684\u6570\u636e\u6216\u6307\u4ee4\u3002\u8fd9\u79cd\u7b56\u7565\u8bd5\u56fe\u4fdd\u7559\u8bbf\u95ee\u6b21\u6570\u8f83\u591a\u7684\u6570\u636e\uff0c\u4f46\u9700\u8981\u8ddf\u8e2a\u6bcf\u4e2a\u7f13\u5b58\u6761\u76ee\u7684\u8bbf\u95ee\u8ba1\u6570\uff0c\u5b9e\u73b0\u76f8\u5bf9\u590d\u6742</li> <li>\u5148\u8fdb\u5148\u51fa(FIFO)\uff1a\u66ff\u6362\u7f13\u5b58\u4e2d\u6700\u65e9\u8fdb\u5165\u7684\u6570\u636e\u6216\u6307\u4ee4\u3002\u8fd9\u79cd\u7b56\u7565\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u9891\u7e41\u4f7f\u7528\u7684\u6570\u636e\u88ab\u66ff\u6362</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#cpu-l1l2l3","title":"CPU L1\uff0cL2\uff0cL3 \u591a\u7ea7\u7f13\u5b58\u7684\u57fa\u672c\u4f5c\u7528\uff1f","text":"<ul> <li>L1 \u7f13\u5b58\uff1a L1 \u7f13\u5b58\u662f\u8ddd\u79bb CPU \u6700\u8fd1\u7684\u7f13\u5b58\u5c42\u7ea7\uff0c\u901a\u5e38\u4f4d\u4e8e CPU \u5185\u90e8\u3002\u5b83\u7684 \u8bbf\u95ee\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u4f46 \u5bb9\u91cf\u76f8\u5bf9\u8f83\u5c0f (\u901a\u5e38\u4e3a\u51e0\u5341 KB)\u3002L1 \u7f13\u5b58\u901a\u5e38\u88ab\u5206\u4e3a\u4e24\u90e8\u5206\uff1aL1 \u6570\u636e\u7f13\u5b58(\u7528\u4e8e\u5b58\u50a8\u6570\u636e)\u548c L1 \u6307\u4ee4\u7f13\u5b58(\u7528\u4e8e\u5b58\u50a8\u6307\u4ee4)\u3002L1 \u7f13\u5b58\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u51cf\u5c11 CPU \u8bbf\u95ee\u6570\u636e\u548c\u6307\u4ee4\u7684\u5ef6\u8fdf\uff0c\u4ece\u800c\u63d0\u9ad8\u5904\u7406\u901f\u5ea6</li> <li>L2 \u7f13\u5b58\uff1a L2 \u7f13\u5b58\u4f4d\u4e8e L1 \u7f13\u5b58\u4e4b\u5916\uff0c\u4f46\u4ecd\u5728 CPU \u82af\u7247\u5185\u90e8\u3002\u5b83\u7684\u8bbf\u95ee\u901f\u5ea6 \u7a0d\u6162\u4e8e L1 \u7f13\u5b58\uff0c\u4f46\u5bb9\u91cf\u901a\u5e38\u6bd4 L1 \u7f13\u5b58\u5927(\u901a\u5e38\u4e3a\u51e0\u767e KB \u81f3\u51e0 MB)\u3002L2 \u7f13\u5b58\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5728 L1 \u7f13\u5b58\u672a\u547d\u4e2d\u65f6\u63d0\u4f9b\u8f83\u5927\u7684\u6570\u636e\u548c\u6307\u4ee4\u7f13\u5b58\u7a7a\u95f4\uff0c\u4ece\u800c\u964d\u4f4e\u8bbf\u95ee\u4e3b\u5185\u5b58\u7684\u6b21\u6570\u548c\u5ef6\u8fdf</li> <li>L3 \u7f13\u5b58\uff1a L3 \u7f13\u5b58\u4f4d\u4e8e L2 \u7f13\u5b58\u4e4b\u5916\uff0c\u4f46\u4ecd\u5728 CPU \u82af\u7247\u5185\u90e8\u3002\u5b83\u7684\u8bbf\u95ee\u901f\u5ea6\u7565\u6162\u4e8e L2 \u7f13\u5b58\uff0c\u4f46\u5bb9\u91cf\u6bd4 L2 \u7f13\u5b58\u66f4\u5927(\u901a\u5e38\u4e3a\u51e0 MB \u81f3\u51e0\u5341 MB)\u3002\u5728\u591a\u6838\u5904\u7406\u5668\u4e2d\uff0cL3 \u7f13\u5b58\u901a\u5e38\u662f\u6240\u6709\u6838\u5fc3\u5171\u4eab\u7684\uff0c\u7528\u4e8e\u5728\u4e0d\u540c\u6838\u5fc3\u4e4b\u95f4\u5171\u4eab\u6570\u636e\uff0c\u51cf\u5c11\u8bbf\u95ee\u5185\u5b58\u7684\u5ef6\u8fdf\u3002L3 \u7f13\u5b58\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5728 L1 \u548c L2 \u7f13\u5b58\u672a\u547d\u4e2d\u65f6\uff0c\u63d0\u4f9b\u66f4\u5927\u7684\u6570\u636e\u548c\u6307\u4ee4\u7f13\u5b58\u7a7a\u95f4\uff0c\u8fdb\u4e00\u6b65\u964d\u4f4e\u8bbf\u95ee\u4e3b\u5185\u5b58\u7684\u6b21\u6570\u548c\u5ef6\u8fdf</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#cpu_3","title":"\u8bb2\u4e00\u8bb2 CPU \u7684\u7f13\u5b58\u4e00\u81f4\u6027\uff1f","text":"<p>CPU \u7f13\u5b58\u4e00\u81f4\u6027(Cache Coherence)  \u662f\u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u4e00\u79cd\u5173\u952e\u7684\u6280\u672f\uff0c\u5b83\u786e\u4fdd\u4e86\u5404\u4e2a\u6838\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002\u5728\u73b0\u4ee3\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\uff0c\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0c\u6bcf\u4e2a CPU \u6838\u5fc3\u90fd\u914d\u5907\u4e86\u4e00\u4e2a\u6216\u591a\u4e2a\u5c42\u6b21\u7684\u7f13\u5b58(\u5982 L1\u3001L2\u3001L3 \u7f13\u5b58)\uff0c\u7528\u4e8e\u5b58\u50a8\u4e34\u65f6\u6570\u636e\u3002\u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u95ee\u9898\u4e3b\u8981\u6d89\u53ca\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ul> <li>\u5199\u64cd\u4f5c\u7684\u4e00\u81f4\u6027\uff1a\u5f53\u4e00\u4e2a\u5904\u7406\u5668\u5bf9\u5185\u5b58\u4e2d\u7684\u67d0\u4e2a\u5730\u5740\u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u9700\u8981\u786e\u4fdd\u5176\u4ed6\u5904\u7406\u5668\u5bf9\u8be5\u5730\u5740\u7684\u8bbf\u95ee\u80fd\u591f\u770b\u5230\u8fd9\u6b21\u5199\u64cd\u4f5c\u7684\u7ed3\u679c\u3002\u5982\u679c\u591a\u4e2a\u5904\u7406\u5668\u540c\u65f6\u5bf9\u540c\u4e00\u4e2a\u5730\u5740\u8fdb\u884c\u5199\u64cd\u4f5c\uff0c\u9700\u8981\u786e\u4fdd\u5b83\u4eec\u7684\u64cd\u4f5c\u6709\u4e00\u4e2a\u660e\u786e\u7684\u987a\u5e8f</li> <li>\u4e8b\u52a1\u6027\uff1a\u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u9700\u8981\u6ee1\u8db3\u4e8b\u52a1\u6027\uff0c\u5373\u5bf9\u5185\u5b58\u7684\u64cd\u4f5c\u8981\u4e48\u5b8c\u5168\u6267\u884c\uff0c\u8981\u4e48\u5b8c\u5168\u4e0d\u6267\u884c\u3002\u8fd9\u53ef\u4ee5\u786e\u4fdd\u5728\u591a\u4e2a\u5904\u7406\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u4e0d\u4f1a\u4ea7\u751f\u9519\u8bef\u6216\u4e0d\u4e00\u81f4\u7684\u72b6\u6001</li> <li>\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\uff1a\u4e3a\u4e86\u4fdd\u6301\u7f13\u5b58\u4e00\u81f4\u6027\uff0c\u9700\u8981\u91c7\u7528\u4e00\u79cd\u534f\u8bae\u6765\u89c4\u5b9a\u5904\u7406\u5668\u5982\u4f55\u64cd\u4f5c\u7f13\u5b58\u3002\u5e38\u89c1\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a   1.  MSI \u534f\u8bae\uff1a Modified(\u4fee\u6539)\u3001Shared(\u5171\u4eab) \u548c Invalid(\u65e0\u6548)  \u4e09\u79cd\u72b6\u6001\u3002 MSI \u534f\u8bae\u662f\u4e00\u79cd\u7b80\u5316\u7248\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\uff0c\u4e0e MESI  \u534f\u8bae\u76f8\u6bd4\uff0c\u6027\u80fd\u8f83\u4f4e   2.  MESI \u534f\u8bae\uff1a Modified(\u4fee\u6539)\u3001Exclusive(\u72ec\u5360)\u3001Shared(\u5171\u4eab) \u548c Invalid(\u65e0\u6548)  \u56db\u79cd\u72b6\u6001\u3002MESI \u534f\u8bae\u901a\u8fc7\u5bf9\u7f13\u5b58\u884c\u8bbe\u7f6e\u8fd9\u56db\u79cd\u72b6\u6001\u6765\u7ef4\u62a4\u4e00\u81f4\u6027\u3002   3.  MOESI \u534f\u8bae\uff1a\u5728 MESI \u534f\u8bae\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u4e00\u4e2a  Owned(\u62e5\u6709)  \u72b6\u6001\uff0c\u7528\u4e8e\u4f18\u5316\u5171\u4eab\u6570\u636e\u7684\u5199\u56de\u64cd\u4f5c</li> <li>\u7f13\u5b58\u4e00\u81f4\u6027\u7684\u5b9e\u73b0\uff1a\u5b9e\u73b0\u7f13\u5b58\u4e00\u81f4\u6027\u9700\u8981\u5728\u786c\u4ef6\u5c42\u9762\u8fdb\u884c\u652f\u6301\u3002\u4f8b\u5982\uff0c\u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u901a\u5e38\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a \u603b\u7ebf\u55c5\u63a2\u5668(Bus Snooper)\uff0c\u7528\u4e8e\u76d1\u63a7\u5904\u7406\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u4ee5\u53ca\u4e00\u4e2a\u6216\u591a\u4e2a \u603b\u7ebf\u63a7\u5236\u5668(Bus Controller)\uff0c\u7528\u4e8e\u63a7\u5236\u6570\u636e\u5728\u5904\u7406\u5668\u4e4b\u95f4\u7684\u4f20\u8f93</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#mesi","title":"\u8bb2\u4e00\u8bb2\u7f13\u5b58\u4e00\u81f4\u6027\u4e2d\u7684 MESI \u534f\u8bae\uff1f","text":"<p>MESI \u534f\u8bae(Modified, Exclusive, Shared, Invalid)  \u662f\u4e00\u79cd\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\uff0c\u7528\u4e8e\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u7f13\u5b58\uff0c\u4ee5\u786e\u4fdd\u5728\u591a\u6838\u5904\u7406\u5668\u8bbf\u95ee\u540c\u4e00\u6570\u636e\u65f6\u7684\u4e00\u81f4\u6027\u3002MESI \u534f\u8bae\u901a\u8fc7\u56db\u79cd\u72b6\u6001\u6765\u8ddf\u8e2a\u7f13\u5b58\u884c(cache line)\u7684\u72b6\u6001\uff0c\u6bcf\u4e2a\u7f13\u5b58\u884c\u53ef\u4ee5\u5904\u4e8e\u4ee5\u4e0b\u56db\u79cd\u72b6\u6001\u4e4b\u4e00\uff1a</p> <ul> <li>Modified(\u4fee\u6539)\uff1a\u7f13\u5b58\u884c\u4e2d\u7684\u6570\u636e\u5df2\u7ecf\u88ab\u4fee\u6539\uff0c\u4e0e\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002\u5728\u6b64\u72b6\u6001\u4e0b\uff0c\u8be5\u5904\u7406\u5668\u6838\u5fc3\u8d1f\u8d23\u5c06\u6570\u636e\u5199\u56de\u4e3b\u5185\u5b58</li> <li>Exclusive(\u72ec\u5360)\uff1a\u7f13\u5b58\u884c\u4e2d\u7684\u6570\u636e\u4e0e\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4e00\u81f4\uff0c\u4e14\u6b64\u6570\u636e\u53ea\u5728\u5f53\u524d\u7f13\u5b58\u4e2d\u5b58\u5728\u3002\u8fd9\u610f\u5473\u7740\u5176\u4ed6\u5904\u7406\u5668\u6838\u5fc3\u7684\u7f13\u5b58\u4e2d\u4e0d\u5b58\u5728\u8be5\u6570\u636e</li> <li>Shared(\u5171\u4eab)\uff1a\u7f13\u5b58\u884c\u4e2d\u7684\u6570\u636e\u4e0e\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4e00\u81f4\uff0c\u4f46\u53ef\u80fd\u5728\u5176\u4ed6\u5904\u7406\u5668\u6838\u5fc3\u7684\u7f13\u5b58\u4e2d\u4e5f\u5b58\u5728\u3002\u6b64\u65f6\uff0c\u591a\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u90fd\u53ef\u4ee5\u8bfb\u53d6\u8be5\u6570\u636e</li> <li>Invalid(\u65e0\u6548)\uff1a\u7f13\u5b58\u884c\u4e2d\u7684\u6570\u636e\u662f\u65e0\u6548\u7684\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u5176\u4ed6\u5904\u7406\u5668\u6838\u5fc3\u4fee\u6539\u4e86\u6570\u636e\uff0c\u6216\u8005\u5f53\u524d\u5904\u7406\u5668\u6838\u5fc3\u5931\u53bb\u4e86\u5bf9\u8be5\u6570\u636e\u7684\u72ec\u5360\u6743\u9650</li> </ul> <p>MESI \u534f\u8bae\u901a\u8fc7\u76d1\u63a7\u5904\u7406\u5668\u6838\u5fc3\u7684\u8bfb\u5199\u64cd\u4f5c\u4ee5\u53ca\u8ddf\u8e2a\u5176\u4ed6\u6838\u5fc3\u7684\u64cd\u4f5c\u6765\u5b9e\u73b0\u7f13\u5b58\u4e00\u81f4\u6027\u3002\u5f53\u4e00\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u9700\u8981\u6267\u884c\u8bfb\u6216\u5199\u64cd\u4f5c\u65f6\uff0c\u5b83\u4f1a\u53d1\u9001\u8bf7\u6c42\u5230\u5176\u4ed6\u6838\u5fc3\uff0c\u4ee5\u4fbf\u6839\u636e\u5176\u4ed6\u6838\u5fc3\u7684\u7f13\u5b58\u72b6\u6001\u6765\u66f4\u65b0\u81ea\u5df1\u7684\u7f13\u5b58\u884c\u72b6\u6001\u3002\u4f8b\u5982\uff0c\u5f53\u4e00\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u9700\u8981\u4fee\u6539\u4e00\u4efd\u5171\u4eab\u6570\u636e\u65f6\uff0c\u5b83\u4f1a\u5411\u5176\u4ed6\u62e5\u6709\u8be5\u6570\u636e\u7684\u6838\u5fc3\u53d1\u51fa\u8bf7\u6c42\uff0c\u4f7f\u5176\u5c06\u7f13\u5b58\u884c\u72b6\u6001\u6807\u8bb0\u4e3a\u65e0\u6548\u3002\u8fd9\u6837\uff0c\u4fee\u6539\u540e\u7684\u6570\u636e\u53ea\u5b58\u5728\u4e8e\u4e00\u4e2a\u6838\u5fc3\u7684\u7f13\u5b58\u4e2d\uff0c\u786e\u4fdd\u4e86\u6570\u636e\u4e00\u81f4\u6027\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_21","title":"\u8bb2\u4e00\u8bb2\u4f2a\u5171\u4eab\u95ee\u9898\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#_22","title":"\u6982\u5ff5","text":"<p>\u4f2a\u5171\u4eab(False Sharing)  \u662f\u4e00\u4e2a\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5f53\u591a\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u9891\u7e41\u8bbf\u95ee\u4f4d\u4e8e\u540c\u4e00\u4e2a\u7f13\u5b58\u884c(cache line)\u5185\u7684\u4e0d\u540c\u6570\u636e\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u867d\u7136\u5904\u7406\u5668\u6838\u5fc3\u8bbf\u95ee\u7684\u6570\u636e\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u5171\u4eab\uff0c\u4f46\u7531\u4e8e\u5b83\u4eec\u4f4d\u4e8e\u76f8\u540c\u7684\u7f13\u5b58\u884c\u5185\uff0c\u4f1a\u5bfc\u81f4\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae(\u5982 MESI  \u534f\u8bae)\u8bef\u8ba4\u4e3a\u6570\u636e\u662f\u5171\u4eab\u7684\uff0c\u4ece\u800c\u89e6\u53d1\u4e0d\u5fc5\u8981\u7684\u7f13\u5b58\u540c\u6b65\u64cd\u4f5c\u3002</p> <p>\u4f2a\u5171\u4eab\u7684\u4ea7\u751f\u539f\u56e0\u662f \u7f13\u5b58\u884c\u7684\u8bbe\u8ba1\u3002\u5728\u5904\u7406\u5668\u4e2d\uff0c\u6570\u636e\u662f\u4ee5\u7f13\u5b58\u884c\u4e3a\u5355\u4f4d\u8fdb\u884c\u5b58\u53d6\u7684\uff0c\u800c\u7f13\u5b58\u884c\u4e00\u822c\u5927\u5c0f\u4e3a 64 \u5b57\u8282(\u53ef\u6839\u636e\u5904\u7406\u5668\u4e0d\u540c\u800c\u53d8\u5316)\u3002\u5f53\u4e24\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u8bbf\u95ee\u7684\u6570\u636e\u6070\u597d\u4f4d\u4e8e\u540c\u4e00\u4e2a\u7f13\u5b58\u884c\u5185\u65f6\uff0c\u5373\u4f7f\u5b83\u4eec\u8bbf\u95ee\u7684\u662f\u4e0d\u540c\u7684\u53d8\u91cf\uff0c\u4e5f\u4f1a\u5bfc\u81f4\u4f2a\u5171\u4eab\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_23","title":"\u5bfc\u81f4\u7684\u95ee\u9898","text":"<ul> <li>\u6027\u80fd\u4e0b\u964d\uff1a\u7531\u4e8e\u9891\u7e41\u7684\u7f13\u5b58\u540c\u6b65\u64cd\u4f5c\uff0c\u5904\u7406\u5668\u6838\u5fc3\u9700\u8981\u7b49\u5f85\u6570\u636e\u5728\u5404\u4e2a\u7f13\u5b58\u95f4\u4f20\u8f93\uff0c\u4ece\u800c\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d</li> <li>\u589e\u52a0\u603b\u7ebf\u6d41\u91cf\uff1a\u5904\u7406\u5668\u6838\u5fc3\u4e4b\u95f4\u9700\u8981\u901a\u8fc7\u603b\u7ebf\u8fdb\u884c\u901a\u4fe1\uff0c\u4ee5\u7ef4\u62a4\u7f13\u5b58\u4e00\u81f4\u6027\u3002\u4f2a\u5171\u4eab\u4f1a\u5bfc\u81f4\u66f4\u591a\u7684\u901a\u4fe1\u5f00\u9500\uff0c\u589e\u52a0\u603b\u7ebf\u6d41\u91cf</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_24","title":"\u89e3\u51b3\u529e\u6cd5","text":"<ul> <li>\u6570\u636e\u5bf9\u9f50\u4e0e\u586b\u5145\uff1a\u901a\u8fc7\u5bf9\u9f50\u6570\u636e\u7ed3\u6784\u6216\u5728\u6570\u636e\u7ed3\u6784\u4e4b\u95f4\u6dfb\u52a0\u586b\u5145\uff0c\u4f7f\u5f97\u4e0d\u540c\u5904\u7406\u5668\u6838\u5fc3\u8bbf\u95ee\u7684\u6570\u636e\u4f4d\u4e8e\u4e0d\u540c\u7684\u7f13\u5b58\u884c\u5185</li> <li>\u4f18\u5316\u6570\u636e\u5e03\u5c40\uff1a\u5c3d\u91cf\u4f7f\u540c\u4e00\u4e2a\u7f13\u5b58\u884c\u5185\u7684\u6570\u636e\u662f\u7531\u540c\u4e00\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u9891\u7e41\u8bbf\u95ee\u7684\uff0c\u907f\u514d\u8de8\u6838\u8bbf\u95ee</li> <li>\u964d\u4f4e\u5171\u4eab\u6570\u636e\u7684\u4f7f\u7528\uff1a\u5c3d\u91cf\u51cf\u5c11\u5171\u4eab\u6570\u636e\uff0c\u6216\u5c06\u5171\u4eab\u6570\u636e\u7684\u8bbf\u95ee\u9891\u7387\u964d\u4f4e\uff0c\u4ee5\u964d\u4f4e\u4f2a\u5171\u4eab\u7684\u53ef\u80fd\u6027</li> <li>\u4f7f\u7528\u65e0\u9501\u6570\u636e\u7ed3\u6784\uff1a\u65e0\u9501\u6570\u636e\u7ed3\u6784\u80fd\u591f\u51cf\u5c11\u5bf9\u5171\u4eab\u6570\u636e\u7684\u4e89\u7528\uff0c\u4ece\u800c\u964d\u4f4e\u4f2a\u5171\u4eab\u95ee\u9898\u7684\u5f71\u54cd</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_25","title":"\u7a0b\u5e8f\u6267\u884c\u7684\u57fa\u672c\u8fc7\u7a0b\uff1f","text":"<p>\u7a0b\u5e8f\u6267\u884c\u7684\u57fa\u672c\u8fc7\u7a0b\u6d89\u53ca\u7a0b\u5e8f\u4ece\u6e90\u4ee3\u7801\u5230\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u8f6c\u6362\uff0c\u4ee5\u53ca\u5728\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7684\u5b9e\u9645\u6267\u884c\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5316\u7684\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\uff1a</p> <ul> <li>\u7f16\u5199\u6e90\u4ee3\u7801\uff1a\u7a0b\u5e8f\u5458\u4f7f\u7528\u67d0\u79cd\u7f16\u7a0b\u8bed\u8a00(\u5982 C\u3001Java \u6216 Python \u7b49)\u7f16\u5199\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801\u3002\u6e90\u4ee3\u7801\u662f\u4eba\u7c7b\u53ef\u8bfb\u7684\u6587\u672c\u5f62\u5f0f\uff0c\u5305\u542b\u4e86\u7a0b\u5e8f\u7684\u903b\u8f91\u548c\u63a7\u5236\u7ed3\u6784</li> <li>\u7f16\u8bd1/\u89e3\u91ca\uff1a</li> <li>\u5bf9\u4e8e \u7f16\u8bd1\u578b\u8bed\u8a00 (\u5982 C\u3001C++ \u7b49)\uff1a\u6e90\u4ee3\u7801\u9700\u8981\u7ecf\u8fc7\u7f16\u8bd1\u5668\u5c06\u5176\u7f16\u8bd1\u6210\u76ee\u6807\u4ee3\u7801(\u901a\u5e38\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6)\uff0c\u79f0\u4e3a\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5305\u62ec\u9884\u5904\u7406\u3001\u7f16\u8bd1\u3001\u6c47\u7f16\u548c\u94fe\u63a5\u7b49\u6b65\u9aa4\u3002</li> <li>\u5bf9\u4e8e \u89e3\u91ca\u578b\u8bed\u8a00 (\u5982 Python\u3001JavaScript \u7b49)\uff1a\u6e90\u4ee3\u7801\u901a\u5e38\u4e0d\u9700\u8981\u4e8b\u5148\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u800c\u662f\u5728\u8fd0\u884c\u65f6\u7531\u89e3\u91ca\u5668\u9010\u884c\u89e3\u91ca\u5e76\u6267\u884c\u3002</li> <li>\u52a0\u8f7d\uff1a\u5f53\u53ef\u6267\u884c\u7a0b\u5e8f\u51c6\u5907\u597d\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u5c06\u5176\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u6d89\u53ca\u5206\u914d\u5185\u5b58\u3001\u52a0\u8f7d\u4ee3\u7801\u548c\u6570\u636e\u7b49</li> <li>\u6267\u884c\uff1a\u5904\u7406\u5668\u6309\u7167\u7a0b\u5e8f\u6307\u4ee4\u987a\u5e8f\u6267\u884c\u7a0b\u5e8f</li> <li>\u7cfb\u7edf\u8c03\u7528\u4e0e\u5e93\u51fd\u6570\uff1a\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u9700\u8981\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u6216\u5176\u4ed6\u5e93\u8fdb\u884c\u4ea4\u4e92\u3002\u8fd9\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u53d1\u8d77\u7cfb\u7edf\u8c03\u7528\u6216\u8c03\u7528\u5e93\u51fd\u6570\u6765\u5b8c\u6210\u7279\u5b9a\u4efb\u52a1\uff0c\u5982\u6587\u4ef6\u8bfb\u5199\u3001\u5185\u5b58\u7ba1\u7406\u3001\u7f51\u7edc\u901a\u4fe1\u7b49</li> <li>\u7ed3\u675f\uff1a\u5f53\u7a0b\u5e8f\u6267\u884c\u5b8c\u6bd5\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u56de\u6536\u7a0b\u5e8f\u5360\u7528\u7684\u8d44\u6e90\uff0c\u5982\u5185\u5b58\u3001\u6587\u4ef6\u53e5\u67c4\u7b49\uff0c\u5e76\u5c06\u7a0b\u5e8f\u9000\u51fa\u72b6\u6001\u8fd4\u56de\u7ed9\u7528\u6237</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#linux","title":"\u5e38\u7528\u7684 Linux \u547d\u4ee4\uff1f","text":"<ul> <li>find\uff1a\u67e5\u627e\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84</li> <li>pwd\uff1a\u663e\u793a\u5f53\u524d\u6240\u5728\u8def\u5f84</li> <li>ls\uff1a\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u6240\u6709\u5b50\u76ee\u5f55\u4e0e\u6587\u4ef6</li> <li>cd\uff1a\u5207\u6362\u5de5\u4f5c\u76ee\u5f55</li> <li>man\uff1a\u67e5\u770b\u5e2e\u52a9\u624b\u518c</li> <li>grep\uff1a\u67e5\u627e\u6587\u4ef6\u6216\u5176\u4ed6\u5185\u5bb9\u91cc\u7b26\u5408\u6761\u4ef6\u7684\u5b57\u7b26\u4e32</li> <li>chmod\uff1a\u63a7\u5236\u7528\u6237\u5bf9\u6587\u4ef6\u7684\u6743\u9650\u7684\u547d\u4ee4</li> <li>ps\uff1a\u5217\u51fa\u7cfb\u7edf\u4e2d\u5f53\u524d\u8fd0\u884c\u7684\u8fdb\u7a0b</li> <li>kill\uff1a\u5411\u6267\u884c\u4e2d\u8fdb\u7a0b\u53d1\u51fa\u4fe1\u53f7</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#linux_1","title":"Linux \u9875\u5927\u5c0f\u662f\u591a\u5c11\uff1f","text":"<p>Linux \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u9875\u5927\u5c0f\u53ef\u80fd\u56e0\u7cfb\u7edf\u548c\u786c\u4ef6\u67b6\u6784\u800c\u5f02\u3002\u5728\u8bb8\u591a\u7cfb\u7edf\u4e0a\uff0c\u9875\u5927\u5c0f\u901a\u5e38\u4e3a  4KB(4096\u5b57\u8282)\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u9875\u5927\u5c0f\uff1a Bash<pre><code>getconf PAGE_SIZE\n</code></pre></p>"},{"location":"Operating%20System/OperatingSystem/#linux-cpu","title":"Linux \u4e0b\u5982\u4f55\u67e5\u770b CPU \u8377\u8f7d\uff0c\u6b63\u5728\u8fd0\u884c\u7684\u7ebf\u7a0b\uff0c\u67d0\u4e2a\u7aef\u53e3\u5bf9\u5e94\u7684\u8fdb\u7a0b\uff1f","text":"<ul> <li>\u67e5\u770b CPU \u8377\u8f7d\uff1a\u4f7f\u7528  top \u547d\u4ee4 \u6765\u67e5\u770b\u5b9e\u65f6\u7684\u7cfb\u7edf\u72b6\u6001\uff0c\u5305\u62ec CPU \u8d1f\u8f7d\u3001\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u7b49\uff1b\u4f7f\u7528  uptime \u547d\u4ee4 \u67e5\u770b\u7cfb\u7edf\u8fd0\u884c\u65f6\u95f4\u548c\u5e73\u5747\u8d1f\u8f7d</li> <li>\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b\uff1a\u4f7f\u7528  ps \u547d\u4ee4 \u6765\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u4e2d\u6b63\u5728\u8fd0\u884c\u7684\u7ebf\u7a0b\u3002\u8981\u67e5\u770b\u6240\u6709\u7ebf\u7a0b(\u5305\u62ec\u5176\u4ed6\u7528\u6237\u7684\u7ebf\u7a0b)\uff0c\u4f7f\u7528  ps -eLf \u547d\u4ee4 </li> <li>\u67e5\u770b\u67d0\u4e2a\u7aef\u53e3\u5bf9\u5e94\u7684\u8fdb\u7a0b\uff1a\u53ef\u4ee5 \u4f7f\u7528 netstat \u6216 lsof \u547d\u4ee4 </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#linux-cpu_1","title":"Linux \u4e0b\u5982\u4f55\u6392\u67e5 CPU \u4ee5\u53ca\u5185\u5b58\u5360\u7528\u8fc7\u591a\uff1f","text":"<ul> <li>top\uff1a\u4f7f\u7528 top \u547d\u4ee4\u53ef\u4ee5\u5b9e\u65f6\u67e5\u770b\u7cfb\u7edf\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u5305\u62ec CPU \u548c\u5185\u5b58\u5360\u7528\u3002\u5728 top \u754c\u9762\u4e2d\uff0c\u8fdb\u7a0b\u4f1a\u6309\u7167 CPU \u5360\u7528\u7387\u8fdb\u884c\u6392\u5e8f\uff0c\u53ef\u4ee5\u89c2\u5bdf\u54ea\u4e9b\u8fdb\u7a0b\u5360\u7528\u4e86\u8f83\u591a\u7684 CPU \u548c\u5185\u5b58\u8d44\u6e90</li> <li>htop\uff1ahtop \u662f top \u547d\u4ee4\u7684\u4e00\u4e2a\u589e\u5f3a\u7248\uff0c\u63d0\u4f9b\u4e86\u66f4\u4e30\u5bcc\u7684\u89c6\u56fe\u548c\u66f4\u591a\u7684\u4ea4\u4e92\u529f\u80fd\u3002htop \u4f1a\u663e\u793a\u8d44\u6e90\u5360\u7528\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7528 F \u952e\u8fdb\u884c\u6392\u5e8f\u3001\u7b5b\u9009\u548c\u641c\u7d22</li> <li>ps\uff1a\u4f7f\u7528 ps \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u8fd0\u884c\u7684\u8fdb\u7a0b\u3002\u8981\u6309 CPU \u6216\u5185\u5b58\u5360\u7528\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u6392\u5e8f</li> <li>free\uff1a\u4f7f\u7528 free \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u7cfb\u7edf\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5</li> <li>vmstat\uff1avmstat \u547d\u4ee4\u63d0\u4f9b\u6709\u5173\u865a\u62df\u5185\u5b58\u3001\u8fdb\u7a0b\u3001CPU \u6d3b\u52a8\u7b49\u7684\u62a5\u544a</li> </ul> <p>\u5f53\u627e\u5230\u5360\u7528\u5927\u91cf CPU \u6216\u5185\u5b58\u8d44\u6e90\u7684\u8fdb\u7a0b\u65f6\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u60c5\u51b5\u4f18\u5316\u7a0b\u5e8f\u4ee3\u7801\u3001\u8c03\u6574\u8fdb\u7a0b\u4f18\u5148\u7ea7\u3001\u9650\u5236\u8d44\u6e90\u4f7f\u7528\u6216\u6740\u6b7b\u8fdb\u7a0b\u3002\u8981\u6740\u6b7b\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u4f7f\u7528  kill \u6216 pkill \u547d\u4ee4\uff0c kill \u8fdb\u7a0b ID  \u6216  pkill \u8fdb\u7a0b\u540d\u79f0 </p>"},{"location":"Operating%20System/OperatingSystem/#linux_2","title":"Linux \u5982\u4f55\u67e5\u770b\u5b9e\u65f6\u7684\u6eda\u52a8\u65e5\u5fd7\uff1f","text":"<p>\u4f7f\u7528  tail \u547d\u4ee4 \u67e5\u770b\u5b9e\u65f6\u7684\u6eda\u52a8\u65e5\u5fd7\u3002tail \u547d\u4ee4\u53ef\u4ee5\u663e\u793a\u6587\u4ef6\u7684\u6700\u540e\u90e8\u5206\uff0c-f \u9009\u9879\u4f7f\u547d\u4ee4\u6301\u7eed\u8f93\u51fa\u6587\u4ef6\u7684\u65b0\u589e\u5185\u5bb9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5b9e\u65f6\u67e5\u770b\u6eda\u52a8\u65e5\u5fd7\u3002\u5047\u8bbe\u60f3\u67e5\u770b\u540d\u4e3a /var/log/mylogfile.log \u7684\u65e5\u5fd7\u6587\u4ef6\uff1a Bash<pre><code>tail -f /var/log/mylogfile.log\n</code></pre> \u5f53\u6587\u4ef6\u5185\u5bb9\u53d1\u751f\u66f4\u6539\u65f6\uff0c\u65b0\u7684\u65e5\u5fd7\u884c\u5c06\u81ea\u52a8\u663e\u793a\u5728\u7ec8\u7aef\u4e0a\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#traceroute","title":"traceroute \u547d\u4ee4\u7684\u539f\u7406\uff1f","text":"<p>traceroute \u662f\u4e00\u4e2a\u7f51\u7edc\u8bca\u65ad\u5de5\u5177\uff0c\u7528\u4e8e\u8ddf\u8e2a\u6570\u636e\u5305\u5728 IP \u7f51\u7edc\u4e2d\u4ece\u6e90\u4e3b\u673a\u5230\u76ee\u6807\u4e3b\u673a\u7684\u8def\u5f84\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u8bc6\u522b\u548c\u5b9a\u4f4d\u7f51\u7edc\u5ef6\u8fdf\u548c\u95ee\u9898\u7684\u6765\u6e90\u3002traceroute \u7684\u539f\u7406\u57fa\u4e8e IP \u534f\u8bae\u4e2d\u7684\u201c\u751f\u5b58\u65f6\u95f4\u201d(TTL)\u5b57\u6bb5\u3002</p> <p>TTL(Time to Live)\u662f IP \u5305\u5934\u4e2d\u7684\u4e00\u4e2a\u5b57\u6bb5\uff0c\u8868\u793a\u6570\u636e\u5305\u5728\u7f51\u7edc\u4e2d\u5141\u8bb8\u7ecf\u8fc7\u7684\u6700\u5927\u8df3\u6570(\u8def\u7531\u5668)\u3002\u6bcf\u5f53\u6570\u636e\u5305\u7ecf\u8fc7\u4e00\u4e2a\u8def\u7531\u5668\u65f6\uff0cTTL \u503c\u51cf 1\u3002\u5f53 TTL \u503c\u53d8\u4e3a 0 \u65f6\uff0c\u8def\u7531\u5668\u5c06\u4e22\u5f03\u8be5\u6570\u636e\u5305\uff0c\u5e76\u5411\u6e90\u4e3b\u673a\u53d1\u9001\u4e00\u6761  ICMP \u201c\u8d85\u65f6\u201d(Time Exceeded)\u6d88\u606f\u3002</p> <p>traceroute \u901a\u8fc7\u53d1\u9001\u4e00\u7cfb\u5217\u6570\u636e\u5305\u6765\u5de5\u4f5c\uff0c\u8fd9\u4e9b\u6570\u636e\u5305\u5177\u6709\u9010\u6e10\u589e\u52a0\u7684 TTL \u503c\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6570\u636e\u5305\uff0c\u5f53 TTL \u503c\u8017\u5c3d\u65f6\uff0c\u6cbf\u9014\u7684\u8def\u7531\u5668\u4f1a\u8fd4\u56de\u4e00\u4e2a ICMP \u201c\u8d85\u65f6\u201d\u6d88\u606f\u3002traceroute \u901a\u8fc7\u6536\u96c6\u8fd9\u4e9b\u6d88\u606f\u6765\u786e\u5b9a\u6570\u636e\u5305\u7ecf\u8fc7\u7684\u8def\u5f84\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_26","title":"\u57fa\u672c\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>traceroute \u9996\u5148\u53d1\u9001\u4e00\u4e2a TTL \u4e3a 1 \u7684\u6570\u636e\u5305 (\u901a\u5e38\u662f ICMP Echo \u8bf7\u6c42\u6216 UDP \u6570\u636e\u5305)\u5230\u76ee\u6807\u4e3b\u673a</li> <li>\u5f53\u7b2c\u4e00\u4e2a\u8def\u7531\u5668\u6536\u5230\u6b64\u6570\u636e\u5305\u65f6\uff0c\u5b83\u5c06 TTL \u503c\u51cf 1(\u53d8\u4e3a 0)\uff0c\u7136\u540e\u4e22\u5f03\u8be5\u6570\u636e\u5305\uff0c\u5e76\u5411\u6e90\u4e3b\u673a\u53d1\u9001\u4e00\u4e2a ICMP \u201c\u8d85\u65f6\u201d\u6d88\u606f</li> <li>traceroute \u63a5\u6536\u5230 ICMP \u201c\u8d85\u65f6\u201d\u6d88\u606f\u540e\uff0c \u8bb0\u5f55\u53d1\u9001\u6b64\u6d88\u606f\u7684\u8def\u7531\u5668\u7684 IP \u5730\u5740\u548c\u4f20\u8f93\u65f6\u95f4 </li> <li>\u7136\u540e\uff0ctraceroute \u589e\u52a0 TTL \u503c(\u6bd4\u5982\u8bbe\u7f6e\u4e3a 2)\uff0c\u91cd\u590d\u6b65\u9aa4 1-3\u3002\u8fd9\u6b21\uff0c\u6570\u636e\u5305\u5c06\u5230\u8fbe\u7b2c\u4e8c\u4e2a\u8def\u7531\u5668\uff0c\u7136\u540e\u88ab\u4e22\u5f03\uff0c\u5e76\u8fd4\u56de\u53e6\u4e00\u4e2a ICMP \u201c\u8d85\u65f6\u201d\u6d88\u606f</li> <li>traceroute \u7ee7\u7eed\u9010\u6b65\u589e\u52a0 TTL \u503c\uff0c\u76f4\u5230\u6570\u636e\u5305\u5230\u8fbe\u76ee\u6807\u4e3b\u673a\u6216\u8fbe\u5230\u6700\u5927\u8df3\u6570\u9650\u5236</li> </ol> <p>\u6700\u540e\uff0ctraceroute \u547d\u4ee4\u4f1a\u663e\u793a\u4ece\u6e90\u4e3b\u673a\u5230\u76ee\u6807\u4e3b\u673a\u7684\u5b8c\u6574\u8def\u5f84\uff0c\u5305\u62ec\u6bcf\u4e2a\u7ecf\u8fc7\u7684\u8def\u7531\u5668\u7684 IP \u5730\u5740\u3001\u4e3b\u673a\u540d(\u5982\u679c\u53ef\u7528)\u548c\u6bcf\u4e2a\u8df3\u7684\u5f80\u8fd4\u65f6\u95f4\u3002\u8fd9\u6709\u52a9\u4e8e\u8bc6\u522b\u548c\u6392\u9664\u7f51\u7edc\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#asciiunicodeutf-8","title":"ASCII\uff0cUnicode\uff0cUTF-8 \u7684\u533a\u522b\uff1f","text":"<p>ASCII(\u7f8e\u56fd\u6807\u51c6\u4fe1\u606f\u4ea4\u6362\u4ee3\u7801)\u3001Unicode(\u7edf\u4e00\u5b57\u7b26\u7f16\u7801)\u548c UTF-8(8 \u4f4d Unicode \u8f6c\u6362\u683c\u5f0f)\u662f\u8ba1\u7b97\u673a\u4e2d\u7528\u4e8e\u8868\u793a\u548c\u5904\u7406\u6587\u672c\u7684\u4e0d\u540c\u5b57\u7b26\u7f16\u7801\u65b9\u6848\u3002\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u5982\u4e0b\uff1a</p> <ul> <li>ASCII\uff1aASCII \u662f\u4e00\u79cd\u57fa\u4e8e\u62c9\u4e01\u5b57\u6bcd\u8868\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u6700\u521d\u4e8e 1963 \u5e74\u53d1\u5e03\u3002\u5b83\u4f7f\u7528  7 \u4f4d\u4e8c\u8fdb\u5236\u6570(\u5373 128 \u4e2a\u53ef\u80fd\u503c)  \u6765\u8868\u793a 128 \u4e2a\u4e0d\u540c\u5b57\u7b26\uff0c\u5305\u62ec\u5927\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57 0-9\u3001\u6807\u70b9\u7b26\u53f7\u4ee5\u53ca\u4e00\u4e9b\u63a7\u5236\u5b57\u7b26\u3002ASCII \u53ea\u80fd\u8868\u793a\u82f1\u8bed\u4e2d\u7684\u5b57\u7b26\uff0c\u65e0\u6cd5\u8868\u793a\u5176\u4ed6\u8bed\u8a00\u7684\u5b57\u7b26\u3002\u968f\u7740\u8ba1\u7b97\u673a\u79d1\u6280\u7684\u53d1\u5c55\uff0cASCII \u5df2\u65e0\u6cd5\u6ee1\u8db3\u73b0\u4ee3\u591a\u8bed\u8a00\u73af\u5883\u7684\u9700\u6c42</li> <li>Unicode\uff1a\u4e3a\u4e86\u89e3\u51b3 ASCII \u4e0d\u80fd\u8868\u793a\u591a\u79cd\u8bed\u8a00\u5b57\u7b26\u7684\u95ee\u9898\uff0cUnicode \u5e94\u8fd0\u800c\u751f\u3002Unicode \u662f\u4e00\u79cd\u5b57\u7b26\u96c6\uff0c\u65e8\u5728\u5305\u542b\u4e16\u754c\u4e0a\u6240\u6709\u8bed\u8a00\u7684\u5b57\u7b26\u548c\u7b26\u53f7\u3002Unicode \u4e3a\u6bcf\u4e2a\u5b57\u7b26\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u6570\u5b57\u4ee3\u7801\u70b9\uff0c\u53ef\u4ee5\u8868\u793a\u8d85\u8fc7 110,000 \u4e2a\u5b57\u7b26\uff0c\u5305\u62ec\u62c9\u4e01\u5b57\u6bcd\u3001\u5e0c\u814a\u5b57\u6bcd\u3001\u6c49\u5b57\u3001\u8c61\u5f62\u6587\u5b57\u7b49\u3002\u7136\u800c\uff0c Unicode \u672c\u8eab\u4e0d\u662f\u4e00\u79cd\u7f16\u7801\u65b9\u6848\uff0c\u800c\u662f\u4e3a\u5b57\u7b26\u5206\u914d\u4ee3\u7801\u70b9\u7684\u6807\u51c6\u3002\u4e3a\u4e86\u5728\u8ba1\u7b97\u673a\u4e2d\u5b58\u50a8\u548c\u5904\u7406\u8fd9\u4e9b\u5b57\u7b26\uff0c\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684\u7f16\u7801\u65b9\u6848\uff0c\u5982 UTF-8\u3001UTF-16 \u548c UTF-32</li> <li>UTF-8\uff1a UTF-8 \u662f Unicode \u7684\u4e00\u79cd\u53d8\u957f\u5b57\u8282\u7f16\u7801\u65b9\u6848\u3002\u5b83 \u4f7f\u7528 1 \u5230 4 \u4e2a\u5b57\u8282\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff0c\u6839\u636e\u5b57\u7b26\u7684 Unicode \u4ee3\u7801\u70b9\u8fdb\u884c\u7f16\u7801\u3002UTF-8 \u7684\u4f18\u70b9\u662f\u5411\u540e\u517c\u5bb9 ASCII\uff0c\u5373 ASCII \u5b57\u7b26\u5728 UTF-8 \u4e2d\u7684\u8868\u793a\u4e0e\u539f\u59cb ASCII \u7f16\u7801\u76f8\u540c\u3002\u8fd9\u610f\u5473\u7740\u8bb8\u591a\u73b0\u6709\u7684 ASCII \u6587\u672c\u548c\u8f6f\u4ef6\u65e0\u9700\u4fee\u6539\u5373\u53ef\u5904\u7406 UTF-8 \u7f16\u7801\u7684\u6587\u672c\u3002\u7531\u4e8e\u5176\u517c\u5bb9\u6027\u548c\u9ad8\u6548\u7684\u5b58\u50a8\u65b9\u5f0f\uff0cUTF-8 \u5df2\u6210\u4e3a Web \u548c\u8bb8\u591a\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u6700\u5e38\u7528\u7684\u5b57\u7b26\u7f16\u7801\u65b9\u6848</li> </ul> <p>\u603b\u7ed3\uff1aASCII \u662f\u4e00\u79cd \u6709\u9650\u7684\u3001\u53ea\u80fd\u8868\u793a\u82f1\u8bed\u5b57\u7b26\u7684\u7f16\u7801\u65b9\u6848\u3002Unicode \u662f\u4e00\u79cd\u5e7f\u6cdb\u7684\u5b57\u7b26\u96c6\uff0c\u53ef\u4ee5 \u8868\u793a\u4e16\u754c\u4e0a\u6240\u6709\u8bed\u8a00\u7684\u5b57\u7b26\u3002UTF-8 \u662f  Unicode \u5b57\u7b26\u96c6\u7684\u4e00\u79cd\u7f16\u7801\u65b9\u6848\uff0c\u53ef\u4ee5\u9ad8\u6548\u5730\u5b58\u50a8\u548c\u5904\u7406 Unicode \u5b57\u7b26\uff0c\u4e14\u4e0e ASCII \u517c\u5bb9\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_27","title":"\u5e76\u53d1","text":""},{"location":"Operating%20System/OperatingSystem/#_28","title":"\u5e76\u53d1\u4e0e\u5e76\u884c\u7684\u533a\u522b\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#_29","title":"\u5e76\u53d1","text":"<p>\u5e76\u53d1\u662f\u6307\u4e00\u4e2a\u65f6\u95f4\u6bb5\u5185\u540c\u65f6\u5904\u7406\u591a\u4e2a\u4efb\u52a1\u7684\u80fd\u529b\u3002\u5b83\u5f3a\u8c03\u7684\u662f \u4efb\u52a1\u4e4b\u95f4\u7684\u72ec\u7acb\u6027\uff0c\u4ee5\u53ca\u5b83\u4eec\u662f\u5982\u4f55\u5728\u4e00\u4e2a\u5904\u7406\u5668\u6216\u5355\u4e2a\u6838\u5fc3\u4e0a \u4ea4\u66ff\u6267\u884c \u7684\u3002\u5e76\u53d1\u7684\u76ee\u6807\u662f\u5728\u6709\u9650\u7684\u8d44\u6e90\u4e0b\u5b9e\u73b0\u4efb\u52a1\u4e4b\u95f4\u7684\u6709\u6548\u8c03\u5ea6\uff0c\u4ece\u800c\u6700\u5927\u9650\u5ea6\u5730\u63d0\u9ad8\u7cfb\u7edf\u7684\u54cd\u5e94\u4e8b\u4ef6\u3002\u5e76\u53d1 \u5e76\u4e0d\u610f\u5473\u7740\u4efb\u52a1\u5728\u540c\u4e00\u65f6\u523b\u88ab\u6267\u884c\uff0c\u800c\u662f\u6307\u5b83\u4eec \u5728\u540c\u4e00\u65f6\u95f4\u6bb5\u5185\u5f97\u5230\u5904\u7406\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_30","title":"\u5e76\u884c","text":"<p>\u5e76\u884c\u662f\u6307\u5728 \u540c\u4e00\u65f6\u523b\u6267\u884c\u591a\u4e2a\u4efb\u52a1\u7684\u80fd\u529b\u3002\u5b83\u8981\u6c42\u7cfb\u7edf\u5177\u5907\u591a\u4e2a\u5904\u7406\u5668\u6216\u591a\u4e2a\u8ba1\u7b97\u6838\u5fc3\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5 \u540c\u65f6\u5904\u7406\u591a\u4e2a\u4efb\u52a1\u3002\u5e76\u884c\u7684\u76ee\u6807\u662f\u52a0\u901f\u4efb\u52a1\u7684\u5b8c\u6210\u901f\u5ea6\uff0c\u901a\u8fc7\u5c06\u4efb\u52a1\u5206\u89e3\u4e3a\u66f4\u5c0f\u7684\u90e8\u5206\u5e76\u5728\u591a\u4e2a\u5904\u7406\u5668\u6216\u6838\u5fc3\u4e0a\u540c\u65f6\u6267\u884c\uff0c\u4ee5\u5b9e\u73b0\u66f4\u5feb\u7684\u4efb\u52a1\u6267\u884c\u901f\u5ea6\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_31","title":"\u533a\u522b","text":"<ul> <li>\u5e76\u53d1\u5173\u6ce8\u5728\u4e00\u4e2a\u65f6\u95f4\u6bb5\u5185\u5904\u7406\u591a\u4e2a\u4efb\u52a1\uff0c\u800c\u5e76\u884c\u5173\u6ce8\u5728\u540c\u4e00\u65f6\u523b\u6267\u884c\u591a\u4e2a\u4efb\u52a1</li> <li>\u5e76\u53d1\u9002\u7528\u4e8e\u5355\u5904\u7406\u5668\u6216\u5355\u6838\u5fc3\u7cfb\u7edf\uff0c\u901a\u8fc7\u4efb\u52a1\u8c03\u5ea6\u5b9e\u73b0\u591a\u4efb\u52a1\u5904\u7406\uff1b \u5e76\u884c\u5219\u4f9d\u8d56\u4e8e\u591a\u5904\u7406\u5668\u6216\u591a\u6838\u5fc3\u7cfb\u7edf \u6765\u5b9e\u73b0\u4efb\u52a1\u7684\u540c\u65f6\u6267\u884c</li> <li>\u5e76\u53d1\u4e3b\u8981\u7528\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u7684\u54cd\u5e94\u901f\u5ea6\u548c\u541e\u5410\u91cf\uff0c\u800c \u5e76\u884c\u5219\u65e8\u5728\u52a0\u901f\u4efb\u52a1\u7684\u5b8c\u6210\u901f\u5ea6 </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_32","title":"\u4ec0\u4e48\u662f\u4e92\u65a5\u9501\uff0c\u81ea\u65cb\u9501\u5462\uff0c\u5e95\u5c42\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f","text":"<p>\u4e92\u65a5\u9501(Mutex)  \u548c  \u81ea\u65cb\u9501(Spinlock)  \u662f\u4e24\u79cd\u7528\u4e8e\u540c\u6b65\u548c\u4fdd\u62a4\u5171\u4eab\u8d44\u6e90\u7684\u9501\u673a\u5236\uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u9632\u6b62\u591a\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\uff0c\u4ece\u800c\u907f\u514d  \u7ade\u4e89\u6761\u4ef6(Race Condition)  \u548c  \u6570\u636e\u4e0d\u4e00\u81f4  \u7b49\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_33","title":"\u4e92\u65a5\u9501","text":"<p>\u4e92\u65a5\u9501\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u95f4\u540c\u6b65\u7684\u673a\u5236\u3002\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u4e92\u65a5\u9501\u5e76\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\uff0c\u5176\u4ed6\u8bd5\u56fe\u83b7\u5f97\u8be5\u9501\u7684\u7ebf\u7a0b\u5c06\u88ab\u963b\u585e\uff0c\u76f4\u5230\u9501\u88ab\u91ca\u653e\u3002\u4e92\u65a5\u9501\u53ef\u4ee5\u4fdd\u8bc1\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u591f\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002\u4e92\u65a5\u9501\u7684\u5e95\u5c42\u5b9e\u73b0\u901a\u5e38\u4f9d\u8d56\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u539f\u8bed\uff0c\u4f8b\u5982\u5728  Linux \u7cfb\u7edf\u4e2d\u4f7f\u7528 pthread \u5e93\u7684 pthread_mutex_t \u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\u4e92\u65a5\u9501\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_34","title":"\u81ea\u65cb\u9501","text":"<p>\u81ea\u65cb\u9501\u662f\u4e00\u79cd\u4f4e\u7ea7\u7684\u540c\u6b65\u539f\u8bed\uff0c\u901a\u5e38\u7528\u4e8e\u591a\u5904\u7406\u5668\u6216\u591a\u6838\u7cfb\u7edf\u4e2d\u3002\u4e0e\u4e92\u65a5\u9501\u4e0d\u540c\uff0c\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u5c1d\u8bd5\u83b7\u5f97\u81ea\u65cb\u9501\u65f6\uff0c\u5982\u679c\u9501\u5df2\u7ecf\u88ab\u5176\u4ed6\u7ebf\u7a0b\u6301\u6709\uff0c\u5b83\u5c06 \u4e0d\u65ad\u5faa\u73af(\u201c\u81ea\u65cb\u201d)\u68c0\u67e5\u9501\u662f\u5426\u53ef\u7528\uff0c\u800c\u4e0d\u662f\u8fdb\u5165\u963b\u585e\u72b6\u6001\u3002\u81ea\u65cb\u9501\u9002\u7528\u4e8e\u9501\u6301\u6709\u65f6\u95f4\u8f83\u77ed\u4e14\u7ebf\u7a0b\u4e0d\u5e0c\u671b\u5728\u7b49\u5f85\u9501\u65f6\u8fdb\u5165\u7761\u7720\u72b6\u6001\u7684\u573a\u666f\u3002\u81ea\u65cb\u9501\u7684\u5e95\u5c42\u5b9e\u73b0\u901a\u5e38\u4f9d\u8d56\u4e8e\u539f\u5b50\u64cd\u4f5c\u548c CPU \u6307\u4ee4\uff0c\u5982  \u6d4b\u8bd5\u548c\u8bbe\u7f6e(test-and-set)  \u6216  \u6bd4\u8f83\u548c\u4ea4\u6362(compare-and-swap)  \u7b49\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_35","title":"\u533a\u522b","text":"<ul> <li>\u5f53\u7ebf\u7a0b\u5c1d\u8bd5\u83b7\u5f97\u5df2\u88ab\u5360\u7528\u7684\u4e92\u65a5\u9501\u65f6\uff0c\u5b83\u4f1a \u8fdb\u5165\u963b\u585e\u72b6\u6001\uff0c\u8ba9\u51fa CPU \u8d44\u6e90\uff0c\u7b49\u5f85\u9501\u88ab\u91ca\u653e</li> <li>\u5f53\u7ebf\u7a0b\u5c1d\u8bd5\u83b7\u5f97\u5df2\u88ab\u5360\u7528\u7684\u81ea\u65cb\u9501\u65f6\uff0c\u5b83\u4f1a \u4e0d\u65ad\u5faa\u73af \u68c0\u67e5\u9501\u662f\u5426\u53ef\u7528\uff0c\u800c\u4e0d\u4f1a\u8ba9\u51fa CPU \u8d44\u6e90</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_36","title":"\u8bb2\u4e00\u8bb2\u6b7b\u9501\uff0c\u6b7b\u9501\u600e\u4e48\u5904\u7406\uff1f","text":"<p>\u6b7b\u9501\u662f\u6307\u5728\u591a\u7ebf\u7a0b\u6216\u591a\u8fdb\u7a0b\u73af\u5883\u4e2d\uff0c\u4e00\u7ec4\u6216\u591a\u7ec4\u7ebf\u7a0b/\u8fdb\u7a0b\u4e92\u76f8\u7b49\u5f85\u5f7c\u6b64\u6301\u6709\u7684\u8d44\u6e90\uff0c\u5bfc\u81f4\u8fd9\u4e9b\u7ebf\u7a0b/\u8fdb\u7a0b\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u7684\u60c5\u51b5\u3002\u5f53\u6b7b\u9501\u53d1\u751f\u65f6\uff0c\u53d7\u5f71\u54cd\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\u65e0\u6cd5\u5b8c\u6210\u4efb\u52a1\uff0c\u7cfb\u7edf\u6027\u80fd\u548c\u541e\u5410\u91cf\u53ef\u80fd\u4f1a\u53d7\u5230\u4e25\u91cd\u5f71\u54cd\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_37","title":"\u6b7b\u9501\u6761\u4ef6","text":"<ul> <li>\u8d44\u6e90\u4e92\u65a5\uff1a\u4e00\u4e2a\u8d44\u6e90\u5728\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u88ab\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u5360\u7528</li> <li>\u6301\u6709\u5e76\u7b49\u5f85\uff1a\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u5728\u6301\u6709\u81f3\u5c11\u4e00\u4e2a\u8d44\u6e90\u7684\u540c\u65f6\uff0c\u4ecd\u7136\u5c1d\u8bd5\u83b7\u53d6\u5176\u4ed6\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u6240\u6301\u6709\u7684\u8d44\u6e90</li> <li>\u8d44\u6e90\u975e\u62a2\u5360\uff1a\u8d44\u6e90\u4e0d\u80fd\u88ab\u5f3a\u884c\u4ece\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u4e2d\u62a2\u5360\uff0c\u53ea\u80fd\u7531\u5360\u6709\u5b83\u7684\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u4e3b\u52a8\u91ca\u653e</li> <li>\u5faa\u73af\u7b49\u5f85\uff1a\u5b58\u5728\u4e00\u4e2a\u7ebf\u7a0b/\u8fdb\u7a0b\u7b49\u5f85\u5e8f\u5217\uff0c\u5176\u4e2d\u6bcf\u4e2a\u7ebf\u7a0b/\u8fdb\u7a0b\u90fd\u5728\u7b49\u5f85\u4e0b\u4e00\u4e2a\u7ebf\u7a0b/\u8fdb\u7a0b\u6240\u6301\u6709\u7684\u8d44\u6e90</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_38","title":"\u5904\u7406\u6b7b\u9501","text":"<p>\u5206\u4e3a \u9884\u9632\u3001\u907f\u514d\u548c\u68c0\u6d4b\u6062\u590d \u4e09\u79cd\u7b56\u7565\uff1a</p> <ul> <li>\u9884\u9632\u6b7b\u9501\uff1a\u9884\u9632\u6b7b\u9501\u7684\u65b9\u6cd5\u662f \u7834\u574f\u6b7b\u9501\u4ea7\u751f\u7684\u56db\u4e2a\u6761\u4ef6\u4e2d\u7684\u4e00\u4e2a\u6216\u591a\u4e2a </li> <li>\u907f\u514d\u6b7b\u9501\uff1a\u907f\u514d\u6b7b\u9501\u7684\u65b9\u6cd5\u662f\u5728 \u8fd0\u884c\u65f6\u52a8\u6001\u5730\u68c0\u67e5\u8d44\u6e90\u5206\u914d\u60c5\u51b5\uff0c\u4ee5\u786e\u4fdd\u7cfb\u7edf\u4e0d\u4f1a\u8fdb\u5165\u4e0d\u5b89\u5168\u72b6\u6001\u3002 \u94f6\u884c\u5bb6\u7b97\u6cd5 \u662f\u4e00\u79cd\u8457\u540d\u7684\u907f\u514d\u6b7b\u9501\u7684\u7b97\u6cd5\uff0c\u901a\u8fc7\u6a21\u62df\u8d44\u6e90\u5206\u914d\u8fc7\u7a0b\u6765\u5224\u65ad\u662f\u5426\u4f1a\u4ea7\u751f\u6b7b\u9501\uff0c\u5982\u679c\u4f1a\u4ea7\u751f\u6b7b\u9501\uff0c\u5219\u62d2\u7edd\u5206\u914d\u8d44\u6e90</li> <li>\u68c0\u6d4b\u548c\u6062\u590d\u6b7b\u9501\uff1a\u68c0\u6d4b\u548c\u6062\u590d\u6b7b\u9501\u7684\u65b9\u6cd5\u662f\u5141\u8bb8\u7cfb\u7edf\u8fdb\u5165\u6b7b\u9501\u72b6\u6001\uff0c\u7136\u540e\u5b9a\u671f\u68c0\u6d4b\u6b7b\u9501\uff0c\u5e76\u5728\u53d1\u73b0\u6b7b\u9501\u540e\u91c7\u53d6\u63aa\u65bd\u89e3\u51b3\u3002\u5e38\u89c1\u7684\u68c0\u6d4b\u65b9\u6cd5\u5305\u62ec  \u8d44\u6e90\u5206\u914d\u56fe(Resource Allocation Graph)  \u548c  \u68c0\u6d4b\u7b97\u6cd5\u3002\u6062\u590d\u6b7b\u9501\u7684\u65b9\u6cd5\u901a\u5e38\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\uff1a</li> <li>\u7ec8\u6b62\u7ebf\u7a0b/\u8fdb\u7a0b\uff1a\u5f3a\u5236\u7ec8\u6b62\u4e00\u4e2a\u6216\u591a\u4e2a\u6b7b\u9501\u4e2d\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\uff0c\u4ece\u800c\u91ca\u653e\u5176\u6301\u6709\u7684\u8d44\u6e90\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u6216\u4e0d\u4e00\u81f4\uff0c\u56e0\u6b64\u9700\u8981\u8c28\u614e\u4f7f\u7528</li> <li>\u56de\u6eda\u7ebf\u7a0b/\u8fdb\u7a0b\uff1a\u5c06\u6b7b\u9501\u4e2d\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\u56de\u6eda\u5230\u4e4b\u524d\u7684\u67d0\u4e2a\u72b6\u6001\uff0c\u7136\u540e\u91cd\u65b0\u6267\u884c\u3002\u8fd9\u79cd\u65b9\u6cd5\u9700\u8981\u7cfb\u7edf\u652f\u6301\u4e8b\u52a1\u548c\u6062\u590d\u529f\u80fd\uff0c\u5e76\u4e14\u53ef\u80fd\u4f1a\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd</li> <li>\u52a8\u6001\u8d44\u6e90\u5206\u914d\uff1a\u5728\u68c0\u6d4b\u5230\u6b7b\u9501\u540e\uff0c\u5c1d\u8bd5\u52a8\u6001\u5730\u5206\u914d\u8d44\u6e90\uff0c\u4ee5\u89e3\u9664\u6b7b\u9501\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5411\u7cfb\u7edf\u8bf7\u6c42\u66f4\u591a\u8d44\u6e90\uff0c\u6216\u8005\u5728\u4e0d\u5f71\u54cd\u6574\u4f53\u6027\u80fd\u7684\u60c5\u51b5\u4e0b\u8c03\u6574\u8d44\u6e90\u5206\u914d\u7b56\u7565</li> <li>\u7b49\u5f85\u548c\u91cd\u8bd5\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8ba9\u6b7b\u9501\u4e2d\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u4ee5\u4fbf\u5176\u4ed6\u7ebf\u7a0b/\u8fdb\u7a0b\u91ca\u653e\u8d44\u6e90\u3002\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u91cd\u65b0\u5c1d\u8bd5\u8bf7\u6c42\u8d44\u6e90\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7ebf\u7a0b/\u8fdb\u7a0b\u957f\u65f6\u95f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u4ece\u800c\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_39","title":"\u4ec0\u4e48\u662f\u8bfb\u5199\u9501\uff1f","text":"<p>\u8bfb\u5199\u9501(Read-Write Lock)\u662f\u4e00\u79cd\u7528\u4e8e \u540c\u6b65\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u7684\u9501\u673a\u5236\uff0c\u9002\u7528\u4e8e\u8bfb\u64cd\u4f5c\u8fdc\u591a\u4e8e\u5199\u64cd\u4f5c\u7684\u573a\u666f\u3002\u4e0e\u4e92\u65a5\u9501(Mutex)\u4e0d\u540c\uff0c\u8bfb\u5199\u9501\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8fdb\u884c\u8bfb\u64cd\u4f5c\uff0c\u4f46\u5728 \u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002\u8fd9\u79cd\u9501\u673a\u5236\u53ef\u4ee5\u63d0\u9ad8\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u7684\u6027\u80fd\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u5728\u4e0d\u4e92\u76f8\u5e72\u6270\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5e76\u53d1\u8bfb\u64cd\u4f5c\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_40","title":"\u8bfb\u5199\u9501\u7684\u7279\u6027","text":"<ul> <li>\u5171\u4eab\u8bfb\uff1a\u591a\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u540c\u65f6\u83b7\u5f97\u8bfb\u9501\uff0c\u5171\u4eab\u8bfb\u53d6\u5171\u4eab\u8d44\u6e90\u3002\u8fd9\u610f\u5473\u7740\u5728\u6ca1\u6709\u5199\u64cd\u4f5c\u7684\u60c5\u51b5\u4e0b\uff0c\u8bfb\u64cd\u4f5c\u4e0d\u4f1a\u88ab\u963b\u585e</li> <li>\u72ec\u5360\u5199\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u5199\u9501\u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u65e0\u6cd5\u83b7\u5f97\u8bfb\u9501\u6216\u5199\u9501\u3002\u8fd9\u53ef\u4ee5\u786e\u4fdd\u5728\u5199\u64cd\u4f5c\u671f\u95f4\uff0c\u5171\u4eab\u8d44\u6e90\u4e0d\u4f1a\u88ab\u5176\u4ed6\u7ebf\u7a0b\u4fee\u6539\u6216\u8bbf\u95ee</li> <li>\u4f18\u5148\u7ea7\uff1a\u5b9e\u73b0\u8bfb\u5199\u9501\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u5904\u7406\u8bfb\u5199\u64cd\u4f5c\u4e4b\u95f4\u7684\u4f18\u5148\u7ea7\u3002\u6839\u636e\u5b9e\u73b0\u65b9\u5f0f\u7684\u4e0d\u540c\uff0c\u8bfb\u5199\u9501\u53ef\u80fd\u4f1a\u66f4\u503e\u5411\u4e8e\u4f18\u5148\u5904\u7406\u8bfb\u64cd\u4f5c\uff0c\u6216\u8005\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f18\u5148\u5904\u7406\u5199\u64cd\u4f5c\u3002\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5199\u9965\u997f\u6216\u8bfb\u9965\u997f\u7684\u95ee\u9898\uff0c\u9700\u8981 \u6839\u636e\u5b9e\u9645\u573a\u666f\u8fdb\u884c\u6743\u8861 </li> </ul> <p>\u8bfb\u5199\u9501\u5728\u5b9e\u73b0\u65f6\u901a\u5e38\u4f9d\u8d56\u4e8e\u5e95\u5c42\u7684\u64cd\u4f5c\u7cfb\u7edf\u539f\u8bed\u3002\u4f8b\u5982\uff0c\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5 \u4f7f\u7528 pthread \u5e93\u4e2d\u7684 pthread_rwlock_t \u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\u8bfb\u5199\u9501\u3002</p> <p>\u603b\u4e4b\uff0c\u8bfb\u5199\u9501\u662f\u4e00\u79cd\u9002\u7528\u4e8e\u8bfb\u64cd\u4f5c\u8fdc\u591a\u4e8e\u5199\u64cd\u4f5c\u573a\u666f\u7684\u540c\u6b65\u673a\u5236\u3002\u901a\u8fc7\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8fdb\u884c\u8bfb\u64cd\u4f5c\uff0c\u8bfb\u5199\u9501\u53ef\u4ee5\u63d0\u9ad8\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u5728\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\u7684\u6027\u80fd\u3002\u7136\u800c\uff0c\u6839\u636e\u5b9e\u73b0\u65b9\u5f0f\u7684\u4e0d\u540c\uff0c\u8bfb\u5199\u9501\u53ef\u80fd\u9700\u8981\u5904\u7406\u8bfb\u5199\u64cd\u4f5c\u4e4b\u95f4\u7684\u4f18\u5148\u7ea7\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#linux_3","title":"Linux \u540c\u6b65\u673a\u5236\uff1f","text":"<p>Linux \u7cfb\u7edf\u63d0\u4f9b\u4e86\u591a\u79cd\u540c\u6b65\u673a\u5236\uff0c\u4ee5\u4fbf\u5728\u591a\u7ebf\u7a0b\u6216\u591a\u8fdb\u7a0b\u73af\u5883\u4e2d\u5b9e\u73b0\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u5b89\u5168\u8bbf\u95ee\u3002\u5e38\u89c1\u540c\u6b65\u673a\u5236\u5982\u4e0b\uff1a</p> <ul> <li>\u4e92\u65a5\u9501\uff1aLinux \u4e2d\u7684\u4e92\u65a5\u9501\u662f\u901a\u8fc7 POSIX \u7ebf\u7a0b\u5e93(pthread)\u5b9e\u73b0\u7684\u3002\u4e92\u65a5\u9501(Mutex)\u7528\u4e8e\u4fdd\u8bc1\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002 pthread_mutex_t  \u6570\u636e\u7ed3\u6784\u63d0\u4f9b\u4e86\u4e92\u65a5\u9501\u7684\u5b9e\u73b0\uff0c\u76f8\u5173\u51fd\u6570\u5305\u62ec  pthread_mutex_init\u3001pthread_mutex_lock\u3001pthread_mutex_trylock\u3001pthread_mutex_unlock \u548c pthread_mutex_destroy </li> <li>\u8bfb\u5199\u9501\uff1aLinux \u4e2d\u7684\u8bfb\u5199\u9501\u4e5f\u662f\u901a\u8fc7 POSIX \u7ebf\u7a0b\u5e93(pthread)\u5b9e\u73b0\u7684\u3002\u8bfb\u5199\u9501\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8fdb\u884c\u8bfb\u64cd\u4f5c\uff0c\u4f46\u5728\u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002 pthread_rwlock_t  \u6570\u636e\u7ed3\u6784\u63d0\u4f9b\u4e86\u8bfb\u5199\u9501\u7684\u5b9e\u73b0\uff0c\u76f8\u5173\u51fd\u6570\u5305\u62ec  pthread_rwlock_init\u3001pthread_rwlock_rdlock\u3001pthread_rwlock_wrlock\u3001pthread_rwlock_tryrdlock\u3001pthread_rwlock_trywrlock\u3001pthread_rwlock_unlock \u548c pthread_rwlock_destroy </li> <li>\u6761\u4ef6\u53d8\u91cf\uff1a\u6761\u4ef6\u53d8\u91cf\u7528\u4e8e\u5b9e\u73b0\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u3002\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u9700\u8981\u7b49\u5f85\u67d0\u4e2a\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5b83\u53ef\u4ee5\u4f7f\u7528\u6761\u4ef6\u53d8\u91cf\u8fdb\u5165\u4f11\u7720\u72b6\u6001\uff0c\u76f4\u5230\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u66f4\u6539\u5171\u4eab\u8d44\u6e90\u5e76\u901a\u77e5\u6761\u4ef6\u53d8\u91cf\u3002\u6761\u4ef6\u53d8\u91cf\u901a\u5e38\u4e0e\u4e92\u65a5\u9501\u4e00\u8d77\u4f7f\u7528\u3002 pthread_cond_t  \u6570\u636e\u7ed3\u6784\u63d0\u4f9b\u4e86\u6761\u4ef6\u53d8\u91cf\u7684\u5b9e\u73b0\uff0c\u76f8\u5173\u51fd\u6570\u5305\u62ec  pthread_cond_init\u3001pthread_cond_wait\u3001pthread_cond_timedwait\u3001pthread_cond_signal\u3001pthread_cond_broadcast \u548c pthread_cond_destroy </li> <li>\u4fe1\u53f7\u91cf\uff1a\u4fe1\u53f7\u91cf\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u540c\u6b65\u7684\u8ba1\u6570\u5668\u3002\u4fe1\u53f7\u91cf\u7528\u4e8e\u9650\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u6570\u91cf\u3002Linux \u7cfb\u7edf \u63d0\u4f9b\u4e86 System V \u4fe1\u53f7\u91cf\u548c POSIX \u4fe1\u53f7\u91cf\u4e24\u79cd\u5b9e\u73b0\u3002POSIX \u4fe1\u53f7\u91cf\u4f7f\u7528  sem_t \u6570\u636e\u7ed3\u6784\uff0c\u76f8\u5173\u51fd\u6570\u5305\u62ec sem_init\u3001sem_wait\u3001sem_trywait\u3001sem_post \u548c sem_destroy\u3002System V \u4fe1\u53f7\u91cf\u4f7f\u7528\u4e86\u4e00\u7ec4\u7cfb\u7edf\u8c03\u7528(\u5982 semget\u3001semop \u548c semctl)\u5b9e\u73b0</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_41","title":"\u4fe1\u53f7\u91cf\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f","text":"<p>\u4fe1\u53f7\u91cf(Semaphore)\u662f\u4e00\u79cd\u540c\u6b65\u539f\u8bed\uff0c\u7528\u4e8e\u5b9e\u73b0\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u540c\u6b65\u548c\u4e92\u65a5\u3002\u4fe1\u53f7\u91cf\u7684\u672c\u8d28\u662f\u4e00\u4e2a\u6574\u6570\u8ba1\u6570\u5668\uff0c\u901a\u5e38\u7528\u4e8e\u9650\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u6570\u91cf\u3002\u4fe1\u53f7\u91cf\u7684\u5b9e\u73b0\u6d89\u53ca\u5230\u4e24\u4e2a\u5173\u952e\u64cd\u4f5c\uff1a wait(\u6216\u79f0\u4e3a P \u64cd\u4f5c\uff0c\u6d88\u8017)  \u548c  post(\u6216\u79f0\u4e3a V \u64cd\u4f5c\uff0c\u751f\u4ea7)\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_42","title":"\u57fa\u672c\u5b9e\u73b0\u539f\u7406","text":"<ul> <li>\u521d\u59cb\u5316\uff1a\u4fe1\u53f7\u91cf\u5728\u521b\u5efa\u65f6\u9700\u8981\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u901a\u5e38\u5c06\u8ba1\u6570\u5668\u8bbe\u7f6e\u4e3a\u5141\u8bb8\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u7684\u6700\u5927\u6570\u91cf</li> <li>P \u64cd\u4f5c\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u60f3\u8981\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\uff0c\u4f1a\u6267\u884c wait \u64cd\u4f5c\u3002\u5728 wait \u64cd\u4f5c\u4e2d\uff0c\u4fe1\u53f7\u91cf\u7684\u8ba1\u6570\u5668\u51cf 1\u3002\u5982\u679c\u8ba1\u6570\u5668\u7684\u503c\u4e3a\u8d1f\u6570\uff0c\u8868\u793a\u6ca1\u6709\u53ef\u7528\u7684\u8d44\u6e90\uff0c\u6267\u884c wait \u64cd\u4f5c\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\u5c06\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6709\u8d44\u6e90\u53ef\u7528</li> <li>V \u64cd\u4f5c\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u5b8c\u6210\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u540e\uff0c\u4f1a\u6267\u884c post \u64cd\u4f5c\u3002\u5728 post \u64cd\u4f5c\u4e2d\uff0c\u4fe1\u53f7\u91cf\u7684\u8ba1\u6570\u5668\u52a0 1\u3002\u5982\u679c\u8ba1\u6570\u5668\u7684\u503c\u5c0f\u4e8e\u7b49\u4e8e 0\uff0c\u8868\u793a\u6709\u7b49\u5f85\u7684\u7ebf\u7a0b/\u8fdb\u7a0b\uff0c\u6b64\u65f6\u4f1a\u5524\u9192\u4e00\u4e2a\u88ab\u963b\u585e\u7684\u7ebf\u7a0b/\u8fdb\u7a0b</li> </ul> <p>\u4fe1\u53f7\u91cf\u7684\u5b9e\u73b0\u4f9d\u8d56\u4e8e\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u539f\u8bed\uff0c\u4ee5\u4fdd\u8bc1 wait \u548c post \u64cd\u4f5c\u7684\u539f\u5b50\u6027\u3002\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u4fe1\u53f7\u91cf\u6709\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff1aSystem V \u4fe1\u53f7\u91cf\u548c POSIX \u4fe1\u53f7\u91cf\u3002</p> <ul> <li>System V \u4fe1\u53f7\u91cf\uff1aSystem V \u4fe1\u53f7\u91cf\u4f7f\u7528\u4e00\u7ec4 \u7cfb\u7edf\u8c03\u7528(\u5982 semget\u3001semop \u548c semctl)\u5b9e\u73b0\u3002\u8fd9\u4e9b\u7cfb\u7edf\u8c03\u7528\u63d0\u4f9b\u4e86\u539f\u5b50\u6027\u64cd\u4f5c\uff0c\u4ee5\u4fdd\u8bc1\u4fe1\u53f7\u91cf\u7684\u6b63\u786e\u6027\u3002System V \u4fe1\u53f7\u91cf\u5177\u6709\u66f4\u5f3a\u7684\u8de8\u8fdb\u7a0b\u7279\u6027\uff0c\u53ef\u4ee5\u5728\u4e0d\u76f8\u5173\u7684\u8fdb\u7a0b\u4e4b\u95f4\u4f7f\u7528</li> <li>POSIX \u4fe1\u53f7\u91cf\uff1aPOSIX \u4fe1\u53f7\u91cf\u4f7f\u7528 sem_t \u6570\u636e\u7ed3\u6784\uff0c\u5e76\u901a\u8fc7\u4e00\u7ec4\u51fd\u6570(\u5982 sem_init\u3001sem_wait\u3001sem_trywait\u3001sem_post \u548c sem_destroy)\u63d0\u4f9b\u4fe1\u53f7\u91cf\u64cd\u4f5c\u3002POSIX \u4fe1\u53f7\u91cf\u5728\u73b0\u4ee3 Linux \u7cfb\u7edf\u4e2d\u8f83\u4e3a\u5e38\u7528\uff0c\u56e0\u4e3a\u5b83\u4eec\u5177\u6709\u8f83\u597d\u7684\u53ef\u79fb\u690d\u6027\u548c\u6027\u80fd</li> </ul> <p>\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u4fe1\u53f7\u91cf\u53ef\u4ee5\u5e2e\u52a9\u7a0b\u5e8f\u5458\u63a7\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\uff0c\u9632\u6b62\u7ade\u4e89\u6761\u4ef6\u548c\u5b9e\u73b0\u540c\u6b65\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_43","title":"\u6761\u4ef6\u53d8\u91cf\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f","text":"<p>\u6761\u4ef6\u53d8\u91cf(Condition Variable)\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u7ebf\u7a0b\u95f4\u540c\u6b65\u7684\u539f\u8bed\u3002\u6761\u4ef6\u53d8\u91cf\u5141\u8bb8\u7ebf\u7a0b\u7b49\u5f85\u67d0\u4e2a\u6761\u4ef6\u7684\u6ee1\u8db3\uff0c\u5f53\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u4f1a\u901a\u77e5\u7b49\u5f85\u7684\u7ebf\u7a0b\u3002\u6761\u4ef6\u53d8\u91cf\u901a\u5e38\u4e0e\u4e92\u65a5\u9501(Mutex)\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u4fdd\u62a4\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u548c\u540c\u6b65\u3002</p> <ul> <li>\u521d\u59cb\u5316\uff1a\u6761\u4ef6\u53d8\u91cf\u5728\u521b\u5efa\u65f6\u9700\u8981\u8fdb\u884c\u521d\u59cb\u5316\u3002\u5728 Linux \u4e2d\uff0c\u4f7f\u7528 pthread_cond_t \u6570\u636e\u7ed3\u6784\u8868\u793a\u6761\u4ef6\u53d8\u91cf\uff0c\u5e76\u901a\u8fc7 pthread_cond_init \u51fd\u6570\u8fdb\u884c\u521d\u59cb\u5316 </li> <li>\u7b49\u5f85\u6761\u4ef6\uff1a\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u9700\u8981\u7b49\u5f85\u67d0\u4e2a\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5b83\u4f1a\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a   1. \u7ebf\u7a0b\u83b7\u53d6\u4e92\u65a5\u9501\uff0c\u4fdd\u62a4\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee   2. \u7ebf\u7a0b\u68c0\u67e5\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\u3002\u5982\u679c\u6761\u4ef6\u4e0d\u6ee1\u8db3\uff0c\u7ebf\u7a0b\u4f1a\u8c03\u7528 pthread_cond_wait \u6216 pthread_cond_timedwait \u51fd\u6570\uff0c\u5c06\u81ea\u5df1\u963b\u585e\u5e76\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u901a\u77e5\u3002\u5728\u8fdb\u5165\u963b\u585e\u72b6\u6001\u4e4b\u524d\uff0cpthread_cond_wait \u51fd\u6570\u4f1a\u81ea\u52a8\u91ca\u653e\u5173\u8054\u7684\u4e92\u65a5\u9501\uff0c\u4ee5\u5141\u8bb8\u5176\u4ed6\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90   3. \u5f53\u6761\u4ef6\u53d8\u91cf\u6536\u5230\u901a\u77e5\u65f6\uff0c\u963b\u585e\u5728\u6761\u4ef6\u53d8\u91cf\u4e0a\u7684\u7ebf\u7a0b\u4f1a\u88ab\u5524\u9192\u3002pthread_cond_wait \u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u4f1a\u81ea\u52a8\u91cd\u65b0\u83b7\u53d6\u5173\u8054\u7684\u4e92\u65a5\u9501   4. \u5524\u9192\u540e\uff0c\u7ebf\u7a0b\u9700\u8981\u91cd\u65b0\u68c0\u67e5\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u56e0\u4e3a\u53ef\u80fd\u5b58\u5728\u865a\u5047\u5524\u9192(Spurious Wakeup)\u7684\u60c5\u51b5\u3002\u5982\u679c\u6761\u4ef6\u6ee1\u8db3\uff0c\u7ebf\u7a0b\u7ee7\u7eed\u6267\u884c\uff1b\u5426\u5219\uff0c\u7ebf\u7a0b\u5c06\u7ee7\u7eed\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u901a\u77e5</li> <li>\u901a\u77e5\u6761\u4ef6\uff1a\u5f53\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u6539\u53d8\u4e86\u5171\u4eab\u8d44\u6e90\uff0c\u5e76\u4f7f\u5f97\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u5b83\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a   1. \u7ebf\u7a0b\u83b7\u53d6\u4e92\u65a5\u9501\uff0c\u4fdd\u62a4\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee   2. \u7ebf\u7a0b\u4fee\u6539\u5171\u4eab\u8d44\u6e90\uff0c\u4f7f\u5f97\u6761\u4ef6\u6ee1\u8db3   3. \u7ebf\u7a0b\u8c03\u7528 pthread_cond_signal \u6216 pthread_cond_broadcast \u51fd\u6570\uff0c\u901a\u77e5\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u4e00\u4e2a\u6216\u6240\u6709\u7ebf\u7a0b   4. \u7ebf\u7a0b\u91ca\u653e\u4e92\u65a5\u9501\uff0c\u5141\u8bb8\u5176\u4ed6\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90</li> </ul> <p>\u5728 Linux \u4e2d\uff0c\u6761\u4ef6\u53d8\u91cf\u7684\u5b9e\u73b0\u4f9d\u8d56\u4e8e\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u539f\u8bed\uff0c\u4ee5\u4fdd\u8bc1\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u548c\u901a\u77e5\u64cd\u4f5c\u7684\u539f\u5b50\u6027</p>"},{"location":"Operating%20System/OperatingSystem/#_44","title":"\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\uff1f","text":"<p>\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\u662f\u4e00\u4e2a\u7ecf\u5178\u7684\u5e76\u53d1\u95ee\u9898\uff0c\u7528\u4e8e\u63cf\u8ff0\u591a\u7ebf\u7a0b\u6216\u591a\u8fdb\u7a0b\u95f4\u7684\u540c\u6b65\u548c\u4e92\u65a5\u95ee\u9898\u3002\u5728\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\u4e2d\uff0c \u6709\u4e00\u7ec4\u751f\u4ea7\u8005\u7ebf\u7a0b/\u8fdb\u7a0b\u548c\u4e00\u7ec4\u6d88\u8d39\u8005\u7ebf\u7a0b/\u8fdb\u7a0b\uff0c\u5b83\u4eec\u5171\u4eab\u4e00\u4e2a\u6709\u9650\u5bb9\u91cf\u7684\u7f13\u51b2\u533a\u3002\u751f\u4ea7\u8005\u8d1f\u8d23\u5c06\u6570\u636e\u9879\u653e\u5165\u7f13\u51b2\u533a\uff0c\u6d88\u8d39\u8005\u5219\u4ece\u7f13\u51b2\u533a\u4e2d\u53d6\u51fa\u6570\u636e\u9879\u8fdb\u884c\u5904\u7406\u3002\u95ee\u9898\u7684\u6838\u5fc3\u5728\u4e8e\u5982\u4f55\u5b9e\u73b0\u5bf9\u5171\u4eab\u7f13\u51b2\u533a\u7684\u540c\u6b65\u8bbf\u95ee\uff0c\u786e\u4fdd\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u6216\u88ab\u91cd\u590d\u5904\u7406\u3002</p> <p>\u4ee5\u4e0b\u662f\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898\u7684\u4e00\u4e9b\u5173\u952e\u70b9\uff1a</p> <ul> <li>\u540c\u6b65\uff1a\u9700\u8981\u786e\u4fdd\u5f53\u7f13\u51b2\u533a\u4e3a\u7a7a\u65f6\uff0c\u6d88\u8d39\u8005\u4e0d\u80fd\u4ece\u4e2d\u53d6\u51fa\u6570\u636e\uff1b\u5f53\u7f13\u51b2\u533a\u5df2\u6ee1\u65f6\uff0c\u751f\u4ea7\u8005\u4e0d\u80fd\u5411\u5176\u4e2d\u6dfb\u52a0\u6570\u636e\u3002\u8fd9\u9700\u8981\u4f7f\u7528\u540c\u6b65\u539f\u8bed(\u5982\u4e92\u65a5\u9501\u3001\u4fe1\u53f7\u91cf\u6216\u6761\u4ef6\u53d8\u91cf)\u6765\u5b9e\u73b0\u3002</li> <li>\u4e92\u65a5\uff1a\u591a\u4e2a\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u7ebf\u7a0b/\u8fdb\u7a0b\u9700\u8981\u4e92\u65a5\u5730\u8bbf\u95ee\u5171\u4eab\u7f13\u51b2\u533a\uff0c\u9632\u6b62\u540c\u65f6\u4fee\u6539\u7f13\u51b2\u533a\u5bfc\u81f4\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\u3002\u8fd9\u901a\u5e38\u4f7f\u7528\u4e92\u65a5\u9501(Mutex)\u6765\u5b9e\u73b0\u3002</li> <li>\u7f13\u51b2\u533a\u7ba1\u7406\uff1a\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u9002\u5f53\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\u9879\uff0c\u4f8b\u5982\u961f\u5217\u3001\u6808\u6216\u5faa\u73af\u7f13\u51b2\u533a\u3002\u540c\u65f6\uff0c\u9700\u8981\u8003\u8651\u7f13\u51b2\u533a\u7684\u5bb9\u91cf\u9650\u5236</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_45","title":"\u54f2\u5b66\u5bb6\u8fdb\u9910\u95ee\u9898\uff1f","text":"<p>\u54f2\u5b66\u5bb6\u8fdb\u9910\u95ee\u9898\u7528\u4e8e\u63cf\u8ff0\u591a\u7ebf\u7a0b\u95f4\u7684\u540c\u6b65\u548c\u4e92\u65a5\u95ee\u9898\u3002\u95ee\u9898\u8bbe\u5b9a\u4e3a \u6709\u4e94\u4f4d\u54f2\u5b66\u5bb6\u56f4\u5750\u5728\u4e00\u4e2a\u5706\u684c\u4e0a\uff0c\u4ed6\u4eec\u4e4b\u95f4\u5171\u4eab\u4e94\u6839\u7b77\u5b50\u3002\u54f2\u5b66\u5bb6\u7684\u751f\u6d3b\u5305\u62ec\u4e24\u4e2a\u884c\u4e3a\uff1a\u601d\u8003\u548c\u8fdb\u9910\u3002\u5f53\u54f2\u5b66\u5bb6\u997f\u4e86\uff0c\u4ed6\u4eec\u9700\u8981\u62ff\u8d77\u5de6\u53f3\u4e24\u8fb9\u7684\u7b77\u5b50\u624d\u80fd\u5f00\u59cb\u8fdb\u9910\uff0c\u8fdb\u9910\u5b8c\u6bd5\u540e\u653e\u4e0b\u7b77\u5b50\u7ee7\u7eed\u601d\u8003\u3002\u95ee\u9898\u7684\u5173\u952e\u5728\u4e8e\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5e76\u53d1\u7b97\u6cd5\uff0c\u4f7f\u5f97\u54f2\u5b66\u5bb6\u4eec\u80fd\u591f\u540c\u65f6\u8fdb\u9910\u800c\u4e0d\u53d1\u751f\u6b7b\u9501\u6216\u997f\u6b7b\u7684\u60c5\u51b5\u3002</p> <p>\u4ee5\u4e0b\u662f\u54f2\u5b66\u5bb6\u8fdb\u9910\u95ee\u9898\u7684\u4e00\u4e9b\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>\u987a\u5e8f\u52a0\u9501\uff1a\u6bcf\u4e2a\u54f2\u5b66\u5bb6\u6309\u7167\u987a\u5e8f\u5148\u62ff\u8d77\u5de6\u8fb9\u7684\u7b77\u5b50\uff0c\u518d\u62ff\u8d77\u53f3\u8fb9\u7684\u7b77\u5b50\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u5bfc\u81f4\u6b7b\u9501\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u54f2\u5b66\u5bb6\u90fd\u62ff\u8d77\u4e86\u5de6\u8fb9\u7684\u7b77\u5b50\uff0c\u5374\u7b49\u4e0d\u5230\u53f3\u8fb9\u7684\u7b77\u5b50</li> <li>\u8d44\u6e90\u5206\u7ea7\uff1a\u4e3a\u6bcf\u6839\u7b77\u5b50\u5206\u914d\u4e00\u4e2a\u4f18\u5148\u7ea7\uff0c\u6bcf\u4e2a\u54f2\u5b66\u5bb6\u603b\u662f\u5148\u62ff\u8d77\u4f18\u5148\u7ea7\u8f83\u9ad8\u7684\u7b77\u5b50\uff0c\u518d\u62ff\u8d77\u4f18\u5148\u7ea7\u8f83\u4f4e\u7684\u7b77\u5b50\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u6b7b\u9501\uff0c\u56e0\u4e3a\u81f3\u5c11\u6709\u4e00\u4e2a\u54f2\u5b66\u5bb6\u53ef\u4ee5\u62ff\u5230\u4e24\u6839\u7b77\u5b50</li> <li>\u9650\u5236\u540c\u65f6\u8fdb\u9910\u4eba\u6570\uff1a\u9650\u5236\u540c\u65f6\u8fdb\u9910\u7684\u54f2\u5b66\u5bb6\u6570\u91cf\uff0c\u4f8b\u5982\u6700\u591a\u5141\u8bb8\u56db\u4f4d\u54f2\u5b66\u5bb6\u540c\u65f6\u8fdb\u9910\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u6b7b\u9501\uff0c\u56e0\u4e3a\u603b\u662f\u81f3\u5c11\u6709\u4e00\u4f4d\u54f2\u5b66\u5bb6\u80fd\u591f\u62ff\u5230\u4e24\u6839\u7b77\u5b50</li> <li>\u5947\u5076\u5206\u7ec4\uff1a\u5c06\u54f2\u5b66\u5bb6\u5206\u4e3a\u5947\u6570\u548c\u5076\u6570\u4e24\u7ec4\uff0c\u6bcf\u7ec4\u54f2\u5b66\u5bb6\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6bb5\u5c1d\u8bd5\u62ff\u8d77\u7b77\u5b50\u3002\u4f8b\u5982\uff0c\u5947\u6570\u54f2\u5b66\u5bb6\u5148\u62ff\u8d77\u5de6\u8fb9\u7684\u7b77\u5b50\uff0c\u518d\u62ff\u8d77\u53f3\u8fb9\u7684\u7b77\u5b50\uff1b\u5076\u6570\u54f2\u5b66\u5bb6\u5148\u62ff\u8d77\u53f3\u8fb9\u7684\u7b77\u5b50\uff0c\u518d\u62ff\u8d77\u5de6\u8fb9\u7684\u7b77\u5b50\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u6b7b\u9501\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u5185\u603b\u662f\u6709\u4e00\u4f4d\u54f2\u5b66\u5bb6\u80fd\u591f\u62ff\u5230\u4e24\u6839\u7b77\u5b50</li> <li>\u4f7f\u7528\u4fe1\u53f7\u91cf\u6216\u6761\u4ef6\u53d8\u91cf\uff1a\u53ef\u4ee5\u4f7f\u7528\u4fe1\u53f7\u91cf\u6216\u6761\u4ef6\u53d8\u91cf\u6765\u63a7\u5236\u7b77\u5b50\u7684\u4f7f\u7528\uff0c\u786e\u4fdd\u5728\u54f2\u5b66\u5bb6\u62ff\u8d77\u4e24\u6839\u7b77\u5b50\u65f6\u4e0d\u4f1a\u53d1\u751f\u6b7b\u9501\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u4e3a\u6bcf\u6839\u7b77\u5b50\u5206\u914d\u4e00\u4e2a\u4e92\u65a5\u9501\uff0c\u5e76\u4f7f\u7528\u6761\u4ef6\u53d8\u91cf\u6765\u7b49\u5f85\u7b77\u5b50\u7684\u53ef\u7528\u6027</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_46","title":"\u5185\u5b58\u7ba1\u7406","text":""},{"location":"Operating%20System/OperatingSystem/#_47","title":"\u5185\u5b58\u865a\u62df\u5316\u662f\u4ec0\u4e48\uff0c\u8fd9\u4e48\u505a\u6709\u4ec0\u4e48\u76ee\u7684\uff1f","text":"<p>\u5185\u5b58\u865a\u62df\u5316\u662f\u4e00\u79cd\u5c06\u7269\u7406\u5185\u5b58\u8d44\u6e90\u62bd\u8c61\u3001\u7ba1\u7406\u548c\u5206\u914d\u7684\u6280\u672f\u3002\u5b83\u5141\u8bb8\u5c06\u8ba1\u7b97\u673a\u7684\u7269\u7406\u5185\u5b58\u5212\u5206\u4e3a\u72ec\u7acb\u7684\u3001\u9694\u79bb\u7684\u865a\u62df\u5185\u5b58\u5757\uff0c\u6bcf\u4e2a\u865a\u62df\u5185\u5b58\u5757\u90fd\u7531\u64cd\u4f5c\u7cfb\u7edf\u6216\u865a\u62df\u673a\u7ba1\u7406\u3002\u5185\u5b58\u865a\u62df\u5316\u53ef\u4ee5\u5728\u591a\u4e2a\u5c42\u6b21\u5b9e\u73b0\uff0c\u5982\u786c\u4ef6\u5c42\u3001\u64cd\u4f5c\u7cfb\u7edf\u5c42\u6216\u5e94\u7528\u7a0b\u5e8f\u5c42\u3002</p> <p>\u5176\u4e3b\u8981\u76ee\u7684\u6709\uff1a</p> <ul> <li>\u8d44\u6e90\u9694\u79bb\u4e0e\u5171\u4eab\uff1a\u5185\u5b58\u865a\u62df\u5316\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u8fdb\u7a0b\u3001\u5e94\u7528\u7a0b\u5e8f\u6216\u865a\u62df\u673a\u4e4b\u95f4\u9694\u79bb\u5185\u5b58\u8d44\u6e90\uff0c\u4ece\u800c\u63d0\u9ad8\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u5b89\u5168\u6027\u3002\u540c\u65f6\uff0c\u5185\u5b58\u865a\u62df\u5316\u8fd8\u652f\u6301\u7075\u6d3b\u5730\u5171\u4eab\u5185\u5b58\u8d44\u6e90\uff0c\u4ee5\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u548c\u8d44\u6e90\u5229\u7528\u7387\u6700\u5927\u5316</li> <li>\u6613\u7528\u6027\uff1a\u5185\u5b58\u865a\u62df\u5316\u7b80\u5316\u4e86\u5185\u5b58\u7ba1\u7406\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u5458\u65e0\u9700\u5173\u6ce8\u7269\u7406\u5185\u5b58\u7684\u5177\u4f53\u7ec6\u8282\u3002\u7a0b\u5e8f\u5458\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u7f16\u5199\u4ee3\u7801\uff0c\u800c\u64cd\u4f5c\u7cfb\u7edf\u548c\u786c\u4ef6\u8d1f\u8d23\u5904\u7406\u5185\u5b58\u5206\u914d\u3001\u56de\u6536\u7b49\u95ee\u9898</li> <li>\u5bb9\u9519\u4e0e\u6062\u590d\uff1a\u5185\u5b58\u865a\u62df\u5316\u6709\u52a9\u4e8e\u5b9e\u73b0\u5bb9\u9519\u548c\u6545\u969c\u6062\u590d\u3002\u5f53\u7cfb\u7edf\u53d1\u751f\u6545\u969c\u65f6\uff0c\u53ef\u4ee5\u5c06\u865a\u62df\u5185\u5b58\u7684\u72b6\u6001\u4fdd\u5b58\u5230\u786c\u76d8\u4e0a\uff0c\u7136\u540e\u5728\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0a\u6062\u590d\u865a\u62df\u5185\u5b58\u72b6\u6001\uff0c\u4ee5\u5b9e\u73b0\u5feb\u901f\u6062\u590d</li> <li>\u5185\u5b58\u4f18\u5316\uff1a\u5185\u5b58\u865a\u62df\u5316\u652f\u6301\u4e00\u4e9b\u5185\u5b58\u4f18\u5316\u6280\u672f\uff0c\u5982\u6309\u9700\u5206\u914d\u3001\u5185\u5b58\u53bb\u91cd\u548c\u5185\u5b58\u538b\u7f29\u3002\u8fd9\u4e9b\u6280\u672f\u53ef\u4ee5\u63d0\u9ad8\u5185\u5b58\u8d44\u6e90\u7684\u5229\u7528\u7387\uff0c\u964d\u4f4e\u5185\u5b58\u6210\u672c</li> <li>\u8fdb\u7a0b\u4fdd\u62a4\uff1a\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u8fd9\u6837\u5c31\u80fd\u9632\u6b62\u4e00\u4e2a\u8fdb\u7a0b\u610f\u5916\u6216\u6076\u610f\u5730\u8bbf\u95ee\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_48","title":"\u903b\u8f91\u5730\u5740(\u865a\u62df\u5730\u5740)\u4e0e\u7269\u7406\u5730\u5740\u7684\u533a\u522b\uff1f","text":"<p>\u903b\u8f91\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u662f\u7528\u4e8e\u63cf\u8ff0\u5185\u5b58\u4f4d\u7f6e\u7684\u4e24\u79cd\u4e0d\u540c\u65b9\u5f0f\u3002\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u5982\u4e0b\uff1a</p> <ul> <li>\u903b\u8f91\u5730\u5740\uff1a \u903b\u8f91\u5730\u5740\u4e5f\u79f0\u4e3a\u865a\u62df\u5730\u5740\uff0c \u662f\u7531 CPU \u751f\u6210\u7684\u5730\u5740\u3002\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\uff0c\u5b83\u6240\u5f15\u7528\u7684\u5185\u5b58\u5730\u5740\u90fd\u662f\u903b\u8f91\u5730\u5740\u3002\u903b\u8f91\u5730\u5740\u662f\u76f8\u5bf9\u4e8e\u6bcf\u4e2a\u8fd0\u884c\u7684\u8fdb\u7a0b\u7684\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u903b\u8f91\u5730\u5740\u7a7a\u95f4\u3002\u903b\u8f91\u5730\u5740\u7531\u64cd\u4f5c\u7cfb\u7edf\u548c\u786c\u4ef6\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u6620\u5c04\u5230\u7269\u7406\u5730\u5740\uff0c\u4ee5\u8bbf\u95ee\u5b9e\u9645\u7684\u7269\u7406\u5185\u5b58\u3002\u8fd9\u79cd\u6620\u5c04\u673a\u5236\u4f7f\u5f97\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u53ef\u4ee5\u8ba4\u4e3a\u81ea\u5df1\u62e5\u6709\u8fde\u7eed\u7684\u3001\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u800c\u65e0\u9700\u5173\u5fc3\u5176\u4ed6\u8fdb\u7a0b\u548c\u7269\u7406\u5185\u5b58\u7684\u5b9e\u9645\u5e03\u5c40</li> <li>\u7269\u7406\u5730\u5740\uff1a\u7269\u7406\u5730\u5740\u662f\u5b9e\u9645\u5185\u5b58\u786c\u4ef6\u4e2d\u7684\u5730\u5740\uff0c\u7528\u4e8e\u5728\u7269\u7406\u5185\u5b58(\u5982 RAM)\u4e2d\u5b9a\u4f4d\u6570\u636e\u3002\u7269\u7406\u5730\u5740\u662f\u5168\u5c40\u552f\u4e00\u7684\uff0c\u5b83\u76f4\u63a5\u8868\u793a\u7269\u7406\u5185\u5b58\u4e2d\u7684\u4f4d\u7f6e\u3002\u5f53\u7a0b\u5e8f\u901a\u8fc7\u903b\u8f91\u5730\u5740\u8bbf\u95ee\u5185\u5b58\u65f6\uff0c\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u4f1a\u5c06\u903b\u8f91\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\uff0c\u7136\u540e\u5728\u7269\u7406\u5185\u5b58\u4e2d\u8bfb\u53d6\u6216\u5199\u5165\u6570\u636e</li> </ul> <p>\u903b\u8f91\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u4e4b\u95f4\u7684\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u8868\u793a\u7684\u5185\u5b58\u4f4d\u7f6e\u7c7b\u578b\u548c\u7528\u9014\u3002\u903b\u8f91\u5730\u5740\u7531\u7a0b\u5e8f\u548c CPU \u751f\u6210\uff0c\u7528\u4e8e\u8868\u793a\u8fdb\u7a0b\u5185\u90e8\u7684\u5185\u5b58\u5f15\u7528\u3002\u7269\u7406\u5730\u5740\u8868\u793a\u5b9e\u9645\u5185\u5b58\u786c\u4ef6\u4e2d\u7684\u4f4d\u7f6e\uff0c\u7528\u4e8e\u5728\u7269\u7406\u5185\u5b58\u4e2d\u8bbf\u95ee\u6570\u636e\u3002\u903b\u8f91\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u4e4b\u95f4\u7684\u6620\u5c04\u7531\u64cd\u4f5c\u7cfb\u7edf\u548c\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u5b8c\u6210\uff0c\u4ee5\u5b9e\u73b0\u5185\u5b58\u865a\u62df\u5316\u3001\u8fdb\u7a0b\u9694\u79bb\u548c\u8d44\u6e90\u7ba1\u7406\u7b49\u529f\u80fd\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_49","title":"\u64cd\u4f5c\u7cfb\u7edf\u5728\u5bf9\u5185\u5b58\u7ba1\u7406\u65f6\u505a\u4e86\u4ec0\u4e48\uff1f","text":"<p>\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u4e3a\u8fdb\u7a0b\u5206\u914d\u3001\u7ba1\u7406\u548c\u56de\u6536\u5185\u5b58\u8d44\u6e90\u3002\u64cd\u4f5c\u7cfb\u7edf\u5728\u5185\u5b58\u7ba1\u7406\u65b9\u9762\u4e3b\u8981\u6267\u884c\u4ee5\u4e0b\u4efb\u52a1\uff1a</p> <ul> <li>\u5185\u5b58\u5206\u914d\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u9700\u8981\u5185\u5b58\u7a7a\u95f4\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u4e3a\u5176\u5206\u914d\u5185\u5b58\u3002\u901a\u5e38\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u5185\u5b58\u7a7a\u95f2\u5217\u8868\u6216\u5185\u5b58\u6c60\uff0c\u7528\u4e8e\u8ffd\u8e2a\u53ef\u7528\u7684\u5185\u5b58\u5757\u3002\u5f53\u8fdb\u7a0b\u7533\u8bf7\u5185\u5b58\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4ece\u8fd9\u4e9b\u5217\u8868\u6216\u6c60\u4e2d\u5206\u914d\u5408\u9002\u5927\u5c0f\u7684\u5185\u5b58\u5757</li> <li>\u5730\u5740\u7a7a\u95f4\u7ba1\u7406\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u521b\u5efa\u548c\u7ba1\u7406\u4e00\u4e2a\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002\u865a\u62df\u5730\u5740\u7a7a\u95f4\u662f\u4e00\u4e2a\u8fde\u7eed\u7684\u5730\u5740\u8303\u56f4\uff0c\u7528\u4e8e\u8868\u793a\u8fdb\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u7684\u5185\u5b58\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u5c06\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u5b9e\u9645\u7684\u7269\u7406\u5185\u5b58\u5730\u5740</li> <li>\u5185\u5b58\u4fdd\u62a4\uff1a\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u786e\u4fdd\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u4e0d\u88ab\u5176\u4ed6\u8fdb\u7a0b\u975e\u6cd5\u8bbf\u95ee\u3002\u5185\u5b58\u4fdd\u62a4\u529f\u80fd\u9632\u6b62\u4e00\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u786e\u4fdd\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u5b89\u5168\u6027</li> <li>\u5185\u5b58\u56de\u6536\uff1a\u5f53\u8fdb\u7a0b\u7ec8\u6b62\u6216\u91ca\u653e\u5185\u5b58\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u56de\u6536\u5df2\u5206\u914d\u7684\u5185\u5b58\u8d44\u6e90\u3002\u56de\u6536\u7684\u5185\u5b58\u5c06\u8fd4\u56de\u5230\u7a7a\u95f2\u5185\u5b58\u5217\u8868\u6216\u5185\u5b58\u6c60\uff0c\u4ee5\u4fbf\u540e\u7eed\u5206\u914d\u7ed9\u5176\u4ed6\u8fdb\u7a0b</li> <li>\u9875\u9762\u7f6e\u6362\uff1a\u5728\u865a\u62df\u5185\u5b58\u7cfb\u7edf\u4e2d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u9875\u9762\u7f6e\u6362\u7b97\u6cd5(\u5982 LRU\u3001FIFO \u7b49)\u6765\u7ba1\u7406\u5185\u5b58\u4e2d\u7684\u9875\u9762\u3002\u5f53\u7269\u7406\u5185\u5b58\u4e0d\u8db3\u4ee5\u5bb9\u7eb3\u65b0\u7684\u9875\u9762\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u9875\u9762\u5c06\u5176\u4ece\u5185\u5b58\u4e2d\u6362\u51fa\uff0c\u4ee5\u4fbf\u4e3a\u65b0\u9875\u9762\u817e\u51fa\u7a7a\u95f4</li> <li>\u5185\u5b58\u4f18\u5316\uff1a\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u4e00\u4e9b\u6280\u672f\u6765\u4f18\u5316\u5185\u5b58\u4f7f\u7528\uff0c\u63d0\u9ad8\u5185\u5b58\u8d44\u6e90\u7684\u5229\u7528\u7387\u3002\u4f8b\u5982\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u4f7f\u7528\u5185\u5b58\u53bb\u91cd(\u5c06\u76f8\u540c\u5185\u5bb9\u7684\u591a\u4e2a\u5185\u5b58\u9875\u9762\u5408\u5e76\u4e3a\u4e00\u4e2a)\uff0c\u5185\u5b58\u538b\u7f29(\u538b\u7f29\u4e0d\u5e38\u7528\u7684\u5185\u5b58\u9875\u9762\u4ee5\u8282\u7701\u7a7a\u95f4)\u548c\u6309\u9700\u5206\u914d(\u53ea\u5728\u9700\u8981\u65f6\u5206\u914d\u5185\u5b58)\u7b49\u6280\u672f</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_50","title":"\u8bb2\u4e00\u8bb2\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\uff1f","text":"<p>\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u5b9e\u73b0\u5185\u5b58\u865a\u62df\u5316\u7684\u5173\u952e\u6280\u672f\u3002\u865a\u62df\u5185\u5b58\u5230\u7269\u7406\u5185\u5b58\u7684\u6620\u5c04\u65b9\u5f0f\u4e00\u822c\u6709\u5206\u6bb5\u548c\u5206\u9875\u4e24\u79cd\uff0c\u7531\u4e8e\u5206\u6bb5\u673a\u5236\u5185\u5b58\u788e\u7247\u8f83\u591a\uff0c\u5e38\u7528\u7684\u662f\u5206\u9875\u673a\u5236\u3002\u6620\u5c04\u8fc7\u7a0b\u7531\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u548c\u64cd\u4f5c\u7cfb\u7edf\u5171\u540c\u5b8c\u6210\u3002\u4ee5\u4e0b\u662f\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\u7684\u57fa\u672c\u539f\u7406\uff1a</p> <ul> <li>\u5206\u9875\u673a\u5236\uff1a \u5728\u5206\u9875\u7cfb\u7edf\u4e2d\uff0c\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u90fd\u88ab\u5212\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u5355\u5143\uff0c\u79f0\u4e3a\u9875(page)\u3002\u865a\u62df\u9875\u7684\u5927\u5c0f\u4e0e\u7269\u7406\u9875\u76f8\u540c\uff0c\u901a\u5e38\u4e3a 4KB \u6216\u66f4\u5927\u3002\u5206\u9875\u7cfb\u7edf\u7684\u4e3b\u8981\u76ee\u7684\u662f\u5c06\u865a\u62df\u5185\u5b58\u4e2d\u7684\u9875\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u4e2d\u7684\u9875</li> <li>\u9875\u8868\uff1a \u9875\u8868\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5b58\u50a8\u865a\u62df\u9875\u5230\u7269\u7406\u9875\u7684\u6620\u5c04\u5173\u7cfb\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u9875\u8868\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\u3002\u9875\u8868\u4e2d\u7684\u6bcf\u4e2a\u6761\u76ee\u5305\u542b\u4e00\u4e2a\u865a\u62df\u9875\u53f7\u548c\u5bf9\u5e94\u7684\u7269\u7406\u9875\u53f7\u3002\u5f53 CPU \u8bbf\u95ee\u865a\u62df\u5185\u5b58\u65f6\uff0cMMU \u4f1a\u4f7f\u7528\u9875\u8868\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740</li> <li>\u5730\u5740\u8f6c\u6362\uff1a \u865a\u62df\u5730\u5740\u901a\u5e38\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u865a\u62df\u9875\u53f7(VPN)\u548c\u9875\u5185\u504f\u79fb(offset)\u3002\u865a\u62df\u9875\u53f7\u7528\u4e8e\u67e5\u627e\u9875\u8868\u4e2d\u76f8\u5e94\u7684\u7269\u7406\u9875\u53f7\uff0c\u800c\u9875\u5185\u504f\u79fb\u8868\u793a\u5728\u7269\u7406\u9875\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\u3002\u5730\u5740\u8f6c\u6362\u8fc7\u7a0b\u5982\u4e0b\uff1a</li> <li>CPU \u751f\u6210\u4e00\u4e2a\u865a\u62df\u5730\u5740</li> <li>MMU \u4ece\u865a\u62df\u5730\u5740\u4e2d\u63d0\u53d6\u865a\u62df\u9875\u53f7(VPN)\u548c\u9875\u5185\u504f\u79fb(offset)</li> <li>MMU \u4f7f\u7528 VPN \u5728\u9875\u8868\u4e2d\u67e5\u627e\u5bf9\u5e94\u7684\u7269\u7406\u9875\u53f7(PPN)</li> <li>MMU \u5c06\u7269\u7406\u9875\u53f7(PPN)\u4e0e\u9875\u5185\u504f\u79fb(offset)\u7ec4\u5408\u6210\u7269\u7406\u5730\u5740</li> <li>CPU \u4f7f\u7528\u7269\u7406\u5730\u5740\u8bbf\u95ee\u7269\u7406\u5185\u5b58</li> <li>\u9875\u9762\u7f6e\u6362\u548c\u7f3a\u9875\u4e2d\u65ad\uff1a\u5f53\u865a\u62df\u9875\u5c1a\u672a\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u65f6\uff0c\u53d1\u751f\u9875\u9762\u7f3a\u5931(page fault)\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u4ece\u786c\u76d8\u6216\u5176\u4ed6\u5b58\u50a8\u8bbe\u5907\u4e2d\u52a0\u8f7d\u6240\u9700\u7684\u865a\u62df\u9875\uff0c\u5e76\u5c06\u5176\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u3002\u4e3a\u4e86\u817e\u51fa\u7a7a\u95f4\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u5df2\u52a0\u8f7d\u7684\u9875\u9762\uff0c\u5c06\u5176\u6362\u51fa\u5230\u786c\u76d8\u3002\u9875\u9762\u7f6e\u6362\u7b97\u6cd5(\u5982 LRU\u3001 FIFO \u7b49)\u7528\u4e8e\u51b3\u5b9a\u54ea\u4e2a\u9875\u9762\u5e94\u8be5\u88ab\u6362\u51fa</li> <li>\u591a\u7ea7\u9875\u8868\uff1a\u591a\u7ea7\u9875\u8868\u662f\u4e00\u79cd\u7528\u4e8e\u51cf\u5c11\u9875\u8868\u5927\u5c0f\u7684\u6280\u672f\u3002\u5728\u5177\u6709\u5927\u91cf\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u7cfb\u7edf\u4e2d\uff0c\u4f7f\u7528\u5355\u7ea7\u9875\u8868\u53ef\u80fd\u5bfc\u81f4\u6d6a\u8d39\u5927\u91cf\u5185\u5b58\u3002\u591a\u7ea7\u9875\u8868\u901a\u8fc7\u5c06\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5212\u5206\u4e3a\u591a\u4e2a\u5c42\u6b21\u6765\u51cf\u5c0f\u9875\u8868\u7684\u5927\u5c0f\u3002\u6bcf\u4e2a\u5c42\u6b21\u90fd\u6709\u81ea\u5df1\u7684\u9875\u8868\uff0c\u53ea\u6709\u5728\u9700\u8981\u65f6\u624d\u4f1a\u5206\u914d\u3002\u8fd9\u6837\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u5185\u5b58\u5f00\u9500</li> <li>\u5feb\u8868(TLB)\uff1a\u5feb\u8868\uff0c\u4e5f\u79f0\u4e3a\u8f6c\u6362\u540e\u63f4\u7f13\u51b2(Translation Lookaside Buffer)\uff0c\u662f\u4e00\u79cd\u786c\u4ef6\u7f13\u5b58\uff0c\u7528\u4e8e\u52a0\u901f\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u8f6c\u6362\u8fc7\u7a0b\u3002TLB \u5c06\u6700\u8fd1\u4f7f\u7528\u8fc7\u7684\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u5b58\u50a8\u5728\u9ad8\u901f\u7f13\u5b58\u4e2d\uff0c\u4ee5\u4fbf\u5feb\u901f\u67e5\u627e\u3002\u5f53 MMU \u9700\u8981\u8f6c\u6362\u4e00\u4e2a\u865a\u62df\u5730\u5740\u65f6\uff0c\u5b83\u9996\u5148\u68c0\u67e5 TLB \u662f\u5426\u5305\u542b\u6240\u9700\u7684\u6620\u5c04\u3002\u5982\u679c TLB \u4e2d\u5b58\u5728\u6620\u5c04\uff0cMMU \u53ef\u4ee5\u907f\u514d\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\uff0c\u4ece\u800c\u52a0\u901f\u5730\u5740\u8f6c\u6362\u8fc7\u7a0b</li> <li>\u5185\u5b58\u5206\u914d\u7b56\u7565\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u4e0d\u540c\u7684\u5185\u5b58\u5206\u914d\u7b56\u7565\u6765\u7ba1\u7406\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u3002 \u6309\u9700\u5206\u914d(demand paging)  \u662f\u4e00\u79cd\u5e38\u7528\u7684\u7b56\u7565\uff0c\u5b83\u53ea\u5728\u8fdb\u7a0b\u5b9e\u9645\u8bbf\u95ee\u865a\u62df\u5185\u5b58\u65f6\u624d\u5c06\u865a\u62df\u9875\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u3002 \u9884\u53d6(prefetching)  \u662f\u53e6\u4e00\u79cd\u7b56\u7565\uff0c\u5b83\u6839\u636e\u8fdb\u7a0b\u7684\u8bbf\u95ee\u6a21\u5f0f\u63d0\u524d\u52a0\u8f7d\u53ef\u80fd\u9700\u8981\u7684\u865a\u62df\u9875\uff0c\u4ee5\u51cf\u5c11\u9875\u9762\u7f3a\u5931\u7684\u5f00\u9500</li> <li>\u5185\u5b58\u5171\u4eab\uff1a\u5185\u5b58\u5171\u4eab\u662f\u4e00\u79cd\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u76f8\u540c\u7269\u7406\u5185\u5b58\u533a\u57df\u7684\u6280\u672f\u3002\u901a\u8fc7\u5c06\u4e0d\u540c\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u540c\u4e00\u7269\u7406\u9875\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5b9e\u73b0\u5185\u5b58\u5171\u4eab\u3002\u8fd9\u79cd\u6280\u672f\u5728\u5171\u4eab\u5e93\u3001\u8fdb\u7a0b\u95f4\u901a\u4fe1\u548c\u5185\u5b58\u53bb\u91cd\u7b49\u573a\u666f\u4e2d\u975e\u5e38\u6709\u7528</li> </ul> <p>\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58\u7684\u6620\u5c04\u673a\u5236\u901a\u8fc7\u5206\u9875\u3001\u9875\u8868\u3001\u5730\u5740\u8f6c\u6362\u3001\u591a\u7ea7\u9875\u8868\u3001TLB\u3001\u5185\u5b58\u5206\u914d\u7b56\u7565\u7b49\u6280\u672f\u5b9e\u73b0\u3002\u8fd9\u79cd\u6620\u5c04\u63d0\u4f9b\u4e86\u5185\u5b58\u865a\u62df\u5316\u3001\u8fdb\u7a0b\u9694\u79bb\u548c\u5185\u5b58\u4f18\u5316\u7b49\u5173\u952e\u529f\u80fd\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_51","title":"\u4ec0\u4e48\u662f\u6362\u9875\u673a\u5236\uff1f","text":"<p>\u6362\u9875\u673a\u5236(Paging)\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u4e00\u79cd\u7528\u4e8e\u5185\u5b58\u7ba1\u7406\u548c\u865a\u62df\u5185\u5b58\u5b9e\u73b0\u7684\u6280\u672f\u3002\u5b83\u5c06\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u5206\u6210\u56fa\u5b9a\u5927\u5c0f\u7684\u5355\u5143\uff0c\u79f0\u4e3a\u201c\u9875\u201d(Page)\u3002\u6362\u9875\u673a\u5236\u7684\u4e3b\u8981\u76ee\u7684\u662f\u5141\u8bb8\u5c06\u865a\u62df\u5185\u5b58\u4e2d\u7684\u9875\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u4e2d\u7684\u9875\uff0c\u4ece\u800c\u5b9e\u73b0\u5185\u5b58\u865a\u62df\u5316\u3001\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\u548c\u5b9e\u73b0\u8fdb\u7a0b\u9694\u79bb\u3002\u6362\u9875\u673a\u5236\u7684\u6838\u5fc3\u6982\u5ff5\u5982\u4e0b\uff1a</p> <ul> <li>\u9875(Page)\uff1a\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u90fd\u88ab\u5212\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u5355\u5143\uff0c\u901a\u5e38\u4e3a 4KB \u6216\u66f4\u5927\u3002\u865a\u62df\u9875\u548c\u7269\u7406\u9875\u7684\u5927\u5c0f\u76f8\u540c\u3002</li> <li>\u9875\u8868(Page Table)\uff1a\u9875\u8868\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5b58\u50a8\u865a\u62df\u9875\u548c\u7269\u7406\u9875\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u9875\u8868\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406</li> <li>\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\uff1a\u5185\u5b58\u7ba1\u7406\u5355\u5143\u662f\u786c\u4ef6\u7ec4\u4ef6\uff0c\u8d1f\u8d23\u5728 CPU \u8bbf\u95ee\u5185\u5b58\u65f6\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\u3002MMU \u4f7f\u7528\u9875\u8868\u5b8c\u6210\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04</li> <li>\u9875\u9762\u7f6e\u6362\u7b97\u6cd5\uff1a\u5f53\u7269\u7406\u5185\u5b58\u4e2d\u6ca1\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u5bb9\u7eb3\u65b0\u7684\u865a\u62df\u9875\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2a\u7269\u7406\u9875\u5c06\u5176\u6362\u51fa\u4ee5\u817e\u51fa\u7a7a\u95f4\u3002\u9875\u9762\u7f6e\u6362\u7b97\u6cd5(\u5982\u6700\u8fd1\u6700\u5c11\u4f7f\u7528(LRU)\u3001\u5148\u8fdb\u5148\u51fa(FIFO)\u7b49)\u7528\u4e8e\u786e\u5b9a\u54ea\u4e9b\u9875\u5e94\u8be5\u88ab\u6362\u51fa</li> <li>\u7f3a\u9875\u4e2d\u65ad(Page Fault)\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u8bd5\u56fe\u8bbf\u95ee\u5c1a\u672a\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u7684\u865a\u62df\u9875\u65f6\uff0c\u4f1a\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u3002\u6b64\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u4ece\u786c\u76d8\u6216\u5176\u4ed6\u5b58\u50a8\u8bbe\u5907\u52a0\u8f7d\u6240\u9700\u7684\u865a\u62df\u9875\uff0c\u5e76\u5c06\u5176\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58</li> </ul> <p>\u6362\u9875\u673a\u5236\u901a\u8fc7\u5c06\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u5212\u5206\u4e3a\u9875\uff0c\u5e76\u4f7f\u7528\u9875\u8868\u548c MMU \u8fdb\u884c\u5730\u5740\u6620\u5c04\uff0c\u5b9e\u73b0\u4e86\u5185\u5b58\u865a\u62df\u5316\u3001\u5185\u5b58\u4f18\u5316\u548c\u8fdb\u7a0b\u9694\u79bb\u7b49\u5173\u952e\u529f\u80fd\u3002\u6b64\u5916\uff0c\u6362\u9875\u673a\u5236\u8fd8\u5141\u8bb8\u64cd\u4f5c\u7cfb\u7edf\u52a8\u6001\u5730\u5c06\u8fdb\u7a0b\u7684\u5185\u5b58\u90e8\u5206\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\uff0c\u4ece\u800c\u5728\u6709\u9650\u7684\u7269\u7406\u5185\u5b58\u4e2d\u8fd0\u884c\u66f4\u591a\u7684\u8fdb\u7a0b\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_52","title":"\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u7f3a\u9875\u4e2d\u65ad\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#_53","title":"\u6982\u5ff5","text":"<p>\u7f3a\u9875\u4e2d\u65ad(Page Fault)\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u4e00\u79cd\u4e2d\u65ad\uff0c\u4e3b\u8981\u53d1\u751f\u5728\u7a0b\u5e8f\u8bbf\u95ee\u5230\u4e86\u4e00\u4e2a\u5c1a\u672a\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58(RAM)\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u65f6\u3002\u5f53\u7a0b\u5e8f\u8bd5\u56fe\u8bbf\u95ee\u8fd9\u4e2a\u5730\u5740\u65f6\uff0cCPU \u4f1a\u89e6\u53d1\u4e00\u4e2a\u7f3a\u9875\u4e2d\u65ad\uff0c\u901a\u77e5\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u52a0\u8f7d\u76f8\u5e94\u7684\u5185\u5b58\u9875\u9762\u3002\u7f3a\u9875\u4e2d\u65ad\u662f\u5185\u5b58\u7ba1\u7406\u7684\u4e00\u90e8\u5206\uff0c\u5c24\u5176\u662f\u5728\u865a\u62df\u5185\u5b58\u7cfb\u7edf\u4e2d\u3002\u5173\u4e8e\u7f3a\u9875\u4e2d\u65ad\u7684\u6838\u5fc3\u6982\u5ff5\uff1a</p> <ul> <li>\u865a\u62df\u5185\u5b58\uff1a\u865a\u62df\u5185\u5b58\u662f\u4e00\u79cd\u5185\u5b58\u7ba1\u7406\u6280\u672f\uff0c\u5b83\u4f7f\u5f97\u7a0b\u5e8f\u80fd\u591f\u8bbf\u95ee\u5230\u6bd4\u7269\u7406\u5185\u5b58\u66f4\u5927\u7684\u5730\u5740\u7a7a\u95f4\u3002\u865a\u62df\u5185\u5b58\u5229\u7528\u4e86\u786c\u76d8\u7a7a\u95f4\u6765\u6a21\u62df\u66f4\u5927\u7684\u5185\u5b58\uff0c\u4ece\u800c\u4f7f\u5f97\u7a0b\u5e8f\u80fd\u591f\u5728\u6709\u9650\u7684\u7269\u7406\u5185\u5b58\u4e2d\u66f4\u52a0\u9ad8\u6548\u5730\u8fd0\u884c</li> <li>\u5185\u5b58\u5206\u9875\uff1a\u865a\u62df\u5185\u5b58\u901a\u5e38\u4f1a\u88ab\u5206\u5272\u6210\u56fa\u5b9a\u5927\u5c0f\u7684\u5355\u5143\uff0c\u79f0\u4e3a\u9875(Page)\u3002\u7269\u7406\u5185\u5b58\u540c\u6837\u4f1a\u88ab\u5206\u5272\u6210\u76f8\u540c\u5927\u5c0f\u7684\u5355\u5143\uff0c\u79f0\u4e3a\u9875\u5e27(Page Frame)\u3002\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u865a\u62df\u5185\u5b58\u4e0e\u7269\u7406\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb</li> <li>\u9875\u8868\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u4e00\u79cd\u79f0\u4e3a\u9875\u8868(Page Table)\u7684\u6570\u636e\u7ed3\u6784\u6765\u7ef4\u62a4\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002\u6bcf\u4e2a\u8fd0\u884c\u4e2d\u7684\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u9875\u8868</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_54","title":"\u8fc7\u7a0b","text":"<p>\u5f53\u7a0b\u5e8f\u8bbf\u95ee\u4e00\u4e2a\u672a\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u7684\u865a\u62df\u5730\u5740\u65f6\uff0cCPU \u4f1a\u89e6\u53d1\u7f3a\u9875\u4e2d\u65ad\u3002\u8fd9\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ol> <li>\u68c0\u67e5\u865a\u62df\u5730\u5740\u662f\u5426\u6709\u6548\uff0c\u5373\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u7684\u865a\u62df\u5185\u5b58\u9875\u3002\u5982\u679c\u65e0\u6548\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c06\u5411\u7a0b\u5e8f\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\uff0c\u53ef\u80fd\u5bfc\u81f4\u7a0b\u5e8f\u7ec8\u6b62</li> <li>\u5982\u679c\u865a\u62df\u5730\u5740\u6709\u6548\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a \u67e5\u627e\u4e00\u4e2a\u7a7a\u95f2\u7684\u7269\u7406\u5185\u5b58\u9875\u5e27 \u6765\u5b58\u50a8\u6240\u9700\u7684\u865a\u62df\u5185\u5b58\u9875</li> <li>\u5982 \u679c\u6ca1\u6709\u7a7a\u95f2\u7684\u7269\u7406\u5185\u5b58\u9875\u5e27\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u9009\u62e9\u4e00\u4e2a\u5f53\u524d\u5df2\u52a0\u8f7d\u7684\u9875\u9762\u8fdb\u884c\u66ff\u6362\uff0c\u5c06\u5176\u5199\u56de\u786c\u76d8(\u5982\u679c\u88ab\u4fee\u6539\u8fc7)\u4ee5\u91ca\u653e\u9875\u5e27</li> <li>\u64cd\u4f5c\u7cfb\u7edf\u4ece\u786c\u76d8\u4e2d\u8bfb\u53d6\u6240\u9700\u7684\u865a\u62df\u5185\u5b58\u9875\u5e76\u5c06\u5176\u52a0\u8f7d\u5230\u65b0\u5206\u914d\u7684\u7269\u7406\u5185\u5b58\u9875\u5e27\u4e2d</li> <li>\u66f4\u65b0\u9875\u8868\uff0c\u5c06\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u65b0\u5206\u914d\u7684\u7269\u7406\u5185\u5b58\u9875\u5e27</li> <li>\u6062\u590d\u7a0b\u5e8f\u6267\u884c\uff0c\u4f7f\u7a0b\u5e8f\u80fd\u591f\u7ee7\u7eed\u8bbf\u95ee\u6240\u9700\u7684\u865a\u62df\u5185\u5b58\u5730\u5740</li> </ol>"},{"location":"Operating%20System/OperatingSystem/#_55","title":"\u4f18\u5316\u7b56\u7565","text":"<p>\u7f3a\u9875\u4e2d\u65ad\u662f\u4e00\u79cd\u6709\u6548\u5730\u7ba1\u7406\u6709\u9650\u7269\u7406\u5185\u5b58\u8d44\u6e90\u7684\u65b9\u6cd5\uff0c\u5b83\u53ef\u4ee5\u5b9e\u73b0\u5185\u5b58\u6570\u636e\u6309\u9700\u52a0\u8f7d\uff0c\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\u3002\u7136\u800c\uff0c\u7f3a\u9875\u4e2d\u65ad\u7684\u5904\u7406\u8fc7\u7a0b\u6d89\u53ca\u786c\u76d8\u8bfb\u5199\uff0c\u76f8\u8f83\u4e8e\u5185\u5b58\u8bbf\u95ee\u901f\u5ea6\uff0c\u786c\u76d8\u8bfb\u5199\u901f\u5ea6\u8f83\u6162\uff0c\u56e0\u6b64\u7f3a\u9875\u4e2d\u65ad\u4f1a\u5bf9\u7cfb\u7edf\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u3002\u4e3a\u4e86\u51cf\u8f7b\u7f3a\u9875\u4e2d\u65ad\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff0c\u64cd\u4f5c\u7cfb\u7edf\u91c7\u7528\u4e86\u4ee5\u4e0b\u4f18\u5316\u7b56\u7565\uff1a</p> <ul> <li>\u7f13\u5b58\u4e0e\u7f13\u51b2\uff1a\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u4f7f\u7528\u7f13\u5b58\u548c\u7f13\u51b2\u533a\u6765\u51cf\u5c11\u786c\u76d8\u8bbf\u95ee\u6b21\u6570\u3002\u7f13\u5b58\u53ef\u4ee5\u6682\u5b58\u6700\u8fd1\u8bbf\u95ee\u8fc7\u7684\u786c\u76d8\u6570\u636e\uff0c\u63d0\u9ad8\u6570\u636e\u8bfb\u53d6\u901f\u5ea6\u3002\u7f13\u51b2\u533a\u53ef\u4ee5\u5408\u5e76\u591a\u4e2a\u8fde\u7eed\u7684\u5199\u64cd\u4f5c\uff0c\u51cf\u5c11\u786c\u76d8\u5199\u5165\u6b21\u6570</li> <li>\u9884\u53d6\uff1a\u9884\u53d6\u662f\u4e00\u79cd\u9884\u6d4b\u6027\u6280\u672f\uff0c\u5b83\u6839\u636e\u7a0b\u5e8f\u7684\u8bbf\u95ee\u6a21\u5f0f\u6765\u9884\u5148\u52a0\u8f7d\u53ef\u80fd\u88ab\u8bbf\u95ee\u7684\u5185\u5b58\u9875\uff0c\u4ece\u800c\u51cf\u5c11\u7f3a\u9875\u4e2d\u65ad\u7684\u53d1\u751f</li> <li>\u9875\u7f6e\u6362\u7b97\u6cd5\uff1a\u4e3a\u4e86\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u6548\u7387\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u9875\u7f6e\u6362\u7b97\u6cd5\u6765\u51b3\u5b9a\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u5e94\u8be5\u66ff\u6362\u54ea\u4e2a\u7269\u7406\u5185\u5b58\u9875\u5e27\u3002\u5e38\u89c1\u7684\u9875\u7f6e\u6362\u7b97\u6cd5\u6709\uff1a\u6700\u8fd1\u6700\u5c11\u4f7f\u7528(LRU)\u3001\u6700\u4e0d\u7ecf\u5e38\u4f7f\u7528(LFU)\u548c\u65f6\u949f\u7b97\u6cd5\u7b49</li> <li>\u5199\u56de\u7b56\u7565\u4e0e\u5199\u7a7f\u7b56\u7565\uff1a \u5199\u56de\u7b56\u7565\u5141\u8bb8\u64cd\u4f5c\u7cfb\u7edf\u5728\u5c06\u5185\u5b58\u9875\u5199\u56de\u786c\u76d8\u4e4b\u524d\u7f13\u5b58\u4fee\u6539\u8fc7\u7684\u6570\u636e\uff0c\u51cf\u5c11\u786c\u76d8\u5199\u5165\u6b21\u6570\u3002 \u5199\u7a7f\u7b56\u7565\u5219\u8981\u6c42\u6bcf\u6b21\u4fee\u6539\u5185\u5b58\u9875\u65f6\u90fd\u5c06\u66f4\u6539\u7acb\u5373\u5199\u56de\u786c\u76d8\uff0c\u8fd9\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4f46\u4f1a\u589e\u52a0\u786c\u76d8\u5199\u5165\u6b21\u6570</li> <li>\u5185\u5b58\u538b\u7f29\uff1a\u5185\u5b58\u538b\u7f29\u6280\u672f\u53ef\u4ee5\u5c06\u5185\u5b58\u4e2d\u7684\u7a7a\u95f2\u7a7a\u95f4\u538b\u7f29\uff0c\u4ece\u800c\u51cf\u5c11\u5185\u5b58\u788e\u7247\uff0c\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387</li> </ul> <p>\u901a\u8fc7\u8fd9\u4e9b\u4f18\u5316\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u51cf\u8f7b\u7f3a\u9875\u4e2d\u65ad\u5bf9\u7cfb\u7edf\u6027\u80fd\u7684\u5f71\u54cd\uff0c\u5b9e\u73b0\u5bf9\u6709\u9650\u7269\u7406\u5185\u5b58\u8d44\u6e90\u7684\u9ad8\u6548\u7ba1\u7406\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_56","title":"\u6362\u9875\u65f6\u7684\u6296\u52a8\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#_57","title":"\u6982\u5ff5","text":"<p>\u6296\u52a8(Thrashing)\u662f\u4e00\u79cd\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u51fa\u73b0\u7684\u73b0\u8c61\uff0c\u5f53\u7cfb\u7edf\u9891\u7e41\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u5e76\u8fdb\u884c\u6362\u9875\u64cd\u4f5c\u65f6\uff0c\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u6027\u80fd\u6025\u5267\u4e0b\u964d\u3002\u5728\u6296\u52a8\u73b0\u8c61\u4e0b\uff0cCPU \u5927\u90e8\u5206\u65f6\u95f4\u90fd\u7528\u4e8e\u5904\u7406\u7f3a\u9875\u4e2d\u65ad\u548c\u6362\u9875\u64cd\u4f5c\uff0c\u800c\u4e0d\u662f\u6267\u884c\u5b9e\u9645\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u8fd9\u5bfc\u81f4\u7cfb\u7edf\u7684\u541e\u5410\u91cf\u548c\u54cd\u5e94\u65f6\u95f4\u53d8\u5dee\uff0c\u4ece\u800c\u4f7f\u5f97\u7cfb\u7edf\u8868\u73b0\u51fa\u4f4e\u6548\u7684\u8fd0\u884c\u72b6\u6001\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_58","title":"\u539f\u56e0","text":"<ul> <li>\u8fc7\u9ad8\u7684\u5185\u5b58\u9700\u6c42\uff1a\u5f53\u4e00\u4e2a\u6216\u591a\u4e2a\u8fd0\u884c\u4e2d\u7684\u8fdb\u7a0b\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u8d85\u8fc7\u4e86\u53ef\u7528\u7684\u7269\u7406\u5185\u5b58\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u9891\u7e41\u5730\u5728\u7269\u7406\u5185\u5b58\u548c\u786c\u76d8\u4e4b\u95f4\u4ea4\u6362\u5185\u5b58\u9875\u9762\u3002\u8fd9\u5c06\u5bfc\u81f4\u5927\u91cf\u7684\u7f3a\u9875\u4e2d\u65ad\u548c\u6362\u9875\u64cd\u4f5c\uff0c\u4ece\u800c\u5f15\u53d1\u6296\u52a8\u73b0\u8c61</li> <li>\u4e0d\u6070\u5f53\u7684\u5185\u5b58\u5206\u914d\uff1a\u5982\u679c\u64cd\u4f5c\u7cfb\u7edf\u6ca1\u6709\u5408\u7406\u5730\u5206\u914d\u5185\u5b58\u8d44\u6e90\u7ed9\u5404\u4e2a\u8fdb\u7a0b\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u8fdb\u7a0b\u65e0\u6cd5\u83b7\u5f97\u8db3\u591f\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4ece\u800c\u5f15\u53d1\u6296\u52a8\u73b0\u8c61</li> <li>\u4e0d\u5408\u7406\u7684\u9875\u7f6e\u6362\u7b97\u6cd5\uff1a\u5982\u679c\u64cd\u4f5c\u7cfb\u7edf\u91c7\u7528\u7684\u9875\u7f6e\u6362\u7b97\u6cd5\u4e0d\u80fd\u51c6\u786e\u5730\u9884\u6d4b\u8fdb\u7a0b\u5c06\u8bbf\u95ee\u54ea\u4e9b\u5185\u5b58\u9875\u9762\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9891\u7e41\u7684\u6362\u9875\u64cd\u4f5c\uff0c\u8fdb\u800c\u5f15\u53d1\u6296\u52a8\u73b0\u8c61</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_59","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u5185\u5b58\u7ba1\u7406\u4f18\u5316\uff1a\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u91c7\u7528\u66f4\u5148\u8fdb\u7684\u5185\u5b58\u7ba1\u7406\u6280\u672f\u548c\u9875\u7f6e\u6362\u7b97\u6cd5\uff0c\u4ee5\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\uff0c\u51cf\u5c11\u7f3a\u9875\u4e2d\u65ad\u548c\u6362\u9875\u64cd\u4f5c\u7684\u9891\u7387</li> <li>\u8d44\u6e90\u63a7\u5236\uff1a\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u8d44\u6e90\u63a7\u5236\uff0c\u9650\u5236\u5176\u5185\u5b58\u4f7f\u7528\u91cf\uff0c\u9632\u6b62\u56e0\u8fc7\u9ad8\u7684\u5185\u5b58\u9700\u6c42\u5bfc\u81f4\u7684\u6296\u52a8\u73b0\u8c61</li> <li>\u5185\u5b58\u6269\u5c55\uff1a\u589e\u52a0\u7269\u7406\u5185\u5b58\u5bb9\u91cf\u53ef\u4ee5\u51cf\u5c11\u6362\u9875\u64cd\u4f5c\u7684\u9700\u8981\uff0c\u4ece\u800c\u964d\u4f4e\u6296\u52a8\u73b0\u8c61\u7684\u53d1\u751f\u6982\u7387</li> <li>\u8c03\u6574\u5de5\u4f5c\u8d1f\u8f7d\uff1a\u51cf\u5c11\u540c\u65f6\u8fd0\u884c\u7684\u8fdb\u7a0b\u6570\u91cf\uff0c\u5408\u7406\u5206\u914d\u7cfb\u7edf\u8d44\u6e90\uff0c\u786e\u4fdd\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u80fd\u83b7\u5f97\u8db3\u591f\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4ee5\u964d\u4f4e\u6296\u52a8\u73b0\u8c61\u7684\u53d1\u751f\u6982\u7387</li> <li>\u4f7f\u7528\u4ea4\u6362\u7a7a\u95f4\uff1a\u5728\u786c\u76d8\u4e0a\u8bbe\u7f6e\u4ea4\u6362\u7a7a\u95f4(Swap Space)\uff0c\u53ef\u4ee5\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u989d\u5916\u7684\u865a\u62df\u5185\u5b58\uff0c\u4ee5\u7f13\u89e3\u5185\u5b58\u4e0d\u8db3\u7684\u95ee\u9898\uff0c\u51cf\u8f7b\u6296\u52a8\u73b0\u8c61\u3002\u4f46\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4ea4\u6362\u7a7a\u95f4\u4f7f\u7528\u786c\u76d8\u5b58\u50a8\uff0c\u5176\u901f\u5ea6\u8f83\u6162\uff0c\u56e0\u6b64\u4e0d\u80fd\u5b8c\u5168\u66ff\u4ee3\u7269\u7406\u5185\u5b58</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_60","title":"\u8fdb\u7a0b\u7684\u5185\u5b58\u5206\u5e03\uff1f","text":"<p>\u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u8fd0\u884c\u4e2d\u7684\u7a0b\u5e8f\u5b9e\u4f8b\u3002\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u62e5\u6709\u72ec\u7acb\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\uff0c\u4ee5\u4fbf\u5b58\u50a8\u5176\u4ee3\u7801\u3001\u6570\u636e\u548c\u8fd0\u884c\u65f6\u6240\u9700\u7684\u4fe1\u606f\u3002\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u901a\u5e38\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u533a\u57df\uff1a</p> <ul> <li>\u4ee3\u7801\u533a(Text Segment)\uff1a\u4ee3\u7801\u533a\u5305\u542b\u4e86\u8fdb\u7a0b\u7684\u53ef\u6267\u884c\u4ee3\u7801\u3002\u8fd9\u90e8\u5206\u5185\u5b58\u533a\u57df\u901a\u5e38\u662f\u53ea\u8bfb\u7684\uff0c\u4ee5\u9632\u6b62\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u610f\u5916\u5730\u4fee\u6539\u81ea\u5df1\u7684\u4ee3\u7801\u3002\u4ee3\u7801\u533a\u7684\u5927\u5c0f\u5728\u7a0b\u5e8f\u52a0\u8f7d\u65f6\u786e\u5b9a\uff0c\u4e14\u5728\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4fdd\u6301\u4e0d\u53d8</li> <li>\u6570\u636e\u533a(Data Segment)\uff1a\u6570\u636e\u533a\u5305\u542b\u4e86\u8fdb\u7a0b\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u3002\u8fd9\u90e8\u5206\u5185\u5b58\u533a\u57df\u53ef\u8bfb\u53ef\u5199\uff0c\u4e14\u5728\u7a0b\u5e8f\u52a0\u8f7d\u65f6\u7531\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u3002\u6570\u636e\u533a\u53ef\u4ee5\u5206\u4e3a\u4e24\u4e2a\u5b50\u533a\u57df\uff1a a. \u5df2\u521d\u59cb\u5316\u6570\u636e\u533a\uff1a\u5b58\u50a8\u7a0b\u5e8f\u4e2d\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u3002 b. \u672a\u521d\u59cb\u5316\u6570\u636e\u533a(BSS, Block Started by Symbol)\uff1a\u5b58\u50a8\u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u3002\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5728\u7a0b\u5e8f\u52a0\u8f7d\u65f6\u5c06\u8fd9\u90e8\u5206\u5185\u5b58\u533a\u57df\u6e05\u96f6</li> <li>\u5806\u533a(Heap Segment)\uff1a\u5806\u533a\u662f\u7528\u4e8e\u5b58\u50a8\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u3002\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u53ef\u4ee5\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u51fd\u6570(\u5982 C \u8bed\u8a00\u4e2d\u7684 malloc \u548c C++ \u4e2d\u7684 new)\u5728\u5806\u533a\u52a8\u6001\u5206\u914d\u548c\u91ca\u653e\u5185\u5b58\u3002\u5806\u533a\u5185\u5b58\u7531\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\uff0c\u5806\u533a\u7684\u5927\u5c0f\u5728\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u52a8\u6001\u589e\u957f\u6216\u7f29\u5c0f</li> <li>\u6808\u533a(Stack Segment)\uff1a\u6808\u533a\u7528\u4e8e\u5b58\u50a8\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u3001\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u5730\u5740\u7b49\u4fe1\u606f\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u6808\u7a7a\u95f4\u3002\u6808\u533a\u91c7\u7528\u5148\u8fdb\u540e\u51fa(LIFO)\u7684\u539f\u5219\u8fdb\u884c\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e\uff0c\u8fd9\u4f7f\u5f97\u6808\u533a\u7684\u5185\u5b58\u7ba1\u7406\u6548\u7387\u5f88\u9ad8\u3002\u6808\u533a\u7684\u5927\u5c0f\u5728\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u53d1\u751f\u53d8\u5316\uff0c\u4f46\u901a\u5e38\u53d7\u5230\u4e00\u5b9a\u7684\u9650\u5236</li> <li>\u5185\u6838\u7a7a\u95f4(Kernel Space)\uff1a\u5185\u6838\u7a7a\u95f4\u662f\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4ee3\u7801\u548c\u6570\u636e\u6240\u5360\u7528\u7684\u5185\u5b58\u533a\u57df\u3002\u867d\u7136\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u5185\u6838\u7a7a\u95f4\uff0c\u4f46\u5b83\u4eec\u901a\u5e38\u6620\u5c04\u5230\u76f8\u540c\u7684\u7269\u7406\u5185\u5b58\u533a\u57df\uff0c\u4ee5\u4fbf\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u5728\u4e0d\u540c\u8fdb\u7a0b\u95f4\u5171\u4eab\u6570\u636e\u548c\u4ee3\u7801</li> </ul> <p>\u8fdb\u7a0b\u7684\u5185\u5b58\u5206\u5e03\u4f7f\u5f97\u7a0b\u5e8f\u80fd\u591f\u5728\u8fd0\u884c\u65f6\u7ba1\u7406\u5404\u79cd\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u786e\u4fdd\u6570\u636e\u5728\u5185\u5b58\u4e2d\u7684\u9694\u79bb\u3002\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u7ef4\u62a4\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5e76\u786e\u4fdd\u8fdb\u7a0b\u4e4b\u95f4\u4e0d\u4f1a\u76f8\u4e92\u5e72\u6270\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_61","title":"\u5806\u4e0a\u5efa\u7acb\u5bf9\u8c61\u5feb\uff0c\u8fd8\u662f\u6808\u4e0a\u5efa\u7acb\u5bf9\u8c61\u5feb\uff1f","text":"<p>\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c \u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u901a\u5e38\u8981\u6bd4\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u66f4\u5feb\u3002\u4ee5\u4e0b\u662f\u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u548c\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u4e4b\u95f4\u7684\u4e00\u4e9b\u4e3b\u8981\u5dee\u5f02\uff0c\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u901a\u5e38\u66f4\u5feb\uff1a</p> <ul> <li>\u5185\u5b58\u7ba1\u7406\u6548\u7387\uff1a\u6808\u4e0a\u5206\u914d\u5185\u5b58\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u51b3\u5b9a\u597d\u4e86\uff0c\u800c\u5806\u4e0a\u5206\u914d\u5185\u5b58\u9700\u8981\u5148\u627e\u5230\u4e00\u5757\u7a7a\u95f2\u533a\u57df\uff0c\u518d\u53bb\u5206\u914d\uff0c\u4f1a\u6162\u4e00\u4e9b</li> <li>\u7f13\u5b58\u5c40\u90e8\u6027\uff1a\u7531\u4e8e\u6808\u4e0a\u5206\u914d\u7684\u5185\u5b58\u662f\u8fde\u7eed\u7684\u4e14\u4e0e\u7a0b\u5e8f\u6267\u884c\u987a\u5e8f\u5bc6\u5207\u76f8\u5173\uff0c\u56e0\u6b64\u6808\u4e0a\u7684\u5bf9\u8c61\u901a\u5e38\u5177\u6709\u66f4\u597d\u7684\u7f13\u5b58\u5c40\u90e8\u6027\u3002\u5806\u4e0a\u5206\u914d\u7684\u5185\u5b58\u53ef\u80fd\u5728\u7269\u7406\u5730\u5740\u4e0a\u4e0d\u8fde\u7eed\uff0c\u5bfc\u81f4\u7f13\u5b58\u547d\u4e2d\u7387\u964d\u4f4e\uff0c\u4ece\u800c\u5f71\u54cd\u7a0b\u5e8f\u6267\u884c\u901f\u5ea6</li> </ul> <p>\u9664\u4e86\u5feb\u4ee5\u5916\uff0c\u6808\u4e0a\u5206\u914d\u5185\u5b58\u8fd8\u6709\u4ee5\u4e0b\u597d\u5904\uff1a</p> <ul> <li>\u51cf\u5c11\u788e\u7247\u5316\uff1a\u6808\u4e0a\u5206\u914d\u7684\u5185\u5b58\u901a\u5e38\u662f\u8fde\u7eed\u7684\uff0c\u51cf\u5c11\u4e86\u5185\u5b58\u788e\u7247\u5316\u7684\u95ee\u9898\u3002\u800c\u5806\u4e0a\u5206\u914d\u7684\u5185\u5b58\u53ef\u80fd\u4f1a\u5bfc\u81f4\u788e\u7247\u5316\uff0c\u56e0\u4e3a\u52a8\u6001\u5206\u914d\u548c\u91ca\u653e\u5185\u5b58\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u7a7a\u95f4\u51fa\u73b0\u4e0d\u8fde\u7eed\u7684\u7a7a\u95f2\u533a\u57df</li> <li>\u91ca\u653e\u5bf9\u8c61\uff1a\u5f53\u5728\u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u65f6\uff0c\u5bf9\u8c61\u4f1a\u5728\u79bb\u5f00\u4f5c\u7528\u57df\u65f6\u81ea\u52a8\u91ca\u653e\uff0c\u65e0\u9700\u7a0b\u5e8f\u5458\u663e\u5f0f\u8fdb\u884c\u5185\u5b58\u91ca\u653e\u3002\u800c\u5728\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u65f6\uff0c\u9700\u8981\u7a0b\u5e8f\u5458\u624b\u52a8\u91ca\u653e\u5185\u5b58(\u4f8b\u5982\u4f7f\u7528 C++ \u4e2d\u7684 delete \u6216 C \u8bed\u8a00\u4e2d\u7684 free)\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002\u624b\u52a8\u7ba1\u7406\u5185\u5b58\u91ca\u653e\u53ef\u80fd\u589e\u52a0\u7a0b\u5e8f\u7684\u590d\u6742\u6027</li> </ul> <p>\u5c3d\u7ba1\u6808\u4e0a\u5206\u914d\u5bf9\u8c61\u901a\u5e38\u66f4\u5feb\uff0c\u4f46\u5b83\u5e76\u975e\u9002\u7528\u4e8e\u6240\u6709\u573a\u666f\u3002\u6808\u4e0a\u5206\u914d\u7684\u5bf9\u8c61\u5177\u6709\u751f\u547d\u5468\u671f\u53d7\u9650\u5236\u7684\u7279\u70b9\uff0c\u5f53\u5bf9\u8c61\u9700\u8981\u5728\u51fd\u6570\u8c03\u7528\u4e4b\u95f4\u6301\u7eed\u5b58\u5728\u6216\u8005\u9700\u8981\u52a8\u6001\u6269\u5c55\u65f6\uff0c\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002\u6b64\u5916\uff0c\u6808\u7a7a\u95f4\u7684\u5927\u5c0f\u901a\u5e38\u53d7\u5230\u9650\u5236\uff0c\u8fc7\u591a\u5730\u5206\u914d\u6808\u4e0a\u5185\u5b58\u53ef\u80fd\u5bfc\u81f4\u6808\u6ea2\u51fa\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_62","title":"\u5e38\u89c1\u7684\u5185\u5b58\u5206\u914d\u65b9\u5f0f\uff1f","text":"<p>\u5185\u5b58\u5206\u914d\u662f\u7a0b\u5e8f\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4e3a\u5b58\u50a8\u6570\u636e\u548c\u4ee3\u7801\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u8fdb\u884c\u7ba1\u7406\u7684\u8fc7\u7a0b\u3002\u5e38\u89c1\u7684\u5185\u5b58\u5206\u914d\u65b9\u5f0f\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>\u9759\u6001\u5185\u5b58\u5206\u914d\uff1a\u9759\u6001\u5185\u5b58\u5206\u914d\u662f\u5728\u7a0b\u5e8f\u7f16\u8bd1\u671f\u95f4\u4e3a\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u5206\u914d\u5185\u5b58\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e9b\u53d8\u91cf\u5728\u7a0b\u5e8f\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u5185\u90fd\u5b58\u5728\uff0c\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u91ca\u653e\u3002\u9759\u6001\u5185\u5b58\u5206\u914d\u901a\u5e38\u5728\u7a0b\u5e8f\u7684\u6570\u636e\u533a(\u5df2\u521d\u59cb\u5316\u6570\u636e\u533a\u548c\u672a\u521d\u59cb\u5316\u6570\u636e\u533a)\u4e2d\u5b8c\u6210</li> <li>\u6808\u5185\u5b58\u5206\u914d\uff1a\u6808\u5185\u5b58\u5206\u914d\u662f\u4e3a\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u3001\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u5730\u5740\u5206\u914d\u5185\u5b58\u7684\u8fc7\u7a0b\u3002\u6808\u5185\u5b58\u5206\u914d\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u8fdb\u884c\uff0c\u91c7\u7528\u5148\u8fdb\u540e\u51fa(LIFO)\u7684\u65b9\u5f0f\u8fdb\u884c\u5206\u914d\u548c\u91ca\u653e\u3002\u6808\u5185\u5b58\u5206\u914d\u901f\u5ea6\u8f83\u5feb\uff0c\u4f46\u53d7\u5230\u6808\u7a7a\u95f4\u5927\u5c0f\u7684\u9650\u5236\uff0c\u4e14\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u53d7\u5230\u4f5c\u7528\u57df\u9650\u5236</li> <li>\u5806\u5185\u5b58\u5206\u914d\uff1a\u5806\u5185\u5b58\u5206\u914d\u662f\u4e3a\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u5206\u914d\u548c\u91ca\u653e\u5185\u5b58\u7684\u8fc7\u7a0b\u3002\u5806\u5185\u5b58\u5206\u914d\u9700\u8981\u7a0b\u5e8f\u5458\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u51fd\u6570(\u4f8b\u5982 C \u8bed\u8a00\u4e2d\u7684 malloc \u548c C++ \u4e2d\u7684 new)\u663e\u5f0f\u5730\u7533\u8bf7\u548c\u91ca\u653e\u5185\u5b58\u3002\u5806\u5185\u5b58\u5206\u914d\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7075\u6d3b\u5730\u8c03\u6574\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u548c\u5927\u5c0f\uff0c\u4f46\u76f8\u5bf9\u4e8e\u6808\u5185\u5b58\u5206\u914d\uff0c\u5806\u5185\u5b58\u5206\u914d\u901f\u5ea6\u8f83\u6162\uff0c\u4e14\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u788e\u7247\u5316\u3002\u5206\u914d\u5806\u4e0a\u5185\u5b58\u7684\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u8bbe\u8ba1\u5185\u5b58\u6c60\u6765\u63d0\u9ad8\u6027\u80fd</li> </ul> <p>\u5728\u9700\u8981\u5feb\u901f\u5206\u914d\u5c0f\u5757\u5185\u5b58\u4e14\u751f\u547d\u5468\u671f\u53d7\u9650\u7684\u573a\u666f\u4e0b\uff0c\u53ef\u4ee5\u9009\u62e9\u6808\u5185\u5b58\u5206\u914d\uff1b\u800c\u5728\u9700\u8981\u52a8\u6001\u8c03\u6574\u5bf9\u8c61\u5927\u5c0f\u6216\u751f\u547d\u5468\u671f\u7684\u573a\u666f\u4e0b\uff0c\u53ef\u4ee5\u9009\u62e9\u5806\u5185\u5b58\u5206\u914d\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_63","title":"\u9875\u7f6e\u6362\u7b97\u6cd5\u6709\u54ea\u4e9b\uff1f","text":"<p>\u9875\u7f6e\u6362\u7b97\u6cd5\u662f\u64cd\u4f5c\u7cfb\u7edf\u7528\u4e8e\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\u9009\u62e9\u54ea\u4e2a\u5185\u5b58\u9875\u9762\u88ab\u66ff\u6362\u51fa\u7269\u7406\u5185\u5b58\u7684\u4e00\u79cd\u7b56\u7565\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u9875\u7f6e\u6362\u7b97\u6cd5\uff1a</p> <ul> <li>\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5(Optimal Page Replacement Algorithm)\uff1a\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u9009\u62e9\u5728\u672a\u6765\u6700\u957f\u65f6\u95f4\u5185\u4e0d\u4f1a\u88ab\u8bbf\u95ee\u7684\u9875\u9762\u8fdb\u884c\u66ff\u6362\u3002\u8fd9\u79cd\u7b97\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u6700\u4f4e\u7684\u7f3a\u9875\u7387\uff0c\u4f46\u7531\u4e8e\u9700\u8981\u9884\u77e5\u672a\u6765\u7684\u9875\u9762\u8bbf\u95ee\u987a\u5e8f\uff0c\u6240\u4ee5\u5728\u5b9e\u9645\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u96be\u4ee5\u5b9e\u73b0</li> <li>\u5148\u8fdb\u5148\u51fa\u7b97\u6cd5(FIFO Page Replacement Algorithm)\uff1aFIFO \u7b97\u6cd5\u5c06\u5185\u5b58\u4e2d\u7684\u9875\u9762\u6309\u7167\u5b83\u4eec\u8fdb\u5165\u5185\u5b58\u7684\u987a\u5e8f\u8fdb\u884c\u6392\u5217\uff0c\u5e76\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\u66ff\u6362\u6700\u65e9\u8fdb\u5165\u5185\u5b58\u7684\u9875\u9762\u3002\u8be5\u7b97\u6cd5\u7b80\u5355\u6613\u5b9e\u73b0\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u8f83\u9ad8\u7684\u7f3a\u9875\u7387\uff0c\u56e0\u4e3a\u6700\u65e9\u8fdb\u5165\u5185\u5b58\u7684\u9875\u9762\u5e76\u4e0d\u603b\u662f\u6700\u5c11\u4f7f\u7528\u7684\u9875\u9762</li> <li>\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7b97\u6cd5(Least Recently Used Algorithm\uff0cLRU)\uff1aLRU \u7b97\u6cd5\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\u9009\u62e9\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u9875\u9762\u8fdb\u884c\u66ff\u6362\u3002\u8fd9\u79cd\u7b97\u6cd5\u8bd5\u56fe\u6a21\u62df\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5\uff0c\u901a\u8fc7\u8ddf\u8e2a\u9875\u9762\u7684\u8bbf\u95ee\u5386\u53f2\u6765\u9884\u6d4b\u672a\u6765\u7684\u8bbf\u95ee\u60c5\u51b5\u3002\u5c3d\u7ba1 LRU \u7b97\u6cd5\u5728\u5b9e\u9645\u7cfb\u7edf\u4e2d\u7684\u6027\u80fd\u8f83\u597d\uff0c\u4f46\u5176\u5b9e\u73b0\u76f8\u5bf9\u590d\u6742\uff0c\u9700\u8981\u8f83\u9ad8\u7684\u8ba1\u7b97\u548c\u5b58\u50a8\u5f00\u9500</li> <li>\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5(Clock Page Replacement Algorithm)\uff1a\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5\u662f LRU \u7b97\u6cd5\u7684\u4e00\u79cd\u8fd1\u4f3c\u5b9e\u73b0\uff0c\u5b83\u901a\u8fc7\u7ef4\u62a4\u4e00\u4e2a\u5faa\u73af\u961f\u5217(\u7c7b\u4f3c\u4e8e\u65f6\u949f\u6307\u9488)\u6765\u8ddf\u8e2a\u9875\u9762\u7684\u8bbf\u95ee\u60c5\u51b5\u3002\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u65f6\u949f\u6307\u9488\u4f1a\u987a\u5e8f\u626b\u63cf\u9875\u9762\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u672a\u88ab\u8bbf\u95ee\u7684\u9875\u9762\u8fdb\u884c\u66ff\u6362\u3002\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5\u7684\u5b9e\u73b0\u76f8\u5bf9\u7b80\u5355\uff0c\u4e14\u6027\u80fd\u63a5\u8fd1 LRU \u7b97\u6cd5</li> <li>\u968f\u673a\u7f6e\u6362\u7b97\u6cd5(Random Page Replacement Algorithm)\uff1a\u968f\u673a\u7f6e\u6362\u7b97\u6cd5\u5728\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u9875\u9762\u8fdb\u884c\u66ff\u6362\u3002\u8fd9\u79cd\u7b97\u6cd5\u5b9e\u73b0\u7b80\u5355\u4e14\u65e0\u9700\u7ef4\u62a4\u9875\u9762\u7684\u8bbf\u95ee\u5386\u53f2\uff0c\u4f46\u6027\u80fd\u76f8\u5bf9\u8f83\u5dee\uff0c\u56e0\u4e3a\u5b83\u65e0\u6cd5\u5229\u7528\u9875\u9762\u7684\u8bbf\u95ee\u6a21\u5f0f\u8fdb\u884c\u4f18\u5316</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#64-4g-80g-32","title":"\u5982\u679c 64 \u4f4d\u7535\u8111\u662f 4G \u5185\u5b58\uff0c\u8981\u7533\u8bf7 80G \u7684\u7a7a\u95f4\uff0c\u53ef\u4ee5\u7533\u8bf7\u561b\uff1f32 \u4f4d\u5462\uff1f","text":"<p>\u4e00\u4e2a 64 \u4f4d\u7535\u8111\u5177\u6709 64 \u4f4d\u5bbd\u7684\u5730\u5740\u603b\u7ebf\uff0c\u56e0\u6b64\u7406\u8bba\u4e0a\u53ef\u4ee5\u8bbf\u95ee 2^64(\u7ea6\u4e3a 18EB\uff0c1EB = 1024PB\uff0c1PB = 1024TB)\u5b57\u8282\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u786c\u4ef6\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u9650\u5236\u53ef\u80fd\u4f1a\u5bfc\u81f4\u53ef\u7528\u5185\u5b58\u7a7a\u95f4\u5c0f\u4e8e\u7406\u8bba\u503c\uff0c\u4f46\u4ecd\u8fdc\u5927\u4e8e 80GB\u3002\u56e0\u6b64\uff0c\u5728 64 \u4f4d\u7535\u8111\u4e0a\u7533\u8bf7 80GB \u7684\u7a7a\u95f4\u662f\u53ef\u80fd\u7684\uff0c\u53ea\u8981\u5b9e\u9645\u7684\u7269\u7406\u5185\u5b58\u548c\u865a\u62df\u5185\u5b58\u914d\u7f6e\u8db3\u591f\u652f\u6301\u8fd9\u4e2a\u9700\u6c42\u3002</p> <p>\u7136\u800c\uff0c\u5728 32 \u4f4d\u7535\u8111\u4e0a\uff0c\u5730\u5740\u603b\u7ebf\u5bbd\u5ea6\u4e3a 32 \u4f4d\uff0c\u7406\u8bba\u4e0a\u6700\u5927\u53ef\u4ee5\u8bbf\u95ee 2^32(\u7ea6\u4e3a 4GB)\u5b57\u8282\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u56e0\u6b64\uff0c\u5728 32 \u4f4d\u7535\u8111\u4e0a\u76f4\u63a5\u7533\u8bf7 80GB \u7684\u7a7a\u95f4\u662f\u4e0d\u53ef\u80fd\u7684\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u4e00\u4e9b\u6280\u672f\u6765\u5b9e\u73b0\u7c7b\u4f3c\u529f\u80fd\uff0c\u5982\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u3001\u5206\u6bb5\u5b58\u50a8\u6216\u5176\u4ed6\u5185\u5b58\u7ba1\u7406\u6280\u672f\uff0c\u4f46\u8fd9\u5c06\u76f8\u5bf9\u590d\u6742\u4e14\u6027\u80fd\u53ef\u80fd\u53d7\u5230\u5f71\u54cd\u3002</p> <p>\u5728\u8ba8\u8bba\u7533\u8bf7 80GB \u7a7a\u95f4\u65f6\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u5230\u5b9e\u9645\u7684\u786c\u4ef6\u8d44\u6e90\u9650\u5236\uff0c\u4f8b\u5982\u5b9e\u9645\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\u4ee5\u53ca\u64cd\u4f5c\u7cfb\u7edf\u5982\u4f55\u914d\u7f6e\u865a\u62df\u5185\u5b58\u3002\u5728\u7269\u7406\u5185\u5b58\u4e0d\u8db3\u7684\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5229\u7528\u786c\u76d8\u4e0a\u7684\u865a\u62df\u5185\u5b58(\u5982 Windows \u4e2d\u7684\u5206\u9875\u6587\u4ef6)\u6765\u6ee1\u8db3\u7a0b\u5e8f\u7684\u5185\u5b58\u9700\u6c42\uff0c\u4f46\u8fd9\u5c06\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\uff0c\u56e0\u4e3a\u786c\u76d8\u8bbf\u95ee\u901f\u5ea6\u8fdc\u6162\u4e8e\u5185\u5b58\u8bbf\u95ee\u901f\u5ea6\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#malloc","title":"\u8bb2\u4e00\u8bb2 malloc \u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f","text":"<p>malloc \u662f C \u8bed\u8a00\u6807\u51c6\u5e93\u4e2d\u7528\u4e8e\u52a8\u6001\u5185\u5b58\u5206\u914d\u7684\u51fd\u6570\u3002\u5176\u5b9e\u73b0\u53ef\u80fd\u56e0\u7f16\u8bd1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e0d\u540c\u800c\u6709\u6240\u5dee\u5f02\uff0c\u4f46\u901a\u5e38\u91c7\u7528\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u6765\u5b8c\u6210\u5185\u5b58\u5206\u914d\u4efb\u52a1\uff1a</p> <ul> <li>\u521d\u59cb\u5316\u5185\u5b58\u6c60\uff1amalloc \u9996\u6b21\u8c03\u7528\u65f6\uff0c\u901a\u5e38\u4f1a\u521d\u59cb\u5316\u5185\u5b58\u6c60\u3002\u5185\u5b58\u6c60\u662f\u9884\u5148\u5206\u914d\u7684\u4e00\u5927\u5757\u5185\u5b58\u7a7a\u95f4\uff0c\u7528\u4e8e\u6ee1\u8db3\u540e\u7eed\u5185\u5b58\u5206\u914d\u8bf7\u6c42\u3002\u521d\u59cb\u5316\u8fc7\u7a0b\u5305\u62ec\u4ece\u64cd\u4f5c\u7cfb\u7edf\u8bf7\u6c42\u5185\u5b58(\u5982\u4f7f\u7528 sbrk \u6216 mmap \u7cfb\u7edf\u8c03\u7528)\uff0c\u5e76\u5efa\u7acb\u6570\u636e\u7ed3\u6784\u6765\u8ddf\u8e2a\u53ef\u7528\u7684\u5185\u5b58\u5757(\u79f0\u4e3a free list)</li> <li>\u67e5\u627e\u5408\u9002\u7684\u5185\u5b58\u5757\uff1a\u5f53 malloc \u6536\u5230\u5185\u5b58\u5206\u914d\u8bf7\u6c42\u65f6\uff0c\u5b83\u4f1a\u5728 free list \u4e2d\u67e5\u627e\u4e00\u4e2a\u5927\u5c0f\u6ee1\u8db3\u9700\u6c42\u7684\u5185\u5b58\u5757\u3002\u5185\u5b58\u5757\u67e5\u627e\u7b56\u7565\u53ef\u80fd\u6709\u6240\u4e0d\u540c\uff0c\u5982\u9996\u6b21\u9002\u914d(first fit)\u3001\u6700\u4f73\u9002\u914d(best fit)\u6216\u6700\u5dee\u9002\u914d(worst fit)\u7b49\u3002\u7b56\u7565\u9009\u62e9\u4f1a\u5f71\u54cd\u5185\u5b58\u5206\u914d\u7684\u6027\u80fd\u548c\u5185\u5b58\u788e\u7247\u5316\u7a0b\u5ea6\u3002\u5982\u679c\u627e\u4e0d\u5230\u8db3\u591f\u5927\u5c0f\u7684\u5185\u5b58\uff0c\u5b83\u4f1a\u4ece\u65b0\u5411\u64cd\u4f5c\u7cfb\u7edf\u7533\u8bf7\uff0c\u7533\u8bf7\u5927\u5c0f\u5c0f\u4e8e 128KB \u7528 brk\uff0c\u5927\u4e8e 128KB \u65f6\u7528 mmap</li> <li>\u5206\u5272\u5185\u5b58\u5757\uff1a\u5982\u679c\u627e\u5230\u7684\u5185\u5b58\u5757\u5927\u5c0f\u8fdc\u5927\u4e8e\u8bf7\u6c42\u7684\u5185\u5b58\u5927\u5c0f\uff0cmalloc \u53ef\u80fd\u4f1a\u5c06\u5176\u5206\u5272\u6210\u4e24\u90e8\u5206\u3002\u4e00\u90e8\u5206\u7528\u4e8e\u6ee1\u8db3\u5f53\u524d\u8bf7\u6c42\uff0c\u53e6\u4e00\u90e8\u5206\u4fdd\u7559\u5728 free list \u4e2d\u4ee5\u4f9b\u540e\u7eed\u5206\u914d\u4f7f\u7528</li> <li>\u66f4\u65b0\u6570\u636e\u7ed3\u6784\uff1amalloc \u5c06\u627e\u5230\u7684\u5185\u5b58\u5757\u4ece free list \u4e2d\u79fb\u9664\uff0c\u5e76\u66f4\u65b0\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\u3002\u6b64\u5916\uff0cmalloc \u901a\u5e38\u4f1a\u5728\u8fd4\u56de\u7684\u5185\u5b58\u5757\u524d\u9644\u52a0\u4e00\u4e9b\u5143\u6570\u636e(\u5982\u5185\u5b58\u5757\u5927\u5c0f)\uff0c\u4ee5\u4fbf\u4e8e\u540e\u7eed\u7684\u5185\u5b58\u91ca\u653e(free)\u548c\u91cd\u65b0\u5206\u914d(realloc)\u64cd\u4f5c</li> <li>\u8fd4\u56de\u5185\u5b58\u5757\u5730\u5740\uff1amalloc \u8fd4\u56de\u5206\u914d\u7684\u5185\u5b58\u5757\u5730\u5740\uff0c\u4f9b\u7a0b\u5e8f\u4f7f\u7528\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5206\u914d\u7684\u5185\u5b58\u5757\u5185\u5bb9\u53ef\u80fd\u662f\u672a\u521d\u59cb\u5316\u7684\uff0c\u9700\u8981\u5728\u4f7f\u7528\u524d\u8fdb\u884c\u9002\u5f53\u7684\u521d\u59cb\u5316\u64cd\u4f5c</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#mmap","title":"\u8bb2\u4e00\u8bb2 mmap \u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff1f","text":"<p>mmap \u662f\u4e00\u79cd\u5c06\u6587\u4ef6\u6216\u5176\u4ed6\u5bf9\u8c61\u6620\u5c04\u5230\u8fdb\u7a0b\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u5185\u5b58\u6620\u5c04\u6280\u672f\u3002\u5b83\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf(\u5982 Linux)\u4e2d\u5b9e\u73b0\u4e3a\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u3002mmap \u7684\u5b9e\u73b0\u6d89\u53ca\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u3001\u6587\u4ef6\u7cfb\u7edf\u3001\u5185\u5b58\u7ba1\u7406\u7b49\u591a\u4e2a\u5b50\u7cfb\u7edf\u3002\u4ee5\u4e0b\u662f mmap \u5b9e\u73b0\u7684\u6982\u8ff0\uff1a</p> <ul> <li>\u53c2\u6570\u68c0\u67e5\uff1a\u5728\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 mmap \u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9996\u5148\u68c0\u67e5\u53c2\u6570\u7684\u5408\u6cd5\u6027\uff0c\u5305\u62ec\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u6620\u5c04\u957f\u5ea6\u3001\u8bbf\u95ee\u6743\u9650\u3001\u6587\u4ef6\u504f\u79fb\u7b49\u3002\u5982\u679c\u53c2\u6570\u65e0\u6548\u6216\u975e\u6cd5\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c06\u8fd4\u56de\u9519\u8bef</li> <li>\u521b\u5efa\u865a\u62df\u5185\u5b58\u533a\u57df(VMR)\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u8bf7\u6c42\u7684\u6620\u5c04\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u5185\u5b58\u533a\u57df\uff0c\u8be5\u533a\u57df\u7684\u957f\u5ea6\u7531\u8c03\u7528\u53c2\u6570\u6307\u5b9a\u3002\u521b\u5efa VMR \u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4e3a\u5176\u5206\u914d\u4e00\u4e2a\u8fde\u7eed\u7684\u865a\u62df\u5730\u5740\u8303\u56f4\uff0c\u5e76\u5728\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u4e2d\u8bb0\u5f55\u76f8\u5173\u4fe1\u606f</li> <li>\u5efa\u7acb\u6587\u4ef6\u4e0e\u865a\u62df\u5185\u5b58\u533a\u57df\u7684\u5173\u8054\uff1a\u64cd\u4f5c\u7cfb\u7edf\u5c06\u8981\u6620\u5c04\u7684\u6587\u4ef6\u4e0e\u65b0\u521b\u5efa\u7684\u865a\u62df\u5185\u5b58\u533a\u57df\u5efa\u7acb\u5173\u8054\u3002\u8fd9\u79cd\u5173\u8054\u53ef\u4ee5\u662f \u79c1\u6709(private)\u6216\u5171\u4eab(shared)\u3002\u79c1\u6709\u6620\u5c04\u610f\u5473\u7740\u5bf9\u6620\u5c04\u533a\u57df\u7684\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u539f\u59cb\u6587\u4ef6\uff0c\u800c\u5171\u4eab\u6620\u5c04\u5219\u610f\u5473\u7740\u4fee\u6539\u4f1a\u540c\u6b65\u5230\u539f\u59cb\u6587\u4ef6\u3002\u5173\u8054\u4fe1\u606f\u901a\u5e38\u5b58\u50a8\u5728\u5185\u6838\u4e2d\u7684\u9875\u8868\u6216\u5176\u4ed6\u6570\u636e\u7ed3\u6784\u4e2d</li> <li>\u5ef6\u8fdf\u52a0\u8f7d\uff1a\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cmmap \u5e76\u4e0d\u4f1a\u7acb\u5373\u5c06\u6587\u4ef6\u5185\u5bb9\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u3002\u76f8\u53cd\uff0c\u5b83\u91c7\u7528\u4e00\u79cd\u79f0\u4e3a  \u5ef6\u8fdf\u52a0\u8f7d(lazy loading)  \u7684\u7b56\u7565\uff0c\u4ec5\u5728\u5e94\u7528\u7a0b\u5e8f\u5b9e\u9645\u8bbf\u95ee\u6620\u5c04\u533a\u57df\u65f6\u624d\u52a0\u8f7d\u6240\u9700\u7684\u6587\u4ef6\u5185\u5bb9\u3002\u8fd9\u79cd\u7b56\u7565\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\u5e76\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u4f7f\u7528</li> <li>\u7f3a\u9875\u5904\u7406\uff1a\u5f53\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u5c1a\u672a\u52a0\u8f7d\u7684\u6620\u5c04\u533a\u57df\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u6536\u5230\u4e00\u4e2a\u7f3a\u9875\u4e2d\u65ad\u3002\u5728\u5904\u7406\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u67e5\u627e\u4e0e\u865a\u62df\u5730\u5740\u5173\u8054\u7684\u6587\u4ef6\u548c\u504f\u79fb\uff0c\u5c06\u6240\u9700\u7684\u6587\u4ef6\u5185\u5bb9\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u4e2d\uff0c\u5e76\u66f4\u65b0\u9875\u8868\u4ee5\u5efa\u7acb\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u3002\u4e4b\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u7ee7\u7eed\u8bbf\u95ee\u6620\u5c04\u533a\u57df</li> <li>\u5185\u5b58\u56de\u5199\uff1a\u5bf9\u4e8e\u5171\u4eab\u6620\u5c04\uff0c\u5e94\u7528\u7a0b\u5e8f\u5bf9\u6620\u5c04\u533a\u57df\u7684\u4fee\u6539\u9700\u8981\u540c\u6b65\u5230\u539f\u59cb\u6587\u4ef6\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u5e38\u91c7\u7528\u4e00\u79cd\u79f0\u4e3a  \u5199\u56de(write-back)  \u7684\u7b56\u7565\uff0c\u5373 \u5728\u4e00\u6bb5\u65f6\u95f4\u540e\u6216\u5185\u5b58\u538b\u529b\u589e\u5927\u65f6\u5c06\u4fee\u6539\u540e\u7684\u5185\u5b58\u5185\u5bb9\u5199\u56de\u5230\u6587\u4ef6\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 msync \u6765\u663e\u5f0f\u5730\u540c\u6b65\u5185\u5b58\u548c\u6587\u4ef6\u5185\u5bb9</li> <li>\u91ca\u653e\u5185\u5b58\u6620\u5c04\uff1a\u5f53\u5e94\u7528\u7a0b\u5e8f\u4e0d\u518d\u9700\u8981\u5185\u5b58\u6620\u5c04\u65f6\uff0c\u53ef\u4ee5 \u901a\u8fc7\u8c03\u7528 munmap \u7cfb\u7edf\u8c03\u7528\u6765\u91ca\u653e\u6620\u5c04\u533a\u57df\u3002\u64cd\u4f5c\u7cfb\u7edf\u5728\u6536\u5230 munmap \u8c03\u7528\u65f6\uff0c\u4f1a\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a   1. \u5982\u679c\u6620\u5c04\u533a\u57df\u6709\u672a\u5199\u56de\u7684\u4fee\u6539\u5185\u5bb9\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5c06\u8fd9\u4e9b\u5185\u5bb9\u5199\u56de\u5230\u539f\u59cb\u6587\u4ef6(\u5982\u679c\u662f\u5171\u4eab\u6620\u5c04)   2. \u64cd\u4f5c\u7cfb\u7edf\u5c06\u91ca\u653e\u4e0e\u6620\u5c04\u533a\u57df\u5173\u8054\u7684\u7269\u7406\u5185\u5b58\u9875   3. \u64cd\u4f5c\u7cfb\u7edf\u4ece\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u4e2d\u5220\u9664\u6620\u5c04\u533a\u57df\uff0c\u5e76\u6e05\u9664\u4e0e\u8be5\u533a\u57df\u5173\u8054\u7684\u9875\u8868\u6761\u76ee\u548c\u5176\u4ed6\u5185\u6838\u6570\u636e\u7ed3\u6784</li> </ul> <p>mmap \u7cfb\u7edf\u8c03\u7528\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u5185\u5b58\u6620\u5c04\u6280\u672f\uff0c\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u5c06\u6587\u4ef6\u6216\u5176\u4ed6\u5bf9\u8c61\u76f4\u63a5\u6620\u5c04\u5230\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002mmap \u7684\u5b9e\u73b0\u6d89\u53ca\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u3001\u6587\u4ef6\u7cfb\u7edf\u3001\u5185\u5b58\u7ba1\u7406\u7b49\u591a\u4e2a\u5b50\u7cfb\u7edf\uff0c\u5e76\u91c7\u7528\u8bf8\u5982\u5ef6\u8fdf\u52a0\u8f7d\u3001\u5199\u56de\u7b49\u7b56\u7565\u6765\u63d0\u9ad8\u6027\u80fd\u548c\u964d\u4f4e\u5185\u5b58\u4f7f\u7528\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_64","title":"\u5171\u4eab\u5185\u5b58\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f","text":"<p>\u5171\u4eab\u5185\u5b58(Shared Memory)\u662f\u4e00\u79cd\u8fdb\u7a0b\u95f4\u901a\u4fe1(IPC)\u673a\u5236\uff0c\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u540c\u4e00\u5757\u5185\u5b58\u533a\u57df\u3002\u5728\u5171\u4eab\u5185\u5b58\u7684\u5b9e\u73b0\u4e2d\uff0c\u76f8\u540c\u7684\u4e00\u5757\u7269\u7406\u5185\u5b58\u533a\u57df\u88ab\u6620\u5c04\u5230\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u5b9e\u73b0\u6570\u636e\u5171\u4eab\u3002\u5171\u4eab\u5185\u5b58\u673a\u5236\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u4f20\u8f93\u6548\u7387\uff0c\u56e0\u4e3a\u5b83\u907f\u514d\u4e86\u6570\u636e\u590d\u5236\u548c\u5185\u6838\u4e0e\u7528\u6237\u7a7a\u95f4\u4e4b\u95f4\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u3002\u4ee5\u4e0b\u662f\u5171\u4eab\u5185\u5b58\u7684\u5b9e\u73b0\u6982\u8ff0\uff1a</p> <ul> <li>\u521b\u5efa\u5171\u4eab\u5185\u5b58\u533a\u57df\uff1a\u9996\u5148\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u5185\u5b58\u533a\u57df\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 shmget \u7cfb\u7edf\u8c03\u7528\u6765\u5b9e\u73b0\u3002shmget \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u5185\u5b58\u6807\u8bc6\u7b26(Shared Memory Identifier)\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u5171\u4eab\u5185\u5b58\u533a\u57df\u3002\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 CreateFileMapping \u51fd\u6570\u6765\u521b\u5efa\u4e00\u4e2a\u5185\u5b58\u6620\u5c04\u6587\u4ef6</li> <li>\u5c06\u5171\u4eab\u5185\u5b58\u533a\u57df\u6620\u5c04\u5230\u8fdb\u7a0b\u5730\u5740\u7a7a\u95f4\uff1a\u6bcf\u4e2a\u9700\u8981\u8bbf\u95ee\u5171\u4eab\u5185\u5b58\u533a\u57df\u7684\u8fdb\u7a0b\u9700\u8981\u5c06\u5176\u6620\u5c04\u5230\u81ea\u5df1\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 shmat \u7cfb\u7edf\u8c03\u7528\u6765\u5b8c\u6210\u6620\u5c04\uff1b\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 MapViewOfFile \u51fd\u6570\u3002\u6620\u5c04\u64cd\u4f5c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u5171\u4eab\u5185\u5b58\u533a\u57df\u7684\u6307\u9488\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u8be5\u6307\u9488\u8bbf\u95ee\u5171\u4eab\u6570\u636e</li> <li>\u8bfb\u5199\u5171\u4eab\u5185\u5b58\uff1a\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u6620\u5c04\u5230\u5176\u5730\u5740\u7a7a\u95f4\u7684\u5171\u4eab\u5185\u5b58\u533a\u57df\u6765\u8bfb\u5199\u6570\u636e\u3002\u4e3a\u907f\u514d\u6570\u636e\u7ade\u4e89\u548c\u4e0d\u4e00\u81f4\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u9700\u8981\u534f\u8c03\u5bf9\u5171\u4eab\u5185\u5b58\u7684\u8bbf\u95ee\u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u540c\u6b65\u539f\u8bed(\u5982\u4e92\u65a5\u9501\u3001\u4fe1\u53f7\u91cf\u7b49)\u6765\u5b9e\u73b0</li> <li>\u53d6\u6d88\u6620\u5c04\u5171\u4eab\u5185\u5b58\u533a\u57df\uff1a\u5f53\u8fdb\u7a0b\u4e0d\u518d\u9700\u8981\u8bbf\u95ee\u5171\u4eab\u5185\u5b58\u65f6\uff0c\u9700\u8981\u5c06\u5176\u4ece\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e2d\u53d6\u6d88\u6620\u5c04\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 shmdt \u7cfb\u7edf\u8c03\u7528\uff1b\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 UnmapViewOfFile \u51fd\u6570</li> <li>\u5220\u9664\u5171\u4eab\u5185\u5b58\u533a\u57df\uff1a\u5f53\u6240\u6709\u8fdb\u7a0b\u90fd\u4e0d\u518d\u9700\u8981\u5171\u4eab\u5185\u5b58\u533a\u57df\u65f6\uff0c\u9700\u8981\u5c06\u5176\u5220\u9664\u4ee5\u91ca\u653e\u7cfb\u7edf\u8d44\u6e90\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 shmctl \u7cfb\u7edf\u8c03\u7528(\u5e26\u6709 IPC_RMID \u547d\u4ee4)\u6765\u5220\u9664\u5171\u4eab\u5185\u5b58\u533a\u57df\uff1b\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 CloseHandle \u51fd\u6570\u5173\u95ed\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u7684\u53e5\u67c4</li> </ul> <p>\u5171\u4eab\u5185\u5b58\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u673a\u5236\uff0c\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u76f4\u63a5\u8bbf\u95ee\u540c\u4e00\u5757\u5185\u5b58\u533a\u57df\u3002\u5176\u5b9e\u73b0\u6d89\u53ca\u521b\u5efa\u5171\u4eab\u5185\u5b58\u533a\u57df\u3001\u6620\u5c04\u5230\u8fdb\u7a0b\u5730\u5740\u7a7a\u95f4\u3001\u534f\u8c03\u8bbf\u95ee\u3001\u53d6\u6d88\u6620\u5c04\u548c\u5220\u9664\u5171\u4eab\u5185\u5b58\u533a\u57df\u7b49\u6b65\u9aa4\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_65","title":"\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7ba1\u7406","text":""},{"location":"Operating%20System/OperatingSystem/#_66","title":"\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u3001\u534f\u7a0b\u533a\u522b\u4e0e\u8054\u7cfb\uff1f","text":"<p>\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u548c\u534f\u7a0b\u662f\u8ba1\u7b97\u673a\u7a0b\u5e8f\u6267\u884c\u7684\u4e09\u4e2a\u4e0d\u540c\u5c42\u6b21\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_67","title":"\u533a\u522b","text":"<ul> <li>\u8fdb\u7a0b(Process)\uff1a  \u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u662f\u4e00\u4e2a\u72ec\u7acb\u8fd0\u884c\u7684\u7a0b\u5e8f\u5b9e\u4f53\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u62e5\u6709\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u5bc4\u5b58\u5668\u72b6\u6001\u7b49\u8d44\u6e90\u3002\u8fdb\u7a0b\u4e4b\u95f4\u7684\u8d44\u6e90\u662f\u76f8\u4e92\u9694\u79bb\u7684\uff0c\u56e0\u6b64 \u8fdb\u7a0b\u95f4\u901a\u4fe1\u9700\u8981\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u7279\u5b9a\u673a\u5236(\u5982\u7ba1\u9053\u3001\u6d88\u606f\u961f\u5217\u3001\u5171\u4eab\u5185\u5b58\u7b49) \u8fdb\u884c\u3002\u7531\u4e8e\u8fdb\u7a0b\u62e5\u6709\u72ec\u7acb\u7684\u8d44\u6e90\uff0c\u6240\u4ee5\u8fdb\u7a0b\u95f4\u7684\u5207\u6362\u548c\u8c03\u5ea6\u5f00\u9500\u8f83\u5927</li> <li>\u7ebf\u7a0b(Thread)\uff1a  \u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u662f\u8fdb\u7a0b\u5185\u7684\u4e00\u4e2a\u6267\u884c\u6d41\u3002\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u4e9b \u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u8d44\u6e90(\u5982\u5185\u5b58\u7a7a\u95f4\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49)\u3002\u7531\u4e8e\u7ebf\u7a0b\u5171\u4eab\u76f8\u540c\u7684\u8d44\u6e90\uff0c\u7ebf\u7a0b\u95f4\u901a\u4fe1\u76f8\u5bf9\u7b80\u5355\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u5171\u4eab\u53d8\u91cf\u3001\u9501\u7b49\u65b9\u5f0f\u8fdb\u884c\u3002\u7ebf\u7a0b\u76f8\u8f83\u4e8e\u8fdb\u7a0b\uff0c \u4e0a\u4e0b\u6587\u5207\u6362\u548c\u8c03\u5ea6\u5f00\u9500\u8f83\u5c0f\u3002\u4f46\u591a\u4e2a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u65f6\uff0c\u9700\u8981\u5904\u7406\u597d\u540c\u6b65\u548c\u4e92\u65a5\u95ee\u9898\uff0c\u4ee5\u907f\u514d\u6570\u636e\u4e0d\u4e00\u81f4\u6216\u7ade\u4e89\u6761\u4ef6</li> <li>\u534f\u7a0b(Coroutine)\uff1a \u534f\u7a0b\u662f\u4e00\u79cd\u7528\u6237\u6001\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\uff0c\u5b83\u7684 \u8c03\u5ea6\u548c\u5207\u6362\u5b8c\u5168\u7531\u7a0b\u5e8f\u63a7\u5236\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u8c03\u5ea6\u3002\u534f\u7a0b\u4e4b\u95f4\u5171\u4eab\u7ebf\u7a0b\u7684\u8d44\u6e90\uff0c\u56e0\u6b64\u534f\u7a0b\u95f4\u901a\u4fe1\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5171\u4eab\u53d8\u91cf\u3001\u9501\u7b49\u65b9\u5f0f\u8fdb\u884c\u3002\u534f\u7a0b\u7684\u4f18\u52bf\u5728\u4e8e\u80fd\u591f \u8f7b\u677e\u5730\u5b9e\u73b0\u9ad8\u5e76\u53d1\uff0c\u56e0\u4e3a\u534f\u7a0b\u5207\u6362\u548c\u8c03\u5ea6\u7684\u5f00\u9500\u975e\u5e38\u5c0f\u3002\u534f\u7a0b\u9002\u7528\u4e8e I/O \u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u901a\u8fc7\u5f02\u6b65 I/O \u53ef\u4ee5\u6709\u6548\u5730\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_68","title":"\u8054\u7cfb","text":"<ul> <li>\u7ebf\u7a0b\u5c5e\u4e8e\u8fdb\u7a0b\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u8d44\u6e90\u3002\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u4e9b\u7ebf\u7a0b\u5171\u540c\u5b8c\u6210\u4efb\u52a1\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u5e76\u53d1\u6027</li> <li>\u534f\u7a0b\u5c5e\u4e8e\u7ebf\u7a0b\uff0c\u591a\u4e2a\u534f\u7a0b\u5171\u4eab\u7ebf\u7a0b\u7684\u8d44\u6e90\u3002\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u534f\u7a0b\uff0c\u8fd9\u4e9b\u534f\u7a0b\u534f\u540c\u5b8c\u6210\u4efb\u52a1\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd</li> <li>\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u548c\u534f\u7a0b\u5728\u6267\u884c\u7a0b\u5e8f\u65f6\uff0c\u90fd\u9700\u8981\u9762\u5bf9\u540c\u6b65\u3001\u4e92\u65a5\u548c\u901a\u4fe1\u7b49\u95ee\u9898\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u548c\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u6267\u884c\u5b9e\u4f53\u6765\u5b9e\u73b0\u6700\u4f18\u7684\u6027\u80fd\u548c\u8d44\u6e90\u5229\u7528</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_69","title":"\u8bb2\u4e00\u8bb2\u7528\u6237\u7ebf\u7a0b\u4e0e\u5185\u6838\u7ebf\u7a0b\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#_70","title":"\u7528\u6237\u7ebf\u7a0b","text":"<p>\u7528\u6237\u7ebf\u7a0b\u662f\u5b8c\u5168\u5728\u7528\u6237\u7a7a\u95f4\u4e2d\u5b9e\u73b0\u548c\u7ba1\u7406\u7684\u7ebf\u7a0b\u3002\u5b83\u4eec\u7684 \u521b\u5efa\u3001\u540c\u6b65\u548c\u8c03\u5ea6\u90fd\u7531\u7528\u6237\u7ea7\u522b\u7684\u7ebf\u7a0b\u5e93(\u5982 POSIX \u7ebf\u7a0b\u5e93\uff0c\u5373 Pthreads)\u5904\u7406\uff0c\u800c\u4e0d\u9700\u8981\u5185\u6838\u76f4\u63a5\u53c2\u4e0e\u3002\u7531\u4e8e\u7528\u6237\u7ebf\u7a0b\u7684\u64cd\u4f5c\u4e0d\u6d89\u53ca\u7cfb\u7edf\u8c03\u7528\uff0c\u5b83\u4eec\u7684\u521b\u5efa\u548c\u5207\u6362\u5f00\u9500\u76f8\u5bf9\u8f83\u5c0f\u3002\u7528\u6237\u7ebf\u7a0b\u7684\u4e00\u4e2a\u4e3b\u8981\u9650\u5236\u662f\uff0c\u5b83\u4eec \u4e0d\u80fd\u5145\u5206\u5229\u7528\u591a\u6838\u5904\u7406\u5668\u7684\u5e76\u884c\u80fd\u529b\u3002\u56e0\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\u662f\u5185\u6838\u7ebf\u7a0b\uff0c \u5f53\u4e00\u4e2a\u7528\u6237\u7ebf\u7a0b\u963b\u585e\u65f6(\u5982 I/O \u64cd\u4f5c)\uff0c\u6574\u4e2a\u8fdb\u7a0b\u90fd\u4f1a\u88ab\u963b\u585e\uff0c\u5373\u4f7f\u5176\u4ed6\u7528\u6237\u7ebf\u7a0b\u4ecd\u5904\u4e8e\u5c31\u7eea\u72b6\u6001\u3002\u8fd9\u53ef\u80fd\u5bfc\u81f4\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u6027\u80fd\u4e0b\u964d\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_71","title":"\u5185\u6838\u7ebf\u7a0b","text":"<p>\u5185\u6838\u7ebf\u7a0b\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u76f4\u63a5\u652f\u6301\u548c\u7ba1\u7406\u7684\u7ebf\u7a0b\u3002\u5185\u6838\u8d1f\u8d23\u521b\u5efa\u3001\u8c03\u5ea6\u548c\u9500\u6bc1\u5185\u6838\u7ebf\u7a0b\uff0c\u6bcf\u4e2a\u5185\u6838\u7ebf\u7a0b\u90fd\u62e5\u6709\u72ec\u7acb\u7684\u5185\u6838\u6808\u548c\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u3002\u7531\u4e8e\u5185\u6838\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u5b83\u4eec \u53ef\u4ee5\u5145\u5206\u5229\u7528\u591a\u5904\u7406\u5668\u7cfb\u7edf\u7684\u5e76\u884c\u80fd\u529b\u3002\u5185\u6838\u7ebf\u7a0b\u7684\u7f3a\u70b9\u662f\uff0c\u5b83\u4eec\u7684 \u521b\u5efa\u3001\u5207\u6362\u548c\u540c\u6b65\u64cd\u4f5c\u6d89\u53ca\u7cfb\u7edf\u8c03\u7528\uff0c\u5bfc\u81f4\u8f83\u5927\u7684\u5f00\u9500\u3002\u6b64\u5916\uff0c\u5185\u6838\u7ebf\u7a0b\u9700\u8981\u66f4\u591a\u7684\u5185\u6838\u8d44\u6e90(\u5982\u5185\u6838\u6808)\uff0c\u8fd9\u53ef\u80fd\u5728 \u5927\u91cf\u7ebf\u7a0b\u7684\u60c5\u51b5\u4e0b\u5bfc\u81f4\u8d44\u6e90\u8017\u5c3d\u3002 </p>"},{"location":"Operating%20System/OperatingSystem/#_72","title":"\u603b\u7ed3","text":"<p>\u7528\u6237\u7ebf\u7a0b\u548c\u5185\u6838\u7ebf\u7a0b\u5206\u522b \u4ee3\u8868\u4e86\u4e24\u79cd\u7ebf\u7a0b\u5b9e\u73b0\u65b9\u5f0f\uff0c\u7528\u6237\u7ebf\u7a0b\u7684\u5f00\u9500\u8f83\u5c0f\uff0c\u4f46\u5728\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u53ef\u80fd\u65e0\u6cd5\u5145\u5206\u5229\u7528\u5e76\u884c\u80fd\u529b\uff1b\u5185\u6838\u7ebf\u7a0b\u53ef\u4ee5\u5145\u5206\u5229\u7528\u591a\u5904\u7406\u5668\u7684\u5e76\u884c\u80fd\u529b\uff0c\u4f46\u5f00\u9500\u8f83\u5927\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u9700\u6c42\u548c\u6027\u80fd\u8981\u6c42\u9009\u62e9\u5408\u9002\u7684\u7ebf\u7a0b\u7c7b\u578b\u3002\u6709\u4e9b\u64cd\u4f5c\u7cfb\u7edf(\u5982 Linux\u3001Windows)\u91c7\u7528\u4e86\u4e00\u79cd\u6df7\u5408\u6a21\u578b\uff0c\u5c06\u7528\u6237\u7ebf\u7a0b\u548c\u5185\u6838\u7ebf\u7a0b\u7ed3\u5408\u8d77\u6765\u3002\u5728\u8fd9\u79cd\u6a21\u578b\u4e2d\uff0c\u6bcf\u4e2a\u7528\u6237\u7ebf\u7a0b\u90fd\u6620\u5c04\u5230\u4e00\u4e2a\u5185\u6838\u7ebf\u7a0b\u4e0a\uff0c\u8fd9\u6837\u53ef\u4ee5\u540c\u65f6\u5229\u7528\u7528\u6237\u7ebf\u7a0b\u7684\u8f7b\u91cf\u7ea7\u7279\u6027\u548c\u5185\u6838\u7ebf\u7a0b\u7684\u5e76\u884c\u80fd\u529b\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_73","title":"\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u591a\u5c11\u4e2a\u7ebf\u7a0b\uff1f","text":"<p>\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u53d7\u5230\u591a\u79cd\u56e0\u7d20\u7684\u5f71\u54cd\uff0c\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u7684\u9650\u5236\u3001\u7cfb\u7edf\u8d44\u6e90(\u5982\u5185\u5b58\u3001CPU)\u7684\u53ef\u7528\u6027\u548c\u7a0b\u5e8f\u7684\u8bbe\u8ba1\u8981\u6c42\u3002\u6ca1\u6709\u56fa\u5b9a\u7684\u6570\u5b57\u53ef\u4ee5\u51c6\u786e\u5730\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u8ba8\u8bba\u4e00\u4e9b\u53ef\u80fd\u5f71\u54cd\u7ebf\u7a0b\u6570\u91cf\u7684\u56e0\u7d20\u3002</p> <ul> <li>\u64cd\u4f5c\u7cfb\u7edf\u9650\u5236\uff1a\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u548c\u5e73\u53f0\u5bf9\u6bcf\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u6709\u4e0d\u540c\u7684\u9650\u5236\u3002\u4f8b\u5982\uff0c\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 \u67e5\u770b /proc/sys/kernel/threads-max \u6587\u4ef6\u83b7\u53d6\u7cfb\u7edf\u7ea7\u522b\u7684\u6700\u5927\u7ebf\u7a0b\u6570\u9650\u5236\u3002\u6b64\u5916\uff0c\u53ef\u4ee5 \u4f7f\u7528 ulimit \u547d\u4ee4\u67e5\u770b\u548c\u8bbe\u7f6e\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u7ebf\u7a0b\u6570\u9650\u5236\u3002\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u7ebf\u7a0b\u6570\u9650\u5236\u53d7\u5230\u5730\u5740\u7a7a\u95f4\u548c\u5176\u4ed6\u8d44\u6e90\u9650\u5236\u7684\u7ea6\u675f</li> <li>\u7cfb\u7edf\u8d44\u6e90\uff1a\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570 \u53d7\u5230\u53ef\u7528\u5185\u5b58\u548c CPU \u8d44\u6e90\u7684\u9650\u5236\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u9700\u8981\u4e00\u5b9a\u7684\u5185\u5b58\u6765\u5b58\u50a8\u7ebf\u7a0b\u6808\u548c\u5176\u4ed6\u7ebf\u7a0b\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\u3002\u5982\u679c\u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\uff0c\u53ef\u80fd\u65e0\u6cd5\u521b\u5efa\u66f4\u591a\u7ebf\u7a0b\u3002\u540c\u6837\uff0c\u7cfb\u7edf\u7684 CPU \u8d44\u6e90\u4e5f\u4f1a\u5f71\u54cd\u7ebf\u7a0b\u7684\u6570\u91cf\uff0c\u56e0\u4e3a\u5927\u91cf\u7ebf\u7a0b\u53ef\u80fd\u5bfc\u81f4\u9891\u7e41\u7684\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u4ece\u800c\u964d\u4f4e\u7cfb\u7edf\u6027\u80fd</li> <li>\u7a0b\u5e8f\u8bbe\u8ba1\u8981\u6c42\uff1a\u7a0b\u5e8f\u7684\u8bbe\u8ba1\u548c\u6027\u80fd\u8981\u6c42\u4e5f\u4f1a \u5f71\u54cd\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u3002\u5728\u9762\u5411\u5e76\u53d1\u6027\u80fd\u7684\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u6743\u8861\u7ebf\u7a0b\u6570\u91cf\u548c\u7cfb\u7edf\u8d44\u6e90\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u521b\u5efa\u8fc7\u591a\u7684\u7ebf\u7a0b\u53ef\u80fd\u5bfc\u81f4\u8d44\u6e90\u7ade\u4e89\u548c\u4e0a\u4e0b\u6587\u5207\u6362\u5f00\u9500\uff0c\u4ece\u800c\u964d\u4f4e\u7a0b\u5e8f\u6027\u80fd\u3002\u56e0\u6b64\uff0c\u5408\u7406\u7684\u7ebf\u7a0b\u6570\u91cf\u5e94\u8be5\u6839\u636e\u7a0b\u5e8f\u7684\u5177\u4f53\u9700\u6c42\u548c\u7cfb\u7edf\u8d44\u6e90\u6765\u786e\u5b9a</li> </ul> <p>\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u6ca1\u6709\u56fa\u5b9a\u7684\u4e0a\u9650\uff0c\u5b83\u53d7\u5230\u64cd\u4f5c\u7cfb\u7edf\u9650\u5236\u3001\u7cfb\u7edf\u8d44\u6e90\u548c\u7a0b\u5e8f\u8bbe\u8ba1\u8981\u6c42\u7b49\u591a\u79cd\u56e0\u7d20\u7684\u5f71\u54cd\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_74","title":"\u8fdb\u7a0b\u7684\u8c03\u5ea6\u7b97\u6cd5\uff1f","text":"<p>\u8c03\u5ea6\u5668\u4e3b\u8981\u8003\u8651\u4e24\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u8c03\u5ea6\u54ea\u4e2a\u4efb\u52a1\uff1b\u6bcf\u4e2a\u4efb\u52a1\u6267\u884c\u591a\u957f\u65f6\u95f4\u3002\u5bf9\u4e8e\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u6765\u8bf4\uff0c\u9700\u8981\u7740\u91cd\u8003\u8651\u7684\u4e00\u70b9\u662f\u5982\u4f55\u8c03\u5ea6\u8ba9\u6bcf\u4e2a\u4efb\u52a1\u4ece\u7528\u6237\u7684\u773c\u4e2d\u662f\u5728\u540c\u65f6\u8fdb\u884c\u7684\u3002\u4e4b\u540e\u624d\u4f1a\u8003\u8651\u5982\u4f55\u8c03\u5ea6\u8ba9\u6027\u80fd\u6700\u4f73\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#rr","title":"\u65f6\u95f4\u7247\u8f6e\u8f6c(RR)","text":"<ul> <li>\u7528\u6237\u4f53\u9a8c\u6700\u76f4\u63a5\u7684\u6307\u6807\u5c31\u662f \u54cd\u5e94\u65f6\u95f4\uff0c\u73b0\u4ee3\u7684\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u4e00\u822c\u90fd\u662f\u91c7\u7528\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u601d\u8def\uff0c\u4e5f\u5c31\u662f\u5c06 CPU \u5212\u5206\u4e3a\u4e00\u4e2a\u4e00\u4e2a\u65f6\u95f4\u7247\uff0c \u6bcf\u4e2a\u4efb\u52a1\u72ec\u5360 CPU \u7684\u4e00\u4e2a\u65f6\u95f4\u7247\uff0c\u5982\u679c\u65f6\u95f4\u7247\u8bbe\u7f6e\u7684\u8db3\u591f\u5c0f\uff0c\u90a3\u4e48\u6bcf\u4e2a\u4efb\u52a1\u90fd\u4f1a\u5728\u4e00\u5b9a\u7684\u65f6\u95f4\u5185\u6267\u884c\u5e76\u54cd\u5e94\u7528\u6237\uff1b\u5bf9\u4e8e RR \u7b56\u7565\u6765\u8bf4\uff0c\u65f6\u95f4\u7247\u5927\u5c0f\u7684\u9009\u53d6\u662f\u9700\u8981\u8003\u8651\u7684\u95ee\u9898\uff0c \u65f6\u95f4\u7247\u9009\u7684\u8d8a\u5c0f\uff0c\u90a3\u4e48\u4efb\u52a1\u54cd\u5e94\u7684\u65f6\u95f4\u5c31\u8d8a\u5feb\uff0c\u4f46\u662f\u8fd9\u610f\u5473\u7740\u8c03\u5ea6\u7684\u6b21\u6570\u4f1a\u589e\u52a0\uff0c\u8c03\u5ea6\u7684\u5f00\u9500\u5c31\u5927 </li> <li>\u8fd9\u4e2a\u7b56\u7565\u7684 \u5f0a\u7aef\u662f\u4efb\u52a1\u7684\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\u6bd4\u8f83\u9ad8\uff0c\u56e0\u4e3a\u6240\u6709\u4efb\u52a1\u662f\u5e73\u5206 CPU \u8d44\u6e90\u7684\uff0c\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u6765\u8bf4 RR \u7b56\u7565 \u4fdd\u8bc1\u4e86\u4efb\u52a1\u7684\u516c\u5e73\u6027\uff0c\u4f46\u662f\u516c\u5e73\u5fc5\u7136\u4f1a\u635f\u5931\u6027\u80fd </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_75","title":"\u4f18\u5148\u7ea7\u8c03\u5ea6","text":"<ul> <li>\u4f18\u5148\u7ea7\u8c03\u5ea6\u662f\u5728 RR \u7684\u65f6\u95f4\u7247\u8f6e\u8f6c\u57fa\u7840\u4e0a\uff0c\u6ee1\u8db3\u7528\u6237\u7684\u54cd\u5e94\u65f6\u95f4\u6307\u6807\u540e\u8003\u8651\u7cfb\u7edf\u6027\u80fd\u7684\u3002\u9996\u5148\u4e3a\u4e86\u7ed9\u7528\u6237\u63d0\u4f9b\u66f4\u597d\u7684\u4f53\u9a8c\uff0c \u4ea4\u4e92\u5f0f\u4efb\u52a1\u7684\u4f18\u5148\u7ea7\u4e00\u5b9a\u9ad8\u4e8e\u6279\u5904\u7406\u4efb\u52a1\u3002\u7136\u540e\u5bf9\u4e8e\u6709\u660e\u786e\u622a\u6b62\u65f6\u95f4\u7684\u4efb\u52a1\uff0c\u5e94\u8be5\u8bbe\u7f6e\u6700\u9ad8\u7684\u4f18\u5148\u7ea7\u3002\u56e0\u6b64\u4f18\u5148\u7ea7\u7684\u987a\u5e8f\u4ece\u9ad8\u5230\u4f4e\u5e94\u8be5\u662f\uff1a \u660e\u786e\u622a\u6b62\u65f6\u95f4\u7684\u4efb\u52a1 &gt; \u4ea4\u4e92\u5f0f\u4efb\u52a1 &gt; IO \u5bc6\u96c6\u578b\u4efb\u52a1 &gt; \u6279\u5904\u7406\u4efb\u52a1 </li> <li>\u4f18\u5148\u7ea7\u601d\u60f3\u6700\u65e9\u4f53\u73b0\u5728\u65e9\u671f\u7684\u6279\u5904\u7406\u4efb\u52a1\u7684\u7b56\u7565\uff1a\u4e3b\u8981\u6709\u4e09\u4e2a\uff1a\u5148\u5230\u5148\u5f97(FCFS)\uff0c\u6700\u77ed\u4efb\u52a1\u4f18\u5148(SJF)\uff0c\u6700\u77ed\u5b8c\u6210\u65f6\u95f4\u4f18\u5148(STCF)\uff0c\u8fd9\u4e09\u4e2a\u7b56\u7565\u90fd\u662f\u8003\u8651\u6279\u5904\u7406\u4efb\u52a1\uff0c\u4e3b\u8981\u8003\u8651\u7684\u662f\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\u800c\u4e0d\u8003\u8651\u4efb\u52a1\u54cd\u5e94\u65f6\u95f4</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#fcfs","title":"\u5148\u5230\u5148\u5f97(FCFS)","text":"<ul> <li>\u5148\u5230\u5148\u5f97\u7b56\u7565\u5c31\u662f\u8c01\u5148\u6765\u5c31\u8c03\u5ea6\u8c01\uff0c\u5c31\u662f\u4e2a\u5148\u6765\u540e\u5230\u7684\u7b56\u7565\u3002\u5b83\u8003\u8651\u7684\u4f18\u5148\u7ea7\u662f\uff1a\u4efb\u52a1\u5230\u8fbe\u65f6\u95f4\u65e9\u7684\u4f18\u5148\u7ea7\u9ad8\u3002\u8fd9\u4e2a\u7b56\u7565\u6700\u5927\u7684\u7279\u70b9\u5c31\u662f\u7b80\u5355\u76f4\u89c2\uff0c\u5f00\u53d1\u8005\u53ea\u7528\u7ef4\u62a4\u4e00\u4e2a\u961f\u5217\u5373\u53ef\u3002\u8fd9\u4e2a\u7b56\u7565\u5c5e\u4e8e\u975e\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0c\u5728\u4efb\u52a1\u6267\u884c\u5b8c\u524d\u662f\u4e0d\u4f1a\u8ba9\u51fa CPU \u7684</li> <li>\u8fd9\u4e2a\u7b56\u7565\u7684\u95ee\u9898\u5728\u4e8e \u5bf9\u77ed\u4efb\u52a1\u4e0d\u53cb\u597d\uff0c\u5047\u8bbe\u524d\u9762\u6392\u7740\u4e00\u4e2a\u957f\u4efb\u52a1\uff0c\u90a3\u4e48\u8fd9\u4e2a\u77ed\u4efb\u52a1\u8981\u7b49\u5f88\u4e45\uff0c\u672c\u6765\u5b83\u53ea\u7528\u5f88\u77ed\u7684\u65f6\u95f4\u5c31\u6267\u884c\u5b8c\u4e86\uff0c\u4f46\u73b0\u5728\u5b83\u7684\u5468\u8f6c\u65f6\u95f4\u4f1a\u53d8\u5f97\u5f88\u957f\uff1b\u540c\u6837 \u5bf9 IO \u5bc6\u96c6\u578b\u4e5f\u4e0d\u53cb\u597d\uff0c\u5f53 IO \u5bc6\u96c6\u578b\u9700\u8981\u8bfb\u5199 IO \u800c\u8fdb\u5165\u963b\u585e\u8ba9\u51fa CPU \u65f6\uff0c\u5047\u8bbe\u540e\u5e8f\u662f\u4e00\u4e2a\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\uff0c\u90a3\u4e48\u5f53 IO \u8bfb\u5199\u5b8c\u4e86\u4e5f\u9700\u8981\u7b49\u5f85\u5f88\u957f\u65f6\u95f4\uff1b\u800c\u4e14\u5b83\u6839\u672c\u5c31\u6ca1\u6709\u8003\u8651\u54cd\u5e94\u65f6\u95f4\uff0c \u5bf9\u4ea4\u4e92\u5f0f\u4efb\u52a1\u5f88\u4e0d\u53cb\u597d </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#sjf","title":"\u6700\u77ed\u4efb\u52a1\u4f18\u5148(SJF)","text":"<ul> <li>\u8fd9\u4e2a\u7b56\u7565\u662f\u6700\u77ed\u7684\u4efb\u52a1\u5148\u6267\u884c\uff0c\u4e5f\u5c31\u662f\u8003\u8651\u6267\u884c\u65f6\u95f4\u6700\u77ed\u7684\u4efb\u52a1\u4f18\u5148\u7ea7\u9ad8\uff1b\u5b83\u7684\u4efb\u52a1\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\u80af\u5b9a\u8981\u6bd4 FCFS \u8981\u77ed\uff0c\u4f46\u662f\u5b83\u4e5f\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff0c\u9996\u5148\u5b83 \u5fc5\u987b\u9884\u77e5\u4efb\u52a1\u8fd0\u884c\u7684\u65f6\u95f4\uff0c\u8fd9\u4e2a\u5c31\u5f88\u96be\u529e\uff1b\u5176\u6b21\u5b83\u7684\u8868\u73b0 \u4e25\u91cd\u4f9d\u8d56\u4e8e\u4efb\u52a1\u5230\u8fbe\u65f6\u95f4\u70b9\uff0c\u5982\u679c\u4e00\u4e2a\u8fd0\u884c\u65f6\u95f4\u6bd4\u524d\u4e00\u4e2a\u77ed\u7684\u7a0d\u5fae\u6765\u665a\u70b9\uff0c\u4e5f\u5f97\u7b49\u524d\u4e00\u4e2a\u8fd0\u884c\u5b8c\u4e86\u624d\u80fd\u7ee7\u7eed\uff0c\u6240\u4ee5\u5e76\u6ca1\u6709\u771f\u6b63\u7684\u6700\u77ed\u4efb\u52a1\u4f18\u5148\uff0c\u662f\u5728 FCFS \u7684\u57fa\u7840\u4e0a\u7684\u6700\u77ed\u4efb\u52a1\u4f18\u5148\u3002\u4e0e FCFS \u4e00\u6837\uff0c\u90fd\u662f\u975e\u62a2\u5360\u5f0f\u8c03\u5ea6</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#stcf","title":"\u6700\u77ed\u5b8c\u6210\u65f6\u95f4\u4f18\u5148(STCF)","text":"<ul> <li>\u4e4b\u524d\u7684\u6700\u77ed\u4efb\u52a1\u4f18\u5148\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u6700\u77ed\u4efb\u52a1\u4f18\u5148\uff0c\u8fdf\u5230\u4e86\u7684\u4efb\u52a1\u662f\u65e0\u6cd5\u53d7\u76ca\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u6309\u7167\u6700\u77ed\u5b8c\u6210\u65f6\u95f4\u6765\u8c03\u5ea6\uff0c\u4e5f\u5c31\u662f\u4efb\u52a1\u5269\u4f59\u65f6\u95f4\u77ed\u7684\u4f18\u5148\u7ea7\u9ad8\uff1b\u8c01\u5b8c\u6210\u65f6\u95f4\u6700\u77ed\uff0c\u8c01\u5c31\u76f4\u63a5\u628a\u524d\u9762\u7684 CPU \u62a2\u5360\u4e86\uff1b\u8fd9\u4e2a\u7b56\u7565\u4e0d\u540c\u4e8e\u4e4b\u524d\u7684\u5fc5\u987b\u6267\u884c\u5b8c\u624d\u662f\u4e0b\u4e00\u4e2a\uff0c \u5c5e\u4e8e\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0c\u8fd9\u4e2a\u7b56\u7565\u8f83\u597d\u7684\u8003\u8651\u7684\u77ed\u4efb\u52a1\uff0c\u5b83\u7684\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\u662f\u6bd4\u8f83\u5c0f\u7684\uff0c\u4f46\u662f\u8fd9\u4e2a\u7b56\u7565\u7684\u95ee\u9898\u5728\u4e8e \u957f\u4efb\u52a1\u7684\u9965\u997f\u95ee\u9898\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u77ed\u4efb\u52a1\u591a\u4e86\uff0c\u90a3\u4e48\u957f\u4efb\u52a1\u9700\u8981\u4e00\u76f4\u7b49\u5f85\u3002</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#mlq","title":"\u591a\u7ea7\u961f\u5217(MLQ)","text":"<ul> <li>\u65e9\u671f\u6279\u5904\u7406\u4efb\u52a1\u8c03\u5ea6\u7b56\u7565\u90fd\u662f\u9690\u5f0f\u7684\u4f18\u5148\u7ea7\uff0c\u5e76\u6ca1\u6709\u76f4\u63a5\u6307\u51fa\u4f18\u5148\u7ea7\uff0c\u591a\u7ea7\u961f\u5217\u662f\u660e\u786e\u7684\u6307\u51fa\u7684\u4f18\u5148\u7ea7\uff0c\u6bcf\u4e2a\u4efb\u52a1\u7684\u4f18\u5148\u7ea7\u8bbe\u5b9a\u597d\u4e86\u5c31\u4e0d\u4f1a\u53d8\u52a8\uff0c\u5b83\u5c5e\u4e8e \u9759\u6001\u7684\u4f18\u5148\u7ea7\u8c03\u5ea6\u7b56\u7565 </li> <li>MLQ \u5373\u6bcf\u4e2a\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u8bbe\u7f6e\u4e00\u4e2a\u961f\u5217\uff0c\u4f18\u5148\u5904\u7406\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\uff0c \u76f8\u540c\u4f18\u5148\u7ea7\u4e4b\u95f4\u91c7\u7528\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u7b56\u7565\u4fdd\u8bc1\u54cd\u5e94\u65f6\u95f4\u3002MLQ \u9002\u5408\u4e8e\u9759\u6001\u7684\u5e94\u7528\u573a\u666f\uff0c\u8fd9\u7c7b\u573a\u666f\u4e0b\u4efb\u52a1\u4fe1\u606f\u53ef\u4ee5\u518d\u6267\u884c\u524d\u83b7\u5f97\uff0c\u57fa\u4e8e\u6b64\u53ef\u4ee5\u5206\u914d\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u6765\u5b9e\u73b0\u8c03\u5ea6</li> <li>MLQ \u662f\u4e00\u79cd\u9ad8\u6548\u7684\u4f18\u5148\u7ea7\u8c03\u5ea6\u7b56\u7565\uff0c\u4f46\u662f\u4ece\u53e6\u4e00\u4e2a\u89d2\u5ea6\u8bf4\uff0c\u5b83 \u4f9d\u7136\u6ca1\u6709\u89e3\u51b3\u4f4e\u4f18\u5148\u7ea7\u7684\u9965\u997f\u95ee\u9898\u3002\u5982\u679c\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\u6570\u91cf\u5f88\u591a\uff0c\u90a3\u4e48\u4f4e\u4f18\u5148\u7ea7\u6c38\u8fdc\u4e5f\u4e0d\u4f1a\u53bb\u6267\u884c</li> <li>\u540c\u65f6 \u4f18\u5148\u7ea7\u56fa\u5b9a\u4e5f\u4f1a\u5e26\u6765\u4e00\u4e2a\u53eb\u505a\u4f18\u5148\u7ea7\u53cd\u8f6c\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u6709\u4efb\u52a1 A, B, C\uff0c\u4f18\u5148\u7ea7\u4f9d\u6b21\u4ece\u9ad8\u5230\u4f4e\uff0c\u7136\u540e\u6b64\u65f6 C \u6070\u597d\u6301\u6709\u4e00\u628a\u9501\uff0cA \u4e5f\u60f3\u83b7\u5f97\u8fd9\u628a\u9501\uff0c\u4f46\u662f\u56e0\u4e3a C \u5148\u62ff\u8d70\u4e86\uff0c\u6240\u4ee5 A \u6b64\u65f6\u53ea\u80fd\u8fdb\u5165\u963b\u585e\u72b6\u6001\u7b49 C \u653e\u9501\uff1b\u7136\u540e\u56e0\u4e3a B \u6bd4 C \u4f18\u5148\u7ea7\u9ad8\uff0c\u6240\u4ee5 B \u5148\u8fd0\u884c\uff0c\u90a3\u4e48\u6b64\u65f6\u5c31\u6709 B \u6bd4 A \u4f18\u5148\u7ea7\u9ad8\u7684\u4e00\u4e2a\u5047\u8c61\u3002\u4e00\u822c\u6765\u8bf4\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\u7684\u601d\u8def\u662f\u4f18\u5148\u7ea7\u7ee7\u627f\uff0c\u4e5f\u5c31\u662f A \u6682\u65f6\u628a\u5b83\u7684\u4f18\u5148\u7ea7\u8f6c\u79fb\u7ed9 C\uff0c\u8ba9 C \u5148\u5b8c\u6210\uff0c\u8fd9\u6837 A \u5c31\u80fd\u63a5\u7740\u5b8c\u6210</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#mlfq","title":"\u591a\u7ea7\u53cd\u9988\u961f\u5217(MLFQ)","text":"<ul> <li>\u591a\u7ea7\u961f\u5217\u662f\u4e00\u79cd\u8f83\u597d\u7684\u8003\u8651\u4f18\u5148\u7ea7\u7684\u7b56\u7565\uff0c\u4f46\u662f\u5b83\u6ca1\u6709\u89e3\u51b3\u4f4e\u4f18\u5148\u7ea7\u7684\u9965\u997f\u95ee\u9898\uff0c\u800c\u4e14\u591a\u7ea7\u961f\u5217\u9700\u8981\u63d0\u524d\u9884\u5224\u5404\u4e2a\u4efb\u52a1\u7684\u4f18\u5148\u7ea7\uff0c\u4f46\u968f\u7740\u4efb\u52a1\u4e0d\u65ad\u590d\u6742\uff0c\u9884\u6d4b\u4efb\u52a1\u53d8\u5f97\u6bd4\u8f83\u56f0\u96be\u3002\u56e0\u6b64\u9759\u6001\u7684\u7b56\u7565\u5df2\u7ecf\u4e0d\u80fd\u6ee1\u8db3\u9700\u8981\uff0c\u9700\u8981 \u52a8\u6001\u7684\u8c03\u6574\u4f18\u5148\u7ea7\uff0c\u8fd9\u4e5f\u5c31\u662f\u591a\u7ea7\u53cd\u9988\u961f\u5217\u3002\u591a\u7ea7\u53cd\u9988\u961f\u5217\u7684\u6700\u5927\u7279\u70b9\u662f\u5b9e\u73b0\u4e86\u4f18\u5148\u7ea7\u7684\u52a8\u6001\u8bbe\u7f6e</li> <li>\u5177\u4f53\u7684\u7b56\u7565\u662f\uff0c\u77ed\u4efb\u52a1\u5177\u6709\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7\uff0c\u8fd9\u6837\u4e3b\u8981\u662f\u4e3a\u4e86\u964d\u4f4e\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\uff1bI/O \u5bc6\u96c6\u578b\u7684\u4efb\u52a1\u56e0\u4e3a\u5176 CPU \u8fd0\u884c\u65f6\u95f4\u6bd4\u8f83\u77ed\uff0c\u6240\u4ee5\u5b83\u7684\u4f18\u5148\u7ea7\u4e00\u822c\u4e5f\u6bd4\u8f83\u9ad8\uff0c\u6709\u5229\u4e8e\u63d0\u9ad8 IO \u8d44\u6e90\u7684\u5229\u7528\u7387\uff1b\u4ea4\u4e92\u5f0f\u4efb\u52a1\u4e00\u822c\u662f\u77ed\u4efb\u52a1\uff0c\u6240\u4ee5\u5176\u4f18\u5148\u7ea7\u4e00\u822c\u4e5f\u6bd4\u8f83\u9ad8</li> <li>\u5728\u771f\u5b9e\u7cfb\u7edf\u4e2d\uff0c\u53ef\u80fd\u65e0\u6cd5\u53bb\u9884\u6d4b\u662f\u77ed\u4efb\u52a1\u8fd8\u662f\u957f\u4efb\u52a1\uff0c\u56e0\u6b64\u9700\u8981\u52a8\u6001\u7684\u53bb\u8c03\u6574\uff0c\u5f53\u4efb\u52a1\u7b2c\u4e00\u6b21\u8fdb\u5165\u8fd0\u884c\u961f\u5217\u65f6\uff0c\u7cfb\u7edf\u4f1a\u5047\u5b9a\u8be5\u4efb\u52a1\u662f\u6700\u9ad8\u4f18\u5148\u7ea7\uff0c\u5982\u679c\u8be5\u4efb\u52a1\u8fd0\u884c\u65f6\u95f4\u8d85\u8fc7\u6700\u5927\u8fd0\u884c\u65f6\u95f4\uff0c\u90a3\u4e48\u7cfb\u7edf\u81ea\u52a8\u4f1a\u7ed9\u5176\u964d\u4f4e\u4f18\u5148\u7ea7</li> <li>\u4e3a\u4e86\u7f13\u89e3\u4f4e\u4f18\u5148\u7ea7\u7684\u9965\u997f\u95ee\u9898\uff0c\u8c03\u5ea6\u5668\u4f1a\u5b9a\u65f6\u7684\u5c06\u6240\u6709\u4f4e\u4f18\u5148\u7ea7\u7684\u961f\u5217\u91cd\u65b0\u63d0\u5230\u6700\u9ad8\u3002\u4fdd\u8bc1\u4f4e\u4f18\u5148\u7ea7\u6709\u673a\u4f1a\u6267\u884c</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#cfs","title":"\u5b8c\u5168\u516c\u5e73\u8c03\u5ea6(CFS)","text":"<ul> <li>\u4f18\u5148\u9009\u62e9 vruntime \u5c11\u7684\u4efb\u52a1\uff0c\u4ee5\u4fdd\u8bc1\u6bcf\u4e2a\u4efb\u52a1\u7684\u516c\u5e73\u6027</li> <li>\u865a\u62df\u8fd0\u884c\u65f6\u95f4 vruntime += \u5b9e\u9645\u8fd0\u884c\u65f6\u95f4 delta_exec* NICE_0_LOAD/ \u6743\u91cd</li> <li>\u8fd0\u884c\u961f\u5217\u7528 \u7ea2\u9ed1\u6811 \u6765\u63cf\u8ff0\u7684\uff0c\u6309 vruntime \u5927\u5c0f\u6765\u6392\u5e8f\u7684\uff0c\u6700\u5de6\u4fa7\u7684\u53f6\u5b50\u8282\u70b9\u5c31\u662f\u4e0b\u6b21\u4f1a\u88ab\u8c03\u5ea6\u7684\u4efb\u52a1</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_76","title":"\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\uff1f","text":"<p>\u8fdb\u7a0b\u95f4\u901a\u4fe1(Inter-Process Communication, IPC)\u662f\u6307\u8fdb\u7a0b\u4e4b\u95f4\u901a\u8fc7\u7279\u5b9a\u7684\u65b9\u5f0f\u5171\u4eab\u6570\u636e\u548c\u4fe1\u606f\u7684\u8fc7\u7a0b\u3002\u5728\u591a\u4efb\u52a1\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u8fdb\u7a0b\u95f4\u901a\u4fe1\u5bf9\u4e8e\u534f\u8c03\u8fdb\u7a0b\u7684\u6267\u884c\u548c\u5b9e\u73b0\u8d44\u6e90\u5171\u4eab\u975e\u5e38\u91cd\u8981\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\uff1a</p>"},{"location":"Operating%20System/OperatingSystem/#_77","title":"\u7ba1\u9053","text":"<ul> <li>\u7ba1\u9053\u662f\u4e00\u79cd \u5355\u5411\u7684 IPC\uff0c\u5185\u6838\u4e2d\u5b58\u5728\u4e00\u5b9a\u7f13\u51b2\u533a\uff0c\u5e76\u4e14\u4f20\u8f93\u7684\u6570\u636e\u662f\u5b57\u8282\u6d41\u3002\u7ba1\u9053\u5728 Unix \u4e2d\u662f\u88ab\u5f53\u505a\u4e00\u4e2a\u6587\u4ef6\uff0c\u7cfb\u7edf\u8c03\u7528\u4f1a\u63d0\u4f9b\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u4f9b\u7528\u6237\u8bfb\u5199\u6587\u4ef6</li> <li>\u5982\u679c\u7ba1\u9053\u7684\u5199\u7aef\u6ca1\u6709\u88ab\u8fdb\u7a0b\u6301\u6709\uff0c\u800c\u6536\u7aef\u5c1d\u8bd5\u53bb\u8bfb\u7684\u8bdd\uff0c\u6b64\u65f6\u4f1a\u53d7\u5230 EOF\uff0c\u5982\u679c\u5199\u7aef\u6709\u8fdb\u7a0b\u6301\u6709\u7684\u8bdd\uff0c\u8bfb\u7aef\u5c31\u4f1a\u963b\u585e\u5728 read \u4e0a</li> <li>\u7ba1\u9053\u5206\u4e3a\u547d\u540d\u7ba1\u9053\u4e0e\u533f\u540d\u7ba1\u9053\uff0c \u533f\u540d\u7ba1\u9053\u6ca1\u6709\u540d\u5b57\uff0c\u662f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528 pipe() \u521b\u5efa\u7684\uff0c\u53ea\u8fd4\u56de\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u6ce8\u610f\u662f pipe[1] \u5199\u7ed9 pipe[0]\u3002\u56e0\u4e3a\u533f\u540d\u7ba1\u9053\u6ca1\u6709\u540d\u5b57\uff0c\u6240\u4ee5\u4e00\u822c\u533f\u540d\u7ba1\u9053\u53ea\u80fd\u7528\u4e8e\u4e24\u4e2a\u5173\u7cfb\u6bd4\u8f83\u8fd1\u7684\u8fdb\u7a0b\uff0c\u6bd4\u5982 fork \u51fa\u6765\u7684\u7236\u5b50\u8fdb\u7a0b</li> <li>\u5f53 \u4e24\u4e2a\u5173\u7cfb\u6bd4\u8f83\u8fdc\u7684\u65f6\u5019\uff0c\u6b64\u65f6\u5c31\u5e94\u8be5\u4f7f\u7528\u547d\u540d\u7ba1\u9053\uff0c\u521b\u5efa\u8be5\u7ba1\u9053\u7684\u547d\u4ee4\u4e3a mkfifo\uff0c\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u5168\u5c40\u7684\u6587\u4ef6\u540d\u4e0e\u6743\u9650\uff0c\u4e4b\u540e\u8bfb\u5199\u7ba1\u9053\u5c31\u662f\u5728\u8bfb\u5199\u8fd9\u4e2a\u6587\u4ef6</li> <li>\u7ba1\u9053\u53ea\u80fd\u5355\u9879\u4f20\u8f93\u6570\u636e\uff0c \u5982\u679c\u60f3\u53cc\u5411\u4f20\u8f93\uff0c\u90a3\u4e48\u5c31\u7528 socketpair\u3002socketpair \u4f1a\u521b\u5efa\u4e24\u4e2a socket\uff0c\u7236\u8fdb\u7a0b\u5173\u95ed\u4e00\u4e2a\uff0c\u5b50\u8fdb\u7a0b\u5173\u6389\u53e6\u4e00\u4e2a\u3002\u8fd9\u6837\u53cc\u65b9\u5404\u62ff\u4e00\u4e2a socket \u901a\u4fe1</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_78","title":"\u6d88\u606f\u961f\u5217","text":"<ul> <li>\u6d88\u606f\u961f\u5217\u662f \u552f\u4e00\u4e00\u4e2a\u4ee5\u6d88\u606f\u4e3a\u6570\u636e\u62bd\u8c61\u7684\u901a\u4fe1\u65b9\u5f0f\u3002\u6d88\u606f\u961f\u5217\u5728\u5185\u6838\u4e2d\u7684\u6570\u636e\u7ed3\u6784\u662f\u4e00\u4e2a \u5355\u94fe\u8868\u6784\u6210\u7684\u961f\u5217\uff0c\u6700\u521d\u4f1a\u6709\u4e2a\u6d88\u606f\u5934\u90e8\u6307\u9488\uff0c\u4fdd\u5b58\u7740\u6d88\u606f\u961f\u9996\u4e0e\u76f8\u5e94\u7684\u6743\u9650\uff1b\u6bcf\u4e2a\u6d88\u606f\u90fd\u4f1a\u6709\u4e0b\u4e00\u4e2a\u6d88\u606f\u7684\u6307\u9488\uff0c\u4ee5\u53ca\u6d88\u606f\u672c\u8eab\u7684\u5185\u5bb9</li> <li>\u6d88\u606f\u961f\u5217\u7684 \u5185\u5b58\u7a7a\u95f4\u6709\u9650\uff0c\u4e00\u822c\u6765\u8bf4 \u4f20\u9012\u957f\u6d88\u606f\u65f6\u91c7\u7528\u5171\u4eab\u5185\u5b58\u7684\u65b9\u5f0f\uff0c\u800c\u975e\u6d88\u606f\u961f\u5217\u3002\u901a\u8fc7\u6d88\u606f\u961f\u5217\u4f20\u9012\u6570\u636e\u9700\u8981\u5148 copy \u5230\u5185\u6838\uff0c\u7136\u540e\u518d\u5230\u6536\u7aef\uff0c\u6240\u4ee5\u6709\u4e2a\u4ee3\u4ef7</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_79","title":"\u5171\u4eab\u5185\u5b58","text":"<ul> <li>\u4f7f\u7528\u5171\u4eab\u5185\u5b58\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u539f\u56e0\u662f \u5171\u4eab\u5185\u5b58\u4e0d\u9700\u8981\u5148\u62f7\u8d1d\u5230\u5185\u6838\u7a7a\u95f4\u4e2d\uff0c\u901f\u5ea6\u6bd4\u8f83\u5feb\u3002\u5171\u4eab\u5185\u5b58\u7684\u6838\u5fc3\u601d\u8def\u5c31\u662f\u5141\u8bb8\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u8fdb\u7a0b\u6240\u5728\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e2d\u6620\u5c04\u76f8\u540c\u7684\u7269\u7406\u9875\uff0c\u4ece\u800c\u8fdb\u884c\u901a\u4fe1</li> <li>\u5171\u4eab\u5185\u5b58\u7684\u5b9e\u73b0\u673a\u5236\uff1a\u9996\u5148\u5185\u6838\u4f1a\u7ed9\u5168\u5c40\u7684\u5171\u4eab\u5185\u5b58 \u7ef4\u62a4\u4e00\u4e2a\u5168\u5c40\u7684\u961f\u5217\u7ed3\u6784\uff0c\u8fd9\u4e2a\u961f\u5217\u7684 \u6bcf\u4e00\u9879\u662f\u4e00\u4e2a shmid_kernel \u7ed3\u6784\u4f53\u4e0e\u4e00\u4e2a IPC key \u6765\u7ed1\u5b9a\u7684\uff0c\u5404\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7 key \u6765\u627e\u5230\u5e76\u4f7f\u7528\u540c\u4e00\u6bb5\u5171\u4eab\u5185\u5b58\uff1b\u8be5\u8fdb\u7a0b\u80fd\u5426\u64cd\u4f5c\u8fd9\u6bb5\u5171\u4eab\u5185\u5b58\u53ef\u4ee5\u901a\u8fc7 System V \u7684\u6743\u9650\u68c0\u67e5\u673a\u5236\u6765\u5224\u65ad</li> <li>\u5f53\u4e24\u4e2a\u8fdb\u7a0b\u540c\u65f6\u5bf9\u4e00\u4e2a\u5171\u4eab\u5185\u5b58\u5efa\u7acb\u4e86\u6620\u5c04\u540e\uff0c \u5185\u6838\u4f1a\u7ed9\u4ed6\u4eec\u5206\u914d\u4e24\u4e2a VMA \u7ed3\u6784\u4f53\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u4ed6\u4eec\u5404\u81ea\u7684\u865a\u62df\u5730\u5740\u6765\u8bbf\u95ee VMA \u5e76\u8bbf\u95ee\u5176\u80cc\u540e\u7684\u5171\u4eab\u5185\u5b58\u7a7a\u95f4 </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_80","title":"\u4fe1\u53f7\u91cf","text":"<ul> <li>\u4fe1\u53f7\u91cf\u662f\u7528\u6765 \u8f85\u52a9\u63a7\u5236\u591a\u4e2a\u8bbf\u95ee\u7ebf\u7a0b\u8bbf\u95ee\u6709\u9650\u6570\u91cf\u8d44\u6e90\u7684 </li> <li>\u4fe1\u53f7\u91cf\u4e0d\u540c\u4e8e\u6d88\u606f\u961f\u5217\u8fd9\u79cd\u660e\u786e\u662f\u4f20\u9012\u6d88\u606f\u7684\uff0c\u5b83\u4e3b\u8981\u662f\u7528\u6765\u540c\u6b65\uff0c\u5b83\u5c31\u80fd\u4f20\u9012\u4e00\u4e2a\u6574\u6570\uff0c\u4e00\u822c\u8fd8\u662f0\uff0c1\u3002\u4fe1\u53f7\u91cf\u64cd\u4f5c\u4e3b\u8981\u6709\u4e24\u4e2a\u539f\u8bed\uff0cP \u64cd\u4f5c\u4e0e V \u64cd\u4f5c\uff0cP \u64cd\u4f5c\u5c31\u662f\u4fe1\u53f7\u91cf\u51cf 1\uff0c\u5982\u679c\u5931\u8d25\u5c31\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u53ef\u4ee5\u51cf\uff1bV \u64cd\u4f5c\u5c31\u662f\u4fe1\u53f7\u91cf +1\uff0cV \u64cd\u4f5c\u53ef\u4ee5\u5524\u9192\u4e00\u4e2a\u56e0 P \u64cd\u4f5c\u963b\u585e\u7684\u8fdb\u7a0b</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_81","title":"\u8bb2\u4e00\u8bb2\u8fdb\u7a0b\u865a\u62df\u5316\uff1f","text":"<p>\u8fdb\u7a0b\u865a\u62df\u5316\u662f\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u6280\u672f\uff0c\u5b83 \u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u5728\u540c\u4e00\u4e2a\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\uff0c\u540c\u65f6\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\u3002\u8fdb\u7a0b\u865a\u62df\u5316\u7684\u76ee\u6807\u662f\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\u3001\u9694\u79bb\u8fdb\u7a0b\u4ee5\u4fdd\u8bc1\u7cfb\u7edf\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027\uff0c\u4ee5\u53ca\u7b80\u5316\u8fdb\u7a0b\u7ba1\u7406\u548c\u8c03\u5ea6\u3002</p> <ul> <li>\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff1a\u5728\u8fdb\u7a0b\u865a\u62df\u5316\u4e2d\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u4e0e\u5176\u4ed6\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u76f8\u4e92\u72ec\u7acb\u3002\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5305\u542b\u4e86\u8fdb\u7a0b\u7684\u4ee3\u7801\u3001\u6570\u636e\u3001\u5806\u548c\u6808\u7b49\u5185\u5b58\u533a\u57df\u3002 \u865a\u62df\u5730\u5740\u7a7a\u95f4\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\uff0c\u5b9e\u73b0\u4e86\u865a\u62df\u5185\u5b58\u7684\u6982\u5ff5\u3002\u8fd9\u79cd\u6620\u5c04\u4f7f\u5f97\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u8ba4\u4e3a\u81ea\u5df1\u5728\u72ec\u5360\u6574\u4e2a\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u7b80\u5316\u4e86\u5185\u5b58\u7ba1\u7406\u548c\u4fdd\u62a4</li> <li>\u4e0a\u4e0b\u6587\u5207\u6362\uff1a\u5728\u8fdb\u7a0b\u865a\u62df\u5316\u4e2d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u5728\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u5207\u6362\uff0c\u4ee5\u5b9e\u73b0\u591a\u4efb\u52a1\u548c\u5e76\u53d1\u3002\u4e0a\u4e0b\u6587\u5207\u6362\u662f\u6307\u4fdd\u5b58\u5f53\u524d\u8fdb\u7a0b\u7684\u72b6\u6001(\u5982\u5bc4\u5b58\u5668\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u5185\u5b58\u6620\u5c04\u7b49)\uff0c\u7136\u540e\u6062\u590d\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u72b6\u6001\uff0c\u4ece\u800c\u5b9e\u73b0\u8fdb\u7a0b\u5207\u6362\u3002\u4e0a\u4e0b\u6587\u5207\u6362\u53ef\u80fd\u5bfc\u81f4\u4e00\u5b9a\u7684\u6027\u80fd\u5f00\u9500\uff0c\u56e0\u6b64\u9700\u8981\u5728\u8fdb\u7a0b\u8c03\u5ea6\u548c\u540c\u6b65\u4e2d\u5c3d\u91cf\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5207\u6362</li> <li>\u8fdb\u7a0b\u9694\u79bb\uff1a\u8fdb\u7a0b\u865a\u62df\u5316\u63d0\u4f9b\u4e86\u4e00\u5b9a\u7a0b\u5ea6\u7684\u8fdb\u7a0b\u9694\u79bb\uff0c\u4ee5\u786e\u4fdd\u4e00\u4e2a\u8fdb\u7a0b\u7684\u9519\u8bef\u6216\u6076\u610f\u884c\u4e3a\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u8fdb\u7a0b\u548c\u7cfb\u7edf\u3002\u8fdb\u7a0b\u9694\u79bb\u901a\u8fc7\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3001\u5185\u5b58\u4fdd\u62a4\u548c\u6743\u9650\u63a7\u5236\u7b49\u673a\u5236\u5b9e\u73b0\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\uff0c\u9664\u975e\u901a\u8fc7\u8fdb\u7a0b\u95f4\u901a\u4fe1\u6216\u5171\u4eab\u5185\u5b58\u7684\u65b9\u5f0f\u3002\u6b64\u5916\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8fd8\u53ef\u4ee5\u9650\u5236\u8fdb\u7a0b\u5bf9\u6587\u4ef6\u3001\u8bbe\u5907\u548c\u7f51\u7edc\u7b49\u8d44\u6e90\u7684\u8bbf\u95ee</li> <li>\u8fdb\u7a0b\u8c03\u5ea6\uff1a\u5728\u8fdb\u7a0b\u865a\u62df\u5316\u4e2d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u6839\u636e\u4f18\u5148\u7ea7\u3001\u8d44\u6e90\u9700\u6c42\u548c\u7b56\u7565\u7b49\u56e0\u7d20\u8c03\u5ea6\u8fdb\u7a0b\u7684\u6267\u884c\u3002\u8fdb\u7a0b\u8c03\u5ea6\u65e8\u5728\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\u3001\u964d\u4f4e\u54cd\u5e94\u65f6\u95f4\u548c\u786e\u4fdd\u516c\u5e73\u6027\u3002\u5e38\u89c1\u7684\u8fdb\u7a0b\u8c03\u5ea6\u7b97\u6cd5\u5305\u62ec\u5148\u6765\u5148\u670d\u52a1(FCFS)\u3001\u77ed\u4f5c\u4e1a\u4f18\u5148(SJF)\u3001\u4f18\u5148\u7ea7\u8c03\u5ea6\u3001\u65f6\u95f4\u7247\u8f6e\u8f6c(Round Robin)\u7b49</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_82","title":"\u8fdb\u7a0b\u7684\u72b6\u6001\u6709\u54ea\u4e9b\uff1f","text":"<p>\u8fdb\u7a0b\u7684\u72b6\u6001\u662f\u63cf\u8ff0\u8fdb\u7a0b\u5728\u751f\u547d\u5468\u671f\u4e2d\u7684\u5404\u79cd\u53ef\u80fd\u9636\u6bb5\u3002\u64cd\u4f5c\u7cfb\u7edf\u6839\u636e\u8fdb\u7a0b\u7684\u72b6\u6001\u6765\u7ba1\u7406\u548c\u8c03\u5ea6\u8fdb\u7a0b\u3002\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u8fdb\u7a0b\u72b6\u6001\uff1a</p> <ul> <li>\u65b0\u5efa(New)\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u521a\u521a\u88ab\u521b\u5efa\u65f6\uff0c\u5b83\u5904\u4e8e\u65b0\u5efa\u72b6\u6001\u3002\u5728\u8fd9\u4e2a\u72b6\u6001\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u8fdb\u7a0b\u5206\u914d\u5fc5\u8981\u7684\u8d44\u6e90\uff0c\u5982\u5185\u5b58\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\uff0c\u5e76\u521d\u59cb\u5316\u8fdb\u7a0b\u63a7\u5236\u5757(PCB)\u7b49\u6570\u636e\u7ed3\u6784</li> <li>\u5c31\u7eea(Ready)\uff1a\u8fdb\u7a0b\u5df2\u7ecf\u51c6\u5907\u597d\u8fd0\u884c\uff0c\u6b63\u5728\u7b49\u5f85\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u5668\u5206\u914d CPU \u65f6\u95f4\u7247\u3002\u5c31\u7eea\u72b6\u6001\u7684\u8fdb\u7a0b\u5df2\u5206\u914d\u5230\u4e86\u9664 CPU \u4e4b\u5916\u7684\u6240\u6709\u5fc5\u8981\u8d44\u6e90\uff0c\u53ea\u9700\u8981 CPU \u65f6\u95f4\u7247\u5c31\u53ef\u4ee5\u5f00\u59cb\u6267\u884c</li> <li>\u8fd0\u884c(Running)\uff1a\u8fdb\u7a0b\u6b63\u5728 CPU \u4e0a\u6267\u884c\u3002\u5728\u4efb\u4f55\u7ed9\u5b9a\u65f6\u523b\uff0c\u6bcf\u4e2a CPU \u6216\u6838\u5fc3\u4e0a\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a\u8fdb\u7a0b\u5904\u4e8e\u8fd0\u884c\u72b6\u6001</li> <li>\u963b\u585e(Blocked)\uff1a\u8fdb\u7a0b\u56e0\u7b49\u5f85\u67d0\u4e2a\u4e8b\u4ef6(\u5982 I/O \u64cd\u4f5c\u5b8c\u6210\u3001\u9501\u91ca\u653e\u6216\u4fe1\u53f7\u5230\u8fbe)\u800c\u6682\u505c\u6267\u884c\u3002\u5728\u963b\u585e\u72b6\u6001\u4e0b\uff0c\u8fdb\u7a0b\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\uff0c\u76f4\u5230\u7b49\u5f85\u7684\u4e8b\u4ef6\u53d1\u751f</li> <li>\u7ec8\u6b62(Terminated)\uff1a\u8fdb\u7a0b\u5df2\u7ecf\u5b8c\u6210\u6267\u884c\u6216\u56e0\u67d0\u79cd\u539f\u56e0\u88ab\u7ec8\u6b62\u3002\u5728\u7ec8\u6b62\u72b6\u6001\u4e0b\uff0c\u8fdb\u7a0b\u7684\u8d44\u6e90\u88ab\u56de\u6536\uff0c\u8fdb\u7a0b\u63a7\u5236\u5757(PCB)\u53ef\u80fd\u88ab\u4fdd\u7559\u4e00\u6bb5\u65f6\u95f4\u4ee5\u4fbf\u7236\u8fdb\u7a0b\u83b7\u53d6\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\u72b6\u6001</li> </ul> <p>\u8fdb\u7a0b\u5728\u5176\u751f\u547d\u5468\u671f\u4e2d\u53ef\u80fd\u4f1a\u5728\u8fd9\u4e9b\u72b6\u6001\u4e4b\u95f4\u8f6c\u6362\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u8fdb\u7a0b\u8c03\u5ea6\u3001\u8d44\u6e90\u7ba1\u7406\u548c\u4e8b\u4ef6\u5904\u7406\u7b49\u673a\u5236\u6765\u5b9e\u73b0\u72b6\u6001\u8f6c\u6362\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_83","title":"\u8fdb\u7a0b\u5982\u4f55\u521b\u5efa\u7684\uff1f","text":"<p>\u4ee5\u7c7b Unix \u7cfb\u7edf(\u5982 Linux)\u4e3a\u4f8b\uff0c\u8fdb\u7a0b\u521b\u5efa\u7684\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ul> <li>\u8c03\u7528 fork() \u7cfb\u7edf\u8c03\u7528\uff1a\u8fdb\u7a0b\u521b\u5efa\u901a\u5e38\u4ece\u4e00\u4e2a\u5df2\u6709\u7684\u8fdb\u7a0b(\u7236\u8fdb\u7a0b)\u5f00\u59cb\u3002\u7236\u8fdb\u7a0b\u8c03\u7528 fork() \u7cfb\u7edf\u8c03\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b(\u5b50\u8fdb\u7a0b)\u3002fork() \u7cfb\u7edf\u8c03\u7528\u4f1a\u590d\u5236\u7236\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u63a7\u5236\u5757(PCB)\u3001\u865a\u62df\u5185\u5b58\u5e03\u5c40\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\u6570\u636e\u7ed3\u6784\uff0c\u4ece\u800c\u521b\u5efa\u4e00\u4e2a\u4e0e\u7236\u8fdb\u7a0b\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\u7684\u5b50\u8fdb\u7a0b\u3002 fork() \u8c03\u7528\u5728\u7236\u8fdb\u7a0b\u4e2d\u8fd4\u56de\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0b ID\uff0c\u800c\u5728\u5b50\u8fdb\u7a0b\u4e2d\u8fd4\u56de 0 </li> <li>\u5b50\u8fdb\u7a0b\u4fee\u6539\u5185\u5b58\u6620\u5c04\uff1a\u5728 fork() \u4e4b\u540e\uff0c\u5b50\u8fdb\u7a0b\u901a\u5e38\u9700\u8981\u4fee\u6539\u5176\u865a\u62df\u5185\u5b58\u6620\u5c04\uff0c\u4ee5 \u5b9e\u73b0\u5199\u65f6\u590d\u5236(Copy-on-Write, COW)\u673a\u5236\u3002\u5199\u65f6\u590d\u5236\u662f\u4e00\u79cd\u5185\u5b58\u4f18\u5316\u6280\u672f\uff0c\u5b83\u5141\u8bb8\u5b50\u8fdb\u7a0b\u5728\u521b\u5efa\u65f6\u5171\u4eab\u7236\u8fdb\u7a0b\u7684\u5185\u5b58\u9875\u9762\uff0c\u76f4\u5230\u9700\u8981\u4fee\u6539\u9875\u9762\u5185\u5bb9\u65f6\u624d\u590d\u5236\u9875\u9762\u3002\u8fd9\u79cd\u673a\u5236\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u590d\u5236\uff0c\u63d0\u9ad8\u4e86\u8fdb\u7a0b\u521b\u5efa\u7684\u6027\u80fd</li> <li>\u8c03\u7528 exec() \u7cfb\u7edf\u8c03\u7528(\u53ef\u9009)\uff1a\u5982\u679c\u5b50\u8fdb\u7a0b\u9700\u8981\u6267\u884c\u4e0e\u7236\u8fdb\u7a0b\u4e0d\u540c\u7684\u7a0b\u5e8f\uff0c\u53ef\u4ee5 \u8c03\u7528 exec() \u7cfb\u7edf\u8c03\u7528\u6765\u66ff\u6362\u5f53\u524d\u7684\u7a0b\u5e8f\u6620\u50cf\u3002 exec() \u7cfb\u7edf\u8c03\u7528\u4f1a\u52a0\u8f7d\u65b0\u7a0b\u5e8f\u7684\u4ee3\u7801\u548c\u6570\u636e\u5230\u5185\u5b58\uff0c\u7136\u540e\u8bbe\u7f6e\u7a0b\u5e8f\u8ba1\u6570\u5668(Program Counter)\u6307\u5411\u65b0\u7a0b\u5e8f\u7684\u5165\u53e3\u70b9\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cexec() \u8c03\u7528\u4f1a\u66ff\u6362\u5b50\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u6620\u50cf\uff0c\u4f46\u4e0d\u4f1a\u5f71\u54cd\u8fdb\u7a0b\u63a7\u5236\u5757(PCB)\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\u6570\u636e\u7ed3\u6784</li> <li>\u5b50\u8fdb\u7a0b\u5f00\u59cb\u6267\u884c\uff1a\u5b50\u8fdb\u7a0b\u5f00\u59cb\u6267\u884c\u65b0\u7a0b\u5e8f\u6216\u7ee7\u7eed\u6267\u884c\u7236\u8fdb\u7a0b\u7684\u4ee3\u7801\u3002\u901a\u5e38\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u6839\u636e fork() \u6216 exec() \u7684\u8fd4\u56de\u503c\u6765\u5224\u65ad\u81ea\u5df1\u7684\u89d2\u8272\uff0c\u5e76\u6267\u884c\u76f8\u5e94\u7684\u903b\u8f91\u3002\u4f8b\u5982\uff0c\u5b50\u8fdb\u7a0b\u53ef\u80fd\u4f1a\u5173\u95ed\u4e0d\u9700\u8981\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u521d\u59cb\u5316\u8d44\u6e90\u6216\u542f\u52a8\u65b0\u7684\u7ebf\u7a0b\u7b49</li> <li>\u7236\u8fdb\u7a0b\u7b49\u5f85\u5b50\u8fdb\u7a0b(\u53ef\u9009)\uff1a\u7236\u8fdb\u7a0b\u53ef\u4ee5\u9009\u62e9\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u5b8c\u6210\uff0c\u4ee5\u83b7\u53d6\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\u72b6\u6001\u548c\u56de\u6536\u8d44\u6e90\u3002 \u5728\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0cwait() \u6216 waitpid() \u7cfb\u7edf\u8c03\u7528\u53ef\u4ee5\u7528\u4e8e\u7b49\u5f85\u5b50\u8fdb\u7a0b\u3002\u5f53\u5b50\u8fdb\u7a0b\u7ed3\u675f\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u53d1\u9001\u4e00\u4e2a SIGCHLD \u4fe1\u53f7\u901a\u77e5\u7236\u8fdb\u7a0b\uff0c\u7236\u8fdb\u7a0b\u53ef\u4ee5\u6355\u83b7\u8be5\u4fe1\u53f7\u5e76\u5904\u7406\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\u4e8b\u4ef6</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_84","title":"\u5982\u4f55\u56de\u6536\u7ebf\u7a0b\uff1f","text":"<p>\u7ebf\u7a0b\u56de\u6536\u662f\u6307\u5728\u4e00\u4e2a\u7ebf\u7a0b\u5b8c\u6210\u6267\u884c\u540e\uff0c\u91ca\u653e\u5176\u5360\u7528\u7684\u8d44\u6e90\u5e76\u6e05\u9664\u76f8\u5173\u6570\u636e\u7ed3\u6784\u7684\u8fc7\u7a0b\u3002\u7ebf\u7a0b\u56de\u6536\u7684\u65b9\u6cd5\u53d6\u51b3\u4e8e\u5177\u4f53\u7684\u7f16\u7a0b\u8bed\u8a00\u548c\u64cd\u4f5c\u7cfb\u7edf\u3002\u4ee5\u4e0b\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u7ebf\u7a0b\u56de\u6536\u65b9\u6cd5\uff1a</p>"},{"location":"Operating%20System/OperatingSystem/#join","title":"\u4f7f\u7528 join() \u65b9\u6cd5","text":"<p>\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u548c\u5e93\u4e2d(\u5982 C++11 \u4e2d\u7684 std::thread\u3001 Python \u7684 threading  \u6a21\u5757\u7b49)\uff0c\u7ebf\u7a0b\u5bf9\u8c61\u901a\u5e38\u63d0\u4f9b\u4e86\u4e00\u4e2a join() \u65b9\u6cd5\u3002\u901a\u8fc7\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c \u4e3b\u7ebf\u7a0b(\u6216\u5176\u4ed6\u7ebf\u7a0b)\u53ef\u4ee5\u7b49\u5f85\u76ee\u6807\u7ebf\u7a0b\u5b8c\u6210\uff0c\u5e76\u5728\u5b8c\u6210\u540e\u56de\u6536\u8d44\u6e90\u3002\u4f7f\u7528 join() \u65b9\u6cd5\u7684\u597d\u5904\u662f\u53ef\u4ee5\u786e\u4fdd\u76ee\u6807\u7ebf\u7a0b\u7684\u8d44\u6e90\u88ab\u6b63\u786e\u56de\u6536\uff0c\u907f\u514d\u5185\u5b58\u6cc4\u6f0f\u548c\u50f5\u5c38\u7ebf\u7a0b\u7b49\u95ee\u9898\u3002</p> C++<pre><code>  #include &lt;iostream&gt;\n  #include &lt;thread&gt;\n\n  void thread_function() {\n      std::cout &lt;&lt; \"Hello, I am a new thread!\" &lt;&lt; std::endl;\n  }\n\n  int main() {\n      std::thread t(thread_function);\n      t.join(); // \u7b49\u5f85\u7ebf\u7a0b t \u5b8c\u6210\uff0c\u5e76\u56de\u6536\u8d44\u6e90\n      return 0;\n  }\n</code></pre>"},{"location":"Operating%20System/OperatingSystem/#detach","title":"\u4f7f\u7528\u7ebf\u7a0b\u5206\u79bb(detach)","text":"<p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u4e0d\u9700\u8981\u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210\uff0c\u800c\u53ea\u9700\u786e\u4fdd\u7ebf\u7a0b\u5728\u9000\u51fa\u65f6\u81ea\u52a8\u56de\u6536\u8d44\u6e90\u3002\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528\u7ebf\u7a0b\u5206\u79bb(detach)\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u5728 C++11 \u7684 std::thread \u4e2d\uff0c\u53ef\u4ee5\u8c03\u7528 detach() \u65b9\u6cd5\u5c06\u7ebf\u7a0b\u8bbe\u7f6e\u4e3a\u5206\u79bb\u72b6\u6001\u3002 \u5206\u79bb\u72b6\u6001\u7684\u7ebf\u7a0b\u5728\u5b8c\u6210\u6267\u884c\u540e\u4f1a\u81ea\u52a8\u91ca\u653e\u8d44\u6e90\uff0c\u65e0\u9700\u8c03\u7528 join() \u65b9\u6cd5\u3002</p> C++<pre><code>  #include &lt;iostream&gt;\n  #include &lt;thread&gt;\n\n  void thread_function() {\n      std::cout &lt;&lt; \"Hello, I am a new thread!\" &lt;&lt; std::endl;\n  }\n\n  int main() {\n      std::thread t(thread_function);\n      t.detach(); // \u5c06\u7ebf\u7a0b t \u8bbe\u7f6e\u4e3a\u5206\u79bb\u72b6\u6001\n      return 0;\n  }\n</code></pre> <p>\u4f7f\u7528 \u5206\u79bb\u72b6\u6001\u7684\u7ebf\u7a0b\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u5b9a\u7a0b\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u56e0\u4e3a\u4e3b\u7ebf\u7a0b(\u6216\u5176\u4ed6\u7ebf\u7a0b)\u65e0\u6cd5\u77e5\u9053\u5206\u79bb\u7ebf\u7a0b\u4f55\u65f6\u5b8c\u6210\u3002\u56e0\u6b64\uff0c\u5728\u4f7f\u7528\u7ebf\u7a0b\u5206\u79bb\u65f6\u9700\u8981\u786e\u4fdd\u7ebf\u7a0b\u4e4b\u95f4\u7684\u540c\u6b65\u548c\u8d44\u6e90\u7ba1\u7406\u5f97\u5f53\uff0c\u907f\u514d\u7ade\u6001\u6761\u4ef6\u548c\u5185\u5b58\u6cc4\u6f0f\u7b49\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#thread-local-storage-tls","title":"\u4f7f\u7528\u7ebf\u7a0b\u5c40\u90e8\u5b58\u50a8(Thread-Local Storage, TLS)","text":"<p>\u5728\u67d0\u4e9b\u7f16\u7a0b\u8bed\u8a00\u548c\u5e93\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u7ebf\u7a0b\u5c40\u90e8\u5b58\u50a8(TLS)\u673a\u5236\u4e3a\u6bcf\u4e2a\u7ebf\u7a0b\u5206\u914d\u72ec\u7acb\u7684\u8d44\u6e90\uff0c\u5982\u5185\u5b58\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\u3002 \u901a\u8fc7 TLS \u53ef\u4ee5\u786e\u4fdd\u7ebf\u7a0b\u5728\u9000\u51fa\u65f6\u81ea\u52a8\u56de\u6536\u5176\u5360\u7528\u7684\u8d44\u6e90\uff0c\u4ece\u800c\u7b80\u5316\u7ebf\u7a0b\u7ba1\u7406\u548c\u8d44\u6e90\u56de\u6536\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cTLS \u673a\u5236\u901a\u5e38\u9700\u8981\u7279\u5b9a\u7684\u7f16\u7a0b\u8bed\u8a00\u6216\u5e93\u652f\u6301\uff0c\u5982 C++11 \u7684 thread_local \u5173\u952e\u5b57\u3001Python \u7684 threading.local() \u51fd\u6570\u7b49\u3002\u4ee5\u4e0b\u662f\u4f7f\u7528\u7ebf\u7a0b\u5c40\u90e8\u5b58\u50a8\u7684\u793a\u4f8b\uff1a</p> C++<pre><code>  #include &lt;iostream&gt;\n  #include &lt;thread&gt;\n  #include &lt;mutex&gt;\n\n  thread_local int thread_local_variable; // \u58f0\u660e\u4e00\u4e2a\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\n\n  void thread_function(int value) {\n      thread_local_variable = value;\n      std::cout &lt;&lt; \"Thread local variable: \" &lt;&lt; thread_local_variable &lt;&lt; std::endl;\n  }\n\n  int main() {\n      std::thread t1(thread_function, 10);\n      std::thread t2(thread_function, 20);\n\n      t1.join();\n      t2.join();\n\n      return 0;\n  }\n</code></pre>"},{"location":"Operating%20System/OperatingSystem/#_85","title":"\u8fdb\u7a0b\u7ec8\u6b62\u65b9\u5f0f\uff1f","text":"<p>\u8fdb\u7a0b\u7ec8\u6b62\u662f\u6307\u4e00\u4e2a\u8fdb\u7a0b\u5b8c\u6210\u5176\u751f\u547d\u5468\u671f\u5e76\u91ca\u653e\u5176\u5360\u7528\u7684\u8d44\u6e90\u7684\u8fc7\u7a0b\u3002\u64cd\u4f5c\u7cfb\u7edf\u548c\u7f16\u7a0b\u8bed\u8a00\u901a\u5e38\u63d0\u4f9b\u591a\u79cd\u8fdb\u7a0b\u7ec8\u6b62\u65b9\u5f0f\uff0c\u4ee5\u9002\u5e94\u4e0d\u540c\u7684\u573a\u666f\u548c\u9700\u6c42\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u8fdb\u7a0b\u7ec8\u6b62\u65b9\u5f0f\uff1a</p> <ul> <li>\u6b63\u5e38\u7ec8\u6b62(Normal Termination)\uff1a\u6b63\u5e38\u7ec8\u6b62\u662f\u6307\u8fdb\u7a0b\u81ea\u7136\u5b8c\u6210\u5176\u6267\u884c\u4efb\u52a1\u5e76\u4e3b\u52a8\u9000\u51fa\u7684\u60c5\u51b5\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8fdb\u7a0b\u901a\u5e38\u4f1a\u8fd4\u56de\u4e00\u4e2a\u9000\u51fa\u72b6\u6001\u7801(Exit Code)\uff0c\u4ee5\u8868\u793a\u6267\u884c\u7ed3\u679c\u3002\u4f8b\u5982\uff0c\u5728 C \u548c C++ \u7a0b\u5e8f\u4e2d\uff0cmain() \u51fd\u6570\u7684\u8fd4\u56de\u503c\u4f1a\u4f5c\u4e3a\u8fdb\u7a0b\u7684\u9000\u51fa\u72b6\u6001\u7801</li> <li>\u5f02\u5e38\u7ec8\u6b62(Abnormal Termination)\uff1a\u5f02\u5e38\u7ec8\u6b62\u662f\u6307\u8fdb\u7a0b\u56e0\u67d0\u79cd\u9519\u8bef\u6216\u5f02\u5e38\u800c\u88ab\u8feb\u9000\u51fa\u7684\u60c5\u51b5\u3002\u4f8b\u5982\uff0c\u8fdb\u7a0b\u9047\u5230\u6bb5\u9519\u8bef(Segmentation Fault)\u3001\u6d6e\u70b9\u5f02\u5e38(Floating Point Exception)\u6216\u5176\u4ed6\u672a\u6355\u83b7\u7684\u5f02\u5e38\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u901a\u5e38\u4f1a\u7ec8\u6b62\u8fdb\u7a0b\u5e76\u751f\u6210\u4e00\u4e2a\u6838\u5fc3\u8f6c\u50a8\u6587\u4ef6(Core Dump)\u3002\u5f02\u5e38\u7ec8\u6b62\u901a\u5e38\u8868\u793a\u8fdb\u7a0b\u5b58\u5728 bug \u6216\u8d44\u6e90\u95ee\u9898\uff0c\u9700\u8981\u8fdb\u884c\u8c03\u8bd5\u548c\u4fee\u590d</li> <li>\u901a\u8fc7\u4fe1\u53f7(Signal)\u7ec8\u6b62\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u4fe1\u53f7(Signal)\u673a\u5236\u6765\u5411\u8fdb\u7a0b\u53d1\u9001\u4e8b\u4ef6\u548c\u547d\u4ee4\u3002\u90e8\u5206\u4fe1\u53f7\u53ef\u5bfc\u81f4\u8fdb\u7a0b\u7ec8\u6b62\uff0c\u5982 SIGTERM\u3001SIGINT\u3001SIGKILL \u7b49\u3002\u4f8b\u5982\uff0c\u5f53\u7528\u6237\u6309\u4e0b Ctrl+C \u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5411\u524d\u53f0\u8fdb\u7a0b\u53d1\u9001\u4e00\u4e2a SIGINT \u4fe1\u53f7\uff0c\u8bf7\u6c42\u8fdb\u7a0b\u7ec8\u6b62\u3002\u8fdb\u7a0b\u53ef\u4ee5\u6355\u83b7\u548c\u5904\u7406\u90e8\u5206\u4fe1\u53f7(\u5982 SIGTERM\u3001SIGINT)\uff0c\u4ee5\u5b9e\u73b0\u4f18\u96c5\u9000\u51fa\u6216\u5176\u4ed6\u81ea\u5b9a\u4e49\u884c\u4e3a\u3002\u7136\u800c\uff0c\u67d0\u4e9b\u4fe1\u53f7(\u5982 SIGKILL)\u65e0\u6cd5\u88ab\u6355\u83b7\uff0c\u4f1a\u5f3a\u5236\u7ec8\u6b62\u8fdb\u7a0b</li> <li>\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528(System Call)\u7ec8\u6b62\uff1a\u64cd\u4f5c\u7cfb\u7edf\u901a\u5e38\u63d0\u4f9b\u4e00\u4e9b\u7cfb\u7edf\u8c03\u7528\u6765\u5b9e\u73b0\u8fdb\u7a0b\u7ba1\u7406\u548c\u63a7\u5236\u3002\u4f8b\u5982\uff0c\u5728\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c \u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528 exit()\u3001_exit() \u6216 abort() \u7b49\u7cfb\u7edf\u8c03\u7528\u6765\u4e3b\u52a8\u7ec8\u6b62\u81ea\u5df1\u3002\u8fd9\u4e9b\u7cfb\u7edf\u8c03\u7528\u4f1a\u901a\u77e5\u64cd\u4f5c\u7cfb\u7edf\u56de\u6536\u8fdb\u7a0b\u7684\u8d44\u6e90\uff0c\u5982\u5185\u5b58\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\uff0c\u5e76\u5c06\u8fdb\u7a0b\u72b6\u6001\u8bbe\u7f6e\u4e3a\u7ec8\u6b62(Terminated)</li> <li>\u7236\u8fdb\u7a0b\u7ec8\u6b62\u5b50\u8fdb\u7a0b\uff1a\u7236\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u7279\u5b9a\u7684\u7cfb\u7edf\u8c03\u7528\u6216\u4fe1\u53f7\u6765\u7ec8\u6b62\u5176\u5b50\u8fdb\u7a0b\u3002\u4f8b\u5982\uff0c\u5728\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u7236\u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528 kill() \u7cfb\u7edf\u8c03\u7528\u6765\u5411\u5b50\u8fdb\u7a0b\u53d1\u9001 SIGTERM\u3001SIGINT\u3001SIGKILL \u7b49\u4fe1\u53f7\uff0c\u8bf7\u6c42\u5b50\u8fdb\u7a0b\u7ec8\u6b62\u3002\u6b64\u5916\uff0c\u7236\u8fdb\u7a0b\u8fd8\u53ef\u4ee5\u4f7f\u7528 wait() \u6216 waitpid () \u7cfb\u7edf\u8c03\u7528\u6765\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u5b8c\u6210\uff0c\u5e76\u5728\u5b8c\u6210\u540e\u56de\u6536\u8d44\u6e90</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_86","title":"\u5982\u4f55\u8ba9\u8fdb\u7a0b\u540e\u53f0\u8fd0\u884c\uff1f","text":"<p>\u5728 Unix/Linux shell \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u547d\u4ee4\u540e \u6dfb\u52a0 &amp; \u7b26\u53f7\u5c06\u8fdb\u7a0b\u653e\u5165\u540e\u53f0\u8fd0\u884c\u3002\u8fd9\u6837\uff0c\u8fdb\u7a0b\u5c06\u5728\u540e\u53f0\u6267\u884c\uff0c\u800c\u4e0d\u4f1a\u963b\u585e shell\u3002\u4f8b\u5982\uff1a</p> <p>Bash<pre><code>./your_program &amp;\n</code></pre> \u5728 Unix/Linux \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 nohup \u547d\u4ee4\u5728\u540e\u53f0\u8fd0\u884c\u8fdb\u7a0b\uff0c\u5e76\u4f7f\u5176\u5728\u7ec8\u7aef\u5173\u95ed\u540e\u4ecd\u7136\u7ee7\u7eed\u8fd0\u884c\u3002nohup \u547d\u4ee4\u4f1a\u5ffd\u7565 SIGHUP \u4fe1\u53f7\uff0c\u4f7f\u8fdb\u7a0b\u5728\u7ec8\u7aef\u5173\u95ed\u540e\u4e0d\u4f1a\u88ab\u7ec8\u6b62\u3002\u4f8b\u5982\uff1a Bash<pre><code>nohup ./your_program &amp;\n</code></pre> \u8fd9\u5c06\u628a\u7a0b\u5e8f\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u540d\u4e3a nohup.out \u7684\u6587\u4ef6\u4e2d\uff0c\u6216\u8005\u4f60\u53ef\u4ee5\u624b\u52a8\u91cd\u5b9a\u5411\u8f93\u51fa\u5230\u5176\u4ed6\u6587\u4ef6\uff1a Bash<pre><code>nohup ./your_program &gt; output.log 2&gt;&amp;1 &amp;\n</code></pre> screen \u548c tmux \u662f\u4e24\u4e2a\u6d41\u884c\u7684\u7ec8\u7aef\u590d\u7528\u5668\uff0c\u5b83\u4eec\u5141\u8bb8\u4f60\u5728\u540e\u53f0\u8fd0\u884c\u591a\u4e2a\u4f1a\u8bdd\uff0c\u5e76\u5728\u9700\u8981\u65f6\u91cd\u65b0\u8fde\u63a5\u3002\u8fd9\u4e9b\u5de5\u5177\u975e\u5e38\u9002\u5408\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u6301\u4e45\u7684\u8fdb\u7a0b\u3002\u4f8b\u5982\uff0c\u4f7f\u7528 screen\uff1a Bash<pre><code>screen ./your_program\n</code></pre> \u4f7f\u7528  tmux  \u7684\u65b9\u6cd5\u5982\u4e0b\uff1a Bash<pre><code>tmux \n./your_program\n</code></pre></p> <p>\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f\u5728\u540e\u53f0\u8fd0\u884c\u8fdb\u7a0b\u3002\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f\u5141\u8bb8\u4f60\u521b\u5efa\u548c\u7ba1\u7406\u8ba1\u5212\u4efb\u52a1\uff0c\u5982\u5b9a\u65f6\u8fd0\u884c\u7a0b\u5e8f\u3001\u6267\u884c\u811a\u672c\u7b49\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_87","title":"\u8bb2\u4e00\u8bb2\u5b88\u62a4\u8fdb\u7a0b\uff0c\u50f5\u5c38\u8fdb\u7a0b\uff0c\u5b64\u513f\u8fdb\u7a0b\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#_88","title":"\u5b88\u62a4\u8fdb\u7a0b","text":"<p>\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u79cd\u5728\u540e\u53f0\u8fd0\u884c\u7684\u7279\u6b8a\u8fdb\u7a0b\uff0c\u901a\u5e38\u7528\u4e8e\u63d0\u4f9b\u67d0\u79cd\u670d\u52a1\u6216\u6267\u884c\u5b9a\u671f\u4efb\u52a1\u3002 \u5b88\u62a4\u8fdb\u7a0b\u6ca1\u6709\u63a7\u5236\u7ec8\u7aef(Controlling Terminal)\uff0c\u56e0\u6b64\u4e0d\u4f1a\u4e0e\u7528\u6237\u4ea4\u4e92\u3002\u5b83\u4eec\u901a\u5e38\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u542f\u52a8\uff0c\u5e76\u5728\u7cfb\u7edf\u5173\u95ed\u65f6\u7ec8\u6b62\u3002\u5b88\u62a4\u8fdb\u7a0b\u7684\u540d\u79f0\u901a\u5e38\u4ee5 d \u7ed3\u5c3e\uff0c\u5982 sshd(Secure Shell Daemon)\u3001httpd(HTTP Daemon)\u7b49\u3002\u8981\u521b\u5efa\u5b88\u62a4\u8fdb\u7a0b\uff0c\u901a\u5e38\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>\u8c03\u7528 fork() \u4ea7\u751f\u5b50\u8fdb\u7a0b\uff0c\u7136\u540e\u8ba9\u7236\u8fdb\u7a0b\u9000\u51fa\u3002\u8fd9\u6837\u5b50\u8fdb\u7a0b\u4f1a\u6210\u4e3a\u5b64\u513f\u8fdb\u7a0b\uff0c \u88ab init \u8fdb\u7a0b(\u8fdb\u7a0b ID \u4e3a 1)\u6536\u517b\uff0c\u4ece\u800c\u6446\u8131\u539f\u59cb\u7684\u63a7\u5236\u7ec8\u7aef</li> <li>\u8c03\u7528 setsid() \u521b\u5efa\u65b0\u7684\u4f1a\u8bdd(Session)\u5e76\u6210\u4e3a\u4f1a\u8bdd\u7ec4\u957f\uff0c\u4ee5\u786e\u4fdd\u8fdb\u7a0b\u4e0d\u518d\u62e5\u6709\u63a7\u5236\u7ec8\u7aef</li> <li>\u6539\u53d8\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55(\u4f8b\u5982\uff0c\u5207\u6362\u5230\u6839\u76ee\u5f55)</li> <li>\u91cd\u8bbe\u6587\u4ef6\u6743\u9650\u63a9\u7801(umask)</li> <li>\u5173\u95ed\u4e0d\u9700\u8981\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>\u5904\u7406\u76f8\u5173\u4fe1\u53f7(\u5982 SIGHUP\u3001SIGTERM \u7b49)</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_89","title":"\u50f5\u5c38\u8fdb\u7a0b","text":"<p>\u50f5\u5c38\u8fdb\u7a0b\u662f\u4e00\u79cd\u5df2\u7ecf\u7ec8\u6b62\u4f46\u4ecd\u5360\u7528\u8fdb\u7a0b\u8868(Process Table)\u7a7a\u95f4\u7684\u8fdb\u7a0b\u3002\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u7ec8\u6b62\u65f6\uff0c\u5176\u5b50\u8fdb\u7a0b\u7684\u72b6\u6001\u4f1a\u53d8\u4e3a\u50f5\u5c38\u8fdb\u7a0b\uff0c\u76f4\u5230\u7236\u8fdb\u7a0b\u901a\u8fc7\u8c03\u7528 wait() \u6216 waitpid() \u7cfb\u7edf\u8c03\u7528\u56de\u6536\u5176\u8d44\u6e90\u3002\u50f5\u5c38\u8fdb\u7a0b\u4e0d\u518d\u5360\u7528 CPU \u6216\u5185\u5b58\u8d44\u6e90\uff0c\u4f46\u4f1a\u5360\u7528\u8fdb\u7a0b\u8868\u7a7a\u95f4\u3002\u5982\u679c\u7cfb\u7edf\u4ea7\u751f\u5927\u91cf\u50f5\u5c38\u8fdb\u7a0b\uff0c\u53ef\u80fd\u5bfc\u81f4\u8fdb\u7a0b\u8868\u8017\u5c3d\uff0c\u4ece\u800c\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd\u3002\u4e3a\u907f\u514d\u50f5\u5c38\u8fdb\u7a0b\uff0c\u7236\u8fdb\u7a0b\u5e94\u5f53\u53ca\u65f6\u56de\u6536\u5df2\u7ec8\u6b62\u5b50\u8fdb\u7a0b\u7684\u8d44\u6e90\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_90","title":"\u5b64\u513f\u8fdb\u7a0b","text":"<p>\u5b64\u513f\u8fdb\u7a0b\u662f\u6307\u7236\u8fdb\u7a0b\u5728\u5b50\u8fdb\u7a0b\u4e4b\u524d\u7ec8\u6b62\uff0c\u5bfc\u81f4\u5b50\u8fdb\u7a0b\u5931\u53bb\u7236\u8fdb\u7a0b\u7684\u60c5\u51b5\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c \u5b64\u513f\u8fdb\u7a0b\u4f1a\u88ab init \u8fdb\u7a0b(\u8fdb\u7a0b ID \u4e3a 1)\u6536\u517b\u3002init \u8fdb\u7a0b\u4f1a\u5b9a\u671f\u8c03\u7528 wait() \u6216 waitpid() \u7cfb\u7edf\u8c03\u7528\uff0c\u4ee5\u56de\u6536\u5b64\u513f\u8fdb\u7a0b\u7684\u8d44\u6e90\u3002\u56e0\u6b64\uff0c\u5b64\u513f\u8fdb\u7a0b\u4e0d\u4f1a\u6210\u4e3a\u50f5\u5c38\u8fdb\u7a0b\u3002\u867d\u7136\u5b64\u513f\u8fdb\u7a0b\u53ef\u80fd\u4f1a\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u65e0\u4eba\u7ba1\u7406\uff0c\u4f46\u5b83\u4eec\u6700\u7ec8\u4f1a\u88ab init \u8fdb\u7a0b\u6536\u517b\u5e76\u5f97\u5230\u59a5\u5584\u5904\u7406\u3002\u5b64\u513f\u8fdb\u7a0b\u4ecd\u7136\u53ef\u4ee5\u72ec\u7acb\u8fd0\u884c\uff0c\u5b8c\u6210\u5176\u4efb\u52a1\uff0c\u76f4\u5230\u5b83\u4eec\u81ea\u7136\u7ed3\u675f\u6216\u88ab\u64cd\u4f5c\u7cfb\u7edf\u7ec8\u6b62\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_91","title":"\u603b\u7ed3","text":"<ul> <li>\u5b88\u62a4\u8fdb\u7a0b\uff1a\u540e\u53f0\u8fd0\u884c\u7684\u7279\u6b8a\u8fdb\u7a0b\uff0c\u7528\u4e8e\u63d0\u4f9b\u670d\u52a1\u6216\u6267\u884c\u5b9a\u671f\u4efb\u52a1\uff0c\u6ca1\u6709\u63a7\u5236\u7ec8\u7aef</li> <li>\u50f5\u5c38\u8fdb\u7a0b\uff1a\u5df2\u7ecf\u7ec8\u6b62\u4f46\u4ecd\u5360\u7528\u8fdb\u7a0b\u8868\u7a7a\u95f4\u7684\u8fdb\u7a0b\uff0c\u9700\u8981\u7236\u8fdb\u7a0b\u8c03\u7528 wait() \u6216 waitpid() \u56de\u6536\u8d44\u6e90</li> <li>\u5b64\u513f\u8fdb\u7a0b\uff1a\u7236\u8fdb\u7a0b\u5728\u5b50\u8fdb\u7a0b\u4e4b\u524d\u7ec8\u6b62\u7684\u8fdb\u7a0b\uff0c\u4f1a\u88ab init \u8fdb\u7a0b\u6536\u517b\u5e76\u6700\u7ec8\u5f97\u5230\u59a5\u5584\u5904\u7406</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_92","title":"\u8bb2\u4e00\u8bb2\u7236\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u7ec4\uff0c\u4f1a\u8bdd\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#parent-processchild-process","title":"\u7236\u8fdb\u7a0b(Parent Process)\u548c\u5b50\u8fdb\u7a0b(Child Process)","text":"<p>\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u8fdb\u7a0b\u3002\u521b\u5efa\u65b0\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u79f0\u4e3a\u7236\u8fdb\u7a0b\uff0c\u65b0\u521b\u5efa\u7684\u8fdb\u7a0b\u79f0\u4e3a\u5b50\u8fdb\u7a0b\u3002\u8fd9\u79cd\u5173\u7cfb\u5f62\u6210\u4e86\u4e00\u4e2a\u8fdb\u7a0b\u6811\u7ed3\u6784\uff0c\u5176\u4e2d\u6839\u8fdb\u7a0b(\u5982 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\u7684 init \u8fdb\u7a0b\uff0c\u8fdb\u7a0b ID \u4e3a 1)\u662f\u6240\u6709\u5176\u4ed6\u8fdb\u7a0b\u7684\u7956\u5148\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 fork() \u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u5b50\u8fdb\u7a0b\u3002fork() \u8c03\u7528\u4f1a\u590d\u5236\u5f53\u524d\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u548c\u73af\u5883\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\u3002 \u5b50\u8fdb\u7a0b\u4ece fork() \u8c03\u7528\u5904\u7ee7\u7eed\u6267\u884c\uff0c\u5e76\u7ee7\u627f\u7236\u8fdb\u7a0b\u7684\u5927\u90e8\u5206\u5c5e\u6027(\u5982\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u73af\u5883\u53d8\u91cf\u7b49)\u3002\u7236\u5b50\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7 getpid()(\u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b ID)\u548c getppid()(\u83b7\u53d6\u7236\u8fdb\u7a0b ID)\u7cfb\u7edf\u8c03\u7528\u6765\u8bc6\u522b\u5f7c\u6b64\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#process-group","title":"\u8fdb\u7a0b\u7ec4(Process Group)","text":"<p>\u8fdb\u7a0b\u7ec4\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\u7684\u96c6\u5408\uff0c\u5b83\u4eec\u5171\u4eab\u76f8\u540c\u7684\u8fdb\u7a0b\u7ec4 ID(Process Group ID\uff0c\u7b80\u79f0 PGID)\u3002\u8fdb\u7a0b\u7ec4\u7528\u4e8e\u7ec4\u7ec7\u5177\u6709\u76f8\u5173\u4efb\u52a1\u7684\u8fdb\u7a0b\uff0c\u5e76\u5141\u8bb8\u5411\u6574\u4e2a\u8fdb\u7a0b\u7ec4\u53d1\u9001\u4fe1\u53f7\u3002\u8fdb\u7a0b\u7ec4 ID \u901a\u5e38\u7531\u8fdb\u7a0b\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b(\u7ec4\u957f)\u7684\u8fdb\u7a0b ID \u51b3\u5b9a\u3002\u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528 setpgid() \u7cfb\u7edf\u8c03\u7528\u52a0\u5165\u4e00\u4e2a\u73b0\u6709\u7684\u8fdb\u7a0b\u7ec4\uff0c\u6216\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\u7ec4\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#session","title":"\u4f1a\u8bdd(Session)","text":"<p>\u4f1a\u8bdd\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\u7ec4\u7684\u96c6\u5408\uff0c\u5b83\u4eec\u5171\u4eab\u76f8\u540c\u7684\u4f1a\u8bdd ID(Session ID\uff0c\u7b80\u79f0 SID)\u3002\u4f1a\u8bdd\u7528\u4e8e\u7ba1\u7406\u7ec8\u7aef\u548c\u767b\u5f55\u73af\u5883\u4e0b\u7684\u8fdb\u7a0b\u3002\u6bcf\u4e2a\u4f1a\u8bdd\u90fd\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u63a7\u5236\u7ec8\u7aef(Controlling Terminal)\uff0c\u8be5\u7ec8\u7aef\u53ef\u4ee5\u53d1\u9001\u4fe1\u53f7\u7ed9\u4f1a\u8bdd\u4e2d\u7684\u6240\u6709\u8fdb\u7a0b\u3002\u4f1a\u8bdd ID \u901a\u5e38\u7531\u4f1a\u8bdd\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b(\u4f1a\u8bdd\u7ec4\u957f)\u7684\u8fdb\u7a0b ID \u51b3\u5b9a\u3002\u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528 setsid() \u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4f1a\u8bdd\uff0c\u5e76\u6210\u4e3a\u8be5\u4f1a\u8bdd\u7684\u7ec4\u957f\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_93","title":"\u603b\u7ed3","text":"<ul> <li>\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\uff1a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u8fdb\u7a0b\uff0c\u5f62\u6210\u7236\u5b50\u5173\u7cfb\u3002\u8fd9\u79cd\u5173\u7cfb\u6784\u6210\u4e86\u8fdb\u7a0b\u6811\u7ed3\u6784</li> <li>\u8fdb\u7a0b\u7ec4\uff1a\u4e00\u4e2a\u6216\u591a\u4e2a\u5177\u6709\u76f8\u540c\u8fdb\u7a0b\u7ec4 ID \u7684\u8fdb\u7a0b\u7684\u96c6\u5408\uff0c\u7528\u4e8e\u7ec4\u7ec7\u76f8\u5173\u4efb\u52a1\u7684\u8fdb\u7a0b</li> <li>\u4f1a\u8bdd\uff1a\u4e00\u4e2a\u6216\u591a\u4e2a\u5177\u6709\u76f8\u540c\u4f1a\u8bdd ID \u7684\u8fdb\u7a0b\u7ec4\u7684\u96c6\u5408\uff0c\u7528\u4e8e\u7ba1\u7406\u7ec8\u7aef\u548c\u767b\u5f55\u73af\u5883\u4e0b\u7684\u8fdb\u7a0b</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_94","title":"\u591a\u8fdb\u7a0b\u4e0e\u591a\u7ebf\u7a0b\u600e\u4e48\u9009\u62e9\uff1f","text":""},{"location":"Operating%20System/OperatingSystem/#_95","title":"\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u5982\u679c\u5e94\u7528\u9700\u8981\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\uff0c\u6216\u8005\u9700\u8981\u5728\u4e0d\u540c\u7684\u5b89\u5168\u4e0a\u4e0b\u6587\u4e2d\u8fd0\u884c\uff0c\u90a3\u4e48\u591a\u8fdb\u7a0b\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9</li> <li>\u591a\u7ebf\u7a0b\uff1a\u5982\u679c\u5e94\u7528\u9700\u8981\u9ad8\u5ea6\u5171\u4eab\u6570\u636e\u548c\u8d44\u6e90\uff0c\u6216\u8005\u9700\u8981\u8f7b\u91cf\u7ea7\u7684\u4efb\u52a1\u5e76\u53d1\uff0c\u90a3\u4e48\u591a\u7ebf\u7a0b\u53ef\u80fd\u66f4\u9002\u5408</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_96","title":"\u8d44\u6e90\u9700\u6c42","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u56e0\u6b64\u8d44\u6e90\u5360\u7528(\u5982\u5185\u5b58)\u53ef\u80fd\u4f1a\u66f4\u9ad8\u3002\u5728\u8d44\u6e90\u53d7\u9650\u7684\u73af\u5883\u4e0b\uff0c\u591a\u8fdb\u7a0b\u53ef\u80fd\u4e0d\u662f\u6700\u4f73\u9009\u62e9</li> <li>\u591a\u7ebf\u7a0b\uff1a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\uff0c\u56e0\u6b64\u8d44\u6e90\u5360\u7528\u8f83\u4f4e\u3002\u5bf9\u4e8e\u8d44\u6e90\u53d7\u9650\u7684\u73af\u5883\uff0c\u591a\u7ebf\u7a0b\u53ef\u80fd\u66f4\u5408\u9002</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_97","title":"\u5f00\u53d1\u548c\u7ef4\u62a4\u96be\u5ea6","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u8fdb\u7a0b\u95f4\u901a\u4fe1(IPC)\u53ef\u80fd\u76f8\u5bf9\u590d\u6742\uff0c\u9700\u8981\u4f7f\u7528\u8bf8\u5982\u7ba1\u9053\u3001\u5171\u4eab\u5185\u5b58\u3001\u4fe1\u53f7\u91cf\u7b49\u673a\u5236\u3002\u6b64\u5916\uff0c\u8fdb\u7a0b\u7684\u521b\u5efa\u548c\u7ba1\u7406\u76f8\u5bf9\u8f83\u91cd\uff0c\u53ef\u80fd\u4f1a\u589e\u52a0\u5f00\u53d1\u548c\u7ef4\u62a4\u96be\u5ea6</li> <li>\u591a\u7ebf\u7a0b\uff1a\u7ebf\u7a0b\u95f4\u901a\u4fe1\u8f83\u4e3a\u7b80\u5355\uff0c\u56e0\u4e3a\u5b83\u4eec\u5171\u4eab\u5730\u5740\u7a7a\u95f4\u3002\u7136\u800c\uff0c\u591a\u7ebf\u7a0b\u7f16\u7a0b\u53ef\u80fd\u6d89\u53ca\u590d\u6742\u7684\u540c\u6b65\u548c\u9501\u5b9a\u673a\u5236\uff0c\u4ee5\u907f\u514d\u6570\u636e\u7ade\u4e89\u548c\u6b7b\u9501\u7b49\u95ee\u9898</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_98","title":"\u53ef\u6269\u5c55\u6027","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u591a\u8fdb\u7a0b\u53ef\u4ee5\u66f4\u597d\u5730\u5229\u7528\u591a\u6838\u5904\u7406\u5668\u548c\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u591a\u8fdb\u7a0b\u53ef\u80fd\u5177\u6709\u66f4\u597d\u7684\u53ef\u6269\u5c55\u6027</li> <li>\u591a\u7ebf\u7a0b\uff1a\u591a\u7ebf\u7a0b\u5728\u5355\u6838\u5904\u7406\u5668\u4e0a\u53ef\u80fd\u8868\u73b0\u5f97\u66f4\u597d\uff0c\u56e0\u4e3a\u5b83\u4eec\u5171\u4eab\u8d44\u6e90\u5e76\u51cf\u5c11\u4e86\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u5f00\u9500\u3002\u7136\u800c\uff0c\u5728\u591a\u6838\u5904\u7406\u5668\u4e0a\uff0c\u591a\u7ebf\u7a0b\u53ef\u80fd\u53d7\u5230\u5168\u5c40\u9501\u548c\u8d44\u6e90\u4e89\u7528\u7684\u5f71\u54cd</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_99","title":"\u5bb9\u9519\u6027\u548c\u9694\u79bb","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u7531\u4e8e\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u56e0\u6b64\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5d29\u6e83\u4e0d\u592a\u53ef\u80fd\u5f71\u54cd\u5176\u4ed6\u8fdb\u7a0b\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u7684\u5bb9\u9519\u6027\u548c\u9694\u79bb\u6027</li> <li>\u591a\u7ebf\u7a0b\uff1a\u4e00\u4e2a\u7ebf\u7a0b\u7684\u5d29\u6e83\u53ef\u80fd\u5bfc\u81f4\u6574\u4e2a\u8fdb\u7a0b\u5d29\u6e83\uff0c\u4ece\u800c\u5f71\u54cd\u5176\u4ed6\u7ebf\u7a0b\u3002\u5728\u9700\u8981\u9ad8\u5ea6\u9694\u79bb\u548c\u5bb9\u9519\u6027\u7684\u573a\u666f\u4e2d\uff0c\u591a\u7ebf\u7a0b\u53ef\u80fd\u4e0d\u662f\u6700\u4f73\u9009\u62e9</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_100","title":"\u4ec0\u4e48\u60c5\u51b5\u4e0b\uff0c\u8fdb\u7a0b\u4f1a\u8fdb\u884c\u5207\u6362\uff1f","text":"<p>\u8fdb\u7a0b\u5207\u6362\uff0c\u4e5f\u79f0\u4e3a\u4e0a\u4e0b\u6587\u5207\u6362(context switch)\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u5728\u591a\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u8c03\u5ea6\u7684\u8fc7\u7a0b\u3002\u8fdb\u7a0b\u5207\u6362\u901a\u5e38\u53d1\u751f\u5728\u4ee5\u4e0b\u60c5\u51b5\uff1a</p> <ul> <li>\u65f6\u95f4\u7247\u5230\u671f\uff1a\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u57fa\u4e8e\u65f6\u95f4\u7247(time slice)\u7684\u62a2\u5360\u5f0f\u8c03\u5ea6\u7b97\u6cd5\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u4f1a\u88ab\u5206\u914d\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684\u65f6\u95f4\u7247\u6765\u6267\u884c\u3002\u5f53\u8fdb\u7a0b\u7684\u65f6\u95f4\u7247\u7528\u5b8c\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5c06\u5f53\u524d\u8fdb\u7a0b\u6302\u8d77\uff0c\u5e76\u9009\u62e9\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7ee7\u7eed\u6267\u884c\u3002</li> <li>\u9ad8\u4f18\u5148\u7ea7\u8fdb\u7a0b\u5c31\u7eea\uff1a\u5f53\u4e00\u4e2a\u9ad8\u4f18\u5148\u7ea7\u7684\u8fdb\u7a0b\u53d8\u4e3a\u5c31\u7eea\u72b6\u6001\u65f6(\u4f8b\u5982\uff0c\u4ece\u963b\u585e\u72b6\u6001\u6062\u590d)\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u4f1a\u4e2d\u65ad\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u4f4e\u4f18\u5148\u7ea7\u8fdb\u7a0b\uff0c\u8f6c\u800c\u6267\u884c\u9ad8\u4f18\u5148\u7ea7\u8fdb\u7a0b\u3002</li> <li>\u8fdb\u7a0b\u81ea\u613f\u8ba9\u51fa CPU\uff1a\u6709\u65f6\uff0c\u8fdb\u7a0b\u4f1a\u4e3b\u52a8\u653e\u5f03\u5176\u5269\u4f59\u65f6\u95f4\u7247\uff0c\u4ee5\u4fbf\u5176\u4ed6\u8fdb\u7a0b\u53ef\u4ee5\u6267\u884c\u3002\u8fd9\u901a\u5e38\u53d1\u751f\u5728\u8fdb\u7a0b\u7b49\u5f85\u67d0\u4e2a\u4e8b\u4ef6(\u5982 I/O \u64cd\u4f5c\u3001\u9501\u91ca\u653e\u7b49)\u65f6\u3002</li> <li>\u8fdb\u7a0b\u963b\u585e\uff1a\u5f53\u8fdb\u7a0b\u9700\u8981\u7b49\u5f85\u67d0\u4e2a\u8d44\u6e90(\u5982 I/O \u64cd\u4f5c\u5b8c\u6210\u3001\u4fe1\u53f7\u91cf\u3001\u4e92\u65a5\u9501\u7b49)\uff0c\u5b83\u4f1a\u8fdb\u5165\u963b\u585e\u72b6\u6001\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u9009\u62e9\u53e6\u4e00\u4e2a\u5c31\u7eea\u8fdb\u7a0b\u6267\u884c\u3002</li> <li>\u4e2d\u65ad\u5904\u7406\uff1a\u5f53 CPU \u6536\u5230\u4e2d\u65ad\u4fe1\u53f7\u65f6(\u5982\u786c\u4ef6\u4e2d\u65ad\u3001\u5f02\u5e38\u7b49)\uff0c\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u8fdb\u7a0b\u53ef\u80fd\u4f1a\u88ab\u6682\u505c\uff0c\u4ee5\u4fbf\u64cd\u4f5c\u7cfb\u7edf\u5904\u7406\u4e2d\u65ad\u3002\u5904\u7406\u5b8c\u6210\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u9009\u62e9\u6062\u590d\u4e2d\u65ad\u524d\u7684\u8fdb\u7a0b\u6216\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u3002</li> </ul> <p>\u5728\u8fdb\u884c\u8fdb\u7a0b\u5207\u6362\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u4fdd\u5b58\u5f53\u524d\u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587(\u5982\u5bc4\u5b58\u5668\u72b6\u6001\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668\u7b49)\uff0c\u4ee5\u4fbf\u5728\u4ee5\u540e\u6062\u590d\u8fdb\u7a0b\u65f6\u53ef\u4ee5\u4ece\u4e2d\u65ad\u70b9\u7ee7\u7eed\u6267\u884c\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_101","title":"\u8fdb\u7a0b\u901a\u4fe1\u4e2d\u7684\u7ba1\u9053\u5b9e\u73b0\u539f\u7406\u662f\u4ec0\u4e48\uff1f","text":"<p>\u7ba1\u9053(pipe)\u662f Unix \u548c\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4e00\u79cd\u7b80\u5355\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1(IPC)\u673a\u5236\u3002\u7ba1\u9053\u5141\u8bb8\u4e24\u4e2a\u8fdb\u7a0b\u901a\u8fc7\u4e00\u4e2a\u5171\u4eab\u7684\u53cc\u5411\u6216\u5355\u5411\u6570\u636e\u901a\u9053\u8fdb\u884c\u901a\u4fe1\u3002\u7ba1\u9053\u7684\u5b9e\u73b0\u539f\u7406\u5982\u4e0b\uff1a</p> <ul> <li>\u521b\u5efa\u7ba1\u9053\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u9700\u8981\u4e0e\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u901a\u4fe1\u65f6\uff0c\u5b83\u9996\u5148\u901a\u8fc7\u8c03 \u7528 pipe() \u7cfb\u7edf\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u7ba1\u9053\u3002\u8be5\u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26(file descriptor)\u7684\u6574\u6570\u6570\u7ec4\u3002\u8fd9\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u5206\u522b\u8868\u793a\u7ba1\u9053\u7684\u8bfb\u7aef\u548c\u5199\u7aef\u3002\u7ba1\u9053\u5185\u90e8 \u4f7f\u7528\u5185\u6838\u7f13\u51b2\u533a(kernel buffer)\u4f5c\u4e3a\u6570\u636e\u4f20\u8f93\u7684\u4e34\u65f6\u5b58\u50a8\uff0c\u8fd9\u610f\u5473\u7740\u7ba1\u9053\u7684\u6570\u636e\u4f20\u8f93\u4e0d\u9700\u8981\u989d\u5916\u7684\u7528\u6237\u7a7a\u95f4\u5185\u5b58</li> <li>\u5efa\u7acb\u8fdb\u7a0b\u95f4\u5173\u7cfb\uff1a\u7ba1\u9053\u901a\u5e38\u4e0e fork() \u7cfb\u7edf\u8c03\u7528\u4e00\u8d77\u4f7f\u7528\u3002\u7236\u8fdb\u7a0b\u5728\u521b\u5efa\u7ba1\u9053\u540e\u8c03\u7528 fork() \u521b\u5efa\u5b50\u8fdb\u7a0b\u3002\u5b50\u8fdb\u7a0b\u4f1a\u7ee7\u627f\u7236\u8fdb\u7a0b\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u8fd9\u6837\u7236\u5b50\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u901a\u8fc7\u7ba1\u9053\u8fdb\u884c\u901a\u4fe1\u3002\u901a\u5e38\uff0c\u7236\u8fdb\u7a0b\u8d1f\u8d23\u7ba1\u9053\u7684\u5199\u7aef\uff0c\u5b50\u8fdb\u7a0b\u8d1f\u8d23\u8bfb\u7aef\uff0c\u6216\u8005\u53cd\u8fc7\u6765\u3002\u4e3a\u4e86\u786e\u4fdd\u901a\u4fe1\u7684\u5355\u5411\u6027\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u5728\u4f7f\u7528\u524d\u5e94\u5173\u95ed\u7ba1\u9053\u7684\u53e6\u4e00\u7aef</li> <li>\u8bfb\u5199\u6570\u636e\uff1a\u8fdb\u7a0b \u53ef\u4ee5\u4f7f\u7528\u666e\u901a\u7684\u6587\u4ef6 I/O \u51fd\u6570(\u5982 read() \u548c write())\u6765\u8bfb\u53d6\u548c\u5199\u5165\u7ba1\u9053\u3002\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u5411\u7ba1\u9053\u5199\u5165\u6570\u636e\u65f6\uff0c\u6570\u636e\u4f1a\u88ab\u5b58\u50a8\u5728\u5185\u6838\u7f13\u51b2\u533a\u3002\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u4ece\u7ba1\u9053\u7684\u53e6\u4e00\u7aef\u8bfb\u53d6\u6570\u636e\u3002\u5982\u679c\u7f13\u51b2\u533a\u4e3a\u7a7a\uff0c\u8bfb\u53d6\u64cd\u4f5c\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709\u6570\u636e\u53ef\u8bfb\u3002\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u7f13\u51b2\u533a\u5df2\u6ee1\uff0c\u5199\u5165\u64cd\u4f5c\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709\u8db3\u591f\u7684\u7a7a\u95f4</li> <li>\u5173\u95ed\u7ba1\u9053\uff1a\u5f53\u8fdb\u7a0b\u5b8c\u6210\u901a\u4fe1\u540e\uff0c\u5b83\u4eec\u5e94\u5173\u95ed\u7ba1\u9053\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u5f53\u7ba1\u9053\u7684\u5199\u7aef\u88ab\u5173\u95ed\u65f6\uff0c\u4efb\u4f55\u5c1d\u8bd5\u4ece\u8bfb\u7aef\u8bfb\u53d6\u6570\u636e\u7684\u8fdb\u7a0b\u5c06\u8bfb\u53d6\u5230 EOF(\u8868\u793a\u6570\u636e\u5df2\u7ecf\u5168\u90e8\u8bfb\u5b8c)\u3002\u5f53\u7ba1\u9053\u7684\u8bfb\u7aef\u88ab\u5173\u95ed\u65f6\uff0c\u4efb\u4f55\u5c1d\u8bd5\u5411\u5199\u7aef\u5199\u5165\u6570\u636e\u7684\u8fdb\u7a0b\u5c06\u6536\u5230 SIGPIPE \u4fe1\u53f7\uff0c\u8868\u793a\u7ba1\u9053\u5df2\u65ad\u5f00</li> </ul> <p>\u7ba1\u9053\u662f\u4e00\u79cd\u57fa\u4e8e\u5185\u6838\u7f13\u51b2\u533a\u7684\u7b80\u5355\u8fdb\u7a0b\u95f4\u901a\u4fe1\u673a\u5236\u3002\u901a\u8fc7\u521b\u5efa\u7ba1\u9053\u5e76\u4f7f\u7528\u6587\u4ef6\u63cf\u8ff0\u7b26\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u989d\u5916\u7528\u6237\u7a7a\u95f4\u5185\u5b58\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u901a\u4fe1\u3002\u7ba1\u9053\u901a\u5e38\u4e0e fork() \u7cfb\u7edf\u8c03\u7528\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u4fbf\u7236\u5b50\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u5171\u4eab\u6587\u4ef6\u63cf\u8ff0\u7b26\u8fdb\u884c\u901a\u4fe1\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_102","title":"\u4e3a\u4ec0\u4e48\u8fdb\u7a0b\u5207\u6362\u6162\uff0c\u7ebf\u7a0b\u5207\u6362\u5feb\uff1f","text":"<p>\u8fdb\u7a0b\u5207\u6362\u4e0e\u7ebf\u7a0b\u5207\u6362\u4e4b\u95f4\u7684\u6027\u80fd\u5dee\u5f02\u4e3b\u8981\u5f52\u56e0\u4e8e\u5b83\u4eec\u5728\u4e0a\u4e0b\u6587\u5207\u6362\u8fc7\u7a0b\u4e2d\u6d89\u53ca\u7684\u8d44\u6e90\u548c\u72b6\u6001\u7684\u4e0d\u540c\u3002\u4ee5\u4e0b\u662f\u8fdb\u7a0b\u5207\u6362\u76f8\u5bf9\u4e8e\u7ebf\u7a0b\u5207\u6362\u66f4\u6162\u7684\u539f\u56e0\uff1a</p> <ul> <li>\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u8303\u56f4\uff1a\u5728\u8fdb\u884c\u8fdb\u7a0b\u5207\u6362\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u4fdd\u5b58\u548c\u6062\u590d\u66f4\u591a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u5982\u5bc4\u5b58\u5668\u72b6\u6001\u3001\u5185\u5b58\u7ba1\u7406\u4fe1\u606f(\u4f8b\u5982\u9875\u8868)\u7b49\u3002\u800c\u7ebf\u7a0b\u5207\u6362\u4ec5\u9700\u8981\u4fdd\u5b58\u548c\u6062\u590d\u7ebf\u7a0b\u7279\u6709\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u5982\u5bc4\u5b58\u5668\u72b6\u6001\u3001\u6808\u6307\u9488\u548c\u7a0b\u5e8f\u8ba1\u6570\u5668\u7b49\u3002\u56e0\u4e3a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u548c\u5176\u4ed6\u8d44\u6e90\uff0c\u6240\u4ee5\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u9700\u8981\u4fdd\u5b58\u548c\u6062\u590d\u8fd9\u4e9b\u8d44\u6e90\u7684\u72b6\u6001</li> <li>\u7f13\u5b58\u6548\u5e94\uff1a\u7531\u4e8e \u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\uff0c\u7ebf\u7a0b\u5207\u6362\u65f6 CPU \u7f13\u5b58(\u4f8b\u5982 TLB\u3001L1\u3001L2 \u7f13\u5b58)\u7684\u547d\u4e2d\u7387\u53ef\u80fd\u66f4\u9ad8\u3002\u800c\u8fdb\u7a0b\u5207\u6362\u65f6\uff0c\u7531\u4e8e\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\u7684\u53d8\u5316\uff0cCPU \u7f13\u5b58\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u586b\u5145\uff0c\u5bfc\u81f4\u6027\u80fd\u635f\u5931</li> <li>\u8d44\u6e90\u540c\u6b65\uff1a\u8fdb\u7a0b\u5207\u6362\u53ef\u80fd\u6d89\u53ca\u66f4\u590d\u6742\u7684\u8d44\u6e90\u540c\u6b65\u64cd\u4f5c\uff0c\u5982\u5185\u5b58\u7ba1\u7406\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\u3002\u800c\u7ebf\u7a0b\u5207\u6362\u7531\u4e8e\u5171\u4eab\u8d44\u6e90\uff0c\u901a\u5e38\u4e0d\u9700\u8981\u8fdb\u884c\u8fd9\u4e9b\u540c\u6b65\u64cd\u4f5c</li> </ul> <p>\u7ebf\u7a0b\u5207\u6362\u901a\u5e38\u6bd4\u8fdb\u7a0b\u5207\u6362\u5feb\uff0c\u4f46\u5e76\u4e0d\u610f\u5473\u7740\u7ebf\u7a0b\u5728\u6240\u6709\u573a\u666f\u4e0b\u90fd\u662f\u6700\u4f73\u9009\u62e9\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u8fdb\u7a0b\u53ef\u80fd\u66f4\u5408\u9002\uff0c\u4f8b\u5982\uff0c\u5f53\u9700\u8981\u9694\u79bb\u5730\u5740\u7a7a\u95f4\u6216\u8d44\u6e90\u65f6\uff0c\u6216\u8005\u5f53\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u5229\u7528\u591a\u6838\u5904\u7406\u5668\u6216\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u80fd\u529b\u65f6\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_103","title":"\u6587\u4ef6\u7cfb\u7edf","text":""},{"location":"Operating%20System/OperatingSystem/#_104","title":"\u6587\u4ef6\u7cfb\u7edf\u865a\u62df\u5316\uff1f","text":"<ul> <li>\u6587\u4ef6\u662f\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u5b58\u50a8\u65f6\u4f7f\u7528\u6700\u591a\u7684\u62bd\u8c61\u4e4b\u4e00\uff0c \u6bcf\u4e2a\u6587\u4ef6\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6709\u540d\u5b57\u7684\u5b57\u7b26\u5e8f\u5217\uff0c\u4e5f\u53ef\u4ee5\u628a\u6587\u4ef6\u53eb\u505a\u865a\u62df\u786c\u76d8\uff0c\u6211\u4eec\u5b9e\u9645\u64cd\u4f5c\u65f6\u90fd\u662f\u5728\u64cd\u4f5c\u6587\u4ef6\u800c\u975e\u76f4\u63a5\u64cd\u4f5c\u786c\u76d8\u4e2d\u7684\u6570\u636e\u3002\u5e8f\u5217\u5185\u5bb9\u4e3a\u6587\u4ef6\u6570\u636e\uff0c\u800c\u5e8f\u5217\u957f\u5ea6\uff0c\u4fee\u6539\u65f6\u95f4\u7b49\u63cf\u8ff0\u6587\u4ef6\u6570\u636e\u7684\u5c5e\u6027\u7279\u5f81\u7684\u5176\u4ed6\u4fe1\u606f\u88ab\u79f0\u4e3a\u6587\u4ef6\u5143\u6570\u636e</li> <li>\u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u7ba1\u7406\u6587\u4ef6\u6570\u636e\u4e0e\u6587\u4ef6\u5143\u6570\u636e\u7684\u7cfb\u7edf\u3002\u6587\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u6587\u4ef6\u62bd\u8c61\u5e76\u5b9e\u73b0\u6587\u4ef6\u8bbf\u95ee\u6240\u9700\u8981\u7684\u63a5\u53e3\u3002\u8003\u8651\u5230\u5b58\u50a8\u7a7a\u95f4\u592a\u5927\uff0c\u6587\u4ef6 \u4ee5\u6570\u636e\u5757\u4e3a\u5355\u4f4d\u8fdb\u884c\u8bbf\u95ee\uff0c \u4e00\u4e2a\u5757\u4e00\u822c 4KB </li> <li>\u5f53\u5e94\u7528\u7a0b\u5e8f\u60f3\u8bbf\u95ee\u6216\u5199\u5165\u4e00\u4e9b\u6570\u636e\u5230\u5b58\u50a8\u8bbe\u5907\u4e0a\u65f6\uff0c\u5b83\u4f1a\u91c7\u7528 Linux \u7cfb\u7edf\u63d0\u4f9b\u7684 open\uff0cwrite\uff0cread \u7b49\u7cfb\u7edf\u8c03\u7528\uff1b\u5728\u5904\u7406\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u5185\u6838\u4f1a\u8c03\u7528\u865a\u62df\u6587\u4ef6\u7cfb\u7edf(VFS)\u6765\u5904\u7406\u6587\u4ef6\u8bf7\u6c42\uff0c\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\u8d1f\u8d23\u7ba1\u7406\u5177\u4f53\u7684\u6587\u4ef6\u7cfb\u7edf\u5982 inode \u6587\u4ef6\u7cfb\u7edf\uff0cFAT32 \u6587\u4ef6\u7cfb\u7edf\u7b49</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_105","title":"\u4ec0\u4e48\u662f\u786c\u94fe\u63a5\u4e0e\u7b26\u53f7\u8fde\u63a5\uff1f","text":"<p>\u786c\u94fe\u63a5(hard link)\u548c\u7b26\u53f7\u94fe\u63a5(symbolic link\uff0c\u4e5f\u79f0\u4e3a\u8f6f\u94fe\u63a5)\u662f Unix \u548c\u7c7b Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e24\u79cd\u4e0d\u540c\u7684\u6587\u4ef6\u94fe\u63a5\u7c7b\u578b\u3002\u5b83\u4eec \u7528\u4e8e\u521b\u5efa\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u5f15\u7528\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_106","title":"\u786c\u94fe\u63a5","text":"<p>\u786c\u94fe\u63a5\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u6587\u4ef6\u7684\u989d\u5916\u5f15\u7528\u3002\u5728 Unix \u548c\u7c7b Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u4e00\u4e2a\u79f0\u4e3a inode \u7684\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\u6587\u4ef6\u7684\u5143\u6570\u636e\uff0c\u4f8b\u5982\u6587\u4ef6\u6743\u9650\u3001\u6240\u6709\u8005\u3001\u5927\u5c0f\u7b49\u3002\u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u540d(\u786c\u94fe\u63a5)\uff0c\u5b83\u4eec\u6307\u5411\u76f8\u5e94\u7684 inode\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c \u786c\u94fe\u63a5\u662f\u6587\u4ef6\u540d\u548c inode \u4e4b\u95f4\u7684\u5173\u8054\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_107","title":"\u786c\u94fe\u63a5\u7684\u7279\u70b9","text":"<ul> <li>\u786c\u94fe\u63a5\u4e0d\u80fd\u8de8\u6587\u4ef6\u7cfb\u7edf\uff1a\u7531\u4e8e\u786c\u94fe\u63a5\u76f4\u63a5\u5173\u8054\u5230 inode\uff0c\u5b83\u53ea\u80fd\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e2d\u521b\u5efa</li> <li>\u786c\u94fe\u63a5\u4e0d\u80fd\u5f15\u7528\u76ee\u5f55\uff1a\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u6587\u4ef6\u7cfb\u7edf\u4e2d\u51fa\u73b0\u5faa\u73af\u5f15\u7528\u548c\u5176\u4ed6\u4e0d\u4e00\u81f4\u6027\u95ee\u9898</li> <li>\u5220\u9664\u4e00\u4e2a\u6587\u4ef6\u7684\u6240\u6709\u786c\u94fe\u63a5\u4f1a\u5bfc\u81f4\u6587\u4ef6\u88ab\u5220\u9664\uff1a\u5f53\u4e00\u4e2a\u6587\u4ef6\u7684\u6700\u540e\u4e00\u4e2a\u786c\u94fe\u63a5\u88ab\u5220\u9664\u65f6\uff0c\u6587\u4ef6\u7cfb\u7edf\u5c06 \u91ca\u653e\u8be5\u6587\u4ef6\u7684 inode \u4ee5\u53ca\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4 </li> <li>\u786c\u94fe\u63a5\u4e0d\u5f71\u54cd\u539f\u59cb\u6587\u4ef6\u7684\u8bbf\u95ee\uff1a\u6240\u6709\u786c\u94fe\u63a5\u90fd\u6307\u5411\u76f8\u540c\u7684 inode\uff0c\u56e0\u6b64 \u8bbf\u95ee\u4efb\u4f55\u4e00\u4e2a\u786c\u94fe\u63a5\u5b9e\u9645\u4e0a\u662f\u8bbf\u95ee\u539f\u59cb\u6587\u4ef6 </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#_108","title":"\u7b26\u53f7\u94fe\u63a5","text":"<p>\u7b26\u53f7\u94fe\u63a5\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6587\u4ef6\uff0c\u5b83\u5305\u542b\u6307\u5411\u53e6\u4e00\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8def\u5f84\u3002\u4e0e\u786c\u94fe\u63a5\u76f4\u63a5\u5173\u8054\u5230 inode \u4e0d\u540c\uff0c\u7b26\u53f7\u94fe\u63a5 \u901a\u8fc7\u8def\u5f84\u540d\u6765\u5f15\u7528\u76ee\u6807\u6587\u4ef6\u3002\u5f53\u7528\u6237\u6216\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u7b26\u53f7\u94fe\u63a5\u65f6\uff0c\u6587\u4ef6\u7cfb\u7edf\u4f1a\u81ea\u52a8\u5c06\u5176\u91cd\u5b9a\u5411\u5230\u76ee\u6807\u8def\u5f84\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_109","title":"\u7b26\u53f7\u94fe\u63a5\u7684\u7279\u70b9","text":"<ul> <li>\u7b26\u53f7\u94fe\u63a5\u53ef\u4ee5\u8de8\u6587\u4ef6\u7cfb\u7edf\uff1a\u7531\u4e8e\u7b26\u53f7\u94fe\u63a5\u901a\u8fc7\u8def\u5f84\u540d\u5f15\u7528\u76ee\u6807\u6587\u4ef6\uff0c\u5b83\u53ef\u4ee5\u94fe\u63a5\u5230\u5176\u4ed6\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u6216\u76ee\u5f55</li> <li>\u7b26\u53f7\u94fe\u63a5\u53ef\u4ee5\u5f15\u7528\u76ee\u5f55\uff1a\u8fd9\u4f7f\u5f97\u7b26\u53f7\u94fe\u63a5\u5728\u6587\u4ef6\u7cfb\u7edf\u7ec4\u7ec7\u548c\u76ee\u5f55\u7ed3\u6784\u7ba1\u7406\u4e2d\u975e\u5e38\u6709\u7528</li> <li>\u5220\u9664\u7b26\u53f7\u94fe\u63a5\u4e0d\u4f1a\u5f71\u54cd\u76ee\u6807\u6587\u4ef6\uff1a\u5f53\u5220\u9664\u4e00\u4e2a\u7b26\u53f7\u94fe\u63a5\u65f6\uff0c\u53ea\u6709\u94fe\u63a5\u672c\u8eab\u88ab\u5220\u9664\uff0c\u800c\u76ee\u6807\u6587\u4ef6\u4fdd\u6301\u4e0d\u53d8</li> <li>\u7b26\u53f7\u94fe\u63a5\u53ef\u80fd\u5f15\u8d77\u6b7b\u94fe\u63a5(dangling link)\uff1a\u5982\u679c\u76ee\u6807\u6587\u4ef6\u88ab\u5220\u9664\u6216\u79fb\u52a8\uff0c\u7b26\u53f7\u94fe\u63a5\u5c06\u6307\u5411\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u8def\u5f84\uff0c\u5bfc\u81f4\u6b7b\u94fe\u63a5</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#inode","title":"\u8bb2\u4e00\u8bb2 Inode \u6587\u4ef6\u7cfb\u7edf\u7ed3\u6784\uff1f","text":"<p>Inode(\u7d22\u5f15\u8282\u70b9)\u662f Unix \u548c\u7c7b Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u3002Inode \u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e \u5b58\u50a8\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u5143\u6570\u636e(metadata)\uff0c\u4f8b\u5982\u6587\u4ef6\u5927\u5c0f\u3001\u65f6\u95f4\u6233\u3001\u6743\u9650\u3001\u6240\u6709\u8005\u7b49\u3002Inode \u8fd8\u5305\u542b\u4e86\u6307\u5411\u5b9e\u9645\u6587\u4ef6\u6570\u636e\u5757(data block)\u7684\u6307\u9488\uff0c\u8fd9\u4e9b\u6570\u636e\u5757\u5b58\u50a8\u4e86\u6587\u4ef6\u7684\u5185\u5bb9\u3002</p> <p>\u5728 Unix \u548c\u7c7b Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c \u6bcf\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684 Inode \u53f7(Inode number)\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u5bf9\u8c61\u3002\u6587\u4ef6\u540d\u53ea\u662f\u4e00\u4e2a\u7528\u6237\u53cb\u597d\u7684\u5f15\u7528\uff0c\u5b9e\u9645\u4e0a\u662f\u6307\u5411 Inode \u53f7\u7684\u6307\u9488\u3002\u8fd9\u79cd\u8bbe\u8ba1\u5141\u8bb8\u6587\u4ef6\u7cfb\u7edf\u4ee5\u66f4\u9ad8\u6548\u7684\u65b9\u5f0f\u7ba1\u7406\u548c\u8bbf\u95ee\u6587\u4ef6\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86\u786c\u94fe\u63a5\u7b49\u9ad8\u7ea7\u529f\u80fd\u3002\u4ee5\u4e0b\u662f Inode \u6587\u4ef6\u7cfb\u7edf\u7ed3\u6784\u7684\u51e0\u4e2a\u5173\u952e\u7ec4\u6210\u90e8\u5206\uff1a</p> <ul> <li>Inode \u8868\uff1aInode \u8868\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u9884\u5148\u5206\u914d\u7684\u533a\u57df\uff0c\u7528\u4e8e\u5b58\u50a8 Inode \u6570\u636e\u7ed3\u6784\u3002 \u6bcf\u4e2a Inode \u5728 Inode \u8868\u4e2d\u5360\u7528\u56fa\u5b9a\u5927\u5c0f\u7684\u7a7a\u95f4\uff0c\u901a\u5e38\u4e3a 128 \u5b57\u8282\u6216 256 \u5b57\u8282\u3002\u6587\u4ef6\u7cfb\u7edf\u5728\u683c\u5f0f\u5316\u65f6\u4f1a\u9884\u5148\u5206\u914d\u4e00\u5b9a\u6570\u91cf\u7684 Inode\uff0c\u8fd9\u4e9b  Inode \u6570\u91cf\u51b3\u5b9a\u4e86\u6587\u4ef6\u7cfb\u7edf\u80fd\u591f\u5bb9\u7eb3\u7684\u6700\u5927\u6587\u4ef6\u548c\u76ee\u5f55\u6570\u91cf </li> <li>\u6570\u636e\u5757\uff1a\u6570\u636e\u5757(data block)\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7528\u4e8e\u5b58\u50a8\u6587\u4ef6\u5185\u5bb9\u7684\u57fa\u672c\u5355\u4f4d\u3002\u6570\u636e\u5757\u7684\u5927\u5c0f\u901a\u5e38\u4e3a 4KB\u30018KB \u6216\u66f4\u5927\u3002\u6bcf\u4e2a Inode \u5305\u542b\u4e86\u6307\u5411\u6587\u4ef6\u6570\u636e\u5757\u7684\u6307\u9488\uff0c\u8fd9\u4e9b\u6307\u9488\u53ef\u4ee5 \u76f4\u63a5\u6307\u5411\u6570\u636e\u5757(\u76f4\u63a5\u5757\u6307\u9488)\uff0c\u4e5f\u53ef\u4ee5 \u6307\u5411\u95f4\u63a5\u5757(\u95f4\u63a5\u5757\u6307\u9488) \u3001 \u4e8c\u6b21\u95f4\u63a5\u5757(\u53cc\u95f4\u63a5\u5757\u6307\u9488)  \u6216 \u4e09\u6b21\u95f4\u63a5\u5757(\u4e09\u95f4\u63a5\u5757\u6307\u9488) </li> <li>\u76ee\u5f55\u9879\uff1a\u76ee\u5f55\u9879(directory entry)\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d\u8868\u793a\u76ee\u5f55\u7ed3\u6784\u7684\u6570\u636e\u7ed3\u6784\u3002\u6bcf\u4e2a\u76ee\u5f55\u9879\u5305\u542b\u4e00\u4e2a\u6587\u4ef6\u540d\u548c\u4e00\u4e2a\u5bf9\u5e94\u7684 Inode \u53f7\u3002\u76ee\u5f55\u9879\u5b58\u50a8\u5728\u76ee\u5f55\u6587\u4ef6\u7684\u6570\u636e\u5757\u4e2d\uff0c\u901a\u8fc7 Inode \u53f7\u53ef\u4ee5\u627e\u5230\u76ee\u5f55\u9879\u6240\u6307\u5411\u7684\u6587\u4ef6\u6216\u5b50\u76ee\u5f55\u7684 Inode \u548c\u6570\u636e\u5757</li> <li>\u8d85\u7ea7\u5757\uff1a\u8d85\u7ea7\u5757(superblock)\u662f\u6587\u4ef6\u7cfb\u7edf\u4e2d \u5b58\u50a8\u6587\u4ef6\u7cfb\u7edf\u5143\u6570\u636e\u7684\u533a\u57df\u3002\u8d85\u7ea7\u5757\u5305\u542b\u4e86\u6587\u4ef6\u7cfb\u7edf\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u5982\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3001\u5927\u5c0f\u3001\u5757\u5927\u5c0f\u3001Inode \u6570\u91cf\u7b49\u3002\u64cd\u4f5c\u7cfb\u7edf\u5728\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u65f6\u4f1a\u8bfb\u53d6\u8d85\u7ea7\u5757\uff0c\u4ee5\u786e\u5b9a\u6587\u4ef6\u7cfb\u7edf\u7684\u53c2\u6570\u548c\u72b6\u6001</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#fat-unix","title":"\u8bb2\u4e00\u8bb2 FAT \u6587\u4ef6\u7cfb\u7edf\u4e0e Unix \u6587\u4ef6\u7cfb\u7edf\uff1f","text":"<p>FAT(File Allocation Table)\u6587\u4ef6\u7cfb\u7edf\u548c Unix \u6587\u4ef6\u7cfb\u7edf\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u6587\u4ef6\u7cfb\u7edf\u7ed3\u6784\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#fat","title":"FAT \u6587\u4ef6\u7cfb\u7edf","text":"<p>FAT \u6587\u4ef6\u7cfb\u7edf \u6700\u521d\u662f\u4e3a MS-DOS \u64cd\u4f5c\u7cfb\u7edf\u8bbe\u8ba1\u7684\uff0c\u540e\u6765\u6210\u4e3a\u4e86  Windows \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u4e3b\u8981\u6587\u4ef6\u7cfb\u7edf\u3002FAT \u6587\u4ef6\u7cfb\u7edf\u6709\u591a\u4e2a\u7248\u672c\uff0c\u5305\u62ec FAT12\u3001FAT16 \u548c FAT32\u3002FAT \u6587\u4ef6\u7cfb\u7edf\u7684\u6838\u5fc3\u7ec4\u4ef6\u662f\u6587\u4ef6\u5206\u914d\u8868(File Allocation Table)\uff0c\u5b83\u662f\u4e00\u4e2a\u8bb0\u5f55\u6587\u4ef6\u6570\u636e\u5757\u4f7f\u7528\u60c5\u51b5\u7684\u8868\u683c</p>"},{"location":"Operating%20System/OperatingSystem/#fat_1","title":"FAT \u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u70b9","text":"<ul> <li>\u7ed3\u6784\u7b80\u5355\uff1aFAT \u6587\u4ef6\u7cfb\u7edf\u7684\u7ed3\u6784\u76f8\u5bf9\u7b80\u5355\uff0c\u6613\u4e8e\u5b9e\u73b0\u548c\u7ef4\u62a4\u3002\u5b83\u662f\u901a\u8fc7\u94fe\u8868\u7684\u5f62\u5f0f\u7ba1\u7406\u6570\u636e\u5757\uff0c\u968f\u673a\u8bbf\u95ee\u80fd\u529b\u8f83\u5dee</li> <li>\u8de8\u5e73\u53f0\u517c\u5bb9\u6027\uff1a\u7531\u4e8e FAT \u6587\u4ef6\u7cfb\u7edf\u7684\u666e\u53ca\u7a0b\u5ea6\u5f88\u9ad8\uff0c\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u90fd\u652f\u6301 FAT \u6587\u4ef6\u7cfb\u7edf\u3002\u8fd9\u4f7f\u5f97 FAT \u6587\u4ef6\u7cfb\u7edf\u6210\u4e3a\u4e86\u5f88\u591a\u53ef\u79fb\u52a8\u5b58\u50a8\u8bbe\u5907(\u5982 U \u76d8\u3001SD \u5361\u7b49)\u7684\u9996\u9009\u6587\u4ef6\u7cfb\u7edf</li> <li>\u5c40\u9650\u6027\uff1aFAT \u6587\u4ef6\u7cfb\u7edf\u5728\u6587\u4ef6\u6743\u9650\u7ba1\u7406\u3001\u6587\u4ef6\u5927\u5c0f\u9650\u5236\u548c\u786c\u76d8\u7a7a\u95f4\u5229\u7528\u7387\u7b49\u65b9\u9762\u5b58\u5728\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002\u4f8b\u5982\uff0cFAT32 \u6587\u4ef6\u7cfb\u7edf \u4e0d\u652f\u6301\u8d85\u8fc7 4GB \u7684\u5355\u4e2a\u6587\u4ef6 (\u56e0\u4e3a\u94fe\u8868\u7ba1\u7406\u7684\u539f\u56e0\uff0c\u8bbf\u95ee\u6700\u540e\u4e00\u4e2a\u6570\u636e\u5757\u8981\u904d\u5386\u5b8c\u6240\u6709\u6570\u636e\u5757\u7684\u6307\u9488\uff0c\u6240\u4ee5\u5927\u6587\u4ef6\u6027\u80fd\u5f88\u5dee)\uff0c\u800c\u4e14 \u6ca1\u6709\u7c7b\u4f3c Unix \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u6743\u9650\u548c\u6240\u6709\u6743\u7ba1\u7406\u529f\u80fd </li> </ul>"},{"location":"Operating%20System/OperatingSystem/#fat_2","title":"FAT \u6587\u4ef6\u7cfb\u7edf\u9002\u7528\u573a\u666f","text":"<ul> <li>\u53ef\u79fb\u52a8\u5b58\u50a8\u8bbe\u5907\uff1a\u7531\u4e8e FAT \u6587\u4ef6\u7cfb\u7edf\u5728\u5404\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u90fd\u6709\u5f88\u597d\u7684\u652f\u6301\uff0c\u5b83\u6210\u4e3a\u4e86\u8bb8\u591a\u53ef\u79fb\u52a8\u5b58\u50a8\u8bbe\u5907(\u5982 U \u76d8\u3001SD \u5361\u7b49)\u7684\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf</li> <li>\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff1aFAT \u6587\u4ef6\u7cfb\u7edf\u7b80\u5355\u7684\u7ed3\u6784\u548c\u8f83\u4f4e\u7684\u7cfb\u7edf\u8d44\u6e90\u9700\u6c42\u4f7f\u5176\u5728\u5d4c\u5165\u5f0f\u7cfb\u7edf\u548c\u4f4e\u7aef\u8bbe\u5907\u4e2d\u975e\u5e38\u53d7\u6b22\u8fce</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#unix","title":"Unix \u6587\u4ef6\u7cfb\u7edf","text":"<p>Unix \u6587\u4ef6\u7cfb\u7edf\u901a\u5e38\u6307\u4ee3\u5728 Unix \u548c\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4f7f\u7528\u7684\u4e00\u7cfb\u5217\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd9\u7c7b\u7cfb\u7edf\u76f8\u6bd4\u4e8e FAT \u4e3b\u8981\u63d0\u5347\u4e86\u968f\u673a\u8bbf\u95ee\u7684\u80fd\u529b\uff0c\u5e76\u4e14\u652f\u6301\u94fe\u63a5\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#unix_1","title":"Unix \u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u70b9","text":"<ul> <li>Inode \u7ed3\u6784\uff1aUnix \u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528 Inode(\u7d22\u5f15\u8282\u70b9)\u6765\u5b58\u50a8\u6587\u4ef6\u5143\u6570\u636e\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97\u6587\u4ef6\u7cfb\u7edf\u53ef\u4ee5\u66f4\u9ad8\u6548\u5730\u7ba1\u7406\u548c\u8bbf\u95ee\u6587\u4ef6</li> <li>\u6743\u9650\u7ba1\u7406\uff1aUnix \u6587\u4ef6\u7cfb\u7edf\u652f\u6301\u8be6\u7ec6\u7684\u6587\u4ef6\u6743\u9650\u548c\u6240\u6709\u6743\u7ba1\u7406\uff0c\u5141\u8bb8\u5bf9\u6587\u4ef6\u548c\u76ee\u5f55\u8fdb\u884c\u8bfb\u3001\u5199\u548c\u6267\u884c\u6743\u9650\u7684\u63a7\u5236</li> <li>\u786c\u94fe\u63a5\u548c\u7b26\u53f7\u94fe\u63a5\uff1aUnix \u6587\u4ef6\u7cfb\u7edf\u652f\u6301\u786c\u94fe\u63a5\u548c\u7b26\u53f7\u94fe\u63a5\uff0c\u8fd9\u4e9b\u94fe\u63a5\u7c7b\u578b\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u5f15\u7528\uff0c\u5b9e\u73b0\u66f4\u7075\u6d3b\u7684\u6587\u4ef6\u7cfb\u7edf\u7ec4\u7ec7\u548c\u7ba1\u7406</li> <li>\u65e5\u5fd7\u529f\u80fd\uff1a\u8bb8\u591a Unix \u6587\u4ef6\u7cfb\u7edf(\u5982 EXT4\u3001XFS \u7b49)\u5177\u6709\u65e5\u5fd7\u529f\u80fd\uff0c\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u6587\u4ef6\u7cfb\u7edf\u7684\u6570\u636e\u4e00\u81f4\u6027\u548c\u6062\u590d\u80fd\u529b</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#unix_2","title":"Unix \u6587\u4ef6\u7cfb\u7edf\u9002\u7528\u573a\u666f\uff1a","text":"<ul> <li>Unix \u548c\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\uff1a\u5728\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0cUnix \u6587\u4ef6\u7cfb\u7edf(\u5982 EXT4\u3001XFS \u7b49)\u662f\u9ed8\u8ba4\u6216\u63a8\u8350\u7684\u6587\u4ef6\u7cfb\u7edf</li> <li>\u670d\u52a1\u5668\u548c\u9ad8\u6027\u80fd\u8ba1\u7b97\uff1a\u7531\u4e8e Unix \u6587\u4ef6\u7cfb\u7edf\u5728\u6027\u80fd\u3001\u53ef\u9760\u6027\u548c\u6269\u5c55\u6027\u65b9\u9762\u7684\u4f18\u52bf\uff0c\u5b83\u4eec\u901a\u5e38\u88ab\u7528\u4e8e\u670d\u52a1\u5668\u548c\u9ad8\u6027\u80fd\u8ba1\u7b97\u7cfb\u7edf</li> </ul> <p>\u9664\u4e86 FAT \u548c Unix \u6587\u4ef6\u7cfb\u7edf\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u7c7b\u578b\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u5982 Windows \u4e2d\u7684 NTFS \u548c macOS \u4e2d\u7684 APFS \u7b49\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_110","title":"\u6587\u4ef6\u4f20\u8f93\u4e2d\u65ad\u540e\u5982\u4f55\u7eed\u4f20","text":"<p>\u5f53\u6587\u4ef6\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e2d\u65ad\uff0c\u5982\u7f51\u7edc\u6545\u969c\u6216\u5176\u4ed6\u539f\u56e0\uff0c\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u6765\u7ee7\u7eed\u4f20\u8f93\uff0c\u800c\u4e0d\u662f\u4ece\u5934\u5f00\u59cb\u3002\u7eed\u4f20\u529f\u80fd\u53ef\u4ee5\u6709\u6548\u5730\u51cf\u5c11\u91cd\u590d\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c\u4ece\u800c\u63d0\u9ad8\u4f20\u8f93\u6548\u7387\u3002 Rsync \u7b97\u6cd5 \u662f\u4e00\u79cd\u7528\u4e8e\u6587\u4ef6\u540c\u6b65\u548c\u589e\u91cf\u5907\u4efd\u7684\u9ad8\u6548\u7b97\u6cd5\uff0c\u53ef\u4ee5 \u5b9e\u73b0\u6587\u4ef6\u4f20\u8f93\u7684\u7eed\u4f20\u529f\u80fd\u3002</p> <p>Rsync \u7b97\u6cd5\u57fa\u4e8e \u6eda\u52a8\u54c8\u5e0c(rolling hash)\u548c\u6570\u636e\u5757\u7b7e\u540d \u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u6587\u4ef6\u540c\u6b65\u3002\u4ee5\u4e0b\u662f Rsync \u7b97\u6cd5\u7684\u57fa\u672c\u6b65\u9aa4\uff1a</p> <ol> <li>\u5c06\u76ee\u6807\u6587\u4ef6\u5206\u5272\u6210\u56fa\u5b9a\u5927\u5c0f\u6216\u53ef\u53d8\u5927\u5c0f\u7684\u6570\u636e\u5757\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6570\u636e\u5757\uff0c\u8ba1\u7b97\u4e24\u4e2a\u54c8\u5e0c\u503c\uff1a\u4e00\u4e2a\u5f31\u54c8\u5e0c\u503c(\u5982 Adler-32 \u6821\u9a8c\u548c)\u548c\u4e00\u4e2a\u5f3a\u54c8\u5e0c\u503c(\u5982 MD5 \u6216 SHA-1 \u6563\u5217)</li> <li>\u5c06\u54c8\u5e0c\u503c(\u4e5f\u79f0\u4e3a\u6570\u636e\u5757\u7b7e\u540d)\u53d1\u9001\u5230\u63a5\u6536\u65b9\u3002\u63a5\u6536\u65b9\u5728\u672c\u5730\u67e5\u627e\u4e0e\u76ee\u6807\u6587\u4ef6\u76f8\u540c\u7684\u6587\u4ef6\uff0c\u901a\u5e38\u662f\u4e00\u4e2a\u65e7\u7248\u672c\u6216\u90e8\u5206\u4f20\u8f93\u7684\u6587\u4ef6</li> <li>\u63a5\u6536\u65b9\u5c06\u672c\u5730\u6587\u4ef6\u5212\u5206\u4e3a\u4e0e\u53d1\u9001\u65b9\u76f8\u540c\u5927\u5c0f\u7684\u6570\u636e\u5757\uff0c\u5e76\u8ba1\u7b97\u6bcf\u4e2a\u6570\u636e\u5757\u7684\u5f31\u54c8\u5e0c\u503c </li> <li>\u63a5\u6536\u65b9\u4f7f\u7528\u6eda\u52a8\u54c8\u5e0c\u65b9\u6cd5\uff0c\u5728\u672c\u5730\u6587\u4ef6\u4e2d\u5bfb\u627e\u4e0e\u53d1\u9001\u65b9\u6570\u636e\u5757\u76f8\u5339\u914d\u7684\u54c8\u5e0c\u503c\u3002\u901a\u8fc7\u6bd4\u8f83\u5f31\u54c8\u5e0c\u503c\uff0c\u63a5\u6536\u65b9\u53ef\u4ee5\u5feb\u901f\u627e\u5230\u6f5c\u5728\u7684\u5339\u914d\u6570\u636e\u5757\u3002\u4e3a\u4e86\u907f\u514d\u8bef\u62a5\uff0c\u63a5\u6536\u65b9\u8fd8\u4f1a\u6bd4\u8f83\u5f3a\u54c8\u5e0c\u503c\u6765\u786e\u8ba4\u6570\u636e\u5757\u662f\u5426\u771f\u6b63\u5339\u914d</li> <li>\u63a5\u6536\u65b9\u5c06\u5339\u914d\u7684\u6570\u636e\u5757\u4fe1\u606f(\u5982\u6570\u636e\u5757\u7d22\u5f15\u548c\u504f\u79fb\u91cf)\u53d1\u9001\u56de\u53d1\u9001\u65b9 </li> <li>\u53d1\u9001\u65b9\u6839\u636e\u63a5\u6536\u65b9\u8fd4\u56de\u7684\u5339\u914d\u4fe1\u606f\uff0c\u4ec5\u53d1\u9001\u76ee\u6807\u6587\u4ef6\u4e2d\u672a\u5339\u914d\u7684\u6570\u636e\u5757\uff0c\u4ece\u800c\u5b9e\u73b0\u589e\u91cf\u66f4\u65b0\u548c\u7eed\u4f20\u529f\u80fd </li> <li>Rsync \u7b97\u6cd5\u7684\u4e3b\u8981\u4f18\u52bf\u662f\u5b83\u53ef\u4ee5\u5728\u4e0d\u4f20\u8f93\u6574\u4e2a\u6587\u4ef6\u7684\u60c5\u51b5\u4e0b\u68c0\u6d4b\u548c\u540c\u6b65\u6587\u4ef6\u7684\u5dee\u5f02\u3002\u8fd9\u79cd\u65b9\u6cd5\u5728\u5927\u6587\u4ef6\u3001\u4f4e\u5e26\u5bbd\u548c\u4e0d\u7a33\u5b9a\u7f51\u7edc\u8fde\u63a5\u7684\u573a\u666f\u4e2d\u975e\u5e38\u9ad8\u6548\u3002\u4e0d\u8fc7 Rsync \u7b97\u6cd5\u672c\u8eab\u5e76\u4e0d\u8d1f\u8d23\u6587\u4ef6\u4f20\u8f93\uff0c\u800c\u662f\u9700\u8981\u4e0e\u5176\u4ed6\u6587\u4ef6\u4f20\u8f93\u534f\u8bae(\u5982 SSH\u3001FTP \u7b49)\u7ed3\u5408\u4f7f\u7528</li> </ol> <p>Rsync \u7b97\u6cd5\u5df2\u7ecf\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u79cd\u6587\u4ef6\u540c\u6b65\u548c\u5907\u4efd\u5de5\u5177\u4e2d\uff0c\u5982 Linux \u4e2d\u7684 rsync \u547d\u4ee4\u3002\u8fd9\u4e9b\u5de5\u5177\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u9009\u9879\u548c\u529f\u80fd\uff0c\u53ef\u4ee5\u5b9e\u73b0\u6587\u4ef6\u4f20\u8f93\u7684\u7eed\u4f20\u3001\u589e\u91cf\u5907\u4efd\u3001\u538b\u7f29\u4f20\u8f93\u7b49\u9ad8\u7ea7\u529f\u80fd\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_111","title":"\u670d\u52a1\u5668\u7f16\u7a0b","text":""},{"location":"Operating%20System/OperatingSystem/#select-poll-epoll","title":"select poll epoll \u7684\u533a\u522b\u4e0e\u8054\u7cfb\uff1f","text":"<p>select, poll \u548c epoll \u90fd\u662f  I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5b83\u4eec\u7528\u4e8e\u540c\u65f6\u5904\u7406\u591a\u4e2a I/O \u64cd\u4f5c\uff0c\u7279\u522b\u662f\u5728\u9ad8\u5e76\u53d1\u7f51\u7edc\u7f16\u7a0b\u4e2d\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#select","title":"select","text":"<p>select \u662f\u6700\u65e9\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5b83\u53ef\u4ee5\u540c\u65f6\u76d1\u89c6\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26(file descriptor, FD)\u7684 I/O \u72b6\u6001(\u5982\u53ef\u8bfb\u3001\u53ef\u5199\u3001\u5f02\u5e38\u7b49)\u3002select \u51fd\u6570\u4f7f\u7528\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408(\u901a\u5e38\u662f\u4e00\u4e2a\u4f4d\u56fe)\u6765\u8868\u793a\u8981\u76d1\u89c6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5f53\u6709 I/O \u4e8b\u4ef6\u53d1\u751f\u65f6\uff0cselect \u4f1a\u8fd4\u56de\u5bf9\u5e94\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#select_1","title":"select \u7684\u4e3b\u8981\u9650\u5236","text":"<ul> <li>\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u9650\u5236\uff1aselect \u4f7f\u7528\u4e00\u4e2a\u4f4d\u56fe\u6765\u8868\u793a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\uff0c\u8fd9\u9650\u5236\u4e86\u5b83\u80fd\u591f\u5904\u7406\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf(\u901a\u5e38\u662f 1024 \u4e2a)</li> <li>\u6548\u7387\u95ee\u9898\uff1a\u5f53\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u8f83\u5927\u65f6\uff0cselect \u9700\u8981\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u6765\u67e5\u627e\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u8f83\u4f4e\u7684\u6548\u7387</li> <li>\u975e\u5b9e\u65f6\u6027\uff1a\u6bcf\u6b21\u8c03\u7528 select \u65f6\uff0c\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\uff0c\u8fd9\u4f1a\u589e\u52a0\u51fd\u6570\u8c03\u7528\u7684\u5f00\u9500</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#poll","title":"poll","text":"<p>poll \u662f\u4e3a\u4e86 \u514b\u670d select \u7684\u9650\u5236 \u800c\u5f15\u5165\u7684\u4e00\u79cd I/O \u591a\u8def\u590d\u7528\u6280\u672f\u3002poll \u4f7f\u7528\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4(\u901a\u5e38\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u6570\u7ec4)\u6765\u8868\u793a\u8981\u76d1\u89c6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u4e0e select \u7c7b\u4f3c\uff0cpoll \u53ef\u4ee5\u76d1\u89c6\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684 I/O \u72b6\u6001\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#poll_1","title":"poll \u7684\u4f18\u70b9","text":"<ul> <li>\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u4e0d\u53d7\u9650\u5236\uff1a\u7531\u4e8e poll \u4f7f\u7528\u4e00\u4e2a\u52a8\u6001\u6570\u7ec4\u6765\u8868\u793a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u56e0\u6b64\u5b83\u53ef\u4ee5\u5904\u7406 \u4efb\u610f\u6570\u91cf \u7684\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>\u6548\u7387\u76f8\u5bf9\u8f83\u9ad8\uff1apoll \u5728\u67e5\u627e\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u65f6\uff0c\u53ea\u9700\u8981\u904d\u5386\u5b9e\u9645\u4f7f\u7528\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#poll_2","title":"poll \u5b58\u5728\u7684\u95ee\u9898","text":"<ul> <li>\u6548\u7387\u95ee\u9898\uff1a\u5c3d\u7ba1 poll \u76f8\u5bf9\u4e8e select \u5177\u6709\u8f83\u9ad8\u7684\u6548\u7387\uff0c\u4f46\u5f53\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u5f88\u5927\u65f6\uff0c\u5b83\u4ecd\u7136\u9700\u8981\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4</li> <li>\u975e\u5b9e\u65f6\u6027\uff1a\u4e0e select \u7c7b\u4f3c\uff0c\u6bcf\u6b21\u8c03\u7528 poll \u65f6\uff0c\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#epoll","title":"epoll","text":"<p>epoll \u662f  Linux \u7279\u6709\u7684\u4e00\u79cd\u9ad8\u6548 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5b83\u514b\u670d\u4e86 select \u548c poll \u7684\u4e3b\u8981\u9650\u5236\u3002epoll \u4f7f\u7528\u4e00\u4e2a\u4e8b\u4ef6\u9a71\u52a8(event-driven)\u7684\u65b9\u5f0f\u6765\u5904\u7406 I/O \u64cd\u4f5c\uff0c\u5b83\u53ea\u4f1a\u8fd4\u56de\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u800c\u4e0d\u662f\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#epoll_1","title":"epoll \u7684\u4f18\u70b9","text":"<ul> <li>\u9ad8\u6548\uff1aepoll \u4f7f\u7528 \u4e8b\u4ef6\u9a71\u52a8 \u7684\u65b9\u5f0f\u6765\u5904\u7406 I / O \u64cd\u4f5c\uff0c\u56e0\u6b64\u5b83\u5728\u5904\u7406\u5927\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26\u65f6\u5177\u6709\u5f88\u9ad8\u7684\u6548\u7387\u3002\u5f53\u6709 I/O \u4e8b\u4ef6\u53d1\u751f\u65f6\uff0cepoll \u53ef\u4ee5\u7acb\u5373\u5f97\u5230\u901a\u77e5\uff0c\u800c\u65e0\u9700\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002\u8fd9\u4f7f\u5f97 epoll  \u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e2d\u5177\u6709\u66f4\u597d\u7684\u6027\u80fd </li> <li>\u53ef\u6269\u5c55\u6027\uff1a\u4e0e poll \u7c7b\u4f3c\uff0cepoll \u53ef\u4ee5\u5904\u7406 \u4efb\u610f\u6570\u91cf \u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u56e0\u4e3a\u5b83\u4f7f\u7528\u4e00\u4e2a \u52a8\u6001\u6570\u636e\u7ed3\u6784 \u6765\u8868\u793a\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>\u5b9e\u65f6\u6027\uff1aepoll \u4f7f\u7528\u4e00\u4e2a\u5185\u6838\u4e8b\u4ef6\u8868\u6765\u8bb0\u5f55\u8981\u76d1\u89c6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u548c\u4e8b\u4ef6\uff0c\u56e0\u6b64\u5728\u6bcf\u6b21\u8c03\u7528 epoll \u65f6\u65e0\u9700\u91cd\u65b0\u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002\u8fd9\u53ef\u4ee5\u51cf\u5c11\u51fd\u6570\u8c03\u7528\u7684\u5f00\u9500\uff0c\u5e76\u63d0\u9ad8\u5b9e\u65f6\u6027</li> </ul> <p>epoll \u5177\u6709\u8bf8\u591a\u4f18\u70b9\uff0c\u4f46\u5b83\u76ee\u524d\u4ec5\u5728 Linux \u5e73\u53f0\u4e0a\u53ef\u7528\u3002\u5bf9\u4e8e\u5176\u4ed6\u5e73\u53f0\uff0c\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u7c7b\u4f3c\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5982 BSD \u4e2d\u7684 kqueue\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_112","title":"\u603b\u7ed3","text":"<p>select \u662f\u6700\u65e9\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u4f46\u53d7\u5230\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u548c\u6548\u7387\u65b9\u9762\u7684\u9650\u5236\u3002poll \u514b\u670d\u4e86\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u7684\u9650\u5236\uff0c\u4f46\u4ecd\u7136\u5b58\u5728\u4e00\u5b9a\u7684\u6548\u7387\u95ee\u9898\u3002epoll \u662f\u4e00\u79cd\u9ad8\u6548\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u9ad8\u5e76\u53d1\u573a\u666f\uff0c\u4f46\u5b83\u4ec5\u5728 Linux \u5e73\u53f0\u4e0a\u53ef\u7528\u3002\u4e00\u822c\u6765\u8bf4\uff0c epoll \u7684\u6548\u7387\u8981\u6bd4 select \u548c poll \u9ad8\uff0c\u4f46\u662f\u5bf9\u4e8e\u6d3b\u52a8\u8fde\u63a5\u8f83\u591a\u7684\u60c5\u666f\uff0c\u7531\u4e8e\u56de\u8c03\u51fd\u6570\u89e6\u53d1\u7684\u5f88\u9891\u7e41\uff0c\u5176\u6548\u7387\u4e0d\u4e00\u5b9a\u6bd4 select \u548c poll \u9ad8\u3002\u6240\u4ee5 epoll \u5728\u8fde\u63a5\u6570\u91cf\u5f88\u591a\uff0c\u4f46\u6d3b\u52a8\u8fde\u63a5\u8f83\u5c0f\u7684\u60c5\u51b5\u6027\u80fd\u4f53\u73b0\u7684\u6bd4\u8f83\u660e\u663e\uff1a</p> \u7cfb\u7edf\u8c03\u7528 select poll epoll \u4e8b\u4ef6\u96c6\u5408 \u7528\u6237\u901a\u8fc7\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4f20\u5165\u611f\u5174\u8da3\u7684\u53ef\u8bfb\u53ef\u5199\u4ee5\u53ca\u5f02\u5e38\u7b49\u4e8b\u4ef6\uff0c\u5185\u6838\u901a\u8fc7\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u5728\u7ebf\u4fee\u6539\u6765\u53cd\u9988\u5176\u4e2d\u5c31\u7eea\u7684\u4e8b\u4ef6\u3002\u5982\u679c\u7528\u6237\u9700\u8981\u7684\u8bdd\u9700\u8981\u521b\u5efa\u4e09\u4e2a fdset \u4ee5\u76d1\u542c\u4e0d\u540c\u7c7b\u578b\u7684\u4e8b\u4ef6 \u7edf\u4e00\u5904\u7406 \u6240\u6709\u7684\u4e8b\u4ef6\u7c7b\u578b\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u4e00\u4e2a\u4e8b\u4ef6\u96c6\u53c2\u6570\u3002\u7528\u6237\u901a\u8fc7  pollfd.events  \u6765\u4f20\u5165\u611f\u5174\u8da3\u7684\u4e8b\u4ef6\uff0c\u5185\u6838\u901a\u8fc7\u4fee\u6539  pollfd.revents  \u53cd\u9988\u5176\u4e2d\u5c31\u7eea\u7684\u4e8b\u4ef6 \u5185\u6838\u901a\u8fc7\u4e00\u4e2a\u4e8b\u4ef6\u8868\u76f4\u63a5\u7ba1\u7406\u7528\u6237\u611f\u5174\u8da3\u7684\u6240\u6709\u4e8b\u4ef6\u3002\u6bcf\u6b21\u8c03\u7528  epoll_wait\uff0c\u5185\u6838\u76f4\u63a5\u5728\u8c03\u7528\u53c2\u6570\u7684 events \u4e2d\u6ce8\u518c\u5c31\u7eea\u4e8b\u4ef6 \u5e94\u7528\u7a0b\u5e8f\u7d22\u5f15\u6548\u7387 \u8f6e\u8be2\uff0c O(n) \u8f6e\u8be2\uff0c O(n) \u56de\u8c03\uff0c O(1) \u6700\u5927\u652f\u6301\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570 \u4e00\u822c 1024 65535 65535 \u5de5\u4f5c\u6a21\u5f0f \u6761\u4ef6\u89e6\u53d1 \u6761\u4ef6\u89e6\u53d1 \u6761\u4ef6\u89e6\u53d1\u6216\u8fb9\u7f18\u89e6\u53d1"},{"location":"Operating%20System/OperatingSystem/#_113","title":"\u8fb9\u7f18\u89e6\u53d1\u4e0e\u6761\u4ef6\u89e6\u53d1\u5206\u522b\u662f\u4ec0\u4e48\uff1f","text":"<p>\u8fb9\u7f18\u89e6\u53d1(Edge-triggered)\u548c\u6761\u4ef6\u89e6\u53d1(Level-triggered)\u662f\u4e24\u79cd\u5e38\u89c1\u7684 \u4e8b\u4ef6\u89e6\u53d1\u65b9\u5f0f\uff0c\u4e3b\u8981\u5e94\u7528\u4e8e I/O \u591a\u8def\u590d\u7528\u548c\u4e2d\u65ad\u5904\u7406\u7b49\u573a\u666f\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_114","title":"\u8fb9\u7f18\u89e6\u53d1","text":"<p>\u8fb9\u7f18\u89e6\u53d1\u662f\u6307\u5728 \u4e8b\u4ef6\u72b6\u6001\u53d1\u751f\u53d8\u5316\u7684\u65f6\u523b\u89e6\u53d1\u4e00\u6b21\uff0c\u4f8b\u5982\u4ece\u65e0\u4e8b\u4ef6\u53d8\u4e3a\u6709\u4e8b\u4ef6\u3002\u5728 I / O \u591a\u8def\u590d\u7528\u4e2d\uff0c\u8fb9\u7f18\u89e6\u53d1\u610f\u5473\u7740\u5f53\u67d0\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u53d1\u751f I/O \u4e8b\u4ef6(\u5982\u53d8\u4e3a\u53ef\u8bfb\u6216\u53ef\u5199)\u65f6\uff0c\u6211\u4eec\u53ea\u4f1a\u6536\u5230\u4e00\u6b21\u901a\u77e5\u3002\u5f53\u6536\u5230\u901a\u77e5\u540e\uff0c\u6211\u4eec\u9700\u8981\u5904\u7406\u8be5\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e0a\u7684\u6240\u6709\u6570\u636e\uff0c\u76f4\u5230\u6570\u636e\u5168\u90e8\u5904\u7406\u5b8c\u6bd5\uff0c\u5426\u5219\u4e0d\u4f1a\u518d\u6536\u5230\u901a\u77e5\u3002</p> <p>\u8fb9\u7f18\u89e6\u53d1\u7684\u4f18\u70b9\u662f \u53ea\u5728\u4e8b\u4ef6\u72b6\u6001\u6539\u53d8\u65f6\u89e6\u53d1\uff0c\u53ef\u4ee5\u51cf\u5c11\u4e8b\u4ef6\u901a\u77e5\u7684\u6b21\u6570\u3002\u7136\u800c\uff0c\u8fb9\u7f18\u89e6\u53d1\u7684\u7f3a\u70b9\u662f\u6211\u4eec \u9700\u8981\u786e\u4fdd\u5728\u6536\u5230\u901a\u77e5\u540e\u5904\u7406\u6240\u6709\u76f8\u5173\u6570\u636e\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u9057\u6f0f\u67d0\u4e9b\u4e8b\u4ef6\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_115","title":"\u6761\u4ef6\u89e6\u53d1","text":"<p>\u6761\u4ef6\u89e6\u53d1\u662f\u6307\u53ea\u8981\u4e8b\u4ef6\u72b6\u6001\u4fdd\u6301\u6ee1\u8db3\u67d0\u79cd\u6761\u4ef6\uff0c\u5c31\u4f1a\u6301\u7eed\u89e6\u53d1\u3002\u5728 I/O \u591a\u8def\u590d\u7528\u4e2d\uff0c\u6761\u4ef6\u89e6\u53d1\u610f\u5473\u7740\u53ea\u8981\u67d0\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684 I/O \u4e8b\u4ef6\u72b6\u6001\u6ee1\u8db3\u6761\u4ef6(\u5982\u53ef\u8bfb\u6216\u53ef\u5199)\uff0c\u6211\u4eec\u5c31\u4f1a\u4e0d\u65ad\u6536\u5230\u901a\u77e5\u3002</p> <p>\u6761\u4ef6\u89e6\u53d1\u7684\u4f18\u70b9\u662f\u5b83\u53ef\u4ee5 \u786e\u4fdd\u6211\u4eec\u4e0d\u4f1a\u9057\u6f0f\u4efb\u4f55\u4e8b\u4ef6\uff0c\u56e0\u4e3a\u53ea\u8981\u6761\u4ef6\u6ee1\u8db3\uff0c\u5c31\u4f1a\u6301\u7eed\u89e6\u53d1\u3002\u7136\u800c\uff0c\u6761\u4ef6\u89e6\u53d1\u7684\u7f3a\u70b9\u662f\u5b83 \u53ef\u80fd\u5bfc\u81f4\u5927\u91cf\u7684\u4e8b\u4ef6\u901a\u77e5\uff0c\u4ece\u800c\u589e\u52a0\u5904\u7406\u5f00\u9500\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#client-server-api","title":"\u8bb2\u4e00\u8bb2 client-server \u901a\u4fe1\u53cc\u65b9 API \u8c03\u7528\u8fc7\u7a0b\uff1f","text":"<p>Client-server \u901a\u4fe1\u662f \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u4ea4\u4e92 \u7684\u4e00\u79cd\u5e38\u89c1\u65b9\u5f0f\u3002\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u5206\u522b\u8c03\u7528\u5404\u81ea\u7684 API \u6765\u5efa\u7acb\u8fde\u63a5\u3001\u53d1\u9001\u8bf7\u6c42\u3001\u63a5\u6536\u54cd\u5e94\u4ee5\u53ca\u5173\u95ed\u8fde\u63a5\u3002\u4ee5\u4e0b\u662f\u5178\u578b\u7684 Client-server \u901a\u4fe1\u8fc7\u7a0b\u4e2d\u7684 API \u8c03\u7528\uff1a</p>"},{"location":"Operating%20System/OperatingSystem/#api","title":"\u670d\u52a1\u5668\u7aef API \u8c03\u7528\u8fc7\u7a0b","text":"<ul> <li>\u521b\u5efa\u5957\u63a5\u5b57(socket)\uff1a\u670d\u52a1\u5668\u7aef\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u5957\u63a5\u5b57\u3002\u5728 C \u8bed\u8a00\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 socket() \u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5957\u63a5\u5b57</li> <li>\u7ed1\u5b9a\u5730\u5740(bind)\uff1a\u670d\u52a1\u5668\u5c06\u5957\u63a5\u5b57\u7ed1\u5b9a\u5230\u6307\u5b9a\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002\u8fd9\u53ef\u4ee5\u4f7f\u7528 bind() \u51fd\u6570\u5b8c\u6210</li> <li>\u76d1\u542c\u8fde\u63a5(listen)\uff1a\u670d\u52a1\u5668\u5c06\u5957\u63a5\u5b57\u8bbe\u7f6e\u4e3a\u76d1\u542c\u6a21\u5f0f\uff0c\u4ee5\u4fbf\u63a5\u53d7\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u8bf7\u6c42\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 listen() \u51fd\u6570\u5b9e\u73b0</li> <li>\u63a5\u53d7\u8fde\u63a5(accept)\uff1a\u5f53\u5ba2\u6237\u7aef\u53d1\u8d77\u8fde\u63a5\u8bf7\u6c42\u65f6\uff0c\u670d\u52a1\u5668\u4f7f\u7528 accept() \u51fd\u6570\u63a5\u53d7\u8be5\u8fde\u63a5\u3002accept() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5957\u63a5\u5b57\uff0c\u7528\u4e8e\u4e0e\u5ba2\u6237\u7aef\u8fdb\u884c\u901a\u4fe1</li> <li>\u63a5\u6536\u6570\u636e(recv)\uff1a\u670d\u52a1\u5668\u4f7f\u7528 recv() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u4ece\u5ba2\u6237\u7aef\u63a5\u6536\u6570\u636e\u3002\u8fd9\u4e9b\u51fd\u6570\u901a\u5e38\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6536\u5230\u6570\u636e</li> <li>\u53d1\u9001\u6570\u636e(send)\uff1a\u670d\u52a1\u5668\u6839\u636e\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u5904\u7406\u6570\u636e\u5e76\u751f\u6210\u54cd\u5e94\u3002\u7136\u540e\uff0c\u670d\u52a1\u5668\u4f7f\u7528 send() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u5c06\u54cd\u5e94\u6570\u636e\u53d1\u9001\u56de\u5ba2\u6237\u7aef</li> <li>\u5173\u95ed\u8fde\u63a5(close)\uff1a\u5b8c\u6210\u901a\u4fe1\u540e\uff0c\u670d\u52a1\u5668\u4f7f\u7528 close() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u5173\u95ed\u4e0e\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u3002\u670d\u52a1\u5668\u53ef\u4ee5\u7ee7\u7eed\u63a5\u53d7\u5176\u4ed6\u5ba2\u6237\u7aef\u7684\u8fde\u63a5</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#api_1","title":"\u5ba2\u6237\u7aef API \u8c03\u7528\u8fc7\u7a0b","text":"<ul> <li>\u521b\u5efa\u5957\u63a5\u5b57(socket)\uff1a\u4e0e\u670d\u52a1\u5668\u7c7b\u4f3c\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528 socket() \u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5957\u63a5\u5b57</li> <li>\u8fde\u63a5\u670d\u52a1\u5668(connect)\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528 connect() \u51fd\u6570\u53d1\u8d77\u5bf9\u670d\u52a1\u5668\u7684\u8fde\u63a5\u8bf7\u6c42\u3002\u8fd9\u9700\u8981\u6307\u5b9a\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u548c\u7aef\u53e3</li> <li>\u53d1\u9001\u6570\u636e(send)\uff1a\u8fde\u63a5\u5efa\u7acb\u540e\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528 send() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u6570\u636e</li> <li>\u63a5\u6536\u6570\u636e(recv)\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528 recv() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u63a5\u6536\u6765\u81ea\u670d\u52a1\u5668\u7684\u54cd\u5e94\u6570\u636e\u3002\u8fd9\u4e9b\u51fd\u6570\u901a\u5e38\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6536\u5230\u6570\u636e</li> <li>\u5173\u95ed\u8fde\u63a5(close)\uff1a\u901a\u4fe1\u5b8c\u6210\u540e\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528 close() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u5173\u95ed\u4e0e\u670d\u52a1\u5668\u7684\u8fde\u63a5</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#io-io-buffer","title":"\u963b\u585e IO\u3001\u975e\u963b\u585e IO \u6709\u4ec0\u4e48\u533a\u522b\uff1f\u600e\u4e48\u5224\u65ad\u5199\u6587\u4ef6\u65f6 Buffer \u5df2\u7ecf\u5199\u6ee1\uff1f","text":"<p>\u963b\u585e IO \u548c\u975e\u963b\u585e IO \u662f\u4e24\u79cd\u4e0d\u540c\u7684 I/O \u5904\u7406\u65b9\u5f0f\uff0c\u5b83\u4eec\u4e3b\u8981\u533a\u522b\u5728\u4e8e I/O \u64cd\u4f5c\u662f\u5426\u4f1a\u5bfc\u81f4\u8c03\u7528\u8005\u7b49\u5f85\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#io","title":"\u963b\u585e IO","text":"<p>\u5728\u963b\u585e IO \u6a21\u5f0f\u4e0b\uff0c\u5f53\u4e00\u4e2a I/O \u64cd\u4f5c(\u5982\u8bfb\u6216\u5199)\u53d1\u8d77\u65f6\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d(\u4f8b\u5982\uff0c\u7b49\u5f85\u6570\u636e\u4ece\u786c\u76d8\u8bfb\u53d6\u6216\u4ece\u7f51\u7edc\u63a5\u6536)\uff0c\u5219\u8c03\u7528\u8005(\u901a\u5e38\u662f\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b)\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6570\u636e\u51c6\u5907\u597d\u4e3a\u6b62\u3002\u5728\u6b64\u671f\u95f4\uff0c \u8c03\u7528\u8005\u65e0\u6cd5\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u53ea\u80fd\u7b49\u5f85 I/O \u64cd\u4f5c\u5b8c\u6210\u3002</p> <p>\u963b\u585e IO \u7684\u4f18\u70b9\u662f \u7f16\u7a0b\u7b80\u5355\uff0c\u5bb9\u6613\u5b9e\u73b0\u3002\u7136\u800c\uff0c\u5b83\u7684\u7f3a\u70b9\u662f\u5f53 I/O \u64cd\u4f5c\u8017\u65f6\u8f83\u957f\u65f6\uff0c\u4f1a\u5bfc\u81f4\u8c03\u7528\u8005\u7684 \u4f4e\u6548\u7387\u548c\u8d44\u6e90\u6d6a\u8d39\uff0c\u5c24\u5176\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e2d\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#io_1","title":"\u975e\u963b\u585e IO","text":"<p>\u5728\u975e\u963b\u585e IO \u6a21\u5f0f\u4e0b\uff0c\u5f53\u4e00\u4e2a I/O \u64cd\u4f5c\u53d1\u8d77\u65f6\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\uff0c\u8c03\u7528\u8005\u4e0d\u4f1a\u88ab\u963b\u585e\uff0c\u800c\u662f\u7acb\u5373\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u7801(\u4f8b\u5982\uff0c\u8868\u793a\u8d44\u6e90\u4e0d\u53ef\u7528)\u3002\u8c03\u7528\u8005\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u7136\u540e\u5728\u9002\u5f53\u7684\u65f6\u95f4\u70b9\u518d\u6b21\u5c1d\u8bd5 I/O \u64cd\u4f5c\u3002</p> <p>\u975e\u963b\u585e IO \u7684\u4f18\u70b9\u662f\u53ef\u4ee5 \u63d0\u9ad8\u8c03\u7528\u8005\u7684\u6548\u7387\u548c\u8d44\u6e90\u5229\u7528\u7387\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u9ad8\u5e76\u53d1\u573a\u666f\u3002\u7136\u800c\uff0c\u5b83\u7684\u7f3a\u70b9\u662f \u7f16\u7a0b\u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u9700\u8981\u4f7f\u7528 I/O \u591a\u8def\u590d\u7528\u6280\u672f(\u5982 select\uff0c poll \u6216 epoll )\u6765\u5904\u7406\u591a\u4e2a I/O \u64cd\u4f5c\u3002</p> <p>\u5173\u4e8e\u5224\u65ad\u5199\u6587\u4ef6\u65f6 Buffer \u662f\u5426\u5df2\u7ecf\u5199\u6ee1\uff0c\u901a\u5e38\u662f\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\uff1a</p> <p>\u5728 \u963b\u585e IO \u6a21\u5f0f \u4e0b\uff0c\u5f53\u5199\u5165\u64cd\u4f5c\u53d1\u8d77\u65f6\uff0c\u5982\u679c Buffer \u5df2\u6ee1\uff0c\u8c03\u7528\u8005\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230 Buffer \u6709\u8db3\u591f\u7684\u7a7a\u95f4\u5bb9\u7eb3\u65b0\u7684\u6570\u636e\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u62c5\u5fc3 Buffer \u662f\u5426\u5df2\u6ee1\uff0c\u56e0\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u4f1a \u81ea\u52a8\u5904\u7406 \u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5728 \u975e\u963b\u585e IO \u6a21\u5f0f \u4e0b\uff0c\u5f53\u5199\u5165\u64cd\u4f5c\u53d1\u8d77\u65f6\uff0c\u5982\u679c Buffer \u5df2\u6ee1\uff0c\u8c03\u7528\u8005\u4f1a\u7acb\u5373\u6536\u5230\u4e00\u4e2a\u9519\u8bef\u7801(\u4f8b\u5982\uff0c\u8868\u793a\u8d44\u6e90\u4e0d\u53ef\u7528)\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b \u9700\u8981\u6839\u636e\u9519\u8bef\u7801\u6765\u5224\u65ad Buffer \u662f\u5426\u5df2\u6ee1\uff0c\u5e76\u5728\u9002\u5f53\u7684\u65f6\u95f4\u70b9\u518d\u6b21\u5c1d\u8bd5\u5199\u5165\u64cd\u4f5c\u3002\u901a\u5e38\uff0c\u4f60\u53ef\u4ee5\u7ed3\u5408 I/O \u591a\u8def\u590d\u7528\u6280\u672f\u6765\u76d1\u542c\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u53ef\u5199\u4e8b\u4ef6\uff0c\u4ee5\u4fbf\u5728 Buffer \u6709\u7a7a\u95f4\u65f6\u5f97\u5230\u901a\u77e5\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_116","title":"\u540c\u6b65\u4e0e\u5f02\u6b65\u7684\u533a\u522b\uff0c\u963b\u585e\u4e0e\u975e\u963b\u585e\u7684\u533a\u522b\uff1f","text":"<p>\u540c\u6b65\u548c\u5f02\u6b65\u4e3b\u8981\u5173\u6ce8\u7684\u662f \u8c03\u7528\u8005\u4e0e\u88ab\u8c03\u7528\u8005\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <ul> <li>\u540c\u6b65(Synchronous)\uff1a\u5728\u540c\u6b65\u64cd\u4f5c\u4e2d\uff0c\u8c03\u7528\u8005\u53d1\u8d77\u4e00\u4e2a\u8bf7\u6c42\u540e\uff0c \u9700\u8981\u7b49\u5f85\u88ab\u8c03\u7528\u8005\u5904\u7406\u5b8c\u6bd5\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u671f\u95f4\u8c03\u7528\u8005\u4e0d\u80fd\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u8c03\u7528\u8005\u4e0e\u88ab\u8c03\u7528\u8005\u7684\u6267\u884c\u662f\u4e32\u884c\u7684\u3002\u540c\u6b65\u64cd\u4f5c\u7684\u5178\u578b\u4f8b\u5b50\u662f\u666e\u901a\u7684\u51fd\u6570\u8c03\u7528</li> <li>\u5f02\u6b65(Asynchronous)\uff1a\u5728\u5f02\u6b65\u64cd\u4f5c\u4e2d\uff0c\u8c03\u7528\u8005\u53d1\u8d77\u4e00\u4e2a\u8bf7\u6c42\u540e\uff0c \u65e0\u9700\u7b49\u5f85\u88ab\u8c03\u7528\u8005\u5904\u7406\u5b8c\u6bd5\uff0c\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\u3002\u88ab\u8c03\u7528\u8005\u5728\u5904\u7406\u5b8c\u8bf7\u6c42\u540e\uff0c\u901a\u5e38\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u3001\u4e8b\u4ef6\u6216\u6d88\u606f\u961f\u5217\u7b49\u65b9\u5f0f\u901a\u77e5\u8c03\u7528\u8005\u7ed3\u679c\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u8c03\u7528\u8005\u4e0e\u88ab\u8c03\u7528\u8005\u7684\u6267\u884c\u662f\u5e76\u884c\u7684\u3002\u5f02\u6b65\u64cd\u4f5c\u7684\u5178\u578b\u4f8b\u5b50\u662f JavaScript \u4e2d\u7684 Ajax \u8bf7\u6c42</li> </ul> <p>\u963b\u585e\u548c\u975e\u963b\u585e\u4e3b\u8981\u5173\u6ce8\u7684\u662f  I/O \u64cd\u4f5c\u6216\u7cfb\u7edf\u8c03\u7528\u7684\u884c\u4e3a\u3002</p> <ul> <li>\u963b\u585e(Blocking)\uff1a\u5728\u963b\u585e\u64cd\u4f5c\u4e2d\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d(\u4f8b\u5982\uff0c\u7b49\u5f85\u6570\u636e\u4ece\u786c\u76d8\u8bfb\u53d6\u6216\u4ece\u7f51\u7edc\u63a5\u6536)\uff0c\u5219\u8c03\u7528\u8005(\u901a\u5e38\u662f\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b)\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6570\u636e\u51c6\u5907\u597d\u4e3a\u6b62\u3002\u5728\u6b64\u671f\u95f4\uff0c \u8c03\u7528\u8005\u65e0\u6cd5\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u53ea\u80fd\u7b49\u5f85 I/O \u64cd\u4f5c\u5b8c\u6210\u3002\u963b\u585e I/O \u64cd\u4f5c\u7684\u5178\u578b\u4f8b\u5b50\u662f\u666e\u901a\u7684\u6587\u4ef6\u8bfb\u5199</li> <li>\u975e\u963b\u585e(Non-blocking)\uff1a\u5728\u975e\u963b\u585e\u64cd\u4f5c\u4e2d\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\uff0c\u8c03\u7528\u8005\u4e0d\u4f1a\u88ab\u963b\u585e\uff0c\u800c\u662f\u7acb\u5373\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u7801(\u4f8b\u5982\uff0c\u8868\u793a\u8d44\u6e90\u4e0d\u53ef\u7528)\u3002 \u8c03\u7528\u8005\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u7136\u540e\u5728\u9002\u5f53\u7684\u65f6\u95f4\u70b9\u518d\u6b21\u5c1d\u8bd5 I/O \u64cd\u4f5c\u3002\u975e\u963b\u585e I/O \u64cd\u4f5c\u7684\u5178\u578b\u4f8b\u5b50\u662f\u4f7f\u7528 select\uff0cpoll \u6216 epoll \u7b49 I/O \u591a\u8def\u590d\u7528\u6280\u672f\u5904\u7406\u7684\u7f51\u7edc\u901a\u4fe1</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#rector-proactor","title":"\u8bb2\u4e00\u8bb2 Rector \u6a21\u5f0f\u4e0e Proactor \u6a21\u5f0f\uff1f","text":"<p>Reactor \u6a21\u5f0f\u548c Proactor \u6a21\u5f0f\u90fd\u662f\u5904\u7406\u5e76\u53d1 I/O \u4e8b\u4ef6\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002\u5b83\u4eec\u5404\u81ea\u7684\u6838\u5fc3\u601d\u60f3\u662f\u5c06 I/O \u64cd\u4f5c\u4e0e\u5b9e\u9645\u5904\u7406\u903b\u8f91\u89e3\u8026\uff0c\u4ee5\u4fbf\u5728\u9ad8\u5e76\u53d1\u73af\u5883\u4e0b\u66f4\u6709\u6548\u5730\u5904\u7406\u8bf7\u6c42\u3002\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e24\u79cd\u6a21\u5f0f\uff1a</p>"},{"location":"Operating%20System/OperatingSystem/#reator","title":"Reator \u6a21\u5f0f","text":"<p>Reactor \u6a21\u5f0f\u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u548c\u5f02\u6b65 I/O \u64cd\u4f5c\u3002\u5176\u6838\u5fc3\u7ec4\u4ef6\u5305\u62ec Reactor\u3001\u4e8b\u4ef6\u5904\u7406\u5668\u548c\u8d44\u6e90(\u5982\u5957\u63a5\u5b57)\u3002Reactor \u6a21\u5f0f\u7684\u5de5\u4f5c\u539f\u7406\u5982\u4e0b\uff1a</p> <ul> <li>Reactor \u8d1f\u8d23\u76d1\u89c6\u591a\u4e2a\u8d44\u6e90(\u5982\u5957\u63a5\u5b57)\u4e0a\u7684 I/O \u4e8b\u4ef6\u3002\u5f53\u67d0\u4e2a\u8d44\u6e90\u4e0a\u53d1\u751f I/O \u4e8b\u4ef6\u65f6\uff0cReactor \u5c06\u4e8b\u4ef6\u901a\u77e5\u5bf9\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u3002</li> <li>\u4e8b\u4ef6\u5904\u7406\u5668\u8d1f\u8d23\u5904\u7406\u8fd9\u4e9b I/O \u4e8b\u4ef6\uff0c\u5982\u63a5\u53d7\u8fde\u63a5\u3001\u8bfb\u53d6\u6570\u636e\u3001\u5199\u5165\u6570\u636e\u7b49\u3002\u4e8b\u4ef6\u5904\u7406\u5668\u5c06 I/O \u64cd\u4f5c\u4e0e\u5b9e\u9645\u7684\u4e1a\u52a1\u903b\u8f91\u89e3\u8026\uff0c\u4f7f\u7a0b\u5e8f\u66f4\u6613\u4e8e\u7ba1\u7406\u548c\u6269\u5c55\u3002</li> <li>Reactor \u6a21\u5f0f\u901a\u5e38\u4f7f\u7528\u975e\u963b\u585e I/O \u64cd\u4f5c\u3002\u5f53\u8d44\u6e90\u4e0d\u53ef\u7528\u65f6\uff0c\u4e8b\u4ef6\u5904\u7406\u5668\u4e0d\u4f1a\u963b\u585e\uff0c\u800c\u662f\u8fd4\u56de\u5e76\u5141\u8bb8 Reactor \u7ee7\u7eed\u76d1\u89c6\u5176\u4ed6\u8d44\u6e90\u3002</li> </ul> <p>Reactor \u6a21\u5f0f\u9002\u7528\u4e8e I/O \u5bc6\u96c6\u578b\u5e94\u7528\uff0c\u7279\u522b\u662f\u5f53 I/O \u64cd\u4f5c\u53ef\u80fd\u5bfc\u81f4\u963b\u585e\u65f6\u3002\u5176\u4e3b\u8981\u4f18\u70b9\u662f\u7b80\u5316\u4e86\u5e76\u53d1 I/O \u5904\u7406\uff0c\u63d0\u9ad8\u4e86\u7a0b\u5e8f\u7684\u53ef\u6269\u5c55\u6027\u548c\u6027\u80fd</p>"},{"location":"Operating%20System/OperatingSystem/#proactor","title":"Proactor \u6a21\u5f0f","text":"<p>Proactor \u6a21\u5f0f\u662f Reactor \u6a21\u5f0f\u7684\u6269\u5c55\uff0c\u91c7\u7528\u5f02\u6b65 I/O \u64cd\u4f5c\u548c\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u7684\u5f02\u6b65\u901a\u77e5\u673a\u5236\u3002Proactor \u6a21\u5f0f\u7684\u6838\u5fc3\u7ec4\u4ef6\u5305\u62ec Proactor\u3001\u5f02\u6b65\u64cd\u4f5c\u5904\u7406\u5668\u548c\u8d44\u6e90(\u5982\u5957\u63a5\u5b57)\u3002Proactor \u6a21\u5f0f\u7684\u5de5\u4f5c\u539f\u7406\u5982\u4e0b\uff1a</p> <ul> <li>Proactor \u8d1f\u8d23\u542f\u52a8\u5f02\u6b65 I/O \u64cd\u4f5c(\u5982\u8bfb\u53d6\u3001\u5199\u5165\u7b49)\u3002\u5f02\u6b65 I/O \u64cd\u4f5c\u5728\u540e\u53f0\u8fdb\u884c\uff0c\u4e0d\u4f1a\u963b\u585e\u4e3b\u7a0b\u5e8f\u7684\u6267\u884c\u3002</li> <li>\u5f53\u5f02\u6b65 I/O \u64cd\u4f5c\u5b8c\u6210\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c06\u901a\u77e5 Proactor\u3002Proactor \u968f\u540e\u8c03\u7528\u76f8\u5e94\u7684\u5f02\u6b65\u64cd\u4f5c\u5904\u7406\u5668\u6765\u5904\u7406\u5df2\u5b8c\u6210\u7684\u64cd\u4f5c\u3002</li> <li>\u5f02\u6b65\u64cd\u4f5c\u5904\u7406\u5668\u8d1f\u8d23\u5904\u7406\u5df2\u5b8c\u6210\u7684\u5f02\u6b65 I/O \u64cd\u4f5c\u3002\u4e0e Reactor \u6a21\u5f0f\u7c7b\u4f3c\uff0c\u8fd9\u4e9b\u5904\u7406\u5668\u5c06 I/O \u64cd\u4f5c\u4e0e\u5b9e\u9645\u7684\u4e1a\u52a1\u903b\u8f91\u89e3\u8026\uff0c\u4f7f\u7a0b\u5e8f\u66f4\u6613\u4e8e\u7ba1\u7406\u548c\u6269\u5c55\u3002</li> </ul> <p>Proactor \u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u5145\u5206\u5229\u7528\u4e86\u64cd\u4f5c\u7cfb\u7edf\u7684\u5f02\u6b65 I/O \u529f\u80fd\uff0c\u8fdb\u4e00\u6b65\u7b80\u5316\u4e86\u5e76\u53d1 I/O \u5904\u7406\uff0c\u63d0\u9ad8\u4e86\u7a0b\u5e8f\u7684\u53ef\u6269\u5c55\u6027\u548c\u6027\u80fd\u3002\u4f46\u662f\uff0cProactor \u6a21\u5f0f\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u7684\u652f\u6301\u7a0b\u5ea6\u4e0d\u540c\uff0c\u56e0\u6b64\u53ef\u80fd\u9700\u8981\u8003\u8651\u8de8\u5e73\u53f0\u517c\u5bb9\u6027\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_117","title":"\u5982\u4f55\u8c03\u8bd5\u670d\u52a1\u5668\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u7684\u95ee\u9898\uff1f","text":"<p>\u670d\u52a1\u5668\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u53ef\u80fd\u662f\u7531\u591a\u79cd\u539f\u56e0\u5f15\u8d77\u7684\uff0c\u5982\u5185\u5b58\u6cc4\u6f0f\u3001\u7a0b\u5e8f\u903b\u8f91\u9519\u8bef\u7b49\uff1a</p> <ul> <li>\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff1a\u9996\u5148\uff0c\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u5de5\u5177(\u5982 Linux \u4e0a\u7684 top\uff0chtop \u6216 free \u547d\u4ee4)\u6765\u5b9e\u65f6\u76d1\u63a7\u670d\u52a1\u5668\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u786e\u5b9a\u95ee\u9898\u662f\u5426\u786e\u5b9e\u662f\u7531\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u5bfc\u81f4\u7684\uff0c\u4ee5\u53ca\u95ee\u9898\u7684\u4e25\u91cd\u7a0b\u5ea6</li> <li>\u786e\u5b9a\u95ee\u9898\u8fdb\u7a0b\uff1a\u63a5\u4e0b\u6765\uff0c\u901a\u8fc7\u76d1\u63a7\u5de5\u5177\u627e\u51fa\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u7684\u8fdb\u7a0b\u3002\u53ef\u4ee5\u901a\u8fc7 top \u6216 ps \u547d\u4ee4\u67e5\u770b\u8fdb\u7a0b\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982\u8fdb\u7a0b ID\u3001\u7528\u6237\u3001CPU \u4f7f\u7528\u7387\u3001\u5185\u5b58\u4f7f\u7528\u7387\u7b49</li> <li>\u5206\u6790\u8fdb\u7a0b\u5185\u5b58\u4f7f\u7528\uff1a\u4f7f\u7528\u8fdb\u7a0b\u5185\u5b58\u5206\u6790\u5de5\u5177(\u5982 pmap \u6216 smem)\u6765\u67e5\u770b\u95ee\u9898\u8fdb\u7a0b\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u4f60\u4e86\u89e3\u8fdb\u7a0b\u7684\u5185\u5b58\u4f7f\u7528\u5206\u5e03\uff0c\u4f8b\u5982\u5806\u3001\u6808\u3001\u5171\u4eab\u5e93\u7b49\u3002\u901a\u8fc7\u8fd9\u4e9b\u4fe1\u606f\uff0c\u4f60\u53ef\u4ee5\u521d\u6b65\u5224\u65ad\u95ee\u9898\u53ef\u80fd\u51fa\u5728\u54ea\u4e2a\u6a21\u5757\u6216\u529f\u80fd</li> <li>\u5206\u6790\u5185\u5b58\u6cc4\u6f0f\uff1a\u5982\u679c\u6000\u7591\u95ee\u9898\u662f\u7531\u5185\u5b58\u6cc4\u6f0f\u5bfc\u81f4\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u5b58\u6cc4\u6f0f\u68c0\u6d4b\u5de5\u5177(\u5982 valgrind \u6216 gperftools)\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u5206\u6790\u3002\u8fd9\u4e9b\u5de5\u5177\u53ef\u4ee5\u5e2e\u52a9\u4f60\u627e\u51fa\u5185\u5b58\u6cc4\u6f0f\u7684\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u6cc4\u6f0f\u7684\u8be6\u7ec6\u4fe1\u606f</li> <li>\u5206\u6790\u7a0b\u5e8f\u4ee3\u7801\uff1a\u6839\u636e\u524d\u9762\u7684\u5206\u6790\u7ed3\u679c\uff0c\u4ed4\u7ec6\u5ba1\u67e5\u7a0b\u5e8f\u4ee3\u7801\uff0c\u68c0\u67e5\u662f\u5426\u5b58\u5728\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e\u4e0d\u5f53\u3001\u6570\u636e\u7ed3\u6784\u8bbe\u8ba1\u4e0d\u5408\u7406\u7b49\u95ee\u9898\u3002\u8fd9\u53ef\u80fd\u9700\u8981\u6df1\u5165\u7406\u89e3\u7a0b\u5e8f\u7684\u903b\u8f91\u548c\u7b97\u6cd5</li> <li>\u4f18\u5316\u7a0b\u5e8f\uff1a\u9488\u5bf9\u53d1\u73b0\u7684\u95ee\u9898\uff0c\u4f18\u5316\u7a0b\u5e8f\u4ee3\u7801\uff0c\u4fee\u590d\u5185\u5b58\u6cc4\u6f0f\u6216\u903b\u8f91\u9519\u8bef\u3002\u5728\u4fee\u590d\u540e\uff0c\u91cd\u65b0\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u786e\u4fdd\u95ee\u9898\u5f97\u5230\u89e3\u51b3</li> <li>\u5b9a\u671f\u68c0\u67e5\uff1a\u5373\u4f7f\u95ee\u9898\u5f97\u5230\u89e3\u51b3\uff0c\u4e5f\u5efa\u8bae\u5b9a\u671f\u68c0\u67e5\u670d\u52a1\u5668\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u4ee5\u4fbf\u53ca\u65f6\u53d1\u73b0\u6f5c\u5728\u7684\u95ee\u9898\u3002\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199\u811a\u672c\u6216\u4f7f\u7528\u7b2c\u4e09\u65b9\u76d1\u63a7\u5de5\u5177\u6765\u81ea\u52a8\u5316\u8fd9\u4e00\u8fc7\u7a0b</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#linux_4","title":"Linux \u4e0b\u5982\u4f55\u67e5\u5230\u7aef\u53e3\u88ab\u54ea\u4e2a\u8fdb\u7a0b\u5360\u7528\uff1f","text":"<p>\u4e24\u4e2a\u65b9\u6cd5\u67e5\u770b\u5360\u7528\u7aef\u53e3\u8fdb\u7a0b\uff1a</p> <ol> <li>lsof -i:\u7aef\u53e3\u53f7 </li> <li>netstat -tunlp | grep \u7aef\u53e3\u53f7 </li> </ol>"},{"location":"Operating%20System/OperatingSystem/#linux_5","title":"Linux \u96f6\u62f7\u8d1d\u7684\u539f\u7406\uff1f","text":"<p>\u96f6\u62f7\u8d1d\u662f\u4e00\u79cd \u907f\u514d CPU \u5c06\u6570\u636e\u4ece\u4e00\u5757\u5b58\u50a8\u62f7\u8d1d\u5230\u53e6\u5916\u4e00\u5757\u5b58\u50a8\u7684\u6280\u672f\u3002\u901a\u8fc7\u51cf\u5c11\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\u4e0a\u4e0b\u6587\u5207\u6362\u548c\u51cf\u5c11\u5185\u5b58\u62f7\u8d1d\u6b21\u6570\u5b9e\u73b0\uff0c\u901a\u5e38\u5b9e\u73b0\u65b9\u5f0f\u6709 3 \u79cd\uff1a mmap+write\u3001sendfile\u3001sendfile+DMA scatter/gather\uff1a</p> <ul> <li>mmap + write\uff1ammap() \u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u4f1a \u76f4\u63a5\u628a\u5185\u6838\u7f13\u51b2\u533a\u91cc\u7684\u6570\u636e\u300c\u6620\u5c04\u300d\u5230\u7528\u6237\u7a7a\u95f4\uff0c\u8fd9\u6837\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4e0e\u7528\u6237\u7a7a\u95f4\u5c31\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u4efb\u4f55\u7684\u6570\u636e\u62f7\u8d1d\u64cd\u4f5c\u3002 \u5305\u542b 2 \u6b21\u7cfb\u7edf\u8c03\u7528\uff0c3 \u6b21\u6570\u636e\u62f7\u8d1d(2 \u6b21 DMA \u548c 1 \u6b21 CPU \u62f7\u8d1d)\uff1a   1. \u7528\u6237\u8fdb\u7a0b\u901a\u8fc7 mmap \u65b9\u6cd5\u5411\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u53d1\u8d77 IO \u8c03\u7528\uff0c\u4e0a\u4e0b\u6587\u4ece\u7528\u6237\u6001\u5207\u6362\u4e3a\u5185\u6838\u6001   2. CPU \u5229\u7528 DMA \u63a7\u5236\u5668\uff0c\u628a\u6570\u636e\u4ece\u786c\u76d8\u4e2d\u62f7\u8d1d\u5230\u5185\u6838\u7f13\u51b2\u533a   3. \u4e0a\u4e0b\u6587\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0cmmap \u65b9\u6cd5\u8fd4\u56de   4. \u7528\u6237\u8fdb\u7a0b\u901a\u8fc7 write \u65b9\u6cd5\u5411\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u53d1\u8d77 IO \u8c03\u7528\uff0c\u4e0a\u4e0b\u6587\u4ece\u7528\u6237\u6001\u5207\u6362\u4e3a\u5185\u6838\u6001   5. CPU \u5c06\u5185\u6838\u7f13\u51b2\u533a\u7684\u6570\u636e\u62f7\u8d1d\u5230\u7684 socket \u7f13\u51b2\u533a   6. CPU \u5229\u7528 DMA \u63a7\u5236\u5668\uff0c\u628a\u6570\u636e\u4ece socket \u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u7f51\u5361\uff0c\u4e0a\u4e0b\u6587\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0cwrite \u8c03\u7528\u8fd4\u56de</li> <li>sendfile\uff1a\u5728 Linux \u5185\u6838\u7248\u672c 2.1 \u4e2d\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e13\u95e8\u53d1\u9001\u6587\u4ef6\u7684\u7cfb\u7edf\u8c03\u7528\u51fd\u6570 sendfile()\u3002\u5b83\u53ef\u4ee5\u66ff\u4ee3\u524d\u9762\u7684 read() \u548c write() \u8fd9\u4e24\u4e2a\u7cfb\u7edf\u8c03\u7528\uff0c\u51cf\u5c11\u4e00\u6b21\u7cfb\u7edf\u8c03\u7528\u3002 \u5305\u542b 1 \u6b21\u7cfb\u7edf\u8c03\u7528\uff0c3 \u6b21\u6570\u636e\u62f7\u8d1d(2 \u6b21 DMA \u548c 1 \u6b21 CPU \u62f7\u8d1d)\uff1a   1. \u7528\u6237\u8fdb\u7a0b\u53d1\u8d77 sendfile \u7cfb\u7edf\u8c03\u7528\uff0c\u4e0a\u4e0b\u6587(\u5207\u6362 1)\u4ece\u7528\u6237\u6001\u8f6c\u5411\u5185\u6838\u6001   2. DMA \u63a7\u5236\u5668\uff0c\u628a\u6570\u636e\u4ece\u786c\u76d8\u4e2d\u62f7\u8d1d\u5230\u5185\u6838\u7f13\u51b2\u533a   3. CPU \u5c06\u8bfb\u7f13\u51b2\u533a\u4e2d\u6570\u636e\u62f7\u8d1d\u5230 socket \u7f13\u51b2\u533a   4. DMA \u63a7\u5236\u5668\uff0c\u5f02\u6b65\u628a\u6570\u636e\u4ece socket \u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u7f51\u5361   5. \u4e0a\u4e0b\u6587(\u5207\u6362 2)\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0csendfile \u8c03\u7528\u8fd4\u56de</li> <li>sendfile+DMA scatter/gather\uff1a Linux 2.4 \u7248\u672c\u4e4b\u540e\uff0c\u5bf9 sendfile \u505a\u4e86\u4f18\u5316\u5347\u7ea7\uff0c\u5f15\u5165 SG-DMA \u6280\u672f\uff0c\u5176\u5b9e\u5c31\u662f\u5bf9 DMA \u62f7\u8d1d\u52a0\u5165\u4e86 scatter/gather \u64cd\u4f5c\uff0c\u5b83\u53ef\u4ee5\u76f4\u63a5\u4ece\u5185\u6838\u7a7a\u95f4\u7f13\u51b2\u533a\u4e2d\u5c06\u6570\u636e\u8bfb\u53d6\u5230\u7f51\u5361\u3002\u4f7f\u7528\u8fd9\u4e2a\u7279\u70b9\u641e\u96f6\u62f7\u8d1d\uff0c\u5373\u8fd8\u53ef\u4ee5\u591a\u7701\u53bb\u4e00\u6b21 CPU \u62f7\u8d1d\u3002 \u5305\u542b 1 \u6b21\u7cfb\u7edf\u8c03\u7528\uff0c2 \u6b21\u6570\u636e\u62f7\u8d1d(2 \u6b21 DMA \u62f7\u8d1d)\uff1a   1. \u7528\u6237\u8fdb\u7a0b\u53d1\u8d77 sendfile \u7cfb\u7edf\u8c03\u7528\uff0c\u4e0a\u4e0b\u6587(\u5207\u6362 1)\u4ece\u7528\u6237\u6001\u8f6c\u5411\u5185\u6838\u6001\u3002   2. DMA \u63a7\u5236\u5668\uff0c\u628a\u6570\u636e\u4ece\u786c\u76d8\u4e2d\u62f7\u8d1d\u5230\u5185\u6838\u7f13\u51b2\u533a\u3002   3. CPU \u628a\u5185\u6838\u7f13\u51b2\u533a\u4e2d\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u4fe1\u606f(\u5305\u62ec\u5185\u6838\u7f13\u51b2\u533a\u7684\u5185\u5b58\u5730\u5740\u548c\u504f\u79fb\u91cf)\u53d1\u9001\u5230 socket \u7f13\u51b2\u533a\u3002   4. DMA \u63a7\u5236\u5668\u6839\u636e\u6587\u4ef6\u63cf\u8ff0\u7b26\u4fe1\u606f\uff0c\u76f4\u63a5\u628a\u6570\u636e\u4ece\u5185\u6838\u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u7f51\u5361\u3002   5. \u4e0a\u4e0b\u6587(\u5207\u6362 2)\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0csendfile \u8c03\u7528\u8fd4\u56de</li> </ul>"},{"location":"Operating%20System/OperatingSystem/#lvs-nattundr","title":"LVS \u7684 NAT\u3001TUN\u3001DR \u539f\u7406\u53ca\u533a\u522b","text":"<p>LVS \u662f Linux Virtual Server \u7684\u7b80\u5199\uff0c\u610f\u5373  Linux \u865a\u62df\u670d\u52a1\u5668\uff0c\u662f\u4e00\u4e2a\u865a\u62df\u7684\u670d\u52a1\u5668\u96c6\u7fa4\u7cfb\u7edf\uff0c\u4f7f\u7528\u8d1f\u8f7d\u5747\u8861\u6280\u672f\u5c06\u591a\u53f0\u670d\u52a1\u5668\u7ec4\u6210\u4e00\u4e2a\u865a\u62df\u670d\u52a1\u5668\u3002\u865a\u62df\u670d\u52a1\u5668\u7684\u4f53\u7cfb\u7ed3\u6784\u7531\u4e00\u7ec4\u670d\u52a1\u5668\u901a\u8fc7\u9ad8\u901f\u7684\u5c40\u57df\u7f51\u6216\u8005\u5730\u7406\u5206\u5e03\u7684\u5e7f\u57df\u7f51\u76f8\u4e92\u8fde\u63a5\uff0c\u5728\u5b83\u4eec\u7684\u524d\u7aef\u6709\u4e00\u4e2a\u8d1f\u8f7d\u8c03\u5ea6\u5668(Load Balancer)\uff0c\u8d1f\u8f7d\u8c03\u5ea6\u5668\u80fd\u65e0\u7f1d\u5730\u5c06\u7f51\u7edc\u8bf7\u6c42\u8c03\u5ea6\u5230\u771f\u5b9e\u670d\u52a1\u5668\u4e0a\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#nat","title":"NAT(\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u6a21\u5f0f)","text":"<p>\u539f\u7406\uff1a\u628a\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u6570\u636e\u5305\u7684 IP \u5934\u7684\u76ee\u7684\u5730\u5740\uff0c\u5728\u8d1f\u8f7d\u5747\u8861\u5668\u4e0a\u6362\u6210\u5176\u4e2d\u4e00\u53f0 RS \u7684 IP \u5730\u5740\uff0c\u5e76\u53d1\u81f3\u6b64 RS \u6765\u5904\u7406\uff0cRS \u5904\u7406\u5b8c\u6210\u540e\u628a\u6570\u636e\u4ea4\u7ed9\u7ecf\u8fc7\u8d1f\u8f7d\u5747\u8861\u5668\uff0c\u8d1f\u8f7d\u5747\u8861\u5668\u518d\u628a\u6570\u636e\u5305\u7684\u539f IP \u5730\u5740\u6539\u4e3a\u81ea\u5df1\u7684 IP\uff0c\u5c06\u76ee\u7684\u5730\u5740\u6539\u4e3a\u5ba2\u6237\u7aef IP \u5730\u5740\u5373\u53ef\u3002 </p>"},{"location":"Operating%20System/OperatingSystem/#tunip","title":"TUN(IP \u96a7\u9053\u6a21\u5f0f)","text":"<p>\u539f\u7406\uff1a\u96a7\u9053\u6a21\u5f0f\u5c31\u662f\u628a\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u6570\u636e\u5305\uff0c\u5c01\u88c5\u4e00\u4e2a\u65b0\u7684 IP \u5934\u6807\u8bb0(\u4ec5\u76ee\u7684 IP)\u53d1\u7ed9 RS\uff0cRS \u6536\u5230\u540e\uff0c\u5148\u628a\u6570\u636e\u5305\u7684\u5934\u89e3\u5f00\uff0c\u8fd8\u539f\u6570\u636e\u5305\u3002\u5904\u7406\u540e\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u4e0d\u9700\u8981\u518d\u7ecf\u8fc7\u8d1f\u8f7d\u5747\u8861\u5668\u3002\u6ce8\u610f\uff1a\u7531\u4e8e RS \u9700\u8981\u5bf9\u8d1f\u8f7d\u5747\u8861\u5668\u53d1\u8fc7\u6765\u7684\u6570\u636e\u5305\u8fdb\u884c\u8fd8\u539f\uff0c\u6240\u4ee5\u8bf4\u5fc5\u987b\u652f\u6301 IPTUNNEL \u534f\u8bae\u3002 \u5728 RS \u7684\u5185\u6838\u4e2d\uff0c\u5fc5\u987b\u7f16\u8bd1\u652f\u6301 IPTUNNEL \u8fd9\u4e2a\u9009\u9879\u3002</p> <p>\u5404\u96c6\u7fa4\u8282\u70b9\u53ef\u4ee5\u8de8\u8d8a\u4e0d\u540c\u7684\u7f51\u7edc\uff0c \u4e0d\u7528\u5728\u540c\u4e00\u4e2a VLAN\u3002</p> <p>\u8c03\u5ea6\u5668\u6839\u636e\u5404\u4e2a\u670d\u52a1\u5668\u7684\u8d1f\u8f7d\u60c5\u51b5\uff0c\u52a8\u6001\u5730\u9009\u62e9\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u5c06\u8bf7\u6c42\u62a5\u6587\u5c01\u88c5\u5728\u53e6\u4e00\u4e2a IP \u62a5\u6587\u4e2d\uff0c\u518d\u5c06\u5c01\u88c5\u540e\u7684 IP \u62a5\u6587\u8f6c\u53d1\u7ed9\u9009\u51fa\u7684\u670d\u52a1\u5668</p> <p>\u670d\u52a1\u5668\u6536\u5230\u62a5\u6587\u540e\u5148\u5c06\u62a5\u6587\u89e3\u5c01\u83b7\u5f97\u539f\u6765\u76ee\u6807\u5730\u5740\u4e3a VIP \u7684\u62a5\u6587\uff0c\u670d\u52a1\u5668\u53d1\u73b0 VIP \u5730\u5740\u88ab\u914d\u7f6e\u5728\u672c\u5730\u7684 IP \u96a7\u9053\u8bbe\u5907\u4e0a\uff0c\u6240\u4ee5\u5c31\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u7136\u540e\u6839\u636e\u8def\u7531\u8868\u5c06\u54cd\u5e94\u62a5\u6587\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#dr","title":"DR(\u76f4\u63a5\u8def\u7531\u6a21\u5f0f)","text":"<p>\u539f\u7406\uff1a\u8d1f\u8f7d\u5747\u8861\u5668\u548c RS \u90fd\u4f7f\u7528\u540c\u4e00\u4e2a IP \u5bf9\u5916\u670d\u52a1\uff0c\u4f46\u53ea\u6709 DR \u5bf9 ARP \u8bf7\u6c42\u8fdb\u884c\u54cd\u5e94\uff0c\u6240\u6709 RS \u5bf9\u672c\u8eab\u8fd9\u4e2a IP \u7684 ARP \u8bf7\u6c42\u4fdd\u6301\u9759\u9ed8\u3002\u4e5f\u5c31\u662f\u8bf4\u7f51\u5173\u4f1a\u628a\u5bf9\u8fd9\u4e2a\u670d\u52a1 IP \u7684\u8bf7\u6c42\u5168\u90e8\u5b9a\u5411\u7ed9 DR\uff0c\u800c DR \u6536\u5230\u6570\u636e\u5305\u540e\u6839\u636e\u8c03\u5ea6\u7b97\u6cd5\uff0c\u627e\u51fa\u5bf9\u5e94\u7684 RS \u628a\u76ee\u7684 MAC \u5730\u5740\u6539\u4e3a RS \u7684 MAC(\u56e0\u4e3a IP \u4e00\u81f4)\u5e76\u5c06\u8bf7\u6c42\u5206\u53d1\u7ed9\u8fd9\u53f0 RS\u3002\u8fd9\u65f6 RS \u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5305\u5904\u7406\u5b8c\u6210\u4e4b\u540e\uff0c\u7531\u4e8e IP \u4e00\u81f4\uff0c\u53ef\u4ee5\u76f4\u63a5\u5c06\u6570\u636e\u8fd4\u7ed9\u5ba2\u6237\uff0c\u5219\u7b49\u4e8e\u76f4\u63a5\u4ece\u5ba2\u6237\u7aef\u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5305\u65e0\u5f02\uff0c\u5904\u7406\u540e\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u7531\u4e8e\u8d1f\u8f7d\u5747\u8861\u5668\u8981\u5bf9\u4e8c\u5c42\u5305\u5934\u8fdb\u884c\u6539\u6362\uff0c\u6240\u4ee5\u8d1f\u8f7d\u5747\u8861\u5668\u548c RS \u4e4b\u95f4\u5fc5\u987b\u5728\u4e00\u4e2a\u5e7f\u64ad\u57df\uff0c\u4e5f\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u5728\u540c\u4e00\u53f0\u4ea4\u6362\u673a\u4e0a\u3002</p>"},{"location":"Operating%20System/OperatingSystem/#_118","title":"\u533a\u522b","text":"\u4f18\u70b9 \u7f3a\u70b9 NAT \u96c6\u7fa4\u4e2d\u7684\u7269\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u652f\u6301 TCP/IP \u64cd\u4f5c\u7cfb\u7edf\u5b83\u53ea\u9700\u8981\u4e00\u4e2a IP \u5730\u5740\u914d\u7f6e\u5728\u8c03\u5ea6\u5668\u4e0a\uff0c\u670d\u52a1\u5668\u7ec4\u53ef\u4ee5\u7528\u79c1\u6709\u7684 IP \u5730\u5740 \u6269\u5c55\u6027\u6709\u9650\u3002\u5f53\u670d\u52a1\u5668\u8282\u70b9(\u666e\u901a PC \u670d\u52a1\u5668)\u589e\u957f\u8fc7\u591a\u65f6,\u8d1f\u8f7d\u5747\u8861\u5668\u5c06\u6210\u4e3a\u6574\u4e2a\u7cfb\u7edf\u7684\u74f6\u9888\uff0c\u56e0\u4e3a\u6240\u6709\u7684\u8bf7\u6c42\u5305\u548c\u5e94\u7b54\u5305\u7684\u6d41\u5411\u90fd\u7ecf\u8fc7\u8d1f\u8f7d\u5747\u8861\u5668\u3002\u5f53\u670d\u52a1\u5668\u8282\u70b9\u8fc7\u591a\u65f6\uff0c\u5927\u91cf\u7684\u6570\u636e\u5305\u90fd\u4ea4\u6c47\u5728\u8d1f\u8f7d\u5747\u8861\u5668\u90a3\uff0c\u901f\u5ea6\u5c31\u4f1a\u53d8\u6162 TUN \u8d1f\u8f7d\u5747\u8861\u5668\u53ea\u8d1f\u8d23\u5c06\u8bf7\u6c42\u5305\u5206\u53d1\u7ed9\u540e\u7aef\u8282\u70b9\u670d\u52a1\u5668\uff0c\u800c RS \u5c06\u5e94\u7b54\u5305\u76f4\u63a5\u53d1\u7ed9\u7528\u6237\u3002\u6240\u4ee5\uff0c\u51cf\u5c11\u4e86\u8d1f\u8f7d\u5747\u8861\u5668\u7684\u5927\u91cf\u6570\u636e\u6d41\u52a8\uff0c\u8d1f\u8f7d\u5747\u8861\u5668\u4e0d\u518d\u662f\u7cfb\u7edf\u7684\u74f6\u9888\uff0c\u5c31\u80fd\u5904\u7406\u5f88\u5de8\u5927\u7684\u8bf7\u6c42\u91cf\uff0c\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4e00\u53f0\u8d1f\u8f7d\u5747\u8861\u5668\u80fd\u591f\u4e3a\u5f88\u591a RS \u8fdb\u884c\u5206\u53d1\u3002\u800c\u4e14\u8dd1\u5728\u516c\u7f51\u4e0a\u5c31\u80fd\u8fdb\u884c\u4e0d\u540c\u5730\u57df\u7684\u5206\u53d1 \u96a7\u9053\u6a21\u5f0f\u7684 RS \u8282\u70b9\u9700\u8981\u5408\u6cd5 IP\uff0c\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u6240\u6709\u7684\u670d\u52a1\u5668\u652f\u6301 IP Tunneling(IP Encapsulation)\u534f\u8bae\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u53ea\u5c40\u9650\u5728\u90e8\u5206 Linux \u7cfb\u7edf\u4e0a DR VS/DR \u8ddf VS/TUN \u65b9\u6cd5\u76f8\u540c\uff0c\u8d1f\u8f7d\u8c03\u5ea6\u5668\u4e2d\u53ea\u8d1f\u8d23\u8c03\u5ea6\u8bf7\u6c42\uff0c\u800c\u670d\u52a1\u5668\u76f4\u63a5\u5c06\u54cd\u5e94\u8fd4\u56de\u7ed9\u5ba2\u6237\uff0c\u53ef\u4ee5\u6781\u5927\u5730\u63d0\u9ad8\u6574\u4e2a\u96c6\u7fa4\u7cfb\u7edf\u7684\u541e\u5410\u91cf \u8981\u6c42\u8d1f\u8f7d\u5747\u8861\u5668\u7684\u7f51\u5361\u5fc5\u987b\u4e0e\u7269\u7406\u7f51\u5361\u5728\u4e00\u4e2a\u7269\u7406\u6bb5\u4e0a NAT \u6a21\u5f0f IP TUN \u6a21\u5f0f DR \u6a21\u5f0f \u5bf9\u670d\u52a1\u5668\u8981\u6c42 \u4efb\u4f55\u64cd\u4f5c\u7cfb\u7edf\u5747\u652f\u6301 \u5fc5\u987b\u652f\u6301 IP \u96a7\u9053\u534f\u8bae\uff0c\u76ee\u524d \u53ea\u6709 Linux \u652f\u6301 \u652f\u6301\u865a\u62df\u7f51\u5361\uff0c\u4e14\u53ef\u4ee5\u7981\u7528 ARP \u54cd\u5e94 \u7f51\u7edc\u8981\u6c42 \u5c40\u57df\u7f51 \u5c40\u57df\u7f51\u6216\u5e7f\u57df\u7f51 \u5c40\u57df\u7f51 \u652f\u6301\u7684\u8282\u70b9\u6570 10~20 \u4e2a\uff0c\u89c6 Director \u5904\u7406\u80fd\u529b\u800c\u5b9a \u53ef\u4ee5\u652f\u6301\u5230 100 \u4e2a\u8282\u70b9 \u53ef\u4ee5\u652f\u6301\u5230 100 \u4e2a\u8282\u70b9 \u5b89\u5168\u6027 \u8f83\u9ad8\uff0c\u53ef\u9690\u85cf real server \u8f83\u5dee\uff0creal server \u5bb9\u6613\u66b4\u9732 \u8f83\u5dee\uff0creal server \u5bb9\u6613\u66b4\u9732 IP \u8981\u6c42 \u4ec5\u9700\u8981\u4e00\u4e2a\u5408\u6cd5 IP \u5730\u5740\u4f5c\u4e3a VIP \u9664 VIP \u5916\uff0c \u6bcf\u4e2a\u670d\u52a1\u5668\u9700\u8981\u62e5\u6709\u5408\u6cd5 IP \u5730\u5740 \u53ef\u4ee5\u76f4\u63a5\u8def\u7531\u81f3\u5ba2\u6237\u7aef \u9664 VIP \u5916\uff0c \u6bcf\u4e2a\u670d\u52a1\u5668\u9700\u8981\u62e5\u6709\u5408\u6cd5 IP \u5730\u5740 \u53ef\u4ee5\u76f4\u63a5\u8def\u7531\u81f3\u5ba2\u6237\u7aef \u62d3\u5c55\u6027 \u5dee \u5f88\u597d \u597d \u7279\u70b9 \u5730\u5740\u8f6c\u6362 \u5c01\u88c5 IP \u4fee\u6539 MAC \u5730\u5740 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Operating%20System/Process%20%26%20Thread/","title":"Process & Thread","text":""},{"location":"Operating%20System/Process%20%26%20Thread/#process-thread","title":"\ud83d\udfe4 Process &amp; Thread","text":"<p> \u7ea6 11182 \u4e2a\u5b57  50 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 57 \u5206\u949f</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_1","title":"\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u3001\u534f\u7a0b\u533a\u522b\u4e0e\u8054\u7cfb\uff1f","text":"<p>\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u548c\u534f\u7a0b\u662f\u8ba1\u7b97\u673a\u7a0b\u5e8f\u6267\u884c\u7684\u4e09\u4e2a\u4e0d\u540c\u5c42\u6b21\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_2","title":"\u533a\u522b","text":"<ul> <li>\u8fdb\u7a0b(Process)\uff1a  \u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u662f\u4e00\u4e2a\u72ec\u7acb\u8fd0\u884c\u7684\u7a0b\u5e8f\u5b9e\u4f53\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u62e5\u6709\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u5bc4\u5b58\u5668\u72b6\u6001\u7b49\u8d44\u6e90\u3002\u8fdb\u7a0b\u4e4b\u95f4\u7684\u8d44\u6e90\u662f\u76f8\u4e92\u9694\u79bb\u7684\uff0c\u56e0\u6b64 \u8fdb\u7a0b\u95f4\u901a\u4fe1\u9700\u8981\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u7279\u5b9a\u673a\u5236(\u5982\u7ba1\u9053\u3001\u6d88\u606f\u961f\u5217\u3001\u5171\u4eab\u5185\u5b58\u7b49) \u8fdb\u884c\u3002\u7531\u4e8e\u8fdb\u7a0b\u62e5\u6709\u72ec\u7acb\u7684\u8d44\u6e90\uff0c\u6240\u4ee5\u8fdb\u7a0b\u95f4\u7684\u5207\u6362\u548c\u8c03\u5ea6\u5f00\u9500\u8f83\u5927</li> <li>\u7ebf\u7a0b(Thread)\uff1a  \u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u662f\u8fdb\u7a0b\u5185\u7684\u4e00\u4e2a\u6267\u884c\u6d41\u3002\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u4e9b \u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u8d44\u6e90(\u5982\u5185\u5b58\u7a7a\u95f4\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49)\u3002\u7531\u4e8e\u7ebf\u7a0b\u5171\u4eab\u76f8\u540c\u7684\u8d44\u6e90\uff0c\u7ebf\u7a0b\u95f4\u901a\u4fe1\u76f8\u5bf9\u7b80\u5355\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u5171\u4eab\u53d8\u91cf\u3001\u9501\u7b49\u65b9\u5f0f\u8fdb\u884c\u3002\u7ebf\u7a0b\u76f8\u8f83\u4e8e\u8fdb\u7a0b\uff0c \u4e0a\u4e0b\u6587\u5207\u6362\u548c\u8c03\u5ea6\u5f00\u9500\u8f83\u5c0f\u3002\u4f46\u591a\u4e2a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u65f6\uff0c\u9700\u8981\u5904\u7406\u597d\u540c\u6b65\u548c\u4e92\u65a5\u95ee\u9898\uff0c\u4ee5\u907f\u514d\u6570\u636e\u4e0d\u4e00\u81f4\u6216\u7ade\u4e89\u6761\u4ef6</li> <li>\u534f\u7a0b(Coroutine)\uff1a \u534f\u7a0b\u662f\u4e00\u79cd\u7528\u6237\u6001\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\uff0c\u5b83\u7684 \u8c03\u5ea6\u548c\u5207\u6362\u5b8c\u5168\u7531\u7a0b\u5e8f\u63a7\u5236\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u8c03\u5ea6\u3002\u534f\u7a0b\u4e4b\u95f4\u5171\u4eab\u7ebf\u7a0b\u7684\u8d44\u6e90\uff0c\u56e0\u6b64\u534f\u7a0b\u95f4\u901a\u4fe1\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5171\u4eab\u53d8\u91cf\u3001\u9501\u7b49\u65b9\u5f0f\u8fdb\u884c\u3002\u534f\u7a0b\u7684\u4f18\u52bf\u5728\u4e8e\u80fd\u591f \u8f7b\u677e\u5730\u5b9e\u73b0\u9ad8\u5e76\u53d1\uff0c\u56e0\u4e3a\u534f\u7a0b\u5207\u6362\u548c\u8c03\u5ea6\u7684\u5f00\u9500\u975e\u5e38\u5c0f\u3002\u534f\u7a0b\u9002\u7528\u4e8e I/O \u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u901a\u8fc7\u5f02\u6b65 I/O \u53ef\u4ee5\u6709\u6548\u5730\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_3","title":"\u8054\u7cfb","text":"<ul> <li>\u7ebf\u7a0b\u5c5e\u4e8e\u8fdb\u7a0b\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u8d44\u6e90\u3002\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u4e9b\u7ebf\u7a0b\u5171\u540c\u5b8c\u6210\u4efb\u52a1\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u5e76\u53d1\u6027</li> <li>\u534f\u7a0b\u5c5e\u4e8e\u7ebf\u7a0b\uff0c\u591a\u4e2a\u534f\u7a0b\u5171\u4eab\u7ebf\u7a0b\u7684\u8d44\u6e90\u3002\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u534f\u7a0b\uff0c\u8fd9\u4e9b\u534f\u7a0b\u534f\u540c\u5b8c\u6210\u4efb\u52a1\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd</li> <li>\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u548c\u534f\u7a0b\u5728\u6267\u884c\u7a0b\u5e8f\u65f6\uff0c\u90fd\u9700\u8981\u9762\u5bf9\u540c\u6b65\u3001\u4e92\u65a5\u548c\u901a\u4fe1\u7b49\u95ee\u9898\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u548c\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u6267\u884c\u5b9e\u4f53\u6765\u5b9e\u73b0\u6700\u4f18\u7684\u6027\u80fd\u548c\u8d44\u6e90\u5229\u7528</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_4","title":"\u8bb2\u4e00\u8bb2\u7528\u6237\u7ebf\u7a0b\u4e0e\u5185\u6838\u7ebf\u7a0b\uff1f","text":""},{"location":"Operating%20System/Process%20%26%20Thread/#_5","title":"\u7528\u6237\u7ebf\u7a0b","text":"<p>\u7528\u6237\u7ebf\u7a0b\u662f\u5b8c\u5168\u5728\u7528\u6237\u7a7a\u95f4\u4e2d\u5b9e\u73b0\u548c\u7ba1\u7406\u7684\u7ebf\u7a0b\u3002\u5b83\u4eec\u7684 \u521b\u5efa\u3001\u540c\u6b65\u548c\u8c03\u5ea6\u90fd\u7531\u7528\u6237\u7ea7\u522b\u7684\u7ebf\u7a0b\u5e93(\u5982 POSIX \u7ebf\u7a0b\u5e93\uff0c\u5373 Pthreads)\u5904\u7406\uff0c\u800c\u4e0d\u9700\u8981\u5185\u6838\u76f4\u63a5\u53c2\u4e0e\u3002\u7531\u4e8e\u7528\u6237\u7ebf\u7a0b\u7684\u64cd\u4f5c\u4e0d\u6d89\u53ca\u7cfb\u7edf\u8c03\u7528\uff0c\u5b83\u4eec\u7684\u521b\u5efa\u548c\u5207\u6362\u5f00\u9500\u76f8\u5bf9\u8f83\u5c0f\u3002\u7528\u6237\u7ebf\u7a0b\u7684\u4e00\u4e2a\u4e3b\u8981\u9650\u5236\u662f\uff0c\u5b83\u4eec \u4e0d\u80fd\u5145\u5206\u5229\u7528\u591a\u6838\u5904\u7406\u5668\u7684\u5e76\u884c\u80fd\u529b\u3002\u56e0\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\u662f\u5185\u6838\u7ebf\u7a0b\uff0c \u5f53\u4e00\u4e2a\u7528\u6237\u7ebf\u7a0b\u963b\u585e\u65f6(\u5982 I/O \u64cd\u4f5c)\uff0c\u6574\u4e2a\u8fdb\u7a0b\u90fd\u4f1a\u88ab\u963b\u585e\uff0c\u5373\u4f7f\u5176\u4ed6\u7528\u6237\u7ebf\u7a0b\u4ecd\u5904\u4e8e\u5c31\u7eea\u72b6\u6001\u3002\u8fd9\u53ef\u80fd\u5bfc\u81f4\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684\u6027\u80fd\u4e0b\u964d\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_6","title":"\u5185\u6838\u7ebf\u7a0b","text":"<p>\u5185\u6838\u7ebf\u7a0b\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u76f4\u63a5\u652f\u6301\u548c\u7ba1\u7406\u7684\u7ebf\u7a0b\u3002\u5185\u6838\u8d1f\u8d23\u521b\u5efa\u3001\u8c03\u5ea6\u548c\u9500\u6bc1\u5185\u6838\u7ebf\u7a0b\uff0c\u6bcf\u4e2a\u5185\u6838\u7ebf\u7a0b\u90fd\u62e5\u6709\u72ec\u7acb\u7684\u5185\u6838\u6808\u548c\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u3002\u7531\u4e8e\u5185\u6838\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u5b83\u4eec \u53ef\u4ee5\u5145\u5206\u5229\u7528\u591a\u5904\u7406\u5668\u7cfb\u7edf\u7684\u5e76\u884c\u80fd\u529b\u3002\u5185\u6838\u7ebf\u7a0b\u7684\u7f3a\u70b9\u662f\uff0c\u5b83\u4eec\u7684 \u521b\u5efa\u3001\u5207\u6362\u548c\u540c\u6b65\u64cd\u4f5c\u6d89\u53ca\u7cfb\u7edf\u8c03\u7528\uff0c\u5bfc\u81f4\u8f83\u5927\u7684\u5f00\u9500\u3002\u6b64\u5916\uff0c\u5185\u6838\u7ebf\u7a0b\u9700\u8981\u66f4\u591a\u7684\u5185\u6838\u8d44\u6e90(\u5982\u5185\u6838\u6808)\uff0c\u8fd9\u53ef\u80fd\u5728 \u5927\u91cf\u7ebf\u7a0b\u7684\u60c5\u51b5\u4e0b\u5bfc\u81f4\u8d44\u6e90\u8017\u5c3d\u3002 </p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_7","title":"\u603b\u7ed3","text":"<p>\u7528\u6237\u7ebf\u7a0b\u548c\u5185\u6838\u7ebf\u7a0b\u5206\u522b \u4ee3\u8868\u4e86\u4e24\u79cd\u7ebf\u7a0b\u5b9e\u73b0\u65b9\u5f0f\uff0c\u7528\u6237\u7ebf\u7a0b\u7684\u5f00\u9500\u8f83\u5c0f\uff0c\u4f46\u5728\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u53ef\u80fd\u65e0\u6cd5\u5145\u5206\u5229\u7528\u5e76\u884c\u80fd\u529b\uff1b\u5185\u6838\u7ebf\u7a0b\u53ef\u4ee5\u5145\u5206\u5229\u7528\u591a\u5904\u7406\u5668\u7684\u5e76\u884c\u80fd\u529b\uff0c\u4f46\u5f00\u9500\u8f83\u5927\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u9700\u6c42\u548c\u6027\u80fd\u8981\u6c42\u9009\u62e9\u5408\u9002\u7684\u7ebf\u7a0b\u7c7b\u578b\u3002\u6709\u4e9b\u64cd\u4f5c\u7cfb\u7edf(\u5982 Linux\u3001Windows)\u91c7\u7528\u4e86\u4e00\u79cd\u6df7\u5408\u6a21\u578b\uff0c\u5c06\u7528\u6237\u7ebf\u7a0b\u548c\u5185\u6838\u7ebf\u7a0b\u7ed3\u5408\u8d77\u6765\u3002\u5728\u8fd9\u79cd\u6a21\u578b\u4e2d\uff0c\u6bcf\u4e2a\u7528\u6237\u7ebf\u7a0b\u90fd\u6620\u5c04\u5230\u4e00\u4e2a\u5185\u6838\u7ebf\u7a0b\u4e0a\uff0c\u8fd9\u6837\u53ef\u4ee5\u540c\u65f6\u5229\u7528\u7528\u6237\u7ebf\u7a0b\u7684\u8f7b\u91cf\u7ea7\u7279\u6027\u548c\u5185\u6838\u7ebf\u7a0b\u7684\u5e76\u884c\u80fd\u529b\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_8","title":"\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u591a\u5c11\u4e2a\u7ebf\u7a0b\uff1f","text":"<p>\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u53d7\u5230\u591a\u79cd\u56e0\u7d20\u7684\u5f71\u54cd\uff0c\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u7684\u9650\u5236\u3001\u7cfb\u7edf\u8d44\u6e90(\u5982\u5185\u5b58\u3001CPU)\u7684\u53ef\u7528\u6027\u548c\u7a0b\u5e8f\u7684\u8bbe\u8ba1\u8981\u6c42\u3002\u6ca1\u6709\u56fa\u5b9a\u7684\u6570\u5b57\u53ef\u4ee5\u51c6\u786e\u5730\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u8ba8\u8bba\u4e00\u4e9b\u53ef\u80fd\u5f71\u54cd\u7ebf\u7a0b\u6570\u91cf\u7684\u56e0\u7d20\u3002</p> <ul> <li>\u64cd\u4f5c\u7cfb\u7edf\u9650\u5236\uff1a\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u548c\u5e73\u53f0\u5bf9\u6bcf\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u6709\u4e0d\u540c\u7684\u9650\u5236\u3002\u4f8b\u5982\uff0c\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 \u67e5\u770b /proc/sys/kernel/threads-max \u6587\u4ef6\u83b7\u53d6\u7cfb\u7edf\u7ea7\u522b\u7684\u6700\u5927\u7ebf\u7a0b\u6570\u9650\u5236\u3002\u6b64\u5916\uff0c\u53ef\u4ee5 \u4f7f\u7528 ulimit \u547d\u4ee4\u67e5\u770b\u548c\u8bbe\u7f6e\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u7ebf\u7a0b\u6570\u9650\u5236\u3002\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u7ebf\u7a0b\u6570\u9650\u5236\u53d7\u5230\u5730\u5740\u7a7a\u95f4\u548c\u5176\u4ed6\u8d44\u6e90\u9650\u5236\u7684\u7ea6\u675f</li> <li>\u7cfb\u7edf\u8d44\u6e90\uff1a\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570 \u53d7\u5230\u53ef\u7528\u5185\u5b58\u548c CPU \u8d44\u6e90\u7684\u9650\u5236\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u9700\u8981\u4e00\u5b9a\u7684\u5185\u5b58\u6765\u5b58\u50a8\u7ebf\u7a0b\u6808\u548c\u5176\u4ed6\u7ebf\u7a0b\u76f8\u5173\u7684\u6570\u636e\u7ed3\u6784\u3002\u5982\u679c\u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\uff0c\u53ef\u80fd\u65e0\u6cd5\u521b\u5efa\u66f4\u591a\u7ebf\u7a0b\u3002\u540c\u6837\uff0c\u7cfb\u7edf\u7684 CPU \u8d44\u6e90\u4e5f\u4f1a\u5f71\u54cd\u7ebf\u7a0b\u7684\u6570\u91cf\uff0c\u56e0\u4e3a\u5927\u91cf\u7ebf\u7a0b\u53ef\u80fd\u5bfc\u81f4\u9891\u7e41\u7684\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u4ece\u800c\u964d\u4f4e\u7cfb\u7edf\u6027\u80fd</li> <li>\u7a0b\u5e8f\u8bbe\u8ba1\u8981\u6c42\uff1a\u7a0b\u5e8f\u7684\u8bbe\u8ba1\u548c\u6027\u80fd\u8981\u6c42\u4e5f\u4f1a \u5f71\u54cd\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u3002\u5728\u9762\u5411\u5e76\u53d1\u6027\u80fd\u7684\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u6743\u8861\u7ebf\u7a0b\u6570\u91cf\u548c\u7cfb\u7edf\u8d44\u6e90\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u521b\u5efa\u8fc7\u591a\u7684\u7ebf\u7a0b\u53ef\u80fd\u5bfc\u81f4\u8d44\u6e90\u7ade\u4e89\u548c\u4e0a\u4e0b\u6587\u5207\u6362\u5f00\u9500\uff0c\u4ece\u800c\u964d\u4f4e\u7a0b\u5e8f\u6027\u80fd\u3002\u56e0\u6b64\uff0c\u5408\u7406\u7684\u7ebf\u7a0b\u6570\u91cf\u5e94\u8be5\u6839\u636e\u7a0b\u5e8f\u7684\u5177\u4f53\u9700\u6c42\u548c\u7cfb\u7edf\u8d44\u6e90\u6765\u786e\u5b9a</li> </ul> <p>\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u7684\u7ebf\u7a0b\u6570\u6ca1\u6709\u56fa\u5b9a\u7684\u4e0a\u9650\uff0c\u5b83\u53d7\u5230\u64cd\u4f5c\u7cfb\u7edf\u9650\u5236\u3001\u7cfb\u7edf\u8d44\u6e90\u548c\u7a0b\u5e8f\u8bbe\u8ba1\u8981\u6c42\u7b49\u591a\u79cd\u56e0\u7d20\u7684\u5f71\u54cd\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_9","title":"\u8fdb\u7a0b\u7684\u8c03\u5ea6\u7b97\u6cd5\uff1f","text":"<p>\u8c03\u5ea6\u5668\u4e3b\u8981\u8003\u8651\u4e24\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u8c03\u5ea6\u54ea\u4e2a\u4efb\u52a1\uff1b\u6bcf\u4e2a\u4efb\u52a1\u6267\u884c\u591a\u957f\u65f6\u95f4\u3002\u5bf9\u4e8e\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u6765\u8bf4\uff0c\u9700\u8981\u7740\u91cd\u8003\u8651\u7684\u4e00\u70b9\u662f\u5982\u4f55\u8c03\u5ea6\u8ba9\u6bcf\u4e2a\u4efb\u52a1\u4ece\u7528\u6237\u7684\u773c\u4e2d\u662f\u5728\u540c\u65f6\u8fdb\u884c\u7684\u3002\u4e4b\u540e\u624d\u4f1a\u8003\u8651\u5982\u4f55\u8c03\u5ea6\u8ba9\u6027\u80fd\u6700\u4f73\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#rr","title":"\u65f6\u95f4\u7247\u8f6e\u8f6c(RR)","text":"<ul> <li>\u7528\u6237\u4f53\u9a8c\u6700\u76f4\u63a5\u7684\u6307\u6807\u5c31\u662f \u54cd\u5e94\u65f6\u95f4\uff0c\u73b0\u4ee3\u7684\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u4e00\u822c\u90fd\u662f\u91c7\u7528\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u601d\u8def\uff0c\u4e5f\u5c31\u662f\u5c06 CPU \u5212\u5206\u4e3a\u4e00\u4e2a\u4e00\u4e2a\u65f6\u95f4\u7247\uff0c \u6bcf\u4e2a\u4efb\u52a1\u72ec\u5360 CPU \u7684\u4e00\u4e2a\u65f6\u95f4\u7247\uff0c\u5982\u679c\u65f6\u95f4\u7247\u8bbe\u7f6e\u7684\u8db3\u591f\u5c0f\uff0c\u90a3\u4e48\u6bcf\u4e2a\u4efb\u52a1\u90fd\u4f1a\u5728\u4e00\u5b9a\u7684\u65f6\u95f4\u5185\u6267\u884c\u5e76\u54cd\u5e94\u7528\u6237\uff1b\u5bf9\u4e8e RR \u7b56\u7565\u6765\u8bf4\uff0c\u65f6\u95f4\u7247\u5927\u5c0f\u7684\u9009\u53d6\u662f\u9700\u8981\u8003\u8651\u7684\u95ee\u9898\uff0c \u65f6\u95f4\u7247\u9009\u7684\u8d8a\u5c0f\uff0c\u90a3\u4e48\u4efb\u52a1\u54cd\u5e94\u7684\u65f6\u95f4\u5c31\u8d8a\u5feb\uff0c\u4f46\u662f\u8fd9\u610f\u5473\u7740\u8c03\u5ea6\u7684\u6b21\u6570\u4f1a\u589e\u52a0\uff0c\u8c03\u5ea6\u7684\u5f00\u9500\u5c31\u5927 </li> <li>\u8fd9\u4e2a\u7b56\u7565\u7684 \u5f0a\u7aef\u662f\u4efb\u52a1\u7684\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\u6bd4\u8f83\u9ad8\uff0c\u56e0\u4e3a\u6240\u6709\u4efb\u52a1\u662f\u5e73\u5206 CPU \u8d44\u6e90\u7684\uff0c\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u6765\u8bf4 RR \u7b56\u7565 \u4fdd\u8bc1\u4e86\u4efb\u52a1\u7684\u516c\u5e73\u6027\uff0c\u4f46\u662f\u516c\u5e73\u5fc5\u7136\u4f1a\u635f\u5931\u6027\u80fd </li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_10","title":"\u4f18\u5148\u7ea7\u8c03\u5ea6","text":"<ul> <li>\u4f18\u5148\u7ea7\u8c03\u5ea6\u662f\u5728 RR \u7684\u65f6\u95f4\u7247\u8f6e\u8f6c\u57fa\u7840\u4e0a\uff0c\u6ee1\u8db3\u7528\u6237\u7684\u54cd\u5e94\u65f6\u95f4\u6307\u6807\u540e\u8003\u8651\u7cfb\u7edf\u6027\u80fd\u7684\u3002\u9996\u5148\u4e3a\u4e86\u7ed9\u7528\u6237\u63d0\u4f9b\u66f4\u597d\u7684\u4f53\u9a8c\uff0c \u4ea4\u4e92\u5f0f\u4efb\u52a1\u7684\u4f18\u5148\u7ea7\u4e00\u5b9a\u9ad8\u4e8e\u6279\u5904\u7406\u4efb\u52a1\u3002\u7136\u540e\u5bf9\u4e8e\u6709\u660e\u786e\u622a\u6b62\u65f6\u95f4\u7684\u4efb\u52a1\uff0c\u5e94\u8be5\u8bbe\u7f6e\u6700\u9ad8\u7684\u4f18\u5148\u7ea7\u3002\u56e0\u6b64\u4f18\u5148\u7ea7\u7684\u987a\u5e8f\u4ece\u9ad8\u5230\u4f4e\u5e94\u8be5\u662f\uff1a \u660e\u786e\u622a\u6b62\u65f6\u95f4\u7684\u4efb\u52a1 &gt; \u4ea4\u4e92\u5f0f\u4efb\u52a1 &gt; IO \u5bc6\u96c6\u578b\u4efb\u52a1 &gt; \u6279\u5904\u7406\u4efb\u52a1 </li> <li>\u4f18\u5148\u7ea7\u601d\u60f3\u6700\u65e9\u4f53\u73b0\u5728\u65e9\u671f\u7684\u6279\u5904\u7406\u4efb\u52a1\u7684\u7b56\u7565\uff1a\u4e3b\u8981\u6709\u4e09\u4e2a\uff1a\u5148\u5230\u5148\u5f97(FCFS)\uff0c\u6700\u77ed\u4efb\u52a1\u4f18\u5148(SJF)\uff0c\u6700\u77ed\u5b8c\u6210\u65f6\u95f4\u4f18\u5148(STCF)\uff0c\u8fd9\u4e09\u4e2a\u7b56\u7565\u90fd\u662f\u8003\u8651\u6279\u5904\u7406\u4efb\u52a1\uff0c\u4e3b\u8981\u8003\u8651\u7684\u662f\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\u800c\u4e0d\u8003\u8651\u4efb\u52a1\u54cd\u5e94\u65f6\u95f4</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#fcfs","title":"\u5148\u5230\u5148\u5f97(FCFS)","text":"<ul> <li>\u5148\u5230\u5148\u5f97\u7b56\u7565\u5c31\u662f\u8c01\u5148\u6765\u5c31\u8c03\u5ea6\u8c01\uff0c\u5c31\u662f\u4e2a\u5148\u6765\u540e\u5230\u7684\u7b56\u7565\u3002\u5b83\u8003\u8651\u7684\u4f18\u5148\u7ea7\u662f\uff1a\u4efb\u52a1\u5230\u8fbe\u65f6\u95f4\u65e9\u7684\u4f18\u5148\u7ea7\u9ad8\u3002\u8fd9\u4e2a\u7b56\u7565\u6700\u5927\u7684\u7279\u70b9\u5c31\u662f\u7b80\u5355\u76f4\u89c2\uff0c\u5f00\u53d1\u8005\u53ea\u7528\u7ef4\u62a4\u4e00\u4e2a\u961f\u5217\u5373\u53ef\u3002\u8fd9\u4e2a\u7b56\u7565\u5c5e\u4e8e\u975e\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0c\u5728\u4efb\u52a1\u6267\u884c\u5b8c\u524d\u662f\u4e0d\u4f1a\u8ba9\u51fa CPU \u7684</li> <li>\u8fd9\u4e2a\u7b56\u7565\u7684\u95ee\u9898\u5728\u4e8e \u5bf9\u77ed\u4efb\u52a1\u4e0d\u53cb\u597d\uff0c\u5047\u8bbe\u524d\u9762\u6392\u7740\u4e00\u4e2a\u957f\u4efb\u52a1\uff0c\u90a3\u4e48\u8fd9\u4e2a\u77ed\u4efb\u52a1\u8981\u7b49\u5f88\u4e45\uff0c\u672c\u6765\u5b83\u53ea\u7528\u5f88\u77ed\u7684\u65f6\u95f4\u5c31\u6267\u884c\u5b8c\u4e86\uff0c\u4f46\u73b0\u5728\u5b83\u7684\u5468\u8f6c\u65f6\u95f4\u4f1a\u53d8\u5f97\u5f88\u957f\uff1b\u540c\u6837 \u5bf9 IO \u5bc6\u96c6\u578b\u4e5f\u4e0d\u53cb\u597d\uff0c\u5f53 IO \u5bc6\u96c6\u578b\u9700\u8981\u8bfb\u5199 IO \u800c\u8fdb\u5165\u963b\u585e\u8ba9\u51fa CPU \u65f6\uff0c\u5047\u8bbe\u540e\u5e8f\u662f\u4e00\u4e2a\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\uff0c\u90a3\u4e48\u5f53 IO \u8bfb\u5199\u5b8c\u4e86\u4e5f\u9700\u8981\u7b49\u5f85\u5f88\u957f\u65f6\u95f4\uff1b\u800c\u4e14\u5b83\u6839\u672c\u5c31\u6ca1\u6709\u8003\u8651\u54cd\u5e94\u65f6\u95f4\uff0c \u5bf9\u4ea4\u4e92\u5f0f\u4efb\u52a1\u5f88\u4e0d\u53cb\u597d </li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#sjf","title":"\u6700\u77ed\u4efb\u52a1\u4f18\u5148(SJF)","text":"<ul> <li>\u8fd9\u4e2a\u7b56\u7565\u662f\u6700\u77ed\u7684\u4efb\u52a1\u5148\u6267\u884c\uff0c\u4e5f\u5c31\u662f\u8003\u8651\u6267\u884c\u65f6\u95f4\u6700\u77ed\u7684\u4efb\u52a1\u4f18\u5148\u7ea7\u9ad8\uff1b\u5b83\u7684\u4efb\u52a1\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\u80af\u5b9a\u8981\u6bd4 FCFS \u8981\u77ed\uff0c\u4f46\u662f\u5b83\u4e5f\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff0c\u9996\u5148\u5b83 \u5fc5\u987b\u9884\u77e5\u4efb\u52a1\u8fd0\u884c\u7684\u65f6\u95f4\uff0c\u8fd9\u4e2a\u5c31\u5f88\u96be\u529e\uff1b\u5176\u6b21\u5b83\u7684\u8868\u73b0 \u4e25\u91cd\u4f9d\u8d56\u4e8e\u4efb\u52a1\u5230\u8fbe\u65f6\u95f4\u70b9\uff0c\u5982\u679c\u4e00\u4e2a\u8fd0\u884c\u65f6\u95f4\u6bd4\u524d\u4e00\u4e2a\u77ed\u7684\u7a0d\u5fae\u6765\u665a\u70b9\uff0c\u4e5f\u5f97\u7b49\u524d\u4e00\u4e2a\u8fd0\u884c\u5b8c\u4e86\u624d\u80fd\u7ee7\u7eed\uff0c\u6240\u4ee5\u5e76\u6ca1\u6709\u771f\u6b63\u7684\u6700\u77ed\u4efb\u52a1\u4f18\u5148\uff0c\u662f\u5728 FCFS \u7684\u57fa\u7840\u4e0a\u7684\u6700\u77ed\u4efb\u52a1\u4f18\u5148\u3002\u4e0e FCFS \u4e00\u6837\uff0c\u90fd\u662f\u975e\u62a2\u5360\u5f0f\u8c03\u5ea6</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#stcf","title":"\u6700\u77ed\u5b8c\u6210\u65f6\u95f4\u4f18\u5148(STCF)","text":"<ul> <li>\u4e4b\u524d\u7684\u6700\u77ed\u4efb\u52a1\u4f18\u5148\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u6700\u77ed\u4efb\u52a1\u4f18\u5148\uff0c\u8fdf\u5230\u4e86\u7684\u4efb\u52a1\u662f\u65e0\u6cd5\u53d7\u76ca\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u6309\u7167\u6700\u77ed\u5b8c\u6210\u65f6\u95f4\u6765\u8c03\u5ea6\uff0c\u4e5f\u5c31\u662f\u4efb\u52a1\u5269\u4f59\u65f6\u95f4\u77ed\u7684\u4f18\u5148\u7ea7\u9ad8\uff1b\u8c01\u5b8c\u6210\u65f6\u95f4\u6700\u77ed\uff0c\u8c01\u5c31\u76f4\u63a5\u628a\u524d\u9762\u7684 CPU \u62a2\u5360\u4e86\uff1b\u8fd9\u4e2a\u7b56\u7565\u4e0d\u540c\u4e8e\u4e4b\u524d\u7684\u5fc5\u987b\u6267\u884c\u5b8c\u624d\u662f\u4e0b\u4e00\u4e2a\uff0c \u5c5e\u4e8e\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0c\u8fd9\u4e2a\u7b56\u7565\u8f83\u597d\u7684\u8003\u8651\u7684\u77ed\u4efb\u52a1\uff0c\u5b83\u7684\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\u662f\u6bd4\u8f83\u5c0f\u7684\uff0c\u4f46\u662f\u8fd9\u4e2a\u7b56\u7565\u7684\u95ee\u9898\u5728\u4e8e \u957f\u4efb\u52a1\u7684\u9965\u997f\u95ee\u9898\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u77ed\u4efb\u52a1\u591a\u4e86\uff0c\u90a3\u4e48\u957f\u4efb\u52a1\u9700\u8981\u4e00\u76f4\u7b49\u5f85\u3002</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#mlq","title":"\u591a\u7ea7\u961f\u5217(MLQ)","text":"<ul> <li>\u65e9\u671f\u6279\u5904\u7406\u4efb\u52a1\u8c03\u5ea6\u7b56\u7565\u90fd\u662f\u9690\u5f0f\u7684\u4f18\u5148\u7ea7\uff0c\u5e76\u6ca1\u6709\u76f4\u63a5\u6307\u51fa\u4f18\u5148\u7ea7\uff0c\u591a\u7ea7\u961f\u5217\u662f\u660e\u786e\u7684\u6307\u51fa\u7684\u4f18\u5148\u7ea7\uff0c\u6bcf\u4e2a\u4efb\u52a1\u7684\u4f18\u5148\u7ea7\u8bbe\u5b9a\u597d\u4e86\u5c31\u4e0d\u4f1a\u53d8\u52a8\uff0c\u5b83\u5c5e\u4e8e \u9759\u6001\u7684\u4f18\u5148\u7ea7\u8c03\u5ea6\u7b56\u7565 </li> <li>MLQ \u5373\u6bcf\u4e2a\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u8bbe\u7f6e\u4e00\u4e2a\u961f\u5217\uff0c\u4f18\u5148\u5904\u7406\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\uff0c \u76f8\u540c\u4f18\u5148\u7ea7\u4e4b\u95f4\u91c7\u7528\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u7b56\u7565\u4fdd\u8bc1\u54cd\u5e94\u65f6\u95f4\u3002MLQ \u9002\u5408\u4e8e\u9759\u6001\u7684\u5e94\u7528\u573a\u666f\uff0c\u8fd9\u7c7b\u573a\u666f\u4e0b\u4efb\u52a1\u4fe1\u606f\u53ef\u4ee5\u518d\u6267\u884c\u524d\u83b7\u5f97\uff0c\u57fa\u4e8e\u6b64\u53ef\u4ee5\u5206\u914d\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u6765\u5b9e\u73b0\u8c03\u5ea6</li> <li>MLQ \u662f\u4e00\u79cd\u9ad8\u6548\u7684\u4f18\u5148\u7ea7\u8c03\u5ea6\u7b56\u7565\uff0c\u4f46\u662f\u4ece\u53e6\u4e00\u4e2a\u89d2\u5ea6\u8bf4\uff0c\u5b83 \u4f9d\u7136\u6ca1\u6709\u89e3\u51b3\u4f4e\u4f18\u5148\u7ea7\u7684\u9965\u997f\u95ee\u9898\u3002\u5982\u679c\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\u6570\u91cf\u5f88\u591a\uff0c\u90a3\u4e48\u4f4e\u4f18\u5148\u7ea7\u6c38\u8fdc\u4e5f\u4e0d\u4f1a\u53bb\u6267\u884c</li> <li>\u540c\u65f6 \u4f18\u5148\u7ea7\u56fa\u5b9a\u4e5f\u4f1a\u5e26\u6765\u4e00\u4e2a\u53eb\u505a\u4f18\u5148\u7ea7\u53cd\u8f6c\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u6709\u4efb\u52a1 A, B, C\uff0c\u4f18\u5148\u7ea7\u4f9d\u6b21\u4ece\u9ad8\u5230\u4f4e\uff0c\u7136\u540e\u6b64\u65f6 C \u6070\u597d\u6301\u6709\u4e00\u628a\u9501\uff0cA \u4e5f\u60f3\u83b7\u5f97\u8fd9\u628a\u9501\uff0c\u4f46\u662f\u56e0\u4e3a C \u5148\u62ff\u8d70\u4e86\uff0c\u6240\u4ee5 A \u6b64\u65f6\u53ea\u80fd\u8fdb\u5165\u963b\u585e\u72b6\u6001\u7b49 C \u653e\u9501\uff1b\u7136\u540e\u56e0\u4e3a B \u6bd4 C \u4f18\u5148\u7ea7\u9ad8\uff0c\u6240\u4ee5 B \u5148\u8fd0\u884c\uff0c\u90a3\u4e48\u6b64\u65f6\u5c31\u6709 B \u6bd4 A \u4f18\u5148\u7ea7\u9ad8\u7684\u4e00\u4e2a\u5047\u8c61\u3002\u4e00\u822c\u6765\u8bf4\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\u7684\u601d\u8def\u662f\u4f18\u5148\u7ea7\u7ee7\u627f\uff0c\u4e5f\u5c31\u662f A \u6682\u65f6\u628a\u5b83\u7684\u4f18\u5148\u7ea7\u8f6c\u79fb\u7ed9 C\uff0c\u8ba9 C \u5148\u5b8c\u6210\uff0c\u8fd9\u6837 A \u5c31\u80fd\u63a5\u7740\u5b8c\u6210</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#mlfq","title":"\u591a\u7ea7\u53cd\u9988\u961f\u5217(MLFQ)","text":"<ul> <li>\u591a\u7ea7\u961f\u5217\u662f\u4e00\u79cd\u8f83\u597d\u7684\u8003\u8651\u4f18\u5148\u7ea7\u7684\u7b56\u7565\uff0c\u4f46\u662f\u5b83\u6ca1\u6709\u89e3\u51b3\u4f4e\u4f18\u5148\u7ea7\u7684\u9965\u997f\u95ee\u9898\uff0c\u800c\u4e14\u591a\u7ea7\u961f\u5217\u9700\u8981\u63d0\u524d\u9884\u5224\u5404\u4e2a\u4efb\u52a1\u7684\u4f18\u5148\u7ea7\uff0c\u4f46\u968f\u7740\u4efb\u52a1\u4e0d\u65ad\u590d\u6742\uff0c\u9884\u6d4b\u4efb\u52a1\u53d8\u5f97\u6bd4\u8f83\u56f0\u96be\u3002\u56e0\u6b64\u9759\u6001\u7684\u7b56\u7565\u5df2\u7ecf\u4e0d\u80fd\u6ee1\u8db3\u9700\u8981\uff0c\u9700\u8981 \u52a8\u6001\u7684\u8c03\u6574\u4f18\u5148\u7ea7\uff0c\u8fd9\u4e5f\u5c31\u662f\u591a\u7ea7\u53cd\u9988\u961f\u5217\u3002\u591a\u7ea7\u53cd\u9988\u961f\u5217\u7684\u6700\u5927\u7279\u70b9\u662f\u5b9e\u73b0\u4e86\u4f18\u5148\u7ea7\u7684\u52a8\u6001\u8bbe\u7f6e</li> <li>\u5177\u4f53\u7684\u7b56\u7565\u662f\uff0c\u77ed\u4efb\u52a1\u5177\u6709\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7\uff0c\u8fd9\u6837\u4e3b\u8981\u662f\u4e3a\u4e86\u964d\u4f4e\u5e73\u5747\u5468\u8f6c\u65f6\u95f4\uff1bI/O \u5bc6\u96c6\u578b\u7684\u4efb\u52a1\u56e0\u4e3a\u5176 CPU \u8fd0\u884c\u65f6\u95f4\u6bd4\u8f83\u77ed\uff0c\u6240\u4ee5\u5b83\u7684\u4f18\u5148\u7ea7\u4e00\u822c\u4e5f\u6bd4\u8f83\u9ad8\uff0c\u6709\u5229\u4e8e\u63d0\u9ad8 IO \u8d44\u6e90\u7684\u5229\u7528\u7387\uff1b\u4ea4\u4e92\u5f0f\u4efb\u52a1\u4e00\u822c\u662f\u77ed\u4efb\u52a1\uff0c\u6240\u4ee5\u5176\u4f18\u5148\u7ea7\u4e00\u822c\u4e5f\u6bd4\u8f83\u9ad8</li> <li>\u5728\u771f\u5b9e\u7cfb\u7edf\u4e2d\uff0c\u53ef\u80fd\u65e0\u6cd5\u53bb\u9884\u6d4b\u662f\u77ed\u4efb\u52a1\u8fd8\u662f\u957f\u4efb\u52a1\uff0c\u56e0\u6b64\u9700\u8981\u52a8\u6001\u7684\u53bb\u8c03\u6574\uff0c\u5f53\u4efb\u52a1\u7b2c\u4e00\u6b21\u8fdb\u5165\u8fd0\u884c\u961f\u5217\u65f6\uff0c\u7cfb\u7edf\u4f1a\u5047\u5b9a\u8be5\u4efb\u52a1\u662f\u6700\u9ad8\u4f18\u5148\u7ea7\uff0c\u5982\u679c\u8be5\u4efb\u52a1\u8fd0\u884c\u65f6\u95f4\u8d85\u8fc7\u6700\u5927\u8fd0\u884c\u65f6\u95f4\uff0c\u90a3\u4e48\u7cfb\u7edf\u81ea\u52a8\u4f1a\u7ed9\u5176\u964d\u4f4e\u4f18\u5148\u7ea7</li> <li>\u4e3a\u4e86\u7f13\u89e3\u4f4e\u4f18\u5148\u7ea7\u7684\u9965\u997f\u95ee\u9898\uff0c\u8c03\u5ea6\u5668\u4f1a\u5b9a\u65f6\u7684\u5c06\u6240\u6709\u4f4e\u4f18\u5148\u7ea7\u7684\u961f\u5217\u91cd\u65b0\u63d0\u5230\u6700\u9ad8\u3002\u4fdd\u8bc1\u4f4e\u4f18\u5148\u7ea7\u6709\u673a\u4f1a\u6267\u884c</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#cfs","title":"\u5b8c\u5168\u516c\u5e73\u8c03\u5ea6(CFS)","text":"<ul> <li>\u4f18\u5148\u9009\u62e9 vruntime \u5c11\u7684\u4efb\u52a1\uff0c\u4ee5\u4fdd\u8bc1\u6bcf\u4e2a\u4efb\u52a1\u7684\u516c\u5e73\u6027</li> <li>\u865a\u62df\u8fd0\u884c\u65f6\u95f4 vruntime += \u5b9e\u9645\u8fd0\u884c\u65f6\u95f4 delta_exec* NICE_0_LOAD/ \u6743\u91cd</li> <li>\u8fd0\u884c\u961f\u5217\u7528 \u7ea2\u9ed1\u6811 \u6765\u63cf\u8ff0\u7684\uff0c\u6309 vruntime \u5927\u5c0f\u6765\u6392\u5e8f\u7684\uff0c\u6700\u5de6\u4fa7\u7684\u53f6\u5b50\u8282\u70b9\u5c31\u662f\u4e0b\u6b21\u4f1a\u88ab\u8c03\u5ea6\u7684\u4efb\u52a1</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_11","title":"\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\uff1f","text":"<p>\u8fdb\u7a0b\u95f4\u901a\u4fe1(Inter-Process Communication, IPC)\u662f\u6307\u8fdb\u7a0b\u4e4b\u95f4\u901a\u8fc7\u7279\u5b9a\u7684\u65b9\u5f0f\u5171\u4eab\u6570\u636e\u548c\u4fe1\u606f\u7684\u8fc7\u7a0b\u3002\u5728\u591a\u4efb\u52a1\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u8fdb\u7a0b\u95f4\u901a\u4fe1\u5bf9\u4e8e\u534f\u8c03\u8fdb\u7a0b\u7684\u6267\u884c\u548c\u5b9e\u73b0\u8d44\u6e90\u5171\u4eab\u975e\u5e38\u91cd\u8981\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\uff1a</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_12","title":"\u7ba1\u9053","text":"<ul> <li>\u7ba1\u9053\u662f\u4e00\u79cd \u5355\u5411\u7684 IPC\uff0c\u5185\u6838\u4e2d\u5b58\u5728\u4e00\u5b9a\u7f13\u51b2\u533a\uff0c\u5e76\u4e14\u4f20\u8f93\u7684\u6570\u636e\u662f\u5b57\u8282\u6d41\u3002\u7ba1\u9053\u5728 Unix \u4e2d\u662f\u88ab\u5f53\u505a\u4e00\u4e2a\u6587\u4ef6\uff0c\u7cfb\u7edf\u8c03\u7528\u4f1a\u63d0\u4f9b\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u4f9b\u7528\u6237\u8bfb\u5199\u6587\u4ef6</li> <li>\u5982\u679c\u7ba1\u9053\u7684\u5199\u7aef\u6ca1\u6709\u88ab\u8fdb\u7a0b\u6301\u6709\uff0c\u800c\u6536\u7aef\u5c1d\u8bd5\u53bb\u8bfb\u7684\u8bdd\uff0c\u6b64\u65f6\u4f1a\u53d7\u5230 EOF\uff0c\u5982\u679c\u5199\u7aef\u6709\u8fdb\u7a0b\u6301\u6709\u7684\u8bdd\uff0c\u8bfb\u7aef\u5c31\u4f1a\u963b\u585e\u5728 read \u4e0a</li> <li>\u7ba1\u9053\u5206\u4e3a\u547d\u540d\u7ba1\u9053\u4e0e\u533f\u540d\u7ba1\u9053\uff0c \u533f\u540d\u7ba1\u9053\u6ca1\u6709\u540d\u5b57\uff0c\u662f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528 pipe() \u521b\u5efa\u7684\uff0c\u53ea\u8fd4\u56de\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u6ce8\u610f\u662f pipe[1] \u5199\u7ed9 pipe[0]\u3002\u56e0\u4e3a\u533f\u540d\u7ba1\u9053\u6ca1\u6709\u540d\u5b57\uff0c\u6240\u4ee5\u4e00\u822c\u533f\u540d\u7ba1\u9053\u53ea\u80fd\u7528\u4e8e\u4e24\u4e2a\u5173\u7cfb\u6bd4\u8f83\u8fd1\u7684\u8fdb\u7a0b\uff0c\u6bd4\u5982 fork \u51fa\u6765\u7684\u7236\u5b50\u8fdb\u7a0b</li> <li>\u5f53 \u4e24\u4e2a\u5173\u7cfb\u6bd4\u8f83\u8fdc\u7684\u65f6\u5019\uff0c\u6b64\u65f6\u5c31\u5e94\u8be5\u4f7f\u7528\u547d\u540d\u7ba1\u9053\uff0c\u521b\u5efa\u8be5\u7ba1\u9053\u7684\u547d\u4ee4\u4e3a mkfifo\uff0c\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u5168\u5c40\u7684\u6587\u4ef6\u540d\u4e0e\u6743\u9650\uff0c\u4e4b\u540e\u8bfb\u5199\u7ba1\u9053\u5c31\u662f\u5728\u8bfb\u5199\u8fd9\u4e2a\u6587\u4ef6</li> <li>\u7ba1\u9053\u53ea\u80fd\u5355\u9879\u4f20\u8f93\u6570\u636e\uff0c \u5982\u679c\u60f3\u53cc\u5411\u4f20\u8f93\uff0c\u90a3\u4e48\u5c31\u7528 socketpair\u3002socketpair \u4f1a\u521b\u5efa\u4e24\u4e2a socket\uff0c\u7236\u8fdb\u7a0b\u5173\u95ed\u4e00\u4e2a\uff0c\u5b50\u8fdb\u7a0b\u5173\u6389\u53e6\u4e00\u4e2a\u3002\u8fd9\u6837\u53cc\u65b9\u5404\u62ff\u4e00\u4e2a socket \u901a\u4fe1</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_13","title":"\u6d88\u606f\u961f\u5217","text":"<ul> <li>\u6d88\u606f\u961f\u5217\u662f \u552f\u4e00\u4e00\u4e2a\u4ee5\u6d88\u606f\u4e3a\u6570\u636e\u62bd\u8c61\u7684\u901a\u4fe1\u65b9\u5f0f\u3002\u6d88\u606f\u961f\u5217\u5728\u5185\u6838\u4e2d\u7684\u6570\u636e\u7ed3\u6784\u662f\u4e00\u4e2a \u5355\u94fe\u8868\u6784\u6210\u7684\u961f\u5217\uff0c\u6700\u521d\u4f1a\u6709\u4e2a\u6d88\u606f\u5934\u90e8\u6307\u9488\uff0c\u4fdd\u5b58\u7740\u6d88\u606f\u961f\u9996\u4e0e\u76f8\u5e94\u7684\u6743\u9650\uff1b\u6bcf\u4e2a\u6d88\u606f\u90fd\u4f1a\u6709\u4e0b\u4e00\u4e2a\u6d88\u606f\u7684\u6307\u9488\uff0c\u4ee5\u53ca\u6d88\u606f\u672c\u8eab\u7684\u5185\u5bb9</li> <li>\u6d88\u606f\u961f\u5217\u7684 \u5185\u5b58\u7a7a\u95f4\u6709\u9650\uff0c\u4e00\u822c\u6765\u8bf4 \u4f20\u9012\u957f\u6d88\u606f\u65f6\u91c7\u7528\u5171\u4eab\u5185\u5b58\u7684\u65b9\u5f0f\uff0c\u800c\u975e\u6d88\u606f\u961f\u5217\u3002\u901a\u8fc7\u6d88\u606f\u961f\u5217\u4f20\u9012\u6570\u636e\u9700\u8981\u5148 copy \u5230\u5185\u6838\uff0c\u7136\u540e\u518d\u5230\u6536\u7aef\uff0c\u6240\u4ee5\u6709\u4e2a\u4ee3\u4ef7</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_14","title":"\u5171\u4eab\u5185\u5b58","text":"<ul> <li>\u4f7f\u7528\u5171\u4eab\u5185\u5b58\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u539f\u56e0\u662f \u5171\u4eab\u5185\u5b58\u4e0d\u9700\u8981\u5148\u62f7\u8d1d\u5230\u5185\u6838\u7a7a\u95f4\u4e2d\uff0c\u901f\u5ea6\u6bd4\u8f83\u5feb\u3002\u5171\u4eab\u5185\u5b58\u7684\u6838\u5fc3\u601d\u8def\u5c31\u662f\u5141\u8bb8\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u8fdb\u7a0b\u6240\u5728\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e2d\u6620\u5c04\u76f8\u540c\u7684\u7269\u7406\u9875\uff0c\u4ece\u800c\u8fdb\u884c\u901a\u4fe1</li> <li>\u5171\u4eab\u5185\u5b58\u7684\u5b9e\u73b0\u673a\u5236\uff1a\u9996\u5148\u5185\u6838\u4f1a\u7ed9\u5168\u5c40\u7684\u5171\u4eab\u5185\u5b58 \u7ef4\u62a4\u4e00\u4e2a\u5168\u5c40\u7684\u961f\u5217\u7ed3\u6784\uff0c\u8fd9\u4e2a\u961f\u5217\u7684 \u6bcf\u4e00\u9879\u662f\u4e00\u4e2a shmid_kernel \u7ed3\u6784\u4f53\u4e0e\u4e00\u4e2a IPC key \u6765\u7ed1\u5b9a\u7684\uff0c\u5404\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7 key \u6765\u627e\u5230\u5e76\u4f7f\u7528\u540c\u4e00\u6bb5\u5171\u4eab\u5185\u5b58\uff1b\u8be5\u8fdb\u7a0b\u80fd\u5426\u64cd\u4f5c\u8fd9\u6bb5\u5171\u4eab\u5185\u5b58\u53ef\u4ee5\u901a\u8fc7 System V \u7684\u6743\u9650\u68c0\u67e5\u673a\u5236\u6765\u5224\u65ad</li> <li>\u5f53\u4e24\u4e2a\u8fdb\u7a0b\u540c\u65f6\u5bf9\u4e00\u4e2a\u5171\u4eab\u5185\u5b58\u5efa\u7acb\u4e86\u6620\u5c04\u540e\uff0c \u5185\u6838\u4f1a\u7ed9\u4ed6\u4eec\u5206\u914d\u4e24\u4e2a VMA \u7ed3\u6784\u4f53\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u4ed6\u4eec\u5404\u81ea\u7684\u865a\u62df\u5730\u5740\u6765\u8bbf\u95ee VMA \u5e76\u8bbf\u95ee\u5176\u80cc\u540e\u7684\u5171\u4eab\u5185\u5b58\u7a7a\u95f4 </li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_15","title":"\u4fe1\u53f7\u91cf","text":"<ul> <li>\u4fe1\u53f7\u91cf\u662f\u7528\u6765 \u8f85\u52a9\u63a7\u5236\u591a\u4e2a\u8bbf\u95ee\u7ebf\u7a0b\u8bbf\u95ee\u6709\u9650\u6570\u91cf\u8d44\u6e90\u7684 </li> <li>\u4fe1\u53f7\u91cf\u4e0d\u540c\u4e8e\u6d88\u606f\u961f\u5217\u8fd9\u79cd\u660e\u786e\u662f\u4f20\u9012\u6d88\u606f\u7684\uff0c\u5b83\u4e3b\u8981\u662f\u7528\u6765\u540c\u6b65\uff0c\u5b83\u5c31\u80fd\u4f20\u9012\u4e00\u4e2a\u6574\u6570\uff0c\u4e00\u822c\u8fd8\u662f0\uff0c1\u3002\u4fe1\u53f7\u91cf\u64cd\u4f5c\u4e3b\u8981\u6709\u4e24\u4e2a\u539f\u8bed\uff0cP \u64cd\u4f5c\u4e0e V \u64cd\u4f5c\uff0cP \u64cd\u4f5c\u5c31\u662f\u4fe1\u53f7\u91cf\u51cf 1\uff0c\u5982\u679c\u5931\u8d25\u5c31\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u53ef\u4ee5\u51cf\uff1bV \u64cd\u4f5c\u5c31\u662f\u4fe1\u53f7\u91cf +1\uff0cV \u64cd\u4f5c\u53ef\u4ee5\u5524\u9192\u4e00\u4e2a\u56e0 P \u64cd\u4f5c\u963b\u585e\u7684\u8fdb\u7a0b</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_16","title":"\u8bb2\u4e00\u8bb2\u8fdb\u7a0b\u865a\u62df\u5316\uff1f","text":"<p>\u8fdb\u7a0b\u865a\u62df\u5316\u662f\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u6280\u672f\uff0c\u5b83 \u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u5728\u540c\u4e00\u4e2a\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\uff0c\u540c\u65f6\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\u3002\u8fdb\u7a0b\u865a\u62df\u5316\u7684\u76ee\u6807\u662f\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\u3001\u9694\u79bb\u8fdb\u7a0b\u4ee5\u4fdd\u8bc1\u7cfb\u7edf\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027\uff0c\u4ee5\u53ca\u7b80\u5316\u8fdb\u7a0b\u7ba1\u7406\u548c\u8c03\u5ea6\u3002</p> <ul> <li>\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff1a\u5728\u8fdb\u7a0b\u865a\u62df\u5316\u4e2d\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u4e0e\u5176\u4ed6\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u76f8\u4e92\u72ec\u7acb\u3002\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5305\u542b\u4e86\u8fdb\u7a0b\u7684\u4ee3\u7801\u3001\u6570\u636e\u3001\u5806\u548c\u6808\u7b49\u5185\u5b58\u533a\u57df\u3002 \u865a\u62df\u5730\u5740\u7a7a\u95f4\u901a\u8fc7\u5185\u5b58\u7ba1\u7406\u5355\u5143(MMU)\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\uff0c\u5b9e\u73b0\u4e86\u865a\u62df\u5185\u5b58\u7684\u6982\u5ff5\u3002\u8fd9\u79cd\u6620\u5c04\u4f7f\u5f97\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u8ba4\u4e3a\u81ea\u5df1\u5728\u72ec\u5360\u6574\u4e2a\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u7b80\u5316\u4e86\u5185\u5b58\u7ba1\u7406\u548c\u4fdd\u62a4</li> <li>\u4e0a\u4e0b\u6587\u5207\u6362\uff1a\u5728\u8fdb\u7a0b\u865a\u62df\u5316\u4e2d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u5728\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u5207\u6362\uff0c\u4ee5\u5b9e\u73b0\u591a\u4efb\u52a1\u548c\u5e76\u53d1\u3002\u4e0a\u4e0b\u6587\u5207\u6362\u662f\u6307\u4fdd\u5b58\u5f53\u524d\u8fdb\u7a0b\u7684\u72b6\u6001(\u5982\u5bc4\u5b58\u5668\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u5185\u5b58\u6620\u5c04\u7b49)\uff0c\u7136\u540e\u6062\u590d\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u72b6\u6001\uff0c\u4ece\u800c\u5b9e\u73b0\u8fdb\u7a0b\u5207\u6362\u3002\u4e0a\u4e0b\u6587\u5207\u6362\u53ef\u80fd\u5bfc\u81f4\u4e00\u5b9a\u7684\u6027\u80fd\u5f00\u9500\uff0c\u56e0\u6b64\u9700\u8981\u5728\u8fdb\u7a0b\u8c03\u5ea6\u548c\u540c\u6b65\u4e2d\u5c3d\u91cf\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5207\u6362</li> <li>\u8fdb\u7a0b\u9694\u79bb\uff1a\u8fdb\u7a0b\u865a\u62df\u5316\u63d0\u4f9b\u4e86\u4e00\u5b9a\u7a0b\u5ea6\u7684\u8fdb\u7a0b\u9694\u79bb\uff0c\u4ee5\u786e\u4fdd\u4e00\u4e2a\u8fdb\u7a0b\u7684\u9519\u8bef\u6216\u6076\u610f\u884c\u4e3a\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u8fdb\u7a0b\u548c\u7cfb\u7edf\u3002\u8fdb\u7a0b\u9694\u79bb\u901a\u8fc7\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3001\u5185\u5b58\u4fdd\u62a4\u548c\u6743\u9650\u63a7\u5236\u7b49\u673a\u5236\u5b9e\u73b0\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\uff0c\u9664\u975e\u901a\u8fc7\u8fdb\u7a0b\u95f4\u901a\u4fe1\u6216\u5171\u4eab\u5185\u5b58\u7684\u65b9\u5f0f\u3002\u6b64\u5916\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8fd8\u53ef\u4ee5\u9650\u5236\u8fdb\u7a0b\u5bf9\u6587\u4ef6\u3001\u8bbe\u5907\u548c\u7f51\u7edc\u7b49\u8d44\u6e90\u7684\u8bbf\u95ee</li> <li>\u8fdb\u7a0b\u8c03\u5ea6\uff1a\u5728\u8fdb\u7a0b\u865a\u62df\u5316\u4e2d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u6839\u636e\u4f18\u5148\u7ea7\u3001\u8d44\u6e90\u9700\u6c42\u548c\u7b56\u7565\u7b49\u56e0\u7d20\u8c03\u5ea6\u8fdb\u7a0b\u7684\u6267\u884c\u3002\u8fdb\u7a0b\u8c03\u5ea6\u65e8\u5728\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\u3001\u964d\u4f4e\u54cd\u5e94\u65f6\u95f4\u548c\u786e\u4fdd\u516c\u5e73\u6027\u3002\u5e38\u89c1\u7684\u8fdb\u7a0b\u8c03\u5ea6\u7b97\u6cd5\u5305\u62ec\u5148\u6765\u5148\u670d\u52a1(FCFS)\u3001\u77ed\u4f5c\u4e1a\u4f18\u5148(SJF)\u3001\u4f18\u5148\u7ea7\u8c03\u5ea6\u3001\u65f6\u95f4\u7247\u8f6e\u8f6c(Round Robin)\u7b49</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_17","title":"\u8fdb\u7a0b\u7684\u72b6\u6001\u6709\u54ea\u4e9b\uff1f","text":"<p>\u8fdb\u7a0b\u7684\u72b6\u6001\u662f\u63cf\u8ff0\u8fdb\u7a0b\u5728\u751f\u547d\u5468\u671f\u4e2d\u7684\u5404\u79cd\u53ef\u80fd\u9636\u6bb5\u3002\u64cd\u4f5c\u7cfb\u7edf\u6839\u636e\u8fdb\u7a0b\u7684\u72b6\u6001\u6765\u7ba1\u7406\u548c\u8c03\u5ea6\u8fdb\u7a0b\u3002\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u8fdb\u7a0b\u72b6\u6001\uff1a</p> <ul> <li>\u65b0\u5efa(New)\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u521a\u521a\u88ab\u521b\u5efa\u65f6\uff0c\u5b83\u5904\u4e8e\u65b0\u5efa\u72b6\u6001\u3002\u5728\u8fd9\u4e2a\u72b6\u6001\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u8fdb\u7a0b\u5206\u914d\u5fc5\u8981\u7684\u8d44\u6e90\uff0c\u5982\u5185\u5b58\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\uff0c\u5e76\u521d\u59cb\u5316\u8fdb\u7a0b\u63a7\u5236\u5757(PCB)\u7b49\u6570\u636e\u7ed3\u6784</li> <li>\u5c31\u7eea(Ready)\uff1a\u8fdb\u7a0b\u5df2\u7ecf\u51c6\u5907\u597d\u8fd0\u884c\uff0c\u6b63\u5728\u7b49\u5f85\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u5668\u5206\u914d CPU \u65f6\u95f4\u7247\u3002\u5c31\u7eea\u72b6\u6001\u7684\u8fdb\u7a0b\u5df2\u5206\u914d\u5230\u4e86\u9664 CPU \u4e4b\u5916\u7684\u6240\u6709\u5fc5\u8981\u8d44\u6e90\uff0c\u53ea\u9700\u8981 CPU \u65f6\u95f4\u7247\u5c31\u53ef\u4ee5\u5f00\u59cb\u6267\u884c</li> <li>\u8fd0\u884c(Running)\uff1a\u8fdb\u7a0b\u6b63\u5728 CPU \u4e0a\u6267\u884c\u3002\u5728\u4efb\u4f55\u7ed9\u5b9a\u65f6\u523b\uff0c\u6bcf\u4e2a CPU \u6216\u6838\u5fc3\u4e0a\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a\u8fdb\u7a0b\u5904\u4e8e\u8fd0\u884c\u72b6\u6001</li> <li>\u963b\u585e(Blocked)\uff1a\u8fdb\u7a0b\u56e0\u7b49\u5f85\u67d0\u4e2a\u4e8b\u4ef6(\u5982 I/O \u64cd\u4f5c\u5b8c\u6210\u3001\u9501\u91ca\u653e\u6216\u4fe1\u53f7\u5230\u8fbe)\u800c\u6682\u505c\u6267\u884c\u3002\u5728\u963b\u585e\u72b6\u6001\u4e0b\uff0c\u8fdb\u7a0b\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\uff0c\u76f4\u5230\u7b49\u5f85\u7684\u4e8b\u4ef6\u53d1\u751f</li> <li>\u7ec8\u6b62(Terminated)\uff1a\u8fdb\u7a0b\u5df2\u7ecf\u5b8c\u6210\u6267\u884c\u6216\u56e0\u67d0\u79cd\u539f\u56e0\u88ab\u7ec8\u6b62\u3002\u5728\u7ec8\u6b62\u72b6\u6001\u4e0b\uff0c\u8fdb\u7a0b\u7684\u8d44\u6e90\u88ab\u56de\u6536\uff0c\u8fdb\u7a0b\u63a7\u5236\u5757(PCB)\u53ef\u80fd\u88ab\u4fdd\u7559\u4e00\u6bb5\u65f6\u95f4\u4ee5\u4fbf\u7236\u8fdb\u7a0b\u83b7\u53d6\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\u72b6\u6001</li> </ul> <p>\u8fdb\u7a0b\u5728\u5176\u751f\u547d\u5468\u671f\u4e2d\u53ef\u80fd\u4f1a\u5728\u8fd9\u4e9b\u72b6\u6001\u4e4b\u95f4\u8f6c\u6362\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u8fdb\u7a0b\u8c03\u5ea6\u3001\u8d44\u6e90\u7ba1\u7406\u548c\u4e8b\u4ef6\u5904\u7406\u7b49\u673a\u5236\u6765\u5b9e\u73b0\u72b6\u6001\u8f6c\u6362\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_18","title":"\u8fdb\u7a0b\u5982\u4f55\u521b\u5efa\u7684\uff1f","text":"<p>\u4ee5\u7c7b Unix \u7cfb\u7edf(\u5982 Linux)\u4e3a\u4f8b\uff0c\u8fdb\u7a0b\u521b\u5efa\u7684\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ul> <li>\u8c03\u7528 fork() \u7cfb\u7edf\u8c03\u7528\uff1a\u8fdb\u7a0b\u521b\u5efa\u901a\u5e38\u4ece\u4e00\u4e2a\u5df2\u6709\u7684\u8fdb\u7a0b(\u7236\u8fdb\u7a0b)\u5f00\u59cb\u3002\u7236\u8fdb\u7a0b\u8c03\u7528 fork() \u7cfb\u7edf\u8c03\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b(\u5b50\u8fdb\u7a0b)\u3002fork() \u7cfb\u7edf\u8c03\u7528\u4f1a\u590d\u5236\u7236\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u63a7\u5236\u5757(PCB)\u3001\u865a\u62df\u5185\u5b58\u5e03\u5c40\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\u6570\u636e\u7ed3\u6784\uff0c\u4ece\u800c\u521b\u5efa\u4e00\u4e2a\u4e0e\u7236\u8fdb\u7a0b\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\u7684\u5b50\u8fdb\u7a0b\u3002 fork() \u8c03\u7528\u5728\u7236\u8fdb\u7a0b\u4e2d\u8fd4\u56de\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0b ID\uff0c\u800c\u5728\u5b50\u8fdb\u7a0b\u4e2d\u8fd4\u56de 0 </li> <li>\u5b50\u8fdb\u7a0b\u4fee\u6539\u5185\u5b58\u6620\u5c04\uff1a\u5728 fork() \u4e4b\u540e\uff0c\u5b50\u8fdb\u7a0b\u901a\u5e38\u9700\u8981\u4fee\u6539\u5176\u865a\u62df\u5185\u5b58\u6620\u5c04\uff0c\u4ee5 \u5b9e\u73b0\u5199\u65f6\u590d\u5236(Copy-on-Write, COW)\u673a\u5236\u3002\u5199\u65f6\u590d\u5236\u662f\u4e00\u79cd\u5185\u5b58\u4f18\u5316\u6280\u672f\uff0c\u5b83\u5141\u8bb8\u5b50\u8fdb\u7a0b\u5728\u521b\u5efa\u65f6\u5171\u4eab\u7236\u8fdb\u7a0b\u7684\u5185\u5b58\u9875\u9762\uff0c\u76f4\u5230\u9700\u8981\u4fee\u6539\u9875\u9762\u5185\u5bb9\u65f6\u624d\u590d\u5236\u9875\u9762\u3002\u8fd9\u79cd\u673a\u5236\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u590d\u5236\uff0c\u63d0\u9ad8\u4e86\u8fdb\u7a0b\u521b\u5efa\u7684\u6027\u80fd</li> <li>\u8c03\u7528 exec() \u7cfb\u7edf\u8c03\u7528(\u53ef\u9009)\uff1a\u5982\u679c\u5b50\u8fdb\u7a0b\u9700\u8981\u6267\u884c\u4e0e\u7236\u8fdb\u7a0b\u4e0d\u540c\u7684\u7a0b\u5e8f\uff0c\u53ef\u4ee5 \u8c03\u7528 exec() \u7cfb\u7edf\u8c03\u7528\u6765\u66ff\u6362\u5f53\u524d\u7684\u7a0b\u5e8f\u6620\u50cf\u3002 exec() \u7cfb\u7edf\u8c03\u7528\u4f1a\u52a0\u8f7d\u65b0\u7a0b\u5e8f\u7684\u4ee3\u7801\u548c\u6570\u636e\u5230\u5185\u5b58\uff0c\u7136\u540e\u8bbe\u7f6e\u7a0b\u5e8f\u8ba1\u6570\u5668(Program Counter)\u6307\u5411\u65b0\u7a0b\u5e8f\u7684\u5165\u53e3\u70b9\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cexec() \u8c03\u7528\u4f1a\u66ff\u6362\u5b50\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u6620\u50cf\uff0c\u4f46\u4e0d\u4f1a\u5f71\u54cd\u8fdb\u7a0b\u63a7\u5236\u5757(PCB)\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\u6570\u636e\u7ed3\u6784</li> <li>\u5b50\u8fdb\u7a0b\u5f00\u59cb\u6267\u884c\uff1a\u5b50\u8fdb\u7a0b\u5f00\u59cb\u6267\u884c\u65b0\u7a0b\u5e8f\u6216\u7ee7\u7eed\u6267\u884c\u7236\u8fdb\u7a0b\u7684\u4ee3\u7801\u3002\u901a\u5e38\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u6839\u636e fork() \u6216 exec() \u7684\u8fd4\u56de\u503c\u6765\u5224\u65ad\u81ea\u5df1\u7684\u89d2\u8272\uff0c\u5e76\u6267\u884c\u76f8\u5e94\u7684\u903b\u8f91\u3002\u4f8b\u5982\uff0c\u5b50\u8fdb\u7a0b\u53ef\u80fd\u4f1a\u5173\u95ed\u4e0d\u9700\u8981\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u521d\u59cb\u5316\u8d44\u6e90\u6216\u542f\u52a8\u65b0\u7684\u7ebf\u7a0b\u7b49</li> <li>\u7236\u8fdb\u7a0b\u7b49\u5f85\u5b50\u8fdb\u7a0b(\u53ef\u9009)\uff1a\u7236\u8fdb\u7a0b\u53ef\u4ee5\u9009\u62e9\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u5b8c\u6210\uff0c\u4ee5\u83b7\u53d6\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\u72b6\u6001\u548c\u56de\u6536\u8d44\u6e90\u3002 \u5728\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0cwait() \u6216 waitpid() \u7cfb\u7edf\u8c03\u7528\u53ef\u4ee5\u7528\u4e8e\u7b49\u5f85\u5b50\u8fdb\u7a0b\u3002\u5f53\u5b50\u8fdb\u7a0b\u7ed3\u675f\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u53d1\u9001\u4e00\u4e2a SIGCHLD \u4fe1\u53f7\u901a\u77e5\u7236\u8fdb\u7a0b\uff0c\u7236\u8fdb\u7a0b\u53ef\u4ee5\u6355\u83b7\u8be5\u4fe1\u53f7\u5e76\u5904\u7406\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\u4e8b\u4ef6</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_19","title":"\u5982\u4f55\u56de\u6536\u7ebf\u7a0b\uff1f","text":"<p>\u7ebf\u7a0b\u56de\u6536\u662f\u6307\u5728\u4e00\u4e2a\u7ebf\u7a0b\u5b8c\u6210\u6267\u884c\u540e\uff0c\u91ca\u653e\u5176\u5360\u7528\u7684\u8d44\u6e90\u5e76\u6e05\u9664\u76f8\u5173\u6570\u636e\u7ed3\u6784\u7684\u8fc7\u7a0b\u3002\u7ebf\u7a0b\u56de\u6536\u7684\u65b9\u6cd5\u53d6\u51b3\u4e8e\u5177\u4f53\u7684\u7f16\u7a0b\u8bed\u8a00\u548c\u64cd\u4f5c\u7cfb\u7edf\u3002\u4ee5\u4e0b\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u7ebf\u7a0b\u56de\u6536\u65b9\u6cd5\uff1a</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#join","title":"\u4f7f\u7528 join() \u65b9\u6cd5","text":"<p>\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u548c\u5e93\u4e2d(\u5982 C++11 \u4e2d\u7684 std::thread\u3001 Python \u7684 threading  \u6a21\u5757\u7b49)\uff0c\u7ebf\u7a0b\u5bf9\u8c61\u901a\u5e38\u63d0\u4f9b\u4e86\u4e00\u4e2a join() \u65b9\u6cd5\u3002\u901a\u8fc7\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c \u4e3b\u7ebf\u7a0b(\u6216\u5176\u4ed6\u7ebf\u7a0b)\u53ef\u4ee5\u7b49\u5f85\u76ee\u6807\u7ebf\u7a0b\u5b8c\u6210\uff0c\u5e76\u5728\u5b8c\u6210\u540e\u56de\u6536\u8d44\u6e90\u3002\u4f7f\u7528 join() \u65b9\u6cd5\u7684\u597d\u5904\u662f\u53ef\u4ee5\u786e\u4fdd\u76ee\u6807\u7ebf\u7a0b\u7684\u8d44\u6e90\u88ab\u6b63\u786e\u56de\u6536\uff0c\u907f\u514d\u5185\u5b58\u6cc4\u6f0f\u548c\u50f5\u5c38\u7ebf\u7a0b\u7b49\u95ee\u9898\u3002</p> C++<pre><code>  #include &lt;iostream&gt;\n  #include &lt;thread&gt;\n\n  void thread_function() {\n      std::cout &lt;&lt; \"Hello, I am a new thread!\" &lt;&lt; std::endl;\n  }\n\n  int main() {\n      std::thread t(thread_function);\n      t.join(); // \u7b49\u5f85\u7ebf\u7a0b t \u5b8c\u6210\uff0c\u5e76\u56de\u6536\u8d44\u6e90\n      return 0;\n  }\n</code></pre>"},{"location":"Operating%20System/Process%20%26%20Thread/#detach","title":"\u4f7f\u7528\u7ebf\u7a0b\u5206\u79bb(detach)","text":"<p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u4e0d\u9700\u8981\u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210\uff0c\u800c\u53ea\u9700\u786e\u4fdd\u7ebf\u7a0b\u5728\u9000\u51fa\u65f6\u81ea\u52a8\u56de\u6536\u8d44\u6e90\u3002\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528\u7ebf\u7a0b\u5206\u79bb(detach)\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u5728 C++11 \u7684 std::thread \u4e2d\uff0c\u53ef\u4ee5\u8c03\u7528 detach() \u65b9\u6cd5\u5c06\u7ebf\u7a0b\u8bbe\u7f6e\u4e3a\u5206\u79bb\u72b6\u6001\u3002 \u5206\u79bb\u72b6\u6001\u7684\u7ebf\u7a0b\u5728\u5b8c\u6210\u6267\u884c\u540e\u4f1a\u81ea\u52a8\u91ca\u653e\u8d44\u6e90\uff0c\u65e0\u9700\u8c03\u7528 join() \u65b9\u6cd5\u3002</p> C++<pre><code>  #include &lt;iostream&gt;\n  #include &lt;thread&gt;\n\n  void thread_function() {\n      std::cout &lt;&lt; \"Hello, I am a new thread!\" &lt;&lt; std::endl;\n  }\n\n  int main() {\n      std::thread t(thread_function);\n      t.detach(); // \u5c06\u7ebf\u7a0b t \u8bbe\u7f6e\u4e3a\u5206\u79bb\u72b6\u6001\n      return 0;\n  }\n</code></pre> <p>\u4f7f\u7528 \u5206\u79bb\u72b6\u6001\u7684\u7ebf\u7a0b\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u5b9a\u7a0b\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u56e0\u4e3a\u4e3b\u7ebf\u7a0b(\u6216\u5176\u4ed6\u7ebf\u7a0b)\u65e0\u6cd5\u77e5\u9053\u5206\u79bb\u7ebf\u7a0b\u4f55\u65f6\u5b8c\u6210\u3002\u56e0\u6b64\uff0c\u5728\u4f7f\u7528\u7ebf\u7a0b\u5206\u79bb\u65f6\u9700\u8981\u786e\u4fdd\u7ebf\u7a0b\u4e4b\u95f4\u7684\u540c\u6b65\u548c\u8d44\u6e90\u7ba1\u7406\u5f97\u5f53\uff0c\u907f\u514d\u7ade\u6001\u6761\u4ef6\u548c\u5185\u5b58\u6cc4\u6f0f\u7b49\u95ee\u9898\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#thread-local-storage-tls","title":"\u4f7f\u7528\u7ebf\u7a0b\u5c40\u90e8\u5b58\u50a8(Thread-Local Storage, TLS)","text":"<p>\u5728\u67d0\u4e9b\u7f16\u7a0b\u8bed\u8a00\u548c\u5e93\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u7ebf\u7a0b\u5c40\u90e8\u5b58\u50a8(TLS)\u673a\u5236\u4e3a\u6bcf\u4e2a\u7ebf\u7a0b\u5206\u914d\u72ec\u7acb\u7684\u8d44\u6e90\uff0c\u5982\u5185\u5b58\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\u3002 \u901a\u8fc7 TLS \u53ef\u4ee5\u786e\u4fdd\u7ebf\u7a0b\u5728\u9000\u51fa\u65f6\u81ea\u52a8\u56de\u6536\u5176\u5360\u7528\u7684\u8d44\u6e90\uff0c\u4ece\u800c\u7b80\u5316\u7ebf\u7a0b\u7ba1\u7406\u548c\u8d44\u6e90\u56de\u6536\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cTLS \u673a\u5236\u901a\u5e38\u9700\u8981\u7279\u5b9a\u7684\u7f16\u7a0b\u8bed\u8a00\u6216\u5e93\u652f\u6301\uff0c\u5982 C++11 \u7684 thread_local \u5173\u952e\u5b57\u3001Python \u7684 threading.local() \u51fd\u6570\u7b49\u3002\u4ee5\u4e0b\u662f\u4f7f\u7528\u7ebf\u7a0b\u5c40\u90e8\u5b58\u50a8\u7684\u793a\u4f8b\uff1a</p> C++<pre><code>  #include &lt;iostream&gt;\n  #include &lt;thread&gt;\n  #include &lt;mutex&gt;\n\n  thread_local int thread_local_variable; // \u58f0\u660e\u4e00\u4e2a\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\n\n  void thread_function(int value) {\n      thread_local_variable = value;\n      std::cout &lt;&lt; \"Thread local variable: \" &lt;&lt; thread_local_variable &lt;&lt; std::endl;\n  }\n\n  int main() {\n      std::thread t1(thread_function, 10);\n      std::thread t2(thread_function, 20);\n\n      t1.join();\n      t2.join();\n\n      return 0;\n  }\n</code></pre>"},{"location":"Operating%20System/Process%20%26%20Thread/#_20","title":"\u8fdb\u7a0b\u7ec8\u6b62\u65b9\u5f0f\uff1f","text":"<p>\u8fdb\u7a0b\u7ec8\u6b62\u662f\u6307\u4e00\u4e2a\u8fdb\u7a0b\u5b8c\u6210\u5176\u751f\u547d\u5468\u671f\u5e76\u91ca\u653e\u5176\u5360\u7528\u7684\u8d44\u6e90\u7684\u8fc7\u7a0b\u3002\u64cd\u4f5c\u7cfb\u7edf\u548c\u7f16\u7a0b\u8bed\u8a00\u901a\u5e38\u63d0\u4f9b\u591a\u79cd\u8fdb\u7a0b\u7ec8\u6b62\u65b9\u5f0f\uff0c\u4ee5\u9002\u5e94\u4e0d\u540c\u7684\u573a\u666f\u548c\u9700\u6c42\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u8fdb\u7a0b\u7ec8\u6b62\u65b9\u5f0f\uff1a</p> <ul> <li>\u6b63\u5e38\u7ec8\u6b62(Normal Termination)\uff1a\u6b63\u5e38\u7ec8\u6b62\u662f\u6307\u8fdb\u7a0b\u81ea\u7136\u5b8c\u6210\u5176\u6267\u884c\u4efb\u52a1\u5e76\u4e3b\u52a8\u9000\u51fa\u7684\u60c5\u51b5\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8fdb\u7a0b\u901a\u5e38\u4f1a\u8fd4\u56de\u4e00\u4e2a\u9000\u51fa\u72b6\u6001\u7801(Exit Code)\uff0c\u4ee5\u8868\u793a\u6267\u884c\u7ed3\u679c\u3002\u4f8b\u5982\uff0c\u5728 C \u548c C++ \u7a0b\u5e8f\u4e2d\uff0cmain() \u51fd\u6570\u7684\u8fd4\u56de\u503c\u4f1a\u4f5c\u4e3a\u8fdb\u7a0b\u7684\u9000\u51fa\u72b6\u6001\u7801</li> <li>\u5f02\u5e38\u7ec8\u6b62(Abnormal Termination)\uff1a\u5f02\u5e38\u7ec8\u6b62\u662f\u6307\u8fdb\u7a0b\u56e0\u67d0\u79cd\u9519\u8bef\u6216\u5f02\u5e38\u800c\u88ab\u8feb\u9000\u51fa\u7684\u60c5\u51b5\u3002\u4f8b\u5982\uff0c\u8fdb\u7a0b\u9047\u5230\u6bb5\u9519\u8bef(Segmentation Fault)\u3001\u6d6e\u70b9\u5f02\u5e38(Floating Point Exception)\u6216\u5176\u4ed6\u672a\u6355\u83b7\u7684\u5f02\u5e38\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u901a\u5e38\u4f1a\u7ec8\u6b62\u8fdb\u7a0b\u5e76\u751f\u6210\u4e00\u4e2a\u6838\u5fc3\u8f6c\u50a8\u6587\u4ef6(Core Dump)\u3002\u5f02\u5e38\u7ec8\u6b62\u901a\u5e38\u8868\u793a\u8fdb\u7a0b\u5b58\u5728 bug \u6216\u8d44\u6e90\u95ee\u9898\uff0c\u9700\u8981\u8fdb\u884c\u8c03\u8bd5\u548c\u4fee\u590d</li> <li>\u901a\u8fc7\u4fe1\u53f7(Signal)\u7ec8\u6b62\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u4fe1\u53f7(Signal)\u673a\u5236\u6765\u5411\u8fdb\u7a0b\u53d1\u9001\u4e8b\u4ef6\u548c\u547d\u4ee4\u3002\u90e8\u5206\u4fe1\u53f7\u53ef\u5bfc\u81f4\u8fdb\u7a0b\u7ec8\u6b62\uff0c\u5982 SIGTERM\u3001SIGINT\u3001SIGKILL \u7b49\u3002\u4f8b\u5982\uff0c\u5f53\u7528\u6237\u6309\u4e0b Ctrl+C \u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5411\u524d\u53f0\u8fdb\u7a0b\u53d1\u9001\u4e00\u4e2a SIGINT \u4fe1\u53f7\uff0c\u8bf7\u6c42\u8fdb\u7a0b\u7ec8\u6b62\u3002\u8fdb\u7a0b\u53ef\u4ee5\u6355\u83b7\u548c\u5904\u7406\u90e8\u5206\u4fe1\u53f7(\u5982 SIGTERM\u3001SIGINT)\uff0c\u4ee5\u5b9e\u73b0\u4f18\u96c5\u9000\u51fa\u6216\u5176\u4ed6\u81ea\u5b9a\u4e49\u884c\u4e3a\u3002\u7136\u800c\uff0c\u67d0\u4e9b\u4fe1\u53f7(\u5982 SIGKILL)\u65e0\u6cd5\u88ab\u6355\u83b7\uff0c\u4f1a\u5f3a\u5236\u7ec8\u6b62\u8fdb\u7a0b</li> <li>\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528(System Call)\u7ec8\u6b62\uff1a\u64cd\u4f5c\u7cfb\u7edf\u901a\u5e38\u63d0\u4f9b\u4e00\u4e9b\u7cfb\u7edf\u8c03\u7528\u6765\u5b9e\u73b0\u8fdb\u7a0b\u7ba1\u7406\u548c\u63a7\u5236\u3002\u4f8b\u5982\uff0c\u5728\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c \u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528 exit()\u3001_exit() \u6216 abort() \u7b49\u7cfb\u7edf\u8c03\u7528\u6765\u4e3b\u52a8\u7ec8\u6b62\u81ea\u5df1\u3002\u8fd9\u4e9b\u7cfb\u7edf\u8c03\u7528\u4f1a\u901a\u77e5\u64cd\u4f5c\u7cfb\u7edf\u56de\u6536\u8fdb\u7a0b\u7684\u8d44\u6e90\uff0c\u5982\u5185\u5b58\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\uff0c\u5e76\u5c06\u8fdb\u7a0b\u72b6\u6001\u8bbe\u7f6e\u4e3a\u7ec8\u6b62(Terminated)</li> <li>\u7236\u8fdb\u7a0b\u7ec8\u6b62\u5b50\u8fdb\u7a0b\uff1a\u7236\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u7279\u5b9a\u7684\u7cfb\u7edf\u8c03\u7528\u6216\u4fe1\u53f7\u6765\u7ec8\u6b62\u5176\u5b50\u8fdb\u7a0b\u3002\u4f8b\u5982\uff0c\u5728\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u7236\u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528 kill() \u7cfb\u7edf\u8c03\u7528\u6765\u5411\u5b50\u8fdb\u7a0b\u53d1\u9001 SIGTERM\u3001SIGINT\u3001SIGKILL \u7b49\u4fe1\u53f7\uff0c\u8bf7\u6c42\u5b50\u8fdb\u7a0b\u7ec8\u6b62\u3002\u6b64\u5916\uff0c\u7236\u8fdb\u7a0b\u8fd8\u53ef\u4ee5\u4f7f\u7528 wait() \u6216 waitpid () \u7cfb\u7edf\u8c03\u7528\u6765\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u5b8c\u6210\uff0c\u5e76\u5728\u5b8c\u6210\u540e\u56de\u6536\u8d44\u6e90</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_21","title":"\u5982\u4f55\u8ba9\u8fdb\u7a0b\u540e\u53f0\u8fd0\u884c\uff1f","text":"<p>\u5728 Unix/Linux shell \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u547d\u4ee4\u540e \u6dfb\u52a0 &amp; \u7b26\u53f7\u5c06\u8fdb\u7a0b\u653e\u5165\u540e\u53f0\u8fd0\u884c\u3002\u8fd9\u6837\uff0c\u8fdb\u7a0b\u5c06\u5728\u540e\u53f0\u6267\u884c\uff0c\u800c\u4e0d\u4f1a\u963b\u585e shell\u3002\u4f8b\u5982\uff1a</p> <p>Bash<pre><code>./your_program &amp;\n</code></pre> \u5728 Unix/Linux \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 nohup \u547d\u4ee4\u5728\u540e\u53f0\u8fd0\u884c\u8fdb\u7a0b\uff0c\u5e76\u4f7f\u5176\u5728\u7ec8\u7aef\u5173\u95ed\u540e\u4ecd\u7136\u7ee7\u7eed\u8fd0\u884c\u3002nohup \u547d\u4ee4\u4f1a\u5ffd\u7565 SIGHUP \u4fe1\u53f7\uff0c\u4f7f\u8fdb\u7a0b\u5728\u7ec8\u7aef\u5173\u95ed\u540e\u4e0d\u4f1a\u88ab\u7ec8\u6b62\u3002\u4f8b\u5982\uff1a Bash<pre><code>nohup ./your_program &amp;\n</code></pre> \u8fd9\u5c06\u628a\u7a0b\u5e8f\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u540d\u4e3a nohup.out \u7684\u6587\u4ef6\u4e2d\uff0c\u6216\u8005\u4f60\u53ef\u4ee5\u624b\u52a8\u91cd\u5b9a\u5411\u8f93\u51fa\u5230\u5176\u4ed6\u6587\u4ef6\uff1a Bash<pre><code>nohup ./your_program &gt; output.log 2&gt;&amp;1 &amp;\n</code></pre> screen \u548c tmux \u662f\u4e24\u4e2a\u6d41\u884c\u7684\u7ec8\u7aef\u590d\u7528\u5668\uff0c\u5b83\u4eec\u5141\u8bb8\u4f60\u5728\u540e\u53f0\u8fd0\u884c\u591a\u4e2a\u4f1a\u8bdd\uff0c\u5e76\u5728\u9700\u8981\u65f6\u91cd\u65b0\u8fde\u63a5\u3002\u8fd9\u4e9b\u5de5\u5177\u975e\u5e38\u9002\u5408\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u6301\u4e45\u7684\u8fdb\u7a0b\u3002\u4f8b\u5982\uff0c\u4f7f\u7528 screen\uff1a Bash<pre><code>screen ./your_program\n</code></pre> \u4f7f\u7528  tmux  \u7684\u65b9\u6cd5\u5982\u4e0b\uff1a Bash<pre><code>tmux \n./your_program\n</code></pre></p> <p>\u5728 Windows \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f\u5728\u540e\u53f0\u8fd0\u884c\u8fdb\u7a0b\u3002\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f\u5141\u8bb8\u4f60\u521b\u5efa\u548c\u7ba1\u7406\u8ba1\u5212\u4efb\u52a1\uff0c\u5982\u5b9a\u65f6\u8fd0\u884c\u7a0b\u5e8f\u3001\u6267\u884c\u811a\u672c\u7b49\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_22","title":"\u8bb2\u4e00\u8bb2\u5b88\u62a4\u8fdb\u7a0b\uff0c\u50f5\u5c38\u8fdb\u7a0b\uff0c\u5b64\u513f\u8fdb\u7a0b\uff1f","text":""},{"location":"Operating%20System/Process%20%26%20Thread/#_23","title":"\u5b88\u62a4\u8fdb\u7a0b","text":"<p>\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u79cd\u5728\u540e\u53f0\u8fd0\u884c\u7684\u7279\u6b8a\u8fdb\u7a0b\uff0c\u901a\u5e38\u7528\u4e8e\u63d0\u4f9b\u67d0\u79cd\u670d\u52a1\u6216\u6267\u884c\u5b9a\u671f\u4efb\u52a1\u3002 \u5b88\u62a4\u8fdb\u7a0b\u6ca1\u6709\u63a7\u5236\u7ec8\u7aef(Controlling Terminal)\uff0c\u56e0\u6b64\u4e0d\u4f1a\u4e0e\u7528\u6237\u4ea4\u4e92\u3002\u5b83\u4eec\u901a\u5e38\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u542f\u52a8\uff0c\u5e76\u5728\u7cfb\u7edf\u5173\u95ed\u65f6\u7ec8\u6b62\u3002\u5b88\u62a4\u8fdb\u7a0b\u7684\u540d\u79f0\u901a\u5e38\u4ee5 d \u7ed3\u5c3e\uff0c\u5982 sshd(Secure Shell Daemon)\u3001httpd(HTTP Daemon)\u7b49\u3002\u8981\u521b\u5efa\u5b88\u62a4\u8fdb\u7a0b\uff0c\u901a\u5e38\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>\u8c03\u7528 fork() \u4ea7\u751f\u5b50\u8fdb\u7a0b\uff0c\u7136\u540e\u8ba9\u7236\u8fdb\u7a0b\u9000\u51fa\u3002\u8fd9\u6837\u5b50\u8fdb\u7a0b\u4f1a\u6210\u4e3a\u5b64\u513f\u8fdb\u7a0b\uff0c \u88ab init \u8fdb\u7a0b(\u8fdb\u7a0b ID \u4e3a 1)\u6536\u517b\uff0c\u4ece\u800c\u6446\u8131\u539f\u59cb\u7684\u63a7\u5236\u7ec8\u7aef</li> <li>\u8c03\u7528 setsid() \u521b\u5efa\u65b0\u7684\u4f1a\u8bdd(Session)\u5e76\u6210\u4e3a\u4f1a\u8bdd\u7ec4\u957f\uff0c\u4ee5\u786e\u4fdd\u8fdb\u7a0b\u4e0d\u518d\u62e5\u6709\u63a7\u5236\u7ec8\u7aef</li> <li>\u6539\u53d8\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55(\u4f8b\u5982\uff0c\u5207\u6362\u5230\u6839\u76ee\u5f55)</li> <li>\u91cd\u8bbe\u6587\u4ef6\u6743\u9650\u63a9\u7801(umask)</li> <li>\u5173\u95ed\u4e0d\u9700\u8981\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>\u5904\u7406\u76f8\u5173\u4fe1\u53f7(\u5982 SIGHUP\u3001SIGTERM \u7b49)</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_24","title":"\u50f5\u5c38\u8fdb\u7a0b","text":"<p>\u50f5\u5c38\u8fdb\u7a0b\u662f\u4e00\u79cd\u5df2\u7ecf\u7ec8\u6b62\u4f46\u4ecd\u5360\u7528\u8fdb\u7a0b\u8868(Process Table)\u7a7a\u95f4\u7684\u8fdb\u7a0b\u3002\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u7ec8\u6b62\u65f6\uff0c\u5176\u5b50\u8fdb\u7a0b\u7684\u72b6\u6001\u4f1a\u53d8\u4e3a\u50f5\u5c38\u8fdb\u7a0b\uff0c\u76f4\u5230\u7236\u8fdb\u7a0b\u901a\u8fc7\u8c03\u7528 wait() \u6216 waitpid() \u7cfb\u7edf\u8c03\u7528\u56de\u6536\u5176\u8d44\u6e90\u3002\u50f5\u5c38\u8fdb\u7a0b\u4e0d\u518d\u5360\u7528 CPU \u6216\u5185\u5b58\u8d44\u6e90\uff0c\u4f46\u4f1a\u5360\u7528\u8fdb\u7a0b\u8868\u7a7a\u95f4\u3002\u5982\u679c\u7cfb\u7edf\u4ea7\u751f\u5927\u91cf\u50f5\u5c38\u8fdb\u7a0b\uff0c\u53ef\u80fd\u5bfc\u81f4\u8fdb\u7a0b\u8868\u8017\u5c3d\uff0c\u4ece\u800c\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd\u3002\u4e3a\u907f\u514d\u50f5\u5c38\u8fdb\u7a0b\uff0c\u7236\u8fdb\u7a0b\u5e94\u5f53\u53ca\u65f6\u56de\u6536\u5df2\u7ec8\u6b62\u5b50\u8fdb\u7a0b\u7684\u8d44\u6e90\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_25","title":"\u5b64\u513f\u8fdb\u7a0b","text":"<p>\u5b64\u513f\u8fdb\u7a0b\u662f\u6307\u7236\u8fdb\u7a0b\u5728\u5b50\u8fdb\u7a0b\u4e4b\u524d\u7ec8\u6b62\uff0c\u5bfc\u81f4\u5b50\u8fdb\u7a0b\u5931\u53bb\u7236\u8fdb\u7a0b\u7684\u60c5\u51b5\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c \u5b64\u513f\u8fdb\u7a0b\u4f1a\u88ab init \u8fdb\u7a0b(\u8fdb\u7a0b ID \u4e3a 1)\u6536\u517b\u3002init \u8fdb\u7a0b\u4f1a\u5b9a\u671f\u8c03\u7528 wait() \u6216 waitpid() \u7cfb\u7edf\u8c03\u7528\uff0c\u4ee5\u56de\u6536\u5b64\u513f\u8fdb\u7a0b\u7684\u8d44\u6e90\u3002\u56e0\u6b64\uff0c\u5b64\u513f\u8fdb\u7a0b\u4e0d\u4f1a\u6210\u4e3a\u50f5\u5c38\u8fdb\u7a0b\u3002\u867d\u7136\u5b64\u513f\u8fdb\u7a0b\u53ef\u80fd\u4f1a\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u65e0\u4eba\u7ba1\u7406\uff0c\u4f46\u5b83\u4eec\u6700\u7ec8\u4f1a\u88ab init \u8fdb\u7a0b\u6536\u517b\u5e76\u5f97\u5230\u59a5\u5584\u5904\u7406\u3002\u5b64\u513f\u8fdb\u7a0b\u4ecd\u7136\u53ef\u4ee5\u72ec\u7acb\u8fd0\u884c\uff0c\u5b8c\u6210\u5176\u4efb\u52a1\uff0c\u76f4\u5230\u5b83\u4eec\u81ea\u7136\u7ed3\u675f\u6216\u88ab\u64cd\u4f5c\u7cfb\u7edf\u7ec8\u6b62\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_26","title":"\u603b\u7ed3","text":"<ul> <li>\u5b88\u62a4\u8fdb\u7a0b\uff1a\u540e\u53f0\u8fd0\u884c\u7684\u7279\u6b8a\u8fdb\u7a0b\uff0c\u7528\u4e8e\u63d0\u4f9b\u670d\u52a1\u6216\u6267\u884c\u5b9a\u671f\u4efb\u52a1\uff0c\u6ca1\u6709\u63a7\u5236\u7ec8\u7aef</li> <li>\u50f5\u5c38\u8fdb\u7a0b\uff1a\u5df2\u7ecf\u7ec8\u6b62\u4f46\u4ecd\u5360\u7528\u8fdb\u7a0b\u8868\u7a7a\u95f4\u7684\u8fdb\u7a0b\uff0c\u9700\u8981\u7236\u8fdb\u7a0b\u8c03\u7528 wait() \u6216 waitpid() \u56de\u6536\u8d44\u6e90</li> <li>\u5b64\u513f\u8fdb\u7a0b\uff1a\u7236\u8fdb\u7a0b\u5728\u5b50\u8fdb\u7a0b\u4e4b\u524d\u7ec8\u6b62\u7684\u8fdb\u7a0b\uff0c\u4f1a\u88ab init \u8fdb\u7a0b\u6536\u517b\u5e76\u6700\u7ec8\u5f97\u5230\u59a5\u5584\u5904\u7406</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_27","title":"\u8bb2\u4e00\u8bb2\u7236\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u7ec4\uff0c\u4f1a\u8bdd\uff1f","text":""},{"location":"Operating%20System/Process%20%26%20Thread/#parent-processchild-process","title":"\u7236\u8fdb\u7a0b(Parent Process)\u548c\u5b50\u8fdb\u7a0b(Child Process)","text":"<p>\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u8fdb\u7a0b\u3002\u521b\u5efa\u65b0\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u79f0\u4e3a\u7236\u8fdb\u7a0b\uff0c\u65b0\u521b\u5efa\u7684\u8fdb\u7a0b\u79f0\u4e3a\u5b50\u8fdb\u7a0b\u3002\u8fd9\u79cd\u5173\u7cfb\u5f62\u6210\u4e86\u4e00\u4e2a\u8fdb\u7a0b\u6811\u7ed3\u6784\uff0c\u5176\u4e2d\u6839\u8fdb\u7a0b(\u5982 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\u7684 init \u8fdb\u7a0b\uff0c\u8fdb\u7a0b ID \u4e3a 1)\u662f\u6240\u6709\u5176\u4ed6\u8fdb\u7a0b\u7684\u7956\u5148\u3002\u5728 Unix \u548c\u7c7b Unix \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 fork() \u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u5b50\u8fdb\u7a0b\u3002fork() \u8c03\u7528\u4f1a\u590d\u5236\u5f53\u524d\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u548c\u73af\u5883\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\u3002 \u5b50\u8fdb\u7a0b\u4ece fork() \u8c03\u7528\u5904\u7ee7\u7eed\u6267\u884c\uff0c\u5e76\u7ee7\u627f\u7236\u8fdb\u7a0b\u7684\u5927\u90e8\u5206\u5c5e\u6027(\u5982\u6587\u4ef6\u63cf\u8ff0\u7b26\u3001\u73af\u5883\u53d8\u91cf\u7b49)\u3002\u7236\u5b50\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7 getpid()(\u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b ID)\u548c getppid()(\u83b7\u53d6\u7236\u8fdb\u7a0b ID)\u7cfb\u7edf\u8c03\u7528\u6765\u8bc6\u522b\u5f7c\u6b64\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#process-group","title":"\u8fdb\u7a0b\u7ec4(Process Group)","text":"<p>\u8fdb\u7a0b\u7ec4\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\u7684\u96c6\u5408\uff0c\u5b83\u4eec\u5171\u4eab\u76f8\u540c\u7684\u8fdb\u7a0b\u7ec4 ID(Process Group ID\uff0c\u7b80\u79f0 PGID)\u3002\u8fdb\u7a0b\u7ec4\u7528\u4e8e\u7ec4\u7ec7\u5177\u6709\u76f8\u5173\u4efb\u52a1\u7684\u8fdb\u7a0b\uff0c\u5e76\u5141\u8bb8\u5411\u6574\u4e2a\u8fdb\u7a0b\u7ec4\u53d1\u9001\u4fe1\u53f7\u3002\u8fdb\u7a0b\u7ec4 ID \u901a\u5e38\u7531\u8fdb\u7a0b\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b(\u7ec4\u957f)\u7684\u8fdb\u7a0b ID \u51b3\u5b9a\u3002\u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528 setpgid() \u7cfb\u7edf\u8c03\u7528\u52a0\u5165\u4e00\u4e2a\u73b0\u6709\u7684\u8fdb\u7a0b\u7ec4\uff0c\u6216\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\u7ec4\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#session","title":"\u4f1a\u8bdd(Session)","text":"<p>\u4f1a\u8bdd\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\u7ec4\u7684\u96c6\u5408\uff0c\u5b83\u4eec\u5171\u4eab\u76f8\u540c\u7684\u4f1a\u8bdd ID(Session ID\uff0c\u7b80\u79f0 SID)\u3002\u4f1a\u8bdd\u7528\u4e8e\u7ba1\u7406\u7ec8\u7aef\u548c\u767b\u5f55\u73af\u5883\u4e0b\u7684\u8fdb\u7a0b\u3002\u6bcf\u4e2a\u4f1a\u8bdd\u90fd\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u63a7\u5236\u7ec8\u7aef(Controlling Terminal)\uff0c\u8be5\u7ec8\u7aef\u53ef\u4ee5\u53d1\u9001\u4fe1\u53f7\u7ed9\u4f1a\u8bdd\u4e2d\u7684\u6240\u6709\u8fdb\u7a0b\u3002\u4f1a\u8bdd ID \u901a\u5e38\u7531\u4f1a\u8bdd\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b(\u4f1a\u8bdd\u7ec4\u957f)\u7684\u8fdb\u7a0b ID \u51b3\u5b9a\u3002\u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528 setsid() \u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4f1a\u8bdd\uff0c\u5e76\u6210\u4e3a\u8be5\u4f1a\u8bdd\u7684\u7ec4\u957f\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_28","title":"\u603b\u7ed3","text":"<ul> <li>\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\uff1a\u8fdb\u7a0b\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u8fdb\u7a0b\uff0c\u5f62\u6210\u7236\u5b50\u5173\u7cfb\u3002\u8fd9\u79cd\u5173\u7cfb\u6784\u6210\u4e86\u8fdb\u7a0b\u6811\u7ed3\u6784</li> <li>\u8fdb\u7a0b\u7ec4\uff1a\u4e00\u4e2a\u6216\u591a\u4e2a\u5177\u6709\u76f8\u540c\u8fdb\u7a0b\u7ec4 ID \u7684\u8fdb\u7a0b\u7684\u96c6\u5408\uff0c\u7528\u4e8e\u7ec4\u7ec7\u76f8\u5173\u4efb\u52a1\u7684\u8fdb\u7a0b</li> <li>\u4f1a\u8bdd\uff1a\u4e00\u4e2a\u6216\u591a\u4e2a\u5177\u6709\u76f8\u540c\u4f1a\u8bdd ID \u7684\u8fdb\u7a0b\u7ec4\u7684\u96c6\u5408\uff0c\u7528\u4e8e\u7ba1\u7406\u7ec8\u7aef\u548c\u767b\u5f55\u73af\u5883\u4e0b\u7684\u8fdb\u7a0b</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_29","title":"\u591a\u8fdb\u7a0b\u4e0e\u591a\u7ebf\u7a0b\u600e\u4e48\u9009\u62e9\uff1f","text":""},{"location":"Operating%20System/Process%20%26%20Thread/#_30","title":"\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u5982\u679c\u5e94\u7528\u9700\u8981\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\uff0c\u6216\u8005\u9700\u8981\u5728\u4e0d\u540c\u7684\u5b89\u5168\u4e0a\u4e0b\u6587\u4e2d\u8fd0\u884c\uff0c\u90a3\u4e48\u591a\u8fdb\u7a0b\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9</li> <li>\u591a\u7ebf\u7a0b\uff1a\u5982\u679c\u5e94\u7528\u9700\u8981\u9ad8\u5ea6\u5171\u4eab\u6570\u636e\u548c\u8d44\u6e90\uff0c\u6216\u8005\u9700\u8981\u8f7b\u91cf\u7ea7\u7684\u4efb\u52a1\u5e76\u53d1\uff0c\u90a3\u4e48\u591a\u7ebf\u7a0b\u53ef\u80fd\u66f4\u9002\u5408</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_31","title":"\u8d44\u6e90\u9700\u6c42","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u56e0\u6b64\u8d44\u6e90\u5360\u7528(\u5982\u5185\u5b58)\u53ef\u80fd\u4f1a\u66f4\u9ad8\u3002\u5728\u8d44\u6e90\u53d7\u9650\u7684\u73af\u5883\u4e0b\uff0c\u591a\u8fdb\u7a0b\u53ef\u80fd\u4e0d\u662f\u6700\u4f73\u9009\u62e9</li> <li>\u591a\u7ebf\u7a0b\uff1a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\uff0c\u56e0\u6b64\u8d44\u6e90\u5360\u7528\u8f83\u4f4e\u3002\u5bf9\u4e8e\u8d44\u6e90\u53d7\u9650\u7684\u73af\u5883\uff0c\u591a\u7ebf\u7a0b\u53ef\u80fd\u66f4\u5408\u9002</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_32","title":"\u5f00\u53d1\u548c\u7ef4\u62a4\u96be\u5ea6","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u8fdb\u7a0b\u95f4\u901a\u4fe1(IPC)\u53ef\u80fd\u76f8\u5bf9\u590d\u6742\uff0c\u9700\u8981\u4f7f\u7528\u8bf8\u5982\u7ba1\u9053\u3001\u5171\u4eab\u5185\u5b58\u3001\u4fe1\u53f7\u91cf\u7b49\u673a\u5236\u3002\u6b64\u5916\uff0c\u8fdb\u7a0b\u7684\u521b\u5efa\u548c\u7ba1\u7406\u76f8\u5bf9\u8f83\u91cd\uff0c\u53ef\u80fd\u4f1a\u589e\u52a0\u5f00\u53d1\u548c\u7ef4\u62a4\u96be\u5ea6</li> <li>\u591a\u7ebf\u7a0b\uff1a\u7ebf\u7a0b\u95f4\u901a\u4fe1\u8f83\u4e3a\u7b80\u5355\uff0c\u56e0\u4e3a\u5b83\u4eec\u5171\u4eab\u5730\u5740\u7a7a\u95f4\u3002\u7136\u800c\uff0c\u591a\u7ebf\u7a0b\u7f16\u7a0b\u53ef\u80fd\u6d89\u53ca\u590d\u6742\u7684\u540c\u6b65\u548c\u9501\u5b9a\u673a\u5236\uff0c\u4ee5\u907f\u514d\u6570\u636e\u7ade\u4e89\u548c\u6b7b\u9501\u7b49\u95ee\u9898</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_33","title":"\u53ef\u6269\u5c55\u6027","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u591a\u8fdb\u7a0b\u53ef\u4ee5\u66f4\u597d\u5730\u5229\u7528\u591a\u6838\u5904\u7406\u5668\u548c\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u591a\u8fdb\u7a0b\u53ef\u80fd\u5177\u6709\u66f4\u597d\u7684\u53ef\u6269\u5c55\u6027</li> <li>\u591a\u7ebf\u7a0b\uff1a\u591a\u7ebf\u7a0b\u5728\u5355\u6838\u5904\u7406\u5668\u4e0a\u53ef\u80fd\u8868\u73b0\u5f97\u66f4\u597d\uff0c\u56e0\u4e3a\u5b83\u4eec\u5171\u4eab\u8d44\u6e90\u5e76\u51cf\u5c11\u4e86\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u5f00\u9500\u3002\u7136\u800c\uff0c\u5728\u591a\u6838\u5904\u7406\u5668\u4e0a\uff0c\u591a\u7ebf\u7a0b\u53ef\u80fd\u53d7\u5230\u5168\u5c40\u9501\u548c\u8d44\u6e90\u4e89\u7528\u7684\u5f71\u54cd</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_34","title":"\u5bb9\u9519\u6027\u548c\u9694\u79bb","text":"<ul> <li>\u591a\u8fdb\u7a0b\uff1a\u7531\u4e8e\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u56e0\u6b64\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5d29\u6e83\u4e0d\u592a\u53ef\u80fd\u5f71\u54cd\u5176\u4ed6\u8fdb\u7a0b\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u7684\u5bb9\u9519\u6027\u548c\u9694\u79bb\u6027</li> <li>\u591a\u7ebf\u7a0b\uff1a\u4e00\u4e2a\u7ebf\u7a0b\u7684\u5d29\u6e83\u53ef\u80fd\u5bfc\u81f4\u6574\u4e2a\u8fdb\u7a0b\u5d29\u6e83\uff0c\u4ece\u800c\u5f71\u54cd\u5176\u4ed6\u7ebf\u7a0b\u3002\u5728\u9700\u8981\u9ad8\u5ea6\u9694\u79bb\u548c\u5bb9\u9519\u6027\u7684\u573a\u666f\u4e2d\uff0c\u591a\u7ebf\u7a0b\u53ef\u80fd\u4e0d\u662f\u6700\u4f73\u9009\u62e9</li> </ul>"},{"location":"Operating%20System/Process%20%26%20Thread/#_35","title":"\u4ec0\u4e48\u60c5\u51b5\u4e0b\uff0c\u8fdb\u7a0b\u4f1a\u8fdb\u884c\u5207\u6362\uff1f","text":"<p>\u8fdb\u7a0b\u5207\u6362\uff0c\u4e5f\u79f0\u4e3a\u4e0a\u4e0b\u6587\u5207\u6362(context switch)\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u5728\u591a\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u8c03\u5ea6\u7684\u8fc7\u7a0b\u3002\u8fdb\u7a0b\u5207\u6362\u901a\u5e38\u53d1\u751f\u5728\u4ee5\u4e0b\u60c5\u51b5\uff1a</p> <ul> <li>\u65f6\u95f4\u7247\u5230\u671f\uff1a\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u57fa\u4e8e\u65f6\u95f4\u7247(time slice)\u7684\u62a2\u5360\u5f0f\u8c03\u5ea6\u7b97\u6cd5\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u4f1a\u88ab\u5206\u914d\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684\u65f6\u95f4\u7247\u6765\u6267\u884c\u3002\u5f53\u8fdb\u7a0b\u7684\u65f6\u95f4\u7247\u7528\u5b8c\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5c06\u5f53\u524d\u8fdb\u7a0b\u6302\u8d77\uff0c\u5e76\u9009\u62e9\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7ee7\u7eed\u6267\u884c\u3002</li> <li>\u9ad8\u4f18\u5148\u7ea7\u8fdb\u7a0b\u5c31\u7eea\uff1a\u5f53\u4e00\u4e2a\u9ad8\u4f18\u5148\u7ea7\u7684\u8fdb\u7a0b\u53d8\u4e3a\u5c31\u7eea\u72b6\u6001\u65f6(\u4f8b\u5982\uff0c\u4ece\u963b\u585e\u72b6\u6001\u6062\u590d)\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u4f1a\u4e2d\u65ad\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u4f4e\u4f18\u5148\u7ea7\u8fdb\u7a0b\uff0c\u8f6c\u800c\u6267\u884c\u9ad8\u4f18\u5148\u7ea7\u8fdb\u7a0b\u3002</li> <li>\u8fdb\u7a0b\u81ea\u613f\u8ba9\u51fa CPU\uff1a\u6709\u65f6\uff0c\u8fdb\u7a0b\u4f1a\u4e3b\u52a8\u653e\u5f03\u5176\u5269\u4f59\u65f6\u95f4\u7247\uff0c\u4ee5\u4fbf\u5176\u4ed6\u8fdb\u7a0b\u53ef\u4ee5\u6267\u884c\u3002\u8fd9\u901a\u5e38\u53d1\u751f\u5728\u8fdb\u7a0b\u7b49\u5f85\u67d0\u4e2a\u4e8b\u4ef6(\u5982 I/O \u64cd\u4f5c\u3001\u9501\u91ca\u653e\u7b49)\u65f6\u3002</li> <li>\u8fdb\u7a0b\u963b\u585e\uff1a\u5f53\u8fdb\u7a0b\u9700\u8981\u7b49\u5f85\u67d0\u4e2a\u8d44\u6e90(\u5982 I/O \u64cd\u4f5c\u5b8c\u6210\u3001\u4fe1\u53f7\u91cf\u3001\u4e92\u65a5\u9501\u7b49)\uff0c\u5b83\u4f1a\u8fdb\u5165\u963b\u585e\u72b6\u6001\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u9009\u62e9\u53e6\u4e00\u4e2a\u5c31\u7eea\u8fdb\u7a0b\u6267\u884c\u3002</li> <li>\u4e2d\u65ad\u5904\u7406\uff1a\u5f53 CPU \u6536\u5230\u4e2d\u65ad\u4fe1\u53f7\u65f6(\u5982\u786c\u4ef6\u4e2d\u65ad\u3001\u5f02\u5e38\u7b49)\uff0c\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u8fdb\u7a0b\u53ef\u80fd\u4f1a\u88ab\u6682\u505c\uff0c\u4ee5\u4fbf\u64cd\u4f5c\u7cfb\u7edf\u5904\u7406\u4e2d\u65ad\u3002\u5904\u7406\u5b8c\u6210\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u9009\u62e9\u6062\u590d\u4e2d\u65ad\u524d\u7684\u8fdb\u7a0b\u6216\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u3002</li> </ul> <p>\u5728\u8fdb\u884c\u8fdb\u7a0b\u5207\u6362\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u4fdd\u5b58\u5f53\u524d\u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587(\u5982\u5bc4\u5b58\u5668\u72b6\u6001\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668\u7b49)\uff0c\u4ee5\u4fbf\u5728\u4ee5\u540e\u6062\u590d\u8fdb\u7a0b\u65f6\u53ef\u4ee5\u4ece\u4e2d\u65ad\u70b9\u7ee7\u7eed\u6267\u884c\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_36","title":"\u8fdb\u7a0b\u901a\u4fe1\u4e2d\u7684\u7ba1\u9053\u5b9e\u73b0\u539f\u7406\u662f\u4ec0\u4e48\uff1f","text":"<p>\u7ba1\u9053(pipe)\u662f Unix \u548c\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4e00\u79cd\u7b80\u5355\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1(IPC)\u673a\u5236\u3002\u7ba1\u9053\u5141\u8bb8\u4e24\u4e2a\u8fdb\u7a0b\u901a\u8fc7\u4e00\u4e2a\u5171\u4eab\u7684\u53cc\u5411\u6216\u5355\u5411\u6570\u636e\u901a\u9053\u8fdb\u884c\u901a\u4fe1\u3002\u7ba1\u9053\u7684\u5b9e\u73b0\u539f\u7406\u5982\u4e0b\uff1a</p> <ul> <li>\u521b\u5efa\u7ba1\u9053\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u9700\u8981\u4e0e\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u901a\u4fe1\u65f6\uff0c\u5b83\u9996\u5148\u901a\u8fc7\u8c03 \u7528 pipe() \u7cfb\u7edf\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u7ba1\u9053\u3002\u8be5\u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26(file descriptor)\u7684\u6574\u6570\u6570\u7ec4\u3002\u8fd9\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u5206\u522b\u8868\u793a\u7ba1\u9053\u7684\u8bfb\u7aef\u548c\u5199\u7aef\u3002\u7ba1\u9053\u5185\u90e8 \u4f7f\u7528\u5185\u6838\u7f13\u51b2\u533a(kernel buffer)\u4f5c\u4e3a\u6570\u636e\u4f20\u8f93\u7684\u4e34\u65f6\u5b58\u50a8\uff0c\u8fd9\u610f\u5473\u7740\u7ba1\u9053\u7684\u6570\u636e\u4f20\u8f93\u4e0d\u9700\u8981\u989d\u5916\u7684\u7528\u6237\u7a7a\u95f4\u5185\u5b58</li> <li>\u5efa\u7acb\u8fdb\u7a0b\u95f4\u5173\u7cfb\uff1a\u7ba1\u9053\u901a\u5e38\u4e0e fork() \u7cfb\u7edf\u8c03\u7528\u4e00\u8d77\u4f7f\u7528\u3002\u7236\u8fdb\u7a0b\u5728\u521b\u5efa\u7ba1\u9053\u540e\u8c03\u7528 fork() \u521b\u5efa\u5b50\u8fdb\u7a0b\u3002\u5b50\u8fdb\u7a0b\u4f1a\u7ee7\u627f\u7236\u8fdb\u7a0b\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u8fd9\u6837\u7236\u5b50\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u901a\u8fc7\u7ba1\u9053\u8fdb\u884c\u901a\u4fe1\u3002\u901a\u5e38\uff0c\u7236\u8fdb\u7a0b\u8d1f\u8d23\u7ba1\u9053\u7684\u5199\u7aef\uff0c\u5b50\u8fdb\u7a0b\u8d1f\u8d23\u8bfb\u7aef\uff0c\u6216\u8005\u53cd\u8fc7\u6765\u3002\u4e3a\u4e86\u786e\u4fdd\u901a\u4fe1\u7684\u5355\u5411\u6027\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u5728\u4f7f\u7528\u524d\u5e94\u5173\u95ed\u7ba1\u9053\u7684\u53e6\u4e00\u7aef</li> <li>\u8bfb\u5199\u6570\u636e\uff1a\u8fdb\u7a0b \u53ef\u4ee5\u4f7f\u7528\u666e\u901a\u7684\u6587\u4ef6 I/O \u51fd\u6570(\u5982 read() \u548c write())\u6765\u8bfb\u53d6\u548c\u5199\u5165\u7ba1\u9053\u3002\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u5411\u7ba1\u9053\u5199\u5165\u6570\u636e\u65f6\uff0c\u6570\u636e\u4f1a\u88ab\u5b58\u50a8\u5728\u5185\u6838\u7f13\u51b2\u533a\u3002\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u4ece\u7ba1\u9053\u7684\u53e6\u4e00\u7aef\u8bfb\u53d6\u6570\u636e\u3002\u5982\u679c\u7f13\u51b2\u533a\u4e3a\u7a7a\uff0c\u8bfb\u53d6\u64cd\u4f5c\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709\u6570\u636e\u53ef\u8bfb\u3002\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u7f13\u51b2\u533a\u5df2\u6ee1\uff0c\u5199\u5165\u64cd\u4f5c\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709\u8db3\u591f\u7684\u7a7a\u95f4</li> <li>\u5173\u95ed\u7ba1\u9053\uff1a\u5f53\u8fdb\u7a0b\u5b8c\u6210\u901a\u4fe1\u540e\uff0c\u5b83\u4eec\u5e94\u5173\u95ed\u7ba1\u9053\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u5f53\u7ba1\u9053\u7684\u5199\u7aef\u88ab\u5173\u95ed\u65f6\uff0c\u4efb\u4f55\u5c1d\u8bd5\u4ece\u8bfb\u7aef\u8bfb\u53d6\u6570\u636e\u7684\u8fdb\u7a0b\u5c06\u8bfb\u53d6\u5230 EOF(\u8868\u793a\u6570\u636e\u5df2\u7ecf\u5168\u90e8\u8bfb\u5b8c)\u3002\u5f53\u7ba1\u9053\u7684\u8bfb\u7aef\u88ab\u5173\u95ed\u65f6\uff0c\u4efb\u4f55\u5c1d\u8bd5\u5411\u5199\u7aef\u5199\u5165\u6570\u636e\u7684\u8fdb\u7a0b\u5c06\u6536\u5230 SIGPIPE \u4fe1\u53f7\uff0c\u8868\u793a\u7ba1\u9053\u5df2\u65ad\u5f00</li> </ul> <p>\u7ba1\u9053\u662f\u4e00\u79cd\u57fa\u4e8e\u5185\u6838\u7f13\u51b2\u533a\u7684\u7b80\u5355\u8fdb\u7a0b\u95f4\u901a\u4fe1\u673a\u5236\u3002\u901a\u8fc7\u521b\u5efa\u7ba1\u9053\u5e76\u4f7f\u7528\u6587\u4ef6\u63cf\u8ff0\u7b26\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u989d\u5916\u7528\u6237\u7a7a\u95f4\u5185\u5b58\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u901a\u4fe1\u3002\u7ba1\u9053\u901a\u5e38\u4e0e fork() \u7cfb\u7edf\u8c03\u7528\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u4fbf\u7236\u5b50\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u5171\u4eab\u6587\u4ef6\u63cf\u8ff0\u7b26\u8fdb\u884c\u901a\u4fe1\u3002</p>"},{"location":"Operating%20System/Process%20%26%20Thread/#_37","title":"\u4e3a\u4ec0\u4e48\u8fdb\u7a0b\u5207\u6362\u6162\uff0c\u7ebf\u7a0b\u5207\u6362\u5feb\uff1f","text":"<p>\u8fdb\u7a0b\u5207\u6362\u4e0e\u7ebf\u7a0b\u5207\u6362\u4e4b\u95f4\u7684\u6027\u80fd\u5dee\u5f02\u4e3b\u8981\u5f52\u56e0\u4e8e\u5b83\u4eec\u5728\u4e0a\u4e0b\u6587\u5207\u6362\u8fc7\u7a0b\u4e2d\u6d89\u53ca\u7684\u8d44\u6e90\u548c\u72b6\u6001\u7684\u4e0d\u540c\u3002\u4ee5\u4e0b\u662f\u8fdb\u7a0b\u5207\u6362\u76f8\u5bf9\u4e8e\u7ebf\u7a0b\u5207\u6362\u66f4\u6162\u7684\u539f\u56e0\uff1a</p> <ul> <li>\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u8303\u56f4\uff1a\u5728\u8fdb\u884c\u8fdb\u7a0b\u5207\u6362\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u4fdd\u5b58\u548c\u6062\u590d\u66f4\u591a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u5982\u5bc4\u5b58\u5668\u72b6\u6001\u3001\u5185\u5b58\u7ba1\u7406\u4fe1\u606f(\u4f8b\u5982\u9875\u8868)\u7b49\u3002\u800c\u7ebf\u7a0b\u5207\u6362\u4ec5\u9700\u8981\u4fdd\u5b58\u548c\u6062\u590d\u7ebf\u7a0b\u7279\u6709\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u5982\u5bc4\u5b58\u5668\u72b6\u6001\u3001\u6808\u6307\u9488\u548c\u7a0b\u5e8f\u8ba1\u6570\u5668\u7b49\u3002\u56e0\u4e3a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u548c\u5176\u4ed6\u8d44\u6e90\uff0c\u6240\u4ee5\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u9700\u8981\u4fdd\u5b58\u548c\u6062\u590d\u8fd9\u4e9b\u8d44\u6e90\u7684\u72b6\u6001</li> <li>\u7f13\u5b58\u6548\u5e94\uff1a\u7531\u4e8e \u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\uff0c\u7ebf\u7a0b\u5207\u6362\u65f6 CPU \u7f13\u5b58(\u4f8b\u5982 TLB\u3001L1\u3001L2 \u7f13\u5b58)\u7684\u547d\u4e2d\u7387\u53ef\u80fd\u66f4\u9ad8\u3002\u800c\u8fdb\u7a0b\u5207\u6362\u65f6\uff0c\u7531\u4e8e\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\u7684\u53d8\u5316\uff0cCPU \u7f13\u5b58\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u586b\u5145\uff0c\u5bfc\u81f4\u6027\u80fd\u635f\u5931</li> <li>\u8d44\u6e90\u540c\u6b65\uff1a\u8fdb\u7a0b\u5207\u6362\u53ef\u80fd\u6d89\u53ca\u66f4\u590d\u6742\u7684\u8d44\u6e90\u540c\u6b65\u64cd\u4f5c\uff0c\u5982\u5185\u5b58\u7ba1\u7406\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\u3002\u800c\u7ebf\u7a0b\u5207\u6362\u7531\u4e8e\u5171\u4eab\u8d44\u6e90\uff0c\u901a\u5e38\u4e0d\u9700\u8981\u8fdb\u884c\u8fd9\u4e9b\u540c\u6b65\u64cd\u4f5c</li> </ul> <p>\u7ebf\u7a0b\u5207\u6362\u901a\u5e38\u6bd4\u8fdb\u7a0b\u5207\u6362\u5feb\uff0c\u4f46\u5e76\u4e0d\u610f\u5473\u7740\u7ebf\u7a0b\u5728\u6240\u6709\u573a\u666f\u4e0b\u90fd\u662f\u6700\u4f73\u9009\u62e9\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u8fdb\u7a0b\u53ef\u80fd\u66f4\u5408\u9002\uff0c\u4f8b\u5982\uff0c\u5f53\u9700\u8981\u9694\u79bb\u5730\u5740\u7a7a\u95f4\u6216\u8d44\u6e90\u65f6\uff0c\u6216\u8005\u5f53\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u5229\u7528\u591a\u6838\u5904\u7406\u5668\u6216\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u80fd\u529b\u65f6\u3002</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"Operating%20System/Socket%20%26%20Server/","title":"Socket & Server","text":""},{"location":"Operating%20System/Socket%20%26%20Server/#socker-server","title":"\ud83d\udd35 Socker &amp; Server","text":"<p> \u7ea6 6759 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 34 \u5206\u949f</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#select-poll-epoll","title":"select poll epoll \u7684\u533a\u522b\u4e0e\u8054\u7cfb\uff1f","text":"<p>select, poll \u548c epoll \u90fd\u662f  I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5b83\u4eec\u7528\u4e8e\u540c\u65f6\u5904\u7406\u591a\u4e2a I/O \u64cd\u4f5c\uff0c\u7279\u522b\u662f\u5728\u9ad8\u5e76\u53d1\u7f51\u7edc\u7f16\u7a0b\u4e2d\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#select","title":"select","text":"<p>select \u662f\u6700\u65e9\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5b83\u53ef\u4ee5\u540c\u65f6\u76d1\u89c6\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26(file descriptor, FD)\u7684 I/O \u72b6\u6001(\u5982\u53ef\u8bfb\u3001\u53ef\u5199\u3001\u5f02\u5e38\u7b49)\u3002select \u51fd\u6570\u4f7f\u7528\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408(\u901a\u5e38\u662f\u4e00\u4e2a\u4f4d\u56fe)\u6765\u8868\u793a\u8981\u76d1\u89c6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5f53\u6709 I/O \u4e8b\u4ef6\u53d1\u751f\u65f6\uff0cselect \u4f1a\u8fd4\u56de\u5bf9\u5e94\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#select_1","title":"select \u7684\u4e3b\u8981\u9650\u5236","text":"<ul> <li>\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u9650\u5236\uff1aselect \u4f7f\u7528\u4e00\u4e2a\u4f4d\u56fe\u6765\u8868\u793a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\uff0c\u8fd9\u9650\u5236\u4e86\u5b83\u80fd\u591f\u5904\u7406\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf(\u901a\u5e38\u662f 1024 \u4e2a)</li> <li>\u6548\u7387\u95ee\u9898\uff1a\u5f53\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u8f83\u5927\u65f6\uff0cselect \u9700\u8981\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u6765\u67e5\u627e\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u8f83\u4f4e\u7684\u6548\u7387</li> <li>\u975e\u5b9e\u65f6\u6027\uff1a\u6bcf\u6b21\u8c03\u7528 select \u65f6\uff0c\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\uff0c\u8fd9\u4f1a\u589e\u52a0\u51fd\u6570\u8c03\u7528\u7684\u5f00\u9500</li> </ul>"},{"location":"Operating%20System/Socket%20%26%20Server/#poll","title":"poll","text":"<p>poll \u662f\u4e3a\u4e86 \u514b\u670d select \u7684\u9650\u5236 \u800c\u5f15\u5165\u7684\u4e00\u79cd I/O \u591a\u8def\u590d\u7528\u6280\u672f\u3002poll \u4f7f\u7528\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4(\u901a\u5e38\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u6570\u7ec4)\u6765\u8868\u793a\u8981\u76d1\u89c6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u4e0e select \u7c7b\u4f3c\uff0cpoll \u53ef\u4ee5\u76d1\u89c6\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684 I/O \u72b6\u6001\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#poll_1","title":"poll \u7684\u4f18\u70b9","text":"<ul> <li>\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u4e0d\u53d7\u9650\u5236\uff1a\u7531\u4e8e poll \u4f7f\u7528\u4e00\u4e2a\u52a8\u6001\u6570\u7ec4\u6765\u8868\u793a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u56e0\u6b64\u5b83\u53ef\u4ee5\u5904\u7406 \u4efb\u610f\u6570\u91cf \u7684\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>\u6548\u7387\u76f8\u5bf9\u8f83\u9ad8\uff1apoll \u5728\u67e5\u627e\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u65f6\uff0c\u53ea\u9700\u8981\u904d\u5386\u5b9e\u9645\u4f7f\u7528\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408</li> </ul>"},{"location":"Operating%20System/Socket%20%26%20Server/#poll_2","title":"poll \u5b58\u5728\u7684\u95ee\u9898","text":"<ul> <li>\u6548\u7387\u95ee\u9898\uff1a\u5c3d\u7ba1 poll \u76f8\u5bf9\u4e8e select \u5177\u6709\u8f83\u9ad8\u7684\u6548\u7387\uff0c\u4f46\u5f53\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u5f88\u5927\u65f6\uff0c\u5b83\u4ecd\u7136\u9700\u8981\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4</li> <li>\u975e\u5b9e\u65f6\u6027\uff1a\u4e0e select \u7c7b\u4f3c\uff0c\u6bcf\u6b21\u8c03\u7528 poll \u65f6\uff0c\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u7ec4</li> </ul>"},{"location":"Operating%20System/Socket%20%26%20Server/#epoll","title":"epoll","text":"<p>epoll \u662f  Linux \u7279\u6709\u7684\u4e00\u79cd\u9ad8\u6548 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5b83\u514b\u670d\u4e86 select \u548c poll \u7684\u4e3b\u8981\u9650\u5236\u3002epoll \u4f7f\u7528\u4e00\u4e2a\u4e8b\u4ef6\u9a71\u52a8(event-driven)\u7684\u65b9\u5f0f\u6765\u5904\u7406 I/O \u64cd\u4f5c\uff0c\u5b83\u53ea\u4f1a\u8fd4\u56de\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u800c\u4e0d\u662f\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#epoll_1","title":"epoll \u7684\u4f18\u70b9","text":"<ul> <li>\u9ad8\u6548\uff1aepoll \u4f7f\u7528 \u4e8b\u4ef6\u9a71\u52a8 \u7684\u65b9\u5f0f\u6765\u5904\u7406 I / O \u64cd\u4f5c\uff0c\u56e0\u6b64\u5b83\u5728\u5904\u7406\u5927\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26\u65f6\u5177\u6709\u5f88\u9ad8\u7684\u6548\u7387\u3002\u5f53\u6709 I/O \u4e8b\u4ef6\u53d1\u751f\u65f6\uff0cepoll \u53ef\u4ee5\u7acb\u5373\u5f97\u5230\u901a\u77e5\uff0c\u800c\u65e0\u9700\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002\u8fd9\u4f7f\u5f97 epoll  \u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e2d\u5177\u6709\u66f4\u597d\u7684\u6027\u80fd </li> <li>\u53ef\u6269\u5c55\u6027\uff1a\u4e0e poll \u7c7b\u4f3c\uff0cepoll \u53ef\u4ee5\u5904\u7406 \u4efb\u610f\u6570\u91cf \u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u56e0\u4e3a\u5b83\u4f7f\u7528\u4e00\u4e2a \u52a8\u6001\u6570\u636e\u7ed3\u6784 \u6765\u8868\u793a\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>\u5b9e\u65f6\u6027\uff1aepoll \u4f7f\u7528\u4e00\u4e2a\u5185\u6838\u4e8b\u4ef6\u8868\u6765\u8bb0\u5f55\u8981\u76d1\u89c6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u548c\u4e8b\u4ef6\uff0c\u56e0\u6b64\u5728\u6bcf\u6b21\u8c03\u7528 epoll \u65f6\u65e0\u9700\u91cd\u65b0\u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002\u8fd9\u53ef\u4ee5\u51cf\u5c11\u51fd\u6570\u8c03\u7528\u7684\u5f00\u9500\uff0c\u5e76\u63d0\u9ad8\u5b9e\u65f6\u6027</li> </ul> <p>epoll \u5177\u6709\u8bf8\u591a\u4f18\u70b9\uff0c\u4f46\u5b83\u76ee\u524d\u4ec5\u5728 Linux \u5e73\u53f0\u4e0a\u53ef\u7528\u3002\u5bf9\u4e8e\u5176\u4ed6\u5e73\u53f0\uff0c\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u7c7b\u4f3c\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5982 BSD \u4e2d\u7684 kqueue\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#_1","title":"\u603b\u7ed3","text":"<p>select \u662f\u6700\u65e9\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u4f46\u53d7\u5230\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u548c\u6548\u7387\u65b9\u9762\u7684\u9650\u5236\u3002poll \u514b\u670d\u4e86\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u7684\u9650\u5236\uff0c\u4f46\u4ecd\u7136\u5b58\u5728\u4e00\u5b9a\u7684\u6548\u7387\u95ee\u9898\u3002epoll \u662f\u4e00\u79cd\u9ad8\u6548\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u9ad8\u5e76\u53d1\u573a\u666f\uff0c\u4f46\u5b83\u4ec5\u5728 Linux \u5e73\u53f0\u4e0a\u53ef\u7528\u3002\u4e00\u822c\u6765\u8bf4\uff0c epoll \u7684\u6548\u7387\u8981\u6bd4 select \u548c poll \u9ad8\uff0c\u4f46\u662f\u5bf9\u4e8e\u6d3b\u52a8\u8fde\u63a5\u8f83\u591a\u7684\u60c5\u666f\uff0c\u7531\u4e8e\u56de\u8c03\u51fd\u6570\u89e6\u53d1\u7684\u5f88\u9891\u7e41\uff0c\u5176\u6548\u7387\u4e0d\u4e00\u5b9a\u6bd4 select \u548c poll \u9ad8\u3002\u6240\u4ee5 epoll \u5728\u8fde\u63a5\u6570\u91cf\u5f88\u591a\uff0c\u4f46\u6d3b\u52a8\u8fde\u63a5\u8f83\u5c0f\u7684\u60c5\u51b5\u6027\u80fd\u4f53\u73b0\u7684\u6bd4\u8f83\u660e\u663e\uff1a</p> \u7cfb\u7edf\u8c03\u7528 select poll epoll \u4e8b\u4ef6\u96c6\u5408 \u7528\u6237\u901a\u8fc7\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4f20\u5165\u611f\u5174\u8da3\u7684\u53ef\u8bfb\u53ef\u5199\u4ee5\u53ca\u5f02\u5e38\u7b49\u4e8b\u4ef6\uff0c\u5185\u6838\u901a\u8fc7\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u5728\u7ebf\u4fee\u6539\u6765\u53cd\u9988\u5176\u4e2d\u5c31\u7eea\u7684\u4e8b\u4ef6\u3002\u5982\u679c\u7528\u6237\u9700\u8981\u7684\u8bdd\u9700\u8981\u521b\u5efa\u4e09\u4e2a fdset \u4ee5\u76d1\u542c\u4e0d\u540c\u7c7b\u578b\u7684\u4e8b\u4ef6 \u7edf\u4e00\u5904\u7406 \u6240\u6709\u7684\u4e8b\u4ef6\u7c7b\u578b\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u4e00\u4e2a\u4e8b\u4ef6\u96c6\u53c2\u6570\u3002\u7528\u6237\u901a\u8fc7  pollfd.events  \u6765\u4f20\u5165\u611f\u5174\u8da3\u7684\u4e8b\u4ef6\uff0c\u5185\u6838\u901a\u8fc7\u4fee\u6539  pollfd.revents  \u53cd\u9988\u5176\u4e2d\u5c31\u7eea\u7684\u4e8b\u4ef6 \u5185\u6838\u901a\u8fc7\u4e00\u4e2a\u4e8b\u4ef6\u8868\u76f4\u63a5\u7ba1\u7406\u7528\u6237\u611f\u5174\u8da3\u7684\u6240\u6709\u4e8b\u4ef6\u3002\u6bcf\u6b21\u8c03\u7528  epoll_wait\uff0c\u5185\u6838\u76f4\u63a5\u5728\u8c03\u7528\u53c2\u6570\u7684 events \u4e2d\u6ce8\u518c\u5c31\u7eea\u4e8b\u4ef6 \u5e94\u7528\u7a0b\u5e8f\u7d22\u5f15\u6548\u7387 \u8f6e\u8be2\uff0c O(n) \u8f6e\u8be2\uff0c O(n) \u56de\u8c03\uff0c O(1) \u6700\u5927\u652f\u6301\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570 \u4e00\u822c 1024 65535 65535 \u5de5\u4f5c\u6a21\u5f0f \u6761\u4ef6\u89e6\u53d1 \u6761\u4ef6\u89e6\u53d1 \u6761\u4ef6\u89e6\u53d1\u6216\u8fb9\u7f18\u89e6\u53d1"},{"location":"Operating%20System/Socket%20%26%20Server/#_2","title":"\u8fb9\u7f18\u89e6\u53d1\u4e0e\u6761\u4ef6\u89e6\u53d1\u5206\u522b\u662f\u4ec0\u4e48\uff1f","text":"<p>\u8fb9\u7f18\u89e6\u53d1(Edge-triggered)\u548c\u6761\u4ef6\u89e6\u53d1(Level-triggered)\u662f\u4e24\u79cd\u5e38\u89c1\u7684 \u4e8b\u4ef6\u89e6\u53d1\u65b9\u5f0f\uff0c\u4e3b\u8981\u5e94\u7528\u4e8e I/O \u591a\u8def\u590d\u7528\u548c\u4e2d\u65ad\u5904\u7406\u7b49\u573a\u666f\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#_3","title":"\u8fb9\u7f18\u89e6\u53d1","text":"<p>\u8fb9\u7f18\u89e6\u53d1\u662f\u6307\u5728 \u4e8b\u4ef6\u72b6\u6001\u53d1\u751f\u53d8\u5316\u7684\u65f6\u523b\u89e6\u53d1\u4e00\u6b21\uff0c\u4f8b\u5982\u4ece\u65e0\u4e8b\u4ef6\u53d8\u4e3a\u6709\u4e8b\u4ef6\u3002\u5728 I / O \u591a\u8def\u590d\u7528\u4e2d\uff0c\u8fb9\u7f18\u89e6\u53d1\u610f\u5473\u7740\u5f53\u67d0\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u53d1\u751f I/O \u4e8b\u4ef6(\u5982\u53d8\u4e3a\u53ef\u8bfb\u6216\u53ef\u5199)\u65f6\uff0c\u6211\u4eec\u53ea\u4f1a\u6536\u5230\u4e00\u6b21\u901a\u77e5\u3002\u5f53\u6536\u5230\u901a\u77e5\u540e\uff0c\u6211\u4eec\u9700\u8981\u5904\u7406\u8be5\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e0a\u7684\u6240\u6709\u6570\u636e\uff0c\u76f4\u5230\u6570\u636e\u5168\u90e8\u5904\u7406\u5b8c\u6bd5\uff0c\u5426\u5219\u4e0d\u4f1a\u518d\u6536\u5230\u901a\u77e5\u3002</p> <p>\u8fb9\u7f18\u89e6\u53d1\u7684\u4f18\u70b9\u662f \u53ea\u5728\u4e8b\u4ef6\u72b6\u6001\u6539\u53d8\u65f6\u89e6\u53d1\uff0c\u53ef\u4ee5\u51cf\u5c11\u4e8b\u4ef6\u901a\u77e5\u7684\u6b21\u6570\u3002\u7136\u800c\uff0c\u8fb9\u7f18\u89e6\u53d1\u7684\u7f3a\u70b9\u662f\u6211\u4eec \u9700\u8981\u786e\u4fdd\u5728\u6536\u5230\u901a\u77e5\u540e\u5904\u7406\u6240\u6709\u76f8\u5173\u6570\u636e\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u9057\u6f0f\u67d0\u4e9b\u4e8b\u4ef6\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#_4","title":"\u6761\u4ef6\u89e6\u53d1","text":"<p>\u6761\u4ef6\u89e6\u53d1\u662f\u6307\u53ea\u8981\u4e8b\u4ef6\u72b6\u6001\u4fdd\u6301\u6ee1\u8db3\u67d0\u79cd\u6761\u4ef6\uff0c\u5c31\u4f1a\u6301\u7eed\u89e6\u53d1\u3002\u5728 I/O \u591a\u8def\u590d\u7528\u4e2d\uff0c\u6761\u4ef6\u89e6\u53d1\u610f\u5473\u7740\u53ea\u8981\u67d0\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684 I/O \u4e8b\u4ef6\u72b6\u6001\u6ee1\u8db3\u6761\u4ef6(\u5982\u53ef\u8bfb\u6216\u53ef\u5199)\uff0c\u6211\u4eec\u5c31\u4f1a\u4e0d\u65ad\u6536\u5230\u901a\u77e5\u3002</p> <p>\u6761\u4ef6\u89e6\u53d1\u7684\u4f18\u70b9\u662f\u5b83\u53ef\u4ee5 \u786e\u4fdd\u6211\u4eec\u4e0d\u4f1a\u9057\u6f0f\u4efb\u4f55\u4e8b\u4ef6\uff0c\u56e0\u4e3a\u53ea\u8981\u6761\u4ef6\u6ee1\u8db3\uff0c\u5c31\u4f1a\u6301\u7eed\u89e6\u53d1\u3002\u7136\u800c\uff0c\u6761\u4ef6\u89e6\u53d1\u7684\u7f3a\u70b9\u662f\u5b83 \u53ef\u80fd\u5bfc\u81f4\u5927\u91cf\u7684\u4e8b\u4ef6\u901a\u77e5\uff0c\u4ece\u800c\u589e\u52a0\u5904\u7406\u5f00\u9500\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#client-server-api","title":"\u8bb2\u4e00\u8bb2 client-server \u901a\u4fe1\u53cc\u65b9 API \u8c03\u7528\u8fc7\u7a0b\uff1f","text":"<p>Client-server \u901a\u4fe1\u662f \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u4ea4\u4e92 \u7684\u4e00\u79cd\u5e38\u89c1\u65b9\u5f0f\u3002\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u5206\u522b\u8c03\u7528\u5404\u81ea\u7684 API \u6765\u5efa\u7acb\u8fde\u63a5\u3001\u53d1\u9001\u8bf7\u6c42\u3001\u63a5\u6536\u54cd\u5e94\u4ee5\u53ca\u5173\u95ed\u8fde\u63a5\u3002\u4ee5\u4e0b\u662f\u5178\u578b\u7684 Client-server \u901a\u4fe1\u8fc7\u7a0b\u4e2d\u7684 API \u8c03\u7528\uff1a</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#api","title":"\u670d\u52a1\u5668\u7aef API \u8c03\u7528\u8fc7\u7a0b","text":"<ul> <li>\u521b\u5efa\u5957\u63a5\u5b57(socket)\uff1a\u670d\u52a1\u5668\u7aef\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u5957\u63a5\u5b57\u3002\u5728 C \u8bed\u8a00\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 socket() \u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5957\u63a5\u5b57</li> <li>\u7ed1\u5b9a\u5730\u5740(bind)\uff1a\u670d\u52a1\u5668\u5c06\u5957\u63a5\u5b57\u7ed1\u5b9a\u5230\u6307\u5b9a\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u3002\u8fd9\u53ef\u4ee5\u4f7f\u7528 bind() \u51fd\u6570\u5b8c\u6210</li> <li>\u76d1\u542c\u8fde\u63a5(listen)\uff1a\u670d\u52a1\u5668\u5c06\u5957\u63a5\u5b57\u8bbe\u7f6e\u4e3a\u76d1\u542c\u6a21\u5f0f\uff0c\u4ee5\u4fbf\u63a5\u53d7\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u8bf7\u6c42\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 listen() \u51fd\u6570\u5b9e\u73b0</li> <li>\u63a5\u53d7\u8fde\u63a5(accept)\uff1a\u5f53\u5ba2\u6237\u7aef\u53d1\u8d77\u8fde\u63a5\u8bf7\u6c42\u65f6\uff0c\u670d\u52a1\u5668\u4f7f\u7528 accept() \u51fd\u6570\u63a5\u53d7\u8be5\u8fde\u63a5\u3002accept() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5957\u63a5\u5b57\uff0c\u7528\u4e8e\u4e0e\u5ba2\u6237\u7aef\u8fdb\u884c\u901a\u4fe1</li> <li>\u63a5\u6536\u6570\u636e(recv)\uff1a\u670d\u52a1\u5668\u4f7f\u7528 recv() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u4ece\u5ba2\u6237\u7aef\u63a5\u6536\u6570\u636e\u3002\u8fd9\u4e9b\u51fd\u6570\u901a\u5e38\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6536\u5230\u6570\u636e</li> <li>\u53d1\u9001\u6570\u636e(send)\uff1a\u670d\u52a1\u5668\u6839\u636e\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u5904\u7406\u6570\u636e\u5e76\u751f\u6210\u54cd\u5e94\u3002\u7136\u540e\uff0c\u670d\u52a1\u5668\u4f7f\u7528 send() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u5c06\u54cd\u5e94\u6570\u636e\u53d1\u9001\u56de\u5ba2\u6237\u7aef</li> <li>\u5173\u95ed\u8fde\u63a5(close)\uff1a\u5b8c\u6210\u901a\u4fe1\u540e\uff0c\u670d\u52a1\u5668\u4f7f\u7528 close() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u5173\u95ed\u4e0e\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u3002\u670d\u52a1\u5668\u53ef\u4ee5\u7ee7\u7eed\u63a5\u53d7\u5176\u4ed6\u5ba2\u6237\u7aef\u7684\u8fde\u63a5</li> </ul>"},{"location":"Operating%20System/Socket%20%26%20Server/#api_1","title":"\u5ba2\u6237\u7aef API \u8c03\u7528\u8fc7\u7a0b","text":"<ul> <li>\u521b\u5efa\u5957\u63a5\u5b57(socket)\uff1a\u4e0e\u670d\u52a1\u5668\u7c7b\u4f3c\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528 socket() \u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5957\u63a5\u5b57</li> <li>\u8fde\u63a5\u670d\u52a1\u5668(connect)\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528 connect() \u51fd\u6570\u53d1\u8d77\u5bf9\u670d\u52a1\u5668\u7684\u8fde\u63a5\u8bf7\u6c42\u3002\u8fd9\u9700\u8981\u6307\u5b9a\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u548c\u7aef\u53e3</li> <li>\u53d1\u9001\u6570\u636e(send)\uff1a\u8fde\u63a5\u5efa\u7acb\u540e\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528 send() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u6570\u636e</li> <li>\u63a5\u6536\u6570\u636e(recv)\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528 recv() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u63a5\u6536\u6765\u81ea\u670d\u52a1\u5668\u7684\u54cd\u5e94\u6570\u636e\u3002\u8fd9\u4e9b\u51fd\u6570\u901a\u5e38\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6536\u5230\u6570\u636e</li> <li>\u5173\u95ed\u8fde\u63a5(close)\uff1a\u901a\u4fe1\u5b8c\u6210\u540e\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528 close() \u6216\u7c7b\u4f3c\u7684\u51fd\u6570\u5173\u95ed\u4e0e\u670d\u52a1\u5668\u7684\u8fde\u63a5</li> </ul>"},{"location":"Operating%20System/Socket%20%26%20Server/#io-io-buffer","title":"\u963b\u585e IO\u3001\u975e\u963b\u585e IO \u6709\u4ec0\u4e48\u533a\u522b\uff1f\u600e\u4e48\u5224\u65ad\u5199\u6587\u4ef6\u65f6 Buffer \u5df2\u7ecf\u5199\u6ee1\uff1f","text":"<p>\u963b\u585e IO \u548c\u975e\u963b\u585e IO \u662f\u4e24\u79cd\u4e0d\u540c\u7684 I/O \u5904\u7406\u65b9\u5f0f\uff0c\u5b83\u4eec\u4e3b\u8981\u533a\u522b\u5728\u4e8e I/O \u64cd\u4f5c\u662f\u5426\u4f1a\u5bfc\u81f4\u8c03\u7528\u8005\u7b49\u5f85\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#io","title":"\u963b\u585e IO","text":"<p>\u5728\u963b\u585e IO \u6a21\u5f0f\u4e0b\uff0c\u5f53\u4e00\u4e2a I/O \u64cd\u4f5c(\u5982\u8bfb\u6216\u5199)\u53d1\u8d77\u65f6\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d(\u4f8b\u5982\uff0c\u7b49\u5f85\u6570\u636e\u4ece\u786c\u76d8\u8bfb\u53d6\u6216\u4ece\u7f51\u7edc\u63a5\u6536)\uff0c\u5219\u8c03\u7528\u8005(\u901a\u5e38\u662f\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b)\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6570\u636e\u51c6\u5907\u597d\u4e3a\u6b62\u3002\u5728\u6b64\u671f\u95f4\uff0c \u8c03\u7528\u8005\u65e0\u6cd5\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u53ea\u80fd\u7b49\u5f85 I/O \u64cd\u4f5c\u5b8c\u6210\u3002</p> <p>\u963b\u585e IO \u7684\u4f18\u70b9\u662f \u7f16\u7a0b\u7b80\u5355\uff0c\u5bb9\u6613\u5b9e\u73b0\u3002\u7136\u800c\uff0c\u5b83\u7684\u7f3a\u70b9\u662f\u5f53 I/O \u64cd\u4f5c\u8017\u65f6\u8f83\u957f\u65f6\uff0c\u4f1a\u5bfc\u81f4\u8c03\u7528\u8005\u7684 \u4f4e\u6548\u7387\u548c\u8d44\u6e90\u6d6a\u8d39\uff0c\u5c24\u5176\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e2d\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#io_1","title":"\u975e\u963b\u585e IO","text":"<p>\u5728\u975e\u963b\u585e IO \u6a21\u5f0f\u4e0b\uff0c\u5f53\u4e00\u4e2a I/O \u64cd\u4f5c\u53d1\u8d77\u65f6\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\uff0c\u8c03\u7528\u8005\u4e0d\u4f1a\u88ab\u963b\u585e\uff0c\u800c\u662f\u7acb\u5373\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u7801(\u4f8b\u5982\uff0c\u8868\u793a\u8d44\u6e90\u4e0d\u53ef\u7528)\u3002\u8c03\u7528\u8005\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u7136\u540e\u5728\u9002\u5f53\u7684\u65f6\u95f4\u70b9\u518d\u6b21\u5c1d\u8bd5 I/O \u64cd\u4f5c\u3002</p> <p>\u975e\u963b\u585e IO \u7684\u4f18\u70b9\u662f\u53ef\u4ee5 \u63d0\u9ad8\u8c03\u7528\u8005\u7684\u6548\u7387\u548c\u8d44\u6e90\u5229\u7528\u7387\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u9ad8\u5e76\u53d1\u573a\u666f\u3002\u7136\u800c\uff0c\u5b83\u7684\u7f3a\u70b9\u662f \u7f16\u7a0b\u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u9700\u8981\u4f7f\u7528 I/O \u591a\u8def\u590d\u7528\u6280\u672f(\u5982 select\uff0c poll \u6216 epoll )\u6765\u5904\u7406\u591a\u4e2a I/O \u64cd\u4f5c\u3002</p> <p>\u5173\u4e8e\u5224\u65ad\u5199\u6587\u4ef6\u65f6 Buffer \u662f\u5426\u5df2\u7ecf\u5199\u6ee1\uff0c\u901a\u5e38\u662f\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\uff1a</p> <p>\u5728 \u963b\u585e IO \u6a21\u5f0f \u4e0b\uff0c\u5f53\u5199\u5165\u64cd\u4f5c\u53d1\u8d77\u65f6\uff0c\u5982\u679c Buffer \u5df2\u6ee1\uff0c\u8c03\u7528\u8005\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230 Buffer \u6709\u8db3\u591f\u7684\u7a7a\u95f4\u5bb9\u7eb3\u65b0\u7684\u6570\u636e\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u62c5\u5fc3 Buffer \u662f\u5426\u5df2\u6ee1\uff0c\u56e0\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u4f1a \u81ea\u52a8\u5904\u7406 \u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5728 \u975e\u963b\u585e IO \u6a21\u5f0f \u4e0b\uff0c\u5f53\u5199\u5165\u64cd\u4f5c\u53d1\u8d77\u65f6\uff0c\u5982\u679c Buffer \u5df2\u6ee1\uff0c\u8c03\u7528\u8005\u4f1a\u7acb\u5373\u6536\u5230\u4e00\u4e2a\u9519\u8bef\u7801(\u4f8b\u5982\uff0c\u8868\u793a\u8d44\u6e90\u4e0d\u53ef\u7528)\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b \u9700\u8981\u6839\u636e\u9519\u8bef\u7801\u6765\u5224\u65ad Buffer \u662f\u5426\u5df2\u6ee1\uff0c\u5e76\u5728\u9002\u5f53\u7684\u65f6\u95f4\u70b9\u518d\u6b21\u5c1d\u8bd5\u5199\u5165\u64cd\u4f5c\u3002\u901a\u5e38\uff0c\u4f60\u53ef\u4ee5\u7ed3\u5408 I/O \u591a\u8def\u590d\u7528\u6280\u672f\u6765\u76d1\u542c\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u53ef\u5199\u4e8b\u4ef6\uff0c\u4ee5\u4fbf\u5728 Buffer \u6709\u7a7a\u95f4\u65f6\u5f97\u5230\u901a\u77e5\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#_5","title":"\u540c\u6b65\u4e0e\u5f02\u6b65\u7684\u533a\u522b\uff0c\u963b\u585e\u4e0e\u975e\u963b\u585e\u7684\u533a\u522b\uff1f","text":"<p>\u540c\u6b65\u548c\u5f02\u6b65\u4e3b\u8981\u5173\u6ce8\u7684\u662f \u8c03\u7528\u8005\u4e0e\u88ab\u8c03\u7528\u8005\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <ul> <li>\u540c\u6b65(Synchronous)\uff1a\u5728\u540c\u6b65\u64cd\u4f5c\u4e2d\uff0c\u8c03\u7528\u8005\u53d1\u8d77\u4e00\u4e2a\u8bf7\u6c42\u540e\uff0c \u9700\u8981\u7b49\u5f85\u88ab\u8c03\u7528\u8005\u5904\u7406\u5b8c\u6bd5\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u671f\u95f4\u8c03\u7528\u8005\u4e0d\u80fd\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u8c03\u7528\u8005\u4e0e\u88ab\u8c03\u7528\u8005\u7684\u6267\u884c\u662f\u4e32\u884c\u7684\u3002\u540c\u6b65\u64cd\u4f5c\u7684\u5178\u578b\u4f8b\u5b50\u662f\u666e\u901a\u7684\u51fd\u6570\u8c03\u7528</li> <li>\u5f02\u6b65(Asynchronous)\uff1a\u5728\u5f02\u6b65\u64cd\u4f5c\u4e2d\uff0c\u8c03\u7528\u8005\u53d1\u8d77\u4e00\u4e2a\u8bf7\u6c42\u540e\uff0c \u65e0\u9700\u7b49\u5f85\u88ab\u8c03\u7528\u8005\u5904\u7406\u5b8c\u6bd5\uff0c\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\u3002\u88ab\u8c03\u7528\u8005\u5728\u5904\u7406\u5b8c\u8bf7\u6c42\u540e\uff0c\u901a\u5e38\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u3001\u4e8b\u4ef6\u6216\u6d88\u606f\u961f\u5217\u7b49\u65b9\u5f0f\u901a\u77e5\u8c03\u7528\u8005\u7ed3\u679c\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u8c03\u7528\u8005\u4e0e\u88ab\u8c03\u7528\u8005\u7684\u6267\u884c\u662f\u5e76\u884c\u7684\u3002\u5f02\u6b65\u64cd\u4f5c\u7684\u5178\u578b\u4f8b\u5b50\u662f JavaScript \u4e2d\u7684 Ajax \u8bf7\u6c42</li> </ul> <p>\u963b\u585e\u548c\u975e\u963b\u585e\u4e3b\u8981\u5173\u6ce8\u7684\u662f  I/O \u64cd\u4f5c\u6216\u7cfb\u7edf\u8c03\u7528\u7684\u884c\u4e3a\u3002</p> <ul> <li>\u963b\u585e(Blocking)\uff1a\u5728\u963b\u585e\u64cd\u4f5c\u4e2d\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d(\u4f8b\u5982\uff0c\u7b49\u5f85\u6570\u636e\u4ece\u786c\u76d8\u8bfb\u53d6\u6216\u4ece\u7f51\u7edc\u63a5\u6536)\uff0c\u5219\u8c03\u7528\u8005(\u901a\u5e38\u662f\u4e00\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b)\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6570\u636e\u51c6\u5907\u597d\u4e3a\u6b62\u3002\u5728\u6b64\u671f\u95f4\uff0c \u8c03\u7528\u8005\u65e0\u6cd5\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u53ea\u80fd\u7b49\u5f85 I/O \u64cd\u4f5c\u5b8c\u6210\u3002\u963b\u585e I/O \u64cd\u4f5c\u7684\u5178\u578b\u4f8b\u5b50\u662f\u666e\u901a\u7684\u6587\u4ef6\u8bfb\u5199</li> <li>\u975e\u963b\u585e(Non-blocking)\uff1a\u5728\u975e\u963b\u585e\u64cd\u4f5c\u4e2d\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u6709\u51c6\u5907\u597d\uff0c\u8c03\u7528\u8005\u4e0d\u4f1a\u88ab\u963b\u585e\uff0c\u800c\u662f\u7acb\u5373\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u7801(\u4f8b\u5982\uff0c\u8868\u793a\u8d44\u6e90\u4e0d\u53ef\u7528)\u3002 \u8c03\u7528\u8005\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u7136\u540e\u5728\u9002\u5f53\u7684\u65f6\u95f4\u70b9\u518d\u6b21\u5c1d\u8bd5 I/O \u64cd\u4f5c\u3002\u975e\u963b\u585e I/O \u64cd\u4f5c\u7684\u5178\u578b\u4f8b\u5b50\u662f\u4f7f\u7528 select\uff0cpoll \u6216 epoll \u7b49 I/O \u591a\u8def\u590d\u7528\u6280\u672f\u5904\u7406\u7684\u7f51\u7edc\u901a\u4fe1</li> </ul>"},{"location":"Operating%20System/Socket%20%26%20Server/#rector-proactor","title":"\u8bb2\u4e00\u8bb2 Rector \u6a21\u5f0f\u4e0e Proactor \u6a21\u5f0f\uff1f","text":"<p>Reactor \u6a21\u5f0f\u548c Proactor \u6a21\u5f0f\u90fd\u662f\u5904\u7406\u5e76\u53d1 I/O \u4e8b\u4ef6\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002\u5b83\u4eec\u5404\u81ea\u7684\u6838\u5fc3\u601d\u60f3\u662f\u5c06 I/O \u64cd\u4f5c\u4e0e\u5b9e\u9645\u5904\u7406\u903b\u8f91\u89e3\u8026\uff0c\u4ee5\u4fbf\u5728\u9ad8\u5e76\u53d1\u73af\u5883\u4e0b\u66f4\u6709\u6548\u5730\u5904\u7406\u8bf7\u6c42\u3002\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e24\u79cd\u6a21\u5f0f\uff1a</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#reator","title":"Reator \u6a21\u5f0f","text":"<p>Reactor \u6a21\u5f0f\u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u548c\u5f02\u6b65 I/O \u64cd\u4f5c\u3002\u5176\u6838\u5fc3\u7ec4\u4ef6\u5305\u62ec Reactor\u3001\u4e8b\u4ef6\u5904\u7406\u5668\u548c\u8d44\u6e90(\u5982\u5957\u63a5\u5b57)\u3002Reactor \u6a21\u5f0f\u7684\u5de5\u4f5c\u539f\u7406\u5982\u4e0b\uff1a</p> <ul> <li>Reactor \u8d1f\u8d23\u76d1\u89c6\u591a\u4e2a\u8d44\u6e90(\u5982\u5957\u63a5\u5b57)\u4e0a\u7684 I/O \u4e8b\u4ef6\u3002\u5f53\u67d0\u4e2a\u8d44\u6e90\u4e0a\u53d1\u751f I/O \u4e8b\u4ef6\u65f6\uff0cReactor \u5c06\u4e8b\u4ef6\u901a\u77e5\u5bf9\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u5668\u3002</li> <li>\u4e8b\u4ef6\u5904\u7406\u5668\u8d1f\u8d23\u5904\u7406\u8fd9\u4e9b I/O \u4e8b\u4ef6\uff0c\u5982\u63a5\u53d7\u8fde\u63a5\u3001\u8bfb\u53d6\u6570\u636e\u3001\u5199\u5165\u6570\u636e\u7b49\u3002\u4e8b\u4ef6\u5904\u7406\u5668\u5c06 I/O \u64cd\u4f5c\u4e0e\u5b9e\u9645\u7684\u4e1a\u52a1\u903b\u8f91\u89e3\u8026\uff0c\u4f7f\u7a0b\u5e8f\u66f4\u6613\u4e8e\u7ba1\u7406\u548c\u6269\u5c55\u3002</li> <li>Reactor \u6a21\u5f0f\u901a\u5e38\u4f7f\u7528\u975e\u963b\u585e I/O \u64cd\u4f5c\u3002\u5f53\u8d44\u6e90\u4e0d\u53ef\u7528\u65f6\uff0c\u4e8b\u4ef6\u5904\u7406\u5668\u4e0d\u4f1a\u963b\u585e\uff0c\u800c\u662f\u8fd4\u56de\u5e76\u5141\u8bb8 Reactor \u7ee7\u7eed\u76d1\u89c6\u5176\u4ed6\u8d44\u6e90\u3002</li> </ul> <p>Reactor \u6a21\u5f0f\u9002\u7528\u4e8e I/O \u5bc6\u96c6\u578b\u5e94\u7528\uff0c\u7279\u522b\u662f\u5f53 I/O \u64cd\u4f5c\u53ef\u80fd\u5bfc\u81f4\u963b\u585e\u65f6\u3002\u5176\u4e3b\u8981\u4f18\u70b9\u662f\u7b80\u5316\u4e86\u5e76\u53d1 I/O \u5904\u7406\uff0c\u63d0\u9ad8\u4e86\u7a0b\u5e8f\u7684\u53ef\u6269\u5c55\u6027\u548c\u6027\u80fd</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#proactor","title":"Proactor \u6a21\u5f0f","text":"<p>Proactor \u6a21\u5f0f\u662f Reactor \u6a21\u5f0f\u7684\u6269\u5c55\uff0c\u91c7\u7528\u5f02\u6b65 I/O \u64cd\u4f5c\u548c\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u7684\u5f02\u6b65\u901a\u77e5\u673a\u5236\u3002Proactor \u6a21\u5f0f\u7684\u6838\u5fc3\u7ec4\u4ef6\u5305\u62ec Proactor\u3001\u5f02\u6b65\u64cd\u4f5c\u5904\u7406\u5668\u548c\u8d44\u6e90(\u5982\u5957\u63a5\u5b57)\u3002Proactor \u6a21\u5f0f\u7684\u5de5\u4f5c\u539f\u7406\u5982\u4e0b\uff1a</p> <ul> <li>Proactor \u8d1f\u8d23\u542f\u52a8\u5f02\u6b65 I/O \u64cd\u4f5c(\u5982\u8bfb\u53d6\u3001\u5199\u5165\u7b49)\u3002\u5f02\u6b65 I/O \u64cd\u4f5c\u5728\u540e\u53f0\u8fdb\u884c\uff0c\u4e0d\u4f1a\u963b\u585e\u4e3b\u7a0b\u5e8f\u7684\u6267\u884c\u3002</li> <li>\u5f53\u5f02\u6b65 I/O \u64cd\u4f5c\u5b8c\u6210\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c06\u901a\u77e5 Proactor\u3002Proactor \u968f\u540e\u8c03\u7528\u76f8\u5e94\u7684\u5f02\u6b65\u64cd\u4f5c\u5904\u7406\u5668\u6765\u5904\u7406\u5df2\u5b8c\u6210\u7684\u64cd\u4f5c\u3002</li> <li>\u5f02\u6b65\u64cd\u4f5c\u5904\u7406\u5668\u8d1f\u8d23\u5904\u7406\u5df2\u5b8c\u6210\u7684\u5f02\u6b65 I/O \u64cd\u4f5c\u3002\u4e0e Reactor \u6a21\u5f0f\u7c7b\u4f3c\uff0c\u8fd9\u4e9b\u5904\u7406\u5668\u5c06 I/O \u64cd\u4f5c\u4e0e\u5b9e\u9645\u7684\u4e1a\u52a1\u903b\u8f91\u89e3\u8026\uff0c\u4f7f\u7a0b\u5e8f\u66f4\u6613\u4e8e\u7ba1\u7406\u548c\u6269\u5c55\u3002</li> </ul> <p>Proactor \u6a21\u5f0f\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u5145\u5206\u5229\u7528\u4e86\u64cd\u4f5c\u7cfb\u7edf\u7684\u5f02\u6b65 I/O \u529f\u80fd\uff0c\u8fdb\u4e00\u6b65\u7b80\u5316\u4e86\u5e76\u53d1 I/O \u5904\u7406\uff0c\u63d0\u9ad8\u4e86\u7a0b\u5e8f\u7684\u53ef\u6269\u5c55\u6027\u548c\u6027\u80fd\u3002\u4f46\u662f\uff0cProactor \u6a21\u5f0f\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u7684\u652f\u6301\u7a0b\u5ea6\u4e0d\u540c\uff0c\u56e0\u6b64\u53ef\u80fd\u9700\u8981\u8003\u8651\u8de8\u5e73\u53f0\u517c\u5bb9\u6027\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#_6","title":"\u5982\u4f55\u8c03\u8bd5\u670d\u52a1\u5668\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u7684\u95ee\u9898\uff1f","text":"<p>\u670d\u52a1\u5668\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u53ef\u80fd\u662f\u7531\u591a\u79cd\u539f\u56e0\u5f15\u8d77\u7684\uff0c\u5982\u5185\u5b58\u6cc4\u6f0f\u3001\u7a0b\u5e8f\u903b\u8f91\u9519\u8bef\u7b49\uff1a</p> <ul> <li>\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff1a\u9996\u5148\uff0c\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u5de5\u5177(\u5982 Linux \u4e0a\u7684 top\uff0chtop \u6216 free \u547d\u4ee4)\u6765\u5b9e\u65f6\u76d1\u63a7\u670d\u52a1\u5668\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u786e\u5b9a\u95ee\u9898\u662f\u5426\u786e\u5b9e\u662f\u7531\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u5bfc\u81f4\u7684\uff0c\u4ee5\u53ca\u95ee\u9898\u7684\u4e25\u91cd\u7a0b\u5ea6</li> <li>\u786e\u5b9a\u95ee\u9898\u8fdb\u7a0b\uff1a\u63a5\u4e0b\u6765\uff0c\u901a\u8fc7\u76d1\u63a7\u5de5\u5177\u627e\u51fa\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u7684\u8fdb\u7a0b\u3002\u53ef\u4ee5\u901a\u8fc7 top \u6216 ps \u547d\u4ee4\u67e5\u770b\u8fdb\u7a0b\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f8b\u5982\u8fdb\u7a0b ID\u3001\u7528\u6237\u3001CPU \u4f7f\u7528\u7387\u3001\u5185\u5b58\u4f7f\u7528\u7387\u7b49</li> <li>\u5206\u6790\u8fdb\u7a0b\u5185\u5b58\u4f7f\u7528\uff1a\u4f7f\u7528\u8fdb\u7a0b\u5185\u5b58\u5206\u6790\u5de5\u5177(\u5982 pmap \u6216 smem)\u6765\u67e5\u770b\u95ee\u9898\u8fdb\u7a0b\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u4f60\u4e86\u89e3\u8fdb\u7a0b\u7684\u5185\u5b58\u4f7f\u7528\u5206\u5e03\uff0c\u4f8b\u5982\u5806\u3001\u6808\u3001\u5171\u4eab\u5e93\u7b49\u3002\u901a\u8fc7\u8fd9\u4e9b\u4fe1\u606f\uff0c\u4f60\u53ef\u4ee5\u521d\u6b65\u5224\u65ad\u95ee\u9898\u53ef\u80fd\u51fa\u5728\u54ea\u4e2a\u6a21\u5757\u6216\u529f\u80fd</li> <li>\u5206\u6790\u5185\u5b58\u6cc4\u6f0f\uff1a\u5982\u679c\u6000\u7591\u95ee\u9898\u662f\u7531\u5185\u5b58\u6cc4\u6f0f\u5bfc\u81f4\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u5b58\u6cc4\u6f0f\u68c0\u6d4b\u5de5\u5177(\u5982 valgrind \u6216 gperftools)\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u5206\u6790\u3002\u8fd9\u4e9b\u5de5\u5177\u53ef\u4ee5\u5e2e\u52a9\u4f60\u627e\u51fa\u5185\u5b58\u6cc4\u6f0f\u7684\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u6cc4\u6f0f\u7684\u8be6\u7ec6\u4fe1\u606f</li> <li>\u5206\u6790\u7a0b\u5e8f\u4ee3\u7801\uff1a\u6839\u636e\u524d\u9762\u7684\u5206\u6790\u7ed3\u679c\uff0c\u4ed4\u7ec6\u5ba1\u67e5\u7a0b\u5e8f\u4ee3\u7801\uff0c\u68c0\u67e5\u662f\u5426\u5b58\u5728\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e\u4e0d\u5f53\u3001\u6570\u636e\u7ed3\u6784\u8bbe\u8ba1\u4e0d\u5408\u7406\u7b49\u95ee\u9898\u3002\u8fd9\u53ef\u80fd\u9700\u8981\u6df1\u5165\u7406\u89e3\u7a0b\u5e8f\u7684\u903b\u8f91\u548c\u7b97\u6cd5</li> <li>\u4f18\u5316\u7a0b\u5e8f\uff1a\u9488\u5bf9\u53d1\u73b0\u7684\u95ee\u9898\uff0c\u4f18\u5316\u7a0b\u5e8f\u4ee3\u7801\uff0c\u4fee\u590d\u5185\u5b58\u6cc4\u6f0f\u6216\u903b\u8f91\u9519\u8bef\u3002\u5728\u4fee\u590d\u540e\uff0c\u91cd\u65b0\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u786e\u4fdd\u95ee\u9898\u5f97\u5230\u89e3\u51b3</li> <li>\u5b9a\u671f\u68c0\u67e5\uff1a\u5373\u4f7f\u95ee\u9898\u5f97\u5230\u89e3\u51b3\uff0c\u4e5f\u5efa\u8bae\u5b9a\u671f\u68c0\u67e5\u670d\u52a1\u5668\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u4ee5\u4fbf\u53ca\u65f6\u53d1\u73b0\u6f5c\u5728\u7684\u95ee\u9898\u3002\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199\u811a\u672c\u6216\u4f7f\u7528\u7b2c\u4e09\u65b9\u76d1\u63a7\u5de5\u5177\u6765\u81ea\u52a8\u5316\u8fd9\u4e00\u8fc7\u7a0b</li> </ul>"},{"location":"Operating%20System/Socket%20%26%20Server/#linux","title":"Linux \u4e0b\u5982\u4f55\u67e5\u5230\u7aef\u53e3\u88ab\u54ea\u4e2a\u8fdb\u7a0b\u5360\u7528\uff1f","text":"<p>\u4e24\u4e2a\u65b9\u6cd5\u67e5\u770b\u5360\u7528\u7aef\u53e3\u8fdb\u7a0b\uff1a</p> <ol> <li>lsof -i:\u7aef\u53e3\u53f7 </li> <li>netstat -tunlp | grep \u7aef\u53e3\u53f7 </li> </ol>"},{"location":"Operating%20System/Socket%20%26%20Server/#linux_1","title":"Linux \u96f6\u62f7\u8d1d\u7684\u539f\u7406\uff1f","text":"<p>\u96f6\u62f7\u8d1d\u662f\u4e00\u79cd \u907f\u514d CPU \u5c06\u6570\u636e\u4ece\u4e00\u5757\u5b58\u50a8\u62f7\u8d1d\u5230\u53e6\u5916\u4e00\u5757\u5b58\u50a8\u7684\u6280\u672f\u3002\u901a\u8fc7\u51cf\u5c11\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\u4e0a\u4e0b\u6587\u5207\u6362\u548c\u51cf\u5c11\u5185\u5b58\u62f7\u8d1d\u6b21\u6570\u5b9e\u73b0\uff0c\u901a\u5e38\u5b9e\u73b0\u65b9\u5f0f\u6709 3 \u79cd\uff1a mmap+write\u3001sendfile\u3001sendfile+DMA scatter/gather\uff1a</p> <ul> <li> <p>mmap + write\uff1ammap() \u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u4f1a \u76f4\u63a5\u628a\u5185\u6838\u7f13\u51b2\u533a\u91cc\u7684\u6570\u636e\u300c\u6620\u5c04\u300d\u5230\u7528\u6237\u7a7a\u95f4\uff0c\u8fd9\u6837\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4e0e\u7528\u6237\u7a7a\u95f4\u5c31\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u4efb\u4f55\u7684\u6570\u636e\u62f7\u8d1d\u64cd\u4f5c\u3002 \u5305\u542b 2 \u6b21\u7cfb\u7edf\u8c03\u7528\uff0c3 \u6b21\u6570\u636e\u62f7\u8d1d(2 \u6b21 DMA \u548c 1 \u6b21 CPU \u62f7\u8d1d)\uff1a</p> <ol> <li>\u7528\u6237\u8fdb\u7a0b\u901a\u8fc7 mmap \u65b9\u6cd5\u5411\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u53d1\u8d77 IO \u8c03\u7528\uff0c\u4e0a\u4e0b\u6587\u4ece\u7528\u6237\u6001\u5207\u6362\u4e3a\u5185\u6838\u6001</li> <li>CPU \u5229\u7528 DMA \u63a7\u5236\u5668\uff0c\u628a\u6570\u636e\u4ece\u786c\u76d8\u4e2d\u62f7\u8d1d\u5230\u5185\u6838\u7f13\u51b2\u533a</li> <li>\u4e0a\u4e0b\u6587\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0cmmap \u65b9\u6cd5\u8fd4\u56de</li> <li>\u7528\u6237\u8fdb\u7a0b\u901a\u8fc7 write \u65b9\u6cd5\u5411\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u53d1\u8d77 IO \u8c03\u7528\uff0c\u4e0a\u4e0b\u6587\u4ece\u7528\u6237\u6001\u5207\u6362\u4e3a\u5185\u6838\u6001</li> <li>CPU \u5c06\u5185\u6838\u7f13\u51b2\u533a\u7684\u6570\u636e\u62f7\u8d1d\u5230\u7684 socket \u7f13\u51b2\u533a</li> <li>CPU \u5229\u7528 DMA \u63a7\u5236\u5668\uff0c\u628a\u6570\u636e\u4ece socket \u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u7f51\u5361\uff0c\u4e0a\u4e0b\u6587\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0cwrite \u8c03\u7528\u8fd4\u56de</li> </ol> </li> <li> <p>sendfile\uff1a\u5728 Linux \u5185\u6838\u7248\u672c 2.1 \u4e2d\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e13\u95e8\u53d1\u9001\u6587\u4ef6\u7684\u7cfb\u7edf\u8c03\u7528\u51fd\u6570 sendfile()\u3002\u5b83\u53ef\u4ee5\u66ff\u4ee3\u524d\u9762\u7684 read() \u548c write() \u8fd9\u4e24\u4e2a\u7cfb\u7edf\u8c03\u7528\uff0c\u51cf\u5c11\u4e00\u6b21\u7cfb\u7edf\u8c03\u7528\u3002 \u5305\u542b 1 \u6b21\u7cfb\u7edf\u8c03\u7528\uff0c3 \u6b21\u6570\u636e\u62f7\u8d1d(2 \u6b21 DMA \u548c 1 \u6b21 CPU \u62f7\u8d1d)\uff1a</p> <ol> <li>\u7528\u6237\u8fdb\u7a0b\u53d1\u8d77 sendfile \u7cfb\u7edf\u8c03\u7528\uff0c\u4e0a\u4e0b\u6587(\u5207\u6362 1)\u4ece\u7528\u6237\u6001\u8f6c\u5411\u5185\u6838\u6001</li> <li>DMA \u63a7\u5236\u5668\uff0c\u628a\u6570\u636e\u4ece\u786c\u76d8\u4e2d\u62f7\u8d1d\u5230\u5185\u6838\u7f13\u51b2\u533a</li> <li>CPU \u5c06\u8bfb\u7f13\u51b2\u533a\u4e2d\u6570\u636e\u62f7\u8d1d\u5230 socket \u7f13\u51b2\u533a</li> <li>DMA \u63a7\u5236\u5668\uff0c\u5f02\u6b65\u628a\u6570\u636e\u4ece socket \u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u7f51\u5361</li> <li>\u4e0a\u4e0b\u6587(\u5207\u6362 2)\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0csendfile \u8c03\u7528\u8fd4\u56de</li> </ol> </li> <li> <p>sendfile+DMA scatter/gather\uff1aLinux 2.4 \u7248\u672c\u4e4b\u540e\uff0c\u5bf9 sendfile \u505a\u4e86\u4f18\u5316\u5347\u7ea7\uff0c\u5f15\u5165 SG-DMA \u6280\u672f\uff0c\u5176\u5b9e\u5c31\u662f\u5bf9 DMA \u62f7\u8d1d\u52a0\u5165\u4e86 scatter/gather \u64cd\u4f5c\uff0c\u5b83\u53ef\u4ee5\u76f4\u63a5\u4ece\u5185\u6838\u7a7a\u95f4\u7f13\u51b2\u533a\u4e2d\u5c06\u6570\u636e\u8bfb\u53d6\u5230\u7f51\u5361\u3002\u4f7f\u7528\u8fd9\u4e2a\u7279\u70b9\u641e\u96f6\u62f7\u8d1d\uff0c\u5373\u8fd8\u53ef\u4ee5\u591a\u7701\u53bb\u4e00\u6b21 CPU \u62f7\u8d1d\u3002 \u5305\u542b 1 \u6b21\u7cfb\u7edf\u8c03\u7528\uff0c2 \u6b21\u6570\u636e\u62f7\u8d1d(2 \u6b21 DMA \u62f7\u8d1d)\uff1a</p> <ol> <li>\u7528\u6237\u8fdb\u7a0b\u53d1\u8d77 sendfile \u7cfb\u7edf\u8c03\u7528\uff0c\u4e0a\u4e0b\u6587(\u5207\u6362 1)\u4ece\u7528\u6237\u6001\u8f6c\u5411\u5185\u6838\u6001\u3002</li> <li>DMA \u63a7\u5236\u5668\uff0c\u628a\u6570\u636e\u4ece\u786c\u76d8\u4e2d\u62f7\u8d1d\u5230\u5185\u6838\u7f13\u51b2\u533a\u3002</li> <li>CPU \u628a\u5185\u6838\u7f13\u51b2\u533a\u4e2d\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u4fe1\u606f(\u5305\u62ec\u5185\u6838\u7f13\u51b2\u533a\u7684\u5185\u5b58\u5730\u5740\u548c\u504f\u79fb\u91cf)\u53d1\u9001\u5230 socket \u7f13\u51b2\u533a\u3002</li> <li>DMA \u63a7\u5236\u5668\u6839\u636e\u6587\u4ef6\u63cf\u8ff0\u7b26\u4fe1\u606f\uff0c\u76f4\u63a5\u628a\u6570\u636e\u4ece\u5185\u6838\u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u7f51\u5361\u3002</li> <li>\u4e0a\u4e0b\u6587(\u5207\u6362 2)\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0csendfile \u8c03\u7528\u8fd4\u56de</li> </ol> </li> </ul>"},{"location":"Operating%20System/Socket%20%26%20Server/#lvs-nattundr","title":"LVS \u7684 NAT\u3001TUN\u3001DR \u539f\u7406\u53ca\u533a\u522b","text":"<p>LVS \u662f Linux Virtual Server \u7684\u7b80\u5199\uff0c\u610f\u5373  Linux \u865a\u62df\u670d\u52a1\u5668\uff0c\u662f\u4e00\u4e2a\u865a\u62df\u7684\u670d\u52a1\u5668\u96c6\u7fa4\u7cfb\u7edf\uff0c\u4f7f\u7528\u8d1f\u8f7d\u5747\u8861\u6280\u672f\u5c06\u591a\u53f0\u670d\u52a1\u5668\u7ec4\u6210\u4e00\u4e2a\u865a\u62df\u670d\u52a1\u5668\u3002\u865a\u62df\u670d\u52a1\u5668\u7684\u4f53\u7cfb\u7ed3\u6784\u7531\u4e00\u7ec4\u670d\u52a1\u5668\u901a\u8fc7\u9ad8\u901f\u7684\u5c40\u57df\u7f51\u6216\u8005\u5730\u7406\u5206\u5e03\u7684\u5e7f\u57df\u7f51\u76f8\u4e92\u8fde\u63a5\uff0c\u5728\u5b83\u4eec\u7684\u524d\u7aef\u6709\u4e00\u4e2a\u8d1f\u8f7d\u8c03\u5ea6\u5668(Load Balancer)\uff0c\u8d1f\u8f7d\u8c03\u5ea6\u5668\u80fd\u65e0\u7f1d\u5730\u5c06\u7f51\u7edc\u8bf7\u6c42\u8c03\u5ea6\u5230\u771f\u5b9e\u670d\u52a1\u5668\u4e0a\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#nat","title":"NAT(\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u6a21\u5f0f)","text":"<p>\u539f\u7406\uff1a\u628a\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u6570\u636e\u5305\u7684 IP \u5934\u7684\u76ee\u7684\u5730\u5740\uff0c\u5728\u8d1f\u8f7d\u5747\u8861\u5668\u4e0a\u6362\u6210\u5176\u4e2d\u4e00\u53f0 RS \u7684 IP \u5730\u5740\uff0c\u5e76\u53d1\u81f3\u6b64 RS \u6765\u5904\u7406\uff0cRS \u5904\u7406\u5b8c\u6210\u540e\u628a\u6570\u636e\u4ea4\u7ed9\u7ecf\u8fc7\u8d1f\u8f7d\u5747\u8861\u5668\uff0c\u8d1f\u8f7d\u5747\u8861\u5668\u518d\u628a\u6570\u636e\u5305\u7684\u539f IP \u5730\u5740\u6539\u4e3a\u81ea\u5df1\u7684 IP\uff0c\u5c06\u76ee\u7684\u5730\u5740\u6539\u4e3a\u5ba2\u6237\u7aef IP \u5730\u5740\u5373\u53ef\u3002 </p>"},{"location":"Operating%20System/Socket%20%26%20Server/#tunip","title":"TUN(IP \u96a7\u9053\u6a21\u5f0f)","text":"<p>\u539f\u7406\uff1a\u96a7\u9053\u6a21\u5f0f\u5c31\u662f\u628a\u5ba2\u6237\u7aef\u53d1\u6765\u7684\u6570\u636e\u5305\uff0c\u5c01\u88c5\u4e00\u4e2a\u65b0\u7684 IP \u5934\u6807\u8bb0(\u4ec5\u76ee\u7684 IP)\u53d1\u7ed9 RS\uff0cRS \u6536\u5230\u540e\uff0c\u5148\u628a\u6570\u636e\u5305\u7684\u5934\u89e3\u5f00\uff0c\u8fd8\u539f\u6570\u636e\u5305\u3002\u5904\u7406\u540e\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u4e0d\u9700\u8981\u518d\u7ecf\u8fc7\u8d1f\u8f7d\u5747\u8861\u5668\u3002\u6ce8\u610f\uff1a\u7531\u4e8e RS \u9700\u8981\u5bf9\u8d1f\u8f7d\u5747\u8861\u5668\u53d1\u8fc7\u6765\u7684\u6570\u636e\u5305\u8fdb\u884c\u8fd8\u539f\uff0c\u6240\u4ee5\u8bf4\u5fc5\u987b\u652f\u6301 IPTUNNEL \u534f\u8bae\u3002 \u5728 RS \u7684\u5185\u6838\u4e2d\uff0c\u5fc5\u987b\u7f16\u8bd1\u652f\u6301 IPTUNNEL \u8fd9\u4e2a\u9009\u9879\u3002</p> <p>\u5404\u96c6\u7fa4\u8282\u70b9\u53ef\u4ee5\u8de8\u8d8a\u4e0d\u540c\u7684\u7f51\u7edc\uff0c \u4e0d\u7528\u5728\u540c\u4e00\u4e2a VLAN\u3002</p> <p>\u8c03\u5ea6\u5668\u6839\u636e\u5404\u4e2a\u670d\u52a1\u5668\u7684\u8d1f\u8f7d\u60c5\u51b5\uff0c\u52a8\u6001\u5730\u9009\u62e9\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u5c06\u8bf7\u6c42\u62a5\u6587\u5c01\u88c5\u5728\u53e6\u4e00\u4e2a IP \u62a5\u6587\u4e2d\uff0c\u518d\u5c06\u5c01\u88c5\u540e\u7684 IP \u62a5\u6587\u8f6c\u53d1\u7ed9\u9009\u51fa\u7684\u670d\u52a1\u5668</p> <p>\u670d\u52a1\u5668\u6536\u5230\u62a5\u6587\u540e\u5148\u5c06\u62a5\u6587\u89e3\u5c01\u83b7\u5f97\u539f\u6765\u76ee\u6807\u5730\u5740\u4e3a VIP \u7684\u62a5\u6587\uff0c\u670d\u52a1\u5668\u53d1\u73b0 VIP \u5730\u5740\u88ab\u914d\u7f6e\u5728\u672c\u5730\u7684 IP \u96a7\u9053\u8bbe\u5907\u4e0a\uff0c\u6240\u4ee5\u5c31\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u7136\u540e\u6839\u636e\u8def\u7531\u8868\u5c06\u54cd\u5e94\u62a5\u6587\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#dr","title":"DR(\u76f4\u63a5\u8def\u7531\u6a21\u5f0f)","text":"<p>\u539f\u7406\uff1a\u8d1f\u8f7d\u5747\u8861\u5668\u548c RS \u90fd\u4f7f\u7528\u540c\u4e00\u4e2a IP \u5bf9\u5916\u670d\u52a1\uff0c\u4f46\u53ea\u6709 DR \u5bf9 ARP \u8bf7\u6c42\u8fdb\u884c\u54cd\u5e94\uff0c\u6240\u6709 RS \u5bf9\u672c\u8eab\u8fd9\u4e2a IP \u7684 ARP \u8bf7\u6c42\u4fdd\u6301\u9759\u9ed8\u3002\u4e5f\u5c31\u662f\u8bf4\u7f51\u5173\u4f1a\u628a\u5bf9\u8fd9\u4e2a\u670d\u52a1 IP \u7684\u8bf7\u6c42\u5168\u90e8\u5b9a\u5411\u7ed9 DR\uff0c\u800c DR \u6536\u5230\u6570\u636e\u5305\u540e\u6839\u636e\u8c03\u5ea6\u7b97\u6cd5\uff0c\u627e\u51fa\u5bf9\u5e94\u7684 RS \u628a\u76ee\u7684 MAC \u5730\u5740\u6539\u4e3a RS \u7684 MAC(\u56e0\u4e3a IP \u4e00\u81f4)\u5e76\u5c06\u8bf7\u6c42\u5206\u53d1\u7ed9\u8fd9\u53f0 RS\u3002\u8fd9\u65f6 RS \u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5305\u5904\u7406\u5b8c\u6210\u4e4b\u540e\uff0c\u7531\u4e8e IP \u4e00\u81f4\uff0c\u53ef\u4ee5\u76f4\u63a5\u5c06\u6570\u636e\u8fd4\u7ed9\u5ba2\u6237\uff0c\u5219\u7b49\u4e8e\u76f4\u63a5\u4ece\u5ba2\u6237\u7aef\u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5305\u65e0\u5f02\uff0c\u5904\u7406\u540e\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u7531\u4e8e\u8d1f\u8f7d\u5747\u8861\u5668\u8981\u5bf9\u4e8c\u5c42\u5305\u5934\u8fdb\u884c\u6539\u6362\uff0c\u6240\u4ee5\u8d1f\u8f7d\u5747\u8861\u5668\u548c RS \u4e4b\u95f4\u5fc5\u987b\u5728\u4e00\u4e2a\u5e7f\u64ad\u57df\uff0c\u4e5f\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u5728\u540c\u4e00\u53f0\u4ea4\u6362\u673a\u4e0a\u3002</p>"},{"location":"Operating%20System/Socket%20%26%20Server/#_7","title":"\u533a\u522b","text":"\u4f18\u70b9 \u7f3a\u70b9 NAT \u96c6\u7fa4\u4e2d\u7684\u7269\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u652f\u6301 TCP/IP \u64cd\u4f5c\u7cfb\u7edf\u5b83\u53ea\u9700\u8981\u4e00\u4e2a IP \u5730\u5740\u914d\u7f6e\u5728\u8c03\u5ea6\u5668\u4e0a\uff0c\u670d\u52a1\u5668\u7ec4\u53ef\u4ee5\u7528\u79c1\u6709\u7684 IP \u5730\u5740 \u6269\u5c55\u6027\u6709\u9650\u3002\u5f53\u670d\u52a1\u5668\u8282\u70b9(\u666e\u901a PC \u670d\u52a1\u5668)\u589e\u957f\u8fc7\u591a\u65f6,\u8d1f\u8f7d\u5747\u8861\u5668\u5c06\u6210\u4e3a\u6574\u4e2a\u7cfb\u7edf\u7684\u74f6\u9888\uff0c\u56e0\u4e3a\u6240\u6709\u7684\u8bf7\u6c42\u5305\u548c\u5e94\u7b54\u5305\u7684\u6d41\u5411\u90fd\u7ecf\u8fc7\u8d1f\u8f7d\u5747\u8861\u5668\u3002\u5f53\u670d\u52a1\u5668\u8282\u70b9\u8fc7\u591a\u65f6\uff0c\u5927\u91cf\u7684\u6570\u636e\u5305\u90fd\u4ea4\u6c47\u5728\u8d1f\u8f7d\u5747\u8861\u5668\u90a3\uff0c\u901f\u5ea6\u5c31\u4f1a\u53d8\u6162 TUN \u8d1f\u8f7d\u5747\u8861\u5668\u53ea\u8d1f\u8d23\u5c06\u8bf7\u6c42\u5305\u5206\u53d1\u7ed9\u540e\u7aef\u8282\u70b9\u670d\u52a1\u5668\uff0c\u800c RS \u5c06\u5e94\u7b54\u5305\u76f4\u63a5\u53d1\u7ed9\u7528\u6237\u3002\u6240\u4ee5\uff0c\u51cf\u5c11\u4e86\u8d1f\u8f7d\u5747\u8861\u5668\u7684\u5927\u91cf\u6570\u636e\u6d41\u52a8\uff0c\u8d1f\u8f7d\u5747\u8861\u5668\u4e0d\u518d\u662f\u7cfb\u7edf\u7684\u74f6\u9888\uff0c\u5c31\u80fd\u5904\u7406\u5f88\u5de8\u5927\u7684\u8bf7\u6c42\u91cf\uff0c\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4e00\u53f0\u8d1f\u8f7d\u5747\u8861\u5668\u80fd\u591f\u4e3a\u5f88\u591a RS \u8fdb\u884c\u5206\u53d1\u3002\u800c\u4e14\u8dd1\u5728\u516c\u7f51\u4e0a\u5c31\u80fd\u8fdb\u884c\u4e0d\u540c\u5730\u57df\u7684\u5206\u53d1 \u96a7\u9053\u6a21\u5f0f\u7684 RS \u8282\u70b9\u9700\u8981\u5408\u6cd5 IP\uff0c\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u6240\u6709\u7684\u670d\u52a1\u5668\u652f\u6301 IP Tunneling(IP Encapsulation)\u534f\u8bae\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u53ea\u5c40\u9650\u5728\u90e8\u5206 Linux \u7cfb\u7edf\u4e0a DR VS/DR \u8ddf VS/TUN \u65b9\u6cd5\u76f8\u540c\uff0c\u8d1f\u8f7d\u8c03\u5ea6\u5668\u4e2d\u53ea\u8d1f\u8d23\u8c03\u5ea6\u8bf7\u6c42\uff0c\u800c\u670d\u52a1\u5668\u76f4\u63a5\u5c06\u54cd\u5e94\u8fd4\u56de\u7ed9\u5ba2\u6237\uff0c\u53ef\u4ee5\u6781\u5927\u5730\u63d0\u9ad8\u6574\u4e2a\u96c6\u7fa4\u7cfb\u7edf\u7684\u541e\u5410\u91cf \u8981\u6c42\u8d1f\u8f7d\u5747\u8861\u5668\u7684\u7f51\u5361\u5fc5\u987b\u4e0e\u7269\u7406\u7f51\u5361\u5728\u4e00\u4e2a\u7269\u7406\u6bb5\u4e0a NAT \u6a21\u5f0f IP TUN \u6a21\u5f0f DR \u6a21\u5f0f \u5bf9\u670d\u52a1\u5668\u8981\u6c42 \u4efb\u4f55\u64cd\u4f5c\u7cfb\u7edf\u5747\u652f\u6301 \u5fc5\u987b\u652f\u6301 IP \u96a7\u9053\u534f\u8bae\uff0c\u76ee\u524d \u53ea\u6709 Linux \u652f\u6301 \u652f\u6301\u865a\u62df\u7f51\u5361\uff0c\u4e14\u53ef\u4ee5\u7981\u7528 ARP \u54cd\u5e94 \u7f51\u7edc\u8981\u6c42 \u5c40\u57df\u7f51 \u5c40\u57df\u7f51\u6216\u5e7f\u57df\u7f51 \u5c40\u57df\u7f51 \u652f\u6301\u7684\u8282\u70b9\u6570 10~20 \u4e2a\uff0c\u89c6 Director \u5904\u7406\u80fd\u529b\u800c\u5b9a \u53ef\u4ee5\u652f\u6301\u5230 100 \u4e2a\u8282\u70b9 \u53ef\u4ee5\u652f\u6301\u5230 100 \u4e2a\u8282\u70b9 \u5b89\u5168\u6027 \u8f83\u9ad8\uff0c\u53ef\u9690\u85cf real server \u8f83\u5dee\uff0creal server \u5bb9\u6613\u66b4\u9732 \u8f83\u5dee\uff0creal server \u5bb9\u6613\u66b4\u9732 IP \u8981\u6c42 \u4ec5\u9700\u8981\u4e00\u4e2a\u5408\u6cd5 IP \u5730\u5740\u4f5c\u4e3a VIP \u9664 VIP \u5916\uff0c \u6bcf\u4e2a\u670d\u52a1\u5668\u9700\u8981\u62e5\u6709\u5408\u6cd5 IP \u5730\u5740 \u53ef\u4ee5\u76f4\u63a5\u8def\u7531\u81f3\u5ba2\u6237\u7aef \u9664 VIP \u5916\uff0c \u6bcf\u4e2a\u670d\u52a1\u5668\u9700\u8981\u62e5\u6709\u5408\u6cd5 IP \u5730\u5740 \u53ef\u4ee5\u76f4\u63a5\u8def\u7531\u81f3\u5ba2\u6237\u7aef \u62d3\u5c55\u6027 \u5dee \u5f88\u597d \u597d \u7279\u70b9 \u5730\u5740\u8f6c\u6362 \u5c01\u88c5 IP \u4fee\u6539 MAC \u5730\u5740 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"logs/1_date/","title":"\u4e00\u4e9b\u65e5\u671f","text":"<p> \u7ea6 690 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"logs/1_date/#_2","title":"\u6bd5\u4e1a\u76f8\u5173","text":"<ul> <li>2024 \u5e74 11 \u6708 5 \u65e5 \u5173\u4e8e\u505a\u597d\u7814\u7a76\u751f\u5f00\u9898\u62a5\u544a\u5de5\u4f5c\u7684\u901a\u77e5 </li> <li>2024\u5e7412\u670813\u65e5 \u5f00\u9898\u62a5\u544a</li> <li>2024\u5e7412\u670816\u65e5 \u5f00\u9898\u7b54\u8fa9</li> <li>2024 \u5e74 12 \u6708 31 \u65e5 \u7814\u4e8c\u4e0a\u6700\u540e\u4e00\u6b21\u7ec4\u4f1a</li> <li>2025 \u5e74 3 \u6708 21 \u65e5 22 \u7ea7\u7814\u4e09\u5e08\u5144\u5e08\u59d0\u4e0a\u4f20\u9884\u7b54\u8fa9 ppt\u3001\u8bba\u6587</li> <li>2025 \u5e74 4 \u6708 8 \u65e5 \u5173\u4e8e\u505a\u597d2024-2025\u5b66\u5e74\u7814\u7a76\u751f\u4e2d\u671f\u8003\u6838\u7684\u901a\u77e5 </li> <li>2025 \u5e74 4 \u6708 11 \u65e5 22 \u7ea7\u5e08\u5144\u5e08\u59d0\u6c47\u62a5\u8bba\u6587\uff0c\u76f2\u5ba1\u5df2\u62bd</li> </ul>"},{"location":"logs/1_date/#_3","title":"\u788e","text":"<ul> <li>\u5170\u5dde\u5927\u5b66\u6570\u5b66\u4e0e\u7edf\u8ba1\u5b66\u9662</li> </ul> <ul> <li>2024 \u5e74 11 \u6708 6 \u65e5 \u6570\u5b66\u4e0e\u7edf\u8ba1\u5b66\u96622025\u5e74\u535a\u58eb\u7814\u7a76\u751f\u62db\u751f\u201c\u7533\u8bf7-\u8003\u6838\u201d\u5b9e\u65bd\u65b9\u6848 </li> </ul> <p>\u7b2c\u4e00\u6279\u6b21\u62a5\u540d\u65f6\u95f4\uff1a2024\u5e7411\u670815\u65e58:00-12\u670815\u65e518:00</p> <p>\u7b2c\u4e8c\u6279\u6b21\u62a5\u540d\u65f6\u95f4\uff1a\u5982\u7b2c\u4e00\u6279\u6b21\u62a5\u540d\u751f\u6e90\u4e0d\u8db3\uff0c\u5b66\u9662\u5c06\u4e8e2025\u5e743-5\u6708\u5f00\u542f\u7b2c\u4e8c\u6279\u6b21\u62a5\u540d\uff0c\u5177\u4f53\u65f6\u95f4\u53e6\u884c\u901a\u77e5\u3002</p> <ul> <li>2024 \u5e7412 \u6708 23 \u65e5 \u5170\u5dde\u5927\u5b66\u6570\u5b66\u4e0e\u7edf\u8ba1\u5b66\u96622025\u5e74\u535a\u58eb\u7814\u7a76\u751f\u7b2c\u4e00\u6279\u62db\u751f\u5f55\u53d6\u4e0e\u8003\u6838\u529e\u6cd5</li> <li>2024 \u5e74 12 \u6708 24 \u65e5 \u5170\u5dde\u5927\u5b66\u6570\u5b66\u4e0e\u7edf\u8ba1\u5b66\u96622025\u5e74\u535a\u58eb\u62db\u751f\u51c6\u8003\u8003\u751f\u540d\u5355\u516c\u793a </li> </ul> <p>future\uff1a</p> <ul> <li>2025 \u5e74 7 \u6708 7 \u65e5 \u4e2d\u671f\u8003\u6838</li> <li>2026 \u5e74 5 \u6708 \u6bd5\u4e1a\u8bba\u6587\u7b54\u8fa9</li> </ul>"},{"location":"logs/1_date/#_4","title":"\u597d\u4e45\u4e0d\u89c1","text":"<ul> <li>2025 \u5e74 1 \u6708 2 \u65e5 \ud83c\udfe0</li> <li>2025 \u5e74 1 \u67084 \u65e5 \u89c1\u670b\u53cb\ud83d\udc6c\ud83c\udffb</li> <li>2025 \u5e74 1 \u6708 18 \u65e5 \u5bb6\u5ead\u805a\u9910</li> <li>2025 \u5e74 1 \u670820 \u65e5 \u89c1\u53d1\u5c0f</li> </ul>"},{"location":"logs/1_date/#_5","title":"\u4e8b\u52a1\u65e5\u671f","text":"<ul> <li>\u4e2d\u56fd\u6559\u5e08\u8d44\u683c\u7f51</li> <li>\u4e2d\u56fd\u6559\u80b2\u8003\u8bd5\u7f51 </li> </ul> <ul> <li> <p>2025 \u5e74 1 \u6708 7 \u65e5 \u6559\u8d44\u9762\u8bd5\u6210\u7ee9</p> </li> <li> <p>2025 \u5e74 2 \u6708 21 \u65e5~2 \u6708 28 \u65e5 \u56db\u516d\u7ea7\u6210\u7ee9</p> </li> <li>2025 \u5e74 3 \u6708 \u6559\u5e08\u8d44\u683c\u8bc1\u8ba4\u8bc1\u3001\u4f53\u68c0</li> <li>2023 \u5e74 3 \u6708 7 \u65e5 2025\u5e74\u4e0a\u534a\u5e74\u5168\u56fd\u5927\u5b66\u82f1\u8bed\u56db\u3001\u516d\u7ea7\u8003\u8bd5\u62a5\u540d\u5de5\u4f5c\u542f\u52a8</li> <li>2025 \u5e74 3 \u6708 20 \u65e5  \u7518\u8083\u77012025\u5e74\u4e0a\u534a\u5e74\u6559\u5e08\u8d44\u683c\u8ba4\u5b9a\u516c\u544a</li> <li>2025 \u5e74 4 \u6708 14 \u65e5 2025\u5e74\u5404\u7701\u4efd\u6559\u5e08\u8d44\u683c\u8ba4\u5b9a\u516c\u544a\u6c47\u603b</li> <li>2025\u5e744\u670814\u65e59\uff1a00\uff0d4\u670825\u65e517\uff1a00 \u7b2c\u4e00\u6279\u4e2d\u5c0f\u5b66\u6559\u5e08\u8d44\u683c\u8ba4\u5b9a\u7f51\u62a5\u65f6\u95f4</li> <li>2025 \u5e746 \u6708 14 \u65e5 \u516d\u7ea7\u7b14\u8bd5</li> <li>2025\u5e746\u670816\u65e59\uff1a00\uff0d6\u670827\u65e517\uff1a00 \u7b2c\u4e8c\u6279\u4e2d\u5c0f\u5b66\u6559\u5e08\u8d44\u683c\u8ba4\u5b9a\u7f51\u62a5\u65f6\u95f4</li> </ul>"},{"location":"logs/1_date/#_6","title":"\u6cd5\u5b9a\u5f00\u5fc3\u65e5","text":"<ul> <li>2025 \u5e74 1 \u6708 28 \u65e5 \u65b0\u5e74\u5feb\u4e50</li> </ul>"},{"location":"logs/1_date/#_7","title":"\u5e73\u5e73\u6de1\u6de1\u7684\u5c0f\u65e5\u5b50","text":"<ul> <li>2025 \u5e74 3 \u6708 7 \u65e5\uff0c\u4eca\u5929\u5403\u4e86 3 \u4e2a\u5de7\u514b\u529b\u78b1\u6c34\u9762\u5305</li> <li>2025 \u5e74 3 \u6708 16 \u65e5\uff0c\u4eca\u5929\u751f\u65e5\uff0c\u8c22\u8c22 gaq\u3001myx</li> <li>2024 \u5e74 4 \u6708 14 \u65e5\uff0c\u665a\uff0c\u725b\u5976\u9e21\u86cb\u91aa\u7cdf\u597d\u597d\u559d</li> <li>2025 \u5e744 \u6708 15 \u65e5\uff0c\u665a\uff0czdc\uff0c\u5976\u6cb9\u6ce1\u8299\u597d\u597d\u5403</li> </ul>"},{"location":"logs/1_date/#_8","title":"\u6211\u79fb\u52a8","text":"<ul> <li>2024 \u5e74 12 \u6708 25 \u65e5~2024 \u5e74 12 \u6708 30 \u65e5 \u6210\u90fd</li> <li>2025 \u5e74 2 \u6708 6 \u65e5 \u7814\u4e8c\u4e0b\u8fd4\u6821</li> <li>2025 \u5e74 3 \u6708 8 \u65e5 \u56de\u5bb6</li> <li>2025 \u5e74 3 \u6708 13 \u65e5 \u8fd4\u6821</li> </ul> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"logs/2_updatelog/","title":"2 updatelog","text":""},{"location":"logs/2_updatelog/#2025","title":"2025","text":"2025-06-02\u00b6 <p> \u6dfb\u52a0\u8bbe\u8ba1\u6a21\u5f0f</p> 2025-06-02\u00b6 <p> \u6dfb\u52a0\u7b97\u6cd5\u4e13\u680f</p> 2025-06-01\u00b6 <p> \u4fee\u590d\u6b21\u7ea7\u5217\u8868\u7f29\u8fdb\u95ee\u9898</p> 2025-05-31\u00b6 <p> \u6dfb\u52a0\u8ba1\u7b97\u673a\u7f51\u7edc\u3001\u64cd\u4f5c\u7cfb\u7edf\u90e8\u5206\u5185\u5bb9</p> 2025-05-30\u00b6 <p> \u672c\u7ad9\u6b63\u5f0f\u8fd0\u884c</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"logs/3_test/","title":"\u529f\u80fd\u6d4b\u8bd5\u9875\u9762","text":"<p> \u7ea6 36 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> 2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"logs/4_flink/","title":"\u66f4\u591a\u94fe\u63a5","text":"<ul> <li> <p> \u2764</p> <p><p>\u6d77\u7eb3\u767e\u5ddd\u51ed\u5ea6\u91cf\uff0c\u58c1\u7acb\u5343\u4ede\u4efb\u4e91\u7fd4</p></p> </li> </ul>"},{"location":"logs/4_flink/#_2","title":"\u5de5\u5177\u94fe","text":"<p>(\u5f85\u6dfb\u52a0)</p>"},{"location":"logs/4_flink/#mkdocs","title":"mkdocs","text":"xxx\u7684\u4e2a\u4eba\u7f51\u7ad9 \u4e0d\u5fd8\u521d\u5fc3\uff0c\u5f00\u59cb mkdocs \u7684\u8d77\u70b9"},{"location":"logs/4_flink/#_3","title":"\u670b\u53cb","text":"2025-06-02 16:23:242025-06-02 16:23:24"},{"location":"logs/6_waline/","title":"\ud83d\udcdd Comments","text":"<p> \u7ea6 29 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <ul> <li> <p> SYSU-CS-Basic's \u7559\u8a00\u677f</p> <p><p>\u53bb\u7559\u65e0\u610f\uff0c\u6f2b\u968f\u5929\u5916\u4e91\u5377\u4e91\u8212\u53cb\u597d\u8ba8\u8bba\uff0c\u7545\u6240\u6b32\u8a00</p></p> </li> </ul> 2025-06-02 16:23:242025-06-02 16:23:24"}]}